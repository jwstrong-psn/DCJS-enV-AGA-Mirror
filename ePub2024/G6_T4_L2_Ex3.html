<!DOCTYPE html>
<html>
<head>
  <title>Grade 6 Topic 4 Lesson 2 Example 3</title>
  <script src="./calculator.js"></script>
  <script>
    var filename='./G6_T4_L2_Ex3.json';

    function loadGraphs() {
      fetch(filename)
      .then(function (response) {
        return response.json();
      })
      .then(function (data) {
        var graphs = document.querySelectorAll(".calculator");
        graphs.forEach(function (graph) {
          var info = data[graph.id];
          Object.assign(graph.style, info.style);
          var calculator = Desmos.GraphingCalculator(graph, info.options);
          calculator.setState(info.state);
        });
      })
      .catch(function (err) {
        console.log('error: ' + err);
      });
    }

    if (window.addEventListener)
        window.addEventListener("load", loadGraphs, false);
    else if (window.attachEvent)
        window.attachEvent("onload", loadGraphs);
    else window.onload = loadGraphs;
  </script>
</head>
<body>
  <div class="calculator" id="graph01"></div>
  <div class="calculator" id="graph02"></div>
</body>
</html>