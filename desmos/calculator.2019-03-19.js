;(function () {
var desmosEnabledFeatures = {"FourFunctionCalculator": true, "ScientificCalculator": true, "GraphingCalculator": true};
var desmosLocales = {"es-ES": {"Login window blocked. Please allow popups from desmos.com to sign in with Google.": "La ventana de inicio est\u00e1 bloqueda. Por favor, permita las ventanas emergentes de desmos.com para iniciar sesi\u00f3n con Google.", "funcs": "funcs", "all": "todo", "Previous Point": "Punto anterior", "Cannot take the derivative of __symbol__.": "No se puede tomar la derivada de __symbol__.", "Density": "Densidad", "Pause __variable__ Animation": "Pausa __variable__ Animaci\u00f3n", "a list of unknown objects": "una lista de objetos desconocidos", "Try adding an equals sign to turn this into an equation.": "Int\u00e9ntelo a\u00f1adiendo un signo de igual para convertir esto en una ecuaci\u00f3n.", "Points of interest, __x__.": "Puntos de inter\u00e9s: __x__.", "Expression List": "Lista de expresiones", "Hidden __label__": "Oculto __label__", "Slider limits cannot depend on the slider variable '__symbol__'.": "Los l\u00edmites de control deslizante no pueden depender de la variable de control deslizante '__symbol__'.", "This calculator does not support points.": "Esta calculadora no soporta puntos.", "__number__ minutes ago": "hace __number__ minutos", "Ceiling": "Hasta", "This can take a little while for big constructions...": "Esto puede tomar un poco de tiempo para grandes gr\u00e1ficos...", "Title": "T\u00edtulo", "Hide this warning.": "Ocultar esta advertencia.", "Deleting...": "Eliminando...", "Slider Step Size: ": "Tama\u00f1o del paso del control deslizante: ", "Histogram": "Histograma", "Delete __graphTitle__": "Elimina __graphTitle__", "Nice!": "\u00a1Agradable!", "The previous expression didn't define any value for ans.": "La expresi\u00f3n anterior no define ning\u00fan valor para 'ans'.", "Mac Shortcuts": "Atajos Mac", "Nov": "noviembre", "Only square matrices have an inverse.": "Solo matrices cuadradas tienen una inversa.", "Zoom In": "Acercar", "Open or Close the Account Menu": "Abrir o cerrar el men\u00fa de cuenta", "Height:": "Altura:", "Graph zoom __action__": "Zoom gr\u00e1fico __action__", "Absolute value symbol cannot be empty.": "El s\u00edmbolo de valor absoluto no puede estar vac\u00edo.", "Nth Root": "Ra\u00edz cuadrada", "Move to Numerator Within Fraction": "Mover al numerador dentro de la fracci\u00f3n", "Plus": "M\u00e1s", "When __symbol__ is called with more than two arguments, no argument can be a list.": "Cuando la funci\u00f3n __symbol__ es llamada en m\u00e1s de dos argumentos, ning\u00fan argumento puede ser una lista.", "'cdf' takes a distribution and at most two numbers. __supplement__": "'cdf' toma una distribuci\u00f3n y a lo mas dos n\u00fameros. __supplement__", "'__symbols__' and '__lastSymbol__' can't be defined in terms of each other.": "'__symbols__' y '__lastSymbol__' no se pueden definir uno en t\u00e9rminos del otro.", "A over B": "A sobre B", "Cannot regress __symbol1__ against __symbol2__.": "No se puede retroceder __symbol1__ con __symbol2__.", "Sums must have upper and lower bounds.": "Sumas deben tener l\u00edmites superiores e inferiores.", "Tau": "Tau", "Intersection": "Intersecci\u00f3n", "Unable to add image": "No es posible a\u00f1adir la imagen", "Click to return to this graph.": "Haga clic para regresar a esta gr\u00e1fica.", "Slider Maximum: ": "M\u00e1ximo de control deslizante: ", "Show Positive": "Mostrar Positivo", "Cannot add __symbol1__ and __symbol2__.": "No se puede a\u00f1adir __symbol1__ y __symbol2__.", "Next Row": "Siguiente fila", "You need a numerator and denominator for your fraction.": "Necesitas un numerador y un denominador para tu fracci\u00f3n.", "Student-t Distribution": "Distribuci\u00f3n t de Student", "Invalid slider step. Try using any number.": "Paso de control deslizante no v\u00e1lido. Intenta usar cualquier n\u00famero.", "I have read, understand, and accept the __terms_of_use_link__ and __privacy_policy_link__.": "He le\u00eddo, entendido y acepto los __terms_of_use_link__ y __privacy_policy_link__.", "Press play to animate the slider.": "Presione play para animar el deslizador.", "Table header cannot be __symbol__.": "La cabecera de la tabla no puede ser __symbol__.", "Keyboard Shortcuts": "Atajos de teclado", "Move to Denominator Within Fraction": "Mover a Denominador dentro de la fracci\u00f3n", "Display Properties": "Propiedades de Visualizaci\u00f3n", "To hear the graph, press H.": "Para comprender el grafico presione H.", "Tables": "Tablas", "Functions": "Funciones", "Table headers must be simple expressions. __supplement__": "Los encabezados de las tablas deben ser expresiones simples. __supplement__", "Hide this folder from students": "Ocultar esta carpeta de los estudiantes", "Edit this equation to find a better fit. Try, for example:<br>__equation__": "Edite esta ecuaci\u00f3n para encontrar un mejor ajuste. Probar, por ejemplo: <br>__equation__", "__count__ element list": "__count__ lista de elementos", "Function definitions are not allowed.": "Las definiciones de funci\u00f3n no est\u00e1n permitidas.", "Too many variables, I don't know what to do with this.": "Hay demasiadas variables, no s\u00e9 qu\u00e9 hacer con esto.", "Click here to download Google Chrome.": "Haga clic aqu\u00ed para descargar Google Chrome.", "Label": "Etiqueta", "This column header can't be defined elsewhere in the calculator.": "Este encabezado de columna no puede definirse en otras partes de la calculadora.", "This can take a little while for big graphs...": "Esto puede tomar un poco de tiempo para grandes gr\u00e1ficos...", "Subscripts cannot be empty.": "Los sub\u00edndices no pueden estar vac\u00edos.", "Theta": "Zeta", "End of Current Block": "Final de bloque actual", "T Score": "Puntuaci\u00f3n T", "Dot Plot": "Diagram de puntos", "You need something after the '__symbol__' symbol.": "Usted necesita algo despu\u00e9s del s\u00edmbolo '__symbol__'.", "__open_graph__ (cmd+o)": "__open_graph__ (cmd+o)", "abc": "abc", "Cannot use __symbol__ as a branch of a piecewise expression.": "No se puede usar __symbol__ como un tramo de una expresi\u00f3n a trozos.", "This calculator does not support regressions.": "Esta calculadora no soporta regresiones.", "Bin Alignment": "Alineaci\u00f3n de contenedores", "saved": "guardada", "Speak Column Header": "Hable Cabecera de columna", "Decrease X": "Disminuci\u00f3n x", "Decrease Y": "Disminuci\u00f3n Y", "a true/false value": "un verdadero/falso valor", "Fill in the sample data:": "Rellene con los datos de la muestra:", "Type any number here.": "Escriba aqu\u00ed cualquier n\u00famero.", "Secant": "Secante", "Send Delete Account Email": "Env\u00ede Correo para borrar cuenta", "Invalid domain max. Try using any number.": "Valor m\u00e1ximo de dominio no v\u00e1lido. Intenta usar cualquier n\u00famero.", "Desmos Graphing Calculator": "Calculadora Gr\u00e1fica Desmos", "Branch __branch__.": "Derivada __branch__.", "Expression list": "Lista de expresiones", "Delete Selection": "Eliminar lo seleccionado", "Your account has been reactivated.": "Su cuenta ha sido reactivada.", "Try this: __equation__": "Intente esto: __equation__", "Label Position": "Posici\u00f3n de Etiqueta", "Click here to create a new expression.": "Haga clic aqu\u00ed para crear una nueva expresi\u00f3n.", "Hide Keypad": "Ocultar el teclado", "Hide Expression List": "Ocultar lista de expresiones", "This calculator does not support defining variables.": "Esta calculadora no soporta variables definidas.", "Increase X by Larger Amount": "Incrementa X por una cantidad mayor", "Collapse Folder": "Colapse carpeta", "Hidden Secret Folder": "Carpeta secreta oculta", "Last thing!": "\u00a1\u00daltima cosa!", "Show List": "Mostrar la lista", "Times": "Veces", "We only plot double inequalities of x and y.": "S\u00f3lo graficamos dobles desigualdades en x e y.", "Delete your Desmos account?": "\u00bfDesea eliminar su cuenta Desmos?", "Toggle Letters": "Alternar Letras", "Change Password": "Cambiar contrase\u00f1a", "Subscripts may only contain letters and digits. '__symbol__' is not allowed.": "Los sub\u00edndices s\u00f3lo pueden contener letras y d\u00edgitos. '__symbol__' no est\u00e1 permitido.", "Only functions and variables may have subscripts.": "S\u00f3lo las funciones y las variables pueden tener sub\u00edndices.", "Next Column": "Siguiente columna", "Loop __variable__ Forward": "Bucle __variable__ adelante", "Graph point": "Punto gr\u00e1fico", "Recover Password": "Recuperar contrase\u00f1a", "Upper bound of an integral cannot be __symbol__.": "El l\u00edmite superior de una integral no puede ser __symbol__.", "Show Keypad": "Mostrar el teclado", "Let's try one more: __equation__": "Vamos a intentar una m\u00e1s: __equation__", "Graph playback very slow": "Reproducci\u00f3n gr\u00e1fica muy lenta", "Unable to play audio.": "Incapaz de iniciar audio.", "Width:": "Anchura:", "Cannot take derivative with respect to '__symbol1__' because it is __symbol2__.": "No se puede tomar la derivada respecto a __symbol1__ porque es __symbol2__.", "Style": "Estilo", "What do you want to take the derivative of?": "\u00bfDesea obtener la derivada?", "Help us translate": "Ay\u00fadanos a traducir", "Aug": "agosto", "Quartile": "Cuartil", "You can't use '__dependency__' as a parameter of this function because '__dependency__' is already defined.": "No puede utilizar '__dependency__' como un par\u00e1metro de esta funci\u00f3n porque '__dependency__' ya est\u00e1 definido.", "Braille mode Nemeth": "Modo Braille Nemeth", "Previous Point of Interest": "Punto de inter\u00e9s anterior", "Superscripts cannot be empty.": "Los super\u00edndices no pueden estar vac\u00edos.", "Graph Settings Controls": "Controles de configuraci\u00f3n de gr\u00e1ficos", "Undo": "Deshacer", "Now grab this equation by its left edge and drag it into the folder.": "Ahora agarra esta ecuaci\u00f3n por su borde izquierdo y arrastrala a la carpeta.", "Answer": "Respuesta", "Cannot take the product of __symbol__.": "No se puede tomar el producto de __symbol__.", "redo": "rehacer", "Has regression. To access statistics, press Tab.": "Tiene regresi\u00f3n. Para acceder a las estad\u00edsticas, presione Tab.", "plot": "trama", "Absolute Value": "Valor absoluto", "__mode__ is on!": "__mode__ est\u00e1 activado!", "What do you want to take the integral of?": "\u00bfDesea obtener la integral?", "This calculator does not support this type of equation.": "Esta calculadora no soporta este tipo de ecuaci\u00f3n.", "Cotangent": "Cotangente", "You're a slider pro!": "\u00a1Usted es un deslizador profesional!", "X-Axis": "Eje X", "Drag": "Arrastre", "This calculator does not support the constant '__symbol__'.": "Esta calculadora no soporta la constante __symbol__.", "Function '__dependency__' requires only 1 argument. __supplement__": "La funci\u00f3n '__dependency__' requiere solamente un argumento. __supplement__", "Superscript": "Superindice", "Open or Close the Share Menu": "Abrir o cerrar el men\u00fa Compartir", "Unable to add note": "No es posible a\u00f1adir la nota", "Graph paper showing 1 graph.": "Papel cuadriculado para gr\u00e1ficas muestra una gr\u00e1fica.", "Add Image": "A\u00f1adir imagen", "Branch __branch__": "Derivada __branch__", "You can create lists of integers even more easily. Try this: __equation__": "Puede crear listas de n\u00fameros enteros m\u00e1s f\u00e1cilmente. Intente esto: __equation__", "Default": "Predeterminado", "less than a minute ago": "hace menos de un minuto", "powered by Desmos": "potenciado por Desmos", "Change your Desmos email address": "Cambie su direcci\u00f3n de correo de Desmos", "Cannot add matrices with different dimensions.": "No se puede agregar matrices con dimensiones diferentes.", "Last Row in Column": "\u00daltima fila en columna", "Add an Image": "A\u00f1adir imagen", "Normal Distribution": "Distribuci\u00f3n normal", "Off": "Desactivado", "Importing graph...": "Importando el gr\u00e1fico...", "Your answers show up on this side.": "Tus respuestas aparecen en este lado.", "Feedback": "Retroalimentaci\u00f3n", "Add a Folder": "A\u00f1adir una carpeta", "Expression __index__": "Expresi\u00f3n __index__", "Height": "Altura", "domain Maximum: ": "valor de dominio m\u00e1ximo: ", "Error importing graph. Check the URL?": "Error importando gr\u00e1fico. \u00bfRevisa la URL?", "Round": "Redondo", "Next Point": "Siguiente punto", "Sorry, I don't understand this.": "Lo siento, no comprendo esto.", "Increase Selection Right": "Aumenta la selecci\u00f3n derecha", "example": "ejemplo", "on __month__ __day__, __year__": "el __day__ de __month__ de __year__", "deg": "deg", "For example, try typing: __recommendation__.": "Por ejemplo, intente escribir: __recommendation__.", "Min": "Min", "__type__ at": "__type__ en", "Type in here to change the value.": "Escriba aqu\u00ed para cambiar el valor.", "Share Graph": "Compartir la gr\u00e1fica", "Saved Graphs": "Gr\u00e1ficos Guardados", "Add an Expression": "A\u00f1adir expresi\u00f3n", "Double inequalities must both go the same way, e.g. 1 < y < 2.": "Las dobles desigualdades deben ir en el mismo sentido, por ejemplo 1 < y < 2.", "Add a Table": "A\u00f1adir tabla", "Table entry cannot be __symbol__.": "La entrada de tabla no puede ser __symbol__.", " Press ALT+T for audio trace.": " Presiona ALT+T para el rastro de audio.", "Graph Settings": "Configuraci\u00f3n de las gr\u00e1ficas", "Graph imported!": "\u00a1Gr\u00e1fico importado!", "Log A": "Logaritmo de A", "You can reactivate your account at any time during those 30 days by logging back in.": "Usted puede reactivar su cuenta en cualquier tiempo durante esos 30 d\u00edas al iniciar una sesi\u00f3n.", "Lower bound of a sum must set a variable equal to a number. Try n=1.": "El limite inferior de una suma debe ser una variable igual a un numero. Intente con n=1.", "Speak X Coordinate": "Hable coordenadas X", "Folders": "Carpetas", "You're a tables whiz!": "\u00a1Eres un genio de las tablas!", "This calculator does not support this type of variable definition. Try using 'New Matrix'.": "Esta calculadora no soporta este tipo de variables definidas. Intente usando 'Nueva Matriz'.", "Google Login Error.": "Error de inicio de Google Login.", "Branches: __branches__.": "Derivadas: __branches__.", "Why am I seeing a negative R Squared value?": "\u00bfPor qu\u00e9 veo un valor negativo de R Squared?", "Sign Out": "Cerrar sesi\u00f3n", "Just fill in one more...": "Solamente llene uno m\u00e1s...", "Binned": "Encartonado", "Add folder": "A\u00f1adir carpeta", "Natural Log": "Logaritmo natural", "No graph selected.": "Ning\u00fan grafico seleccionado.", "Playing graph.": "Graficando.", "Invalid slider min. Try using any number.": "Valor m\u00ednimo de control deslizante invalido. Intenta usar cualquier n\u00famero.", "Link copied": "Enlace copiado", "No column header": "No hay encabezado de columna", "... and select the \"folder\" option.": "... y selecciona la opci\u00f3n \"carpeta\".", "Cannot store __symbol1__ in a list.": "No se puede almacenar __symbol1__ en una lista.", "Graph playback normal": "Reproducci\u00f3n gr\u00e1fica normal", "Every part of a piecewise expression must have a condition except the last.": "Cada parte de una expresi\u00f3n definida a trozos debe tener una condici\u00f3n excepto la \u00faltima.", "folder expanded": "carpeta ampliada", "Font Size": "Tama\u00f1o de letra", "Cannot raise __symbol1__ to __symbol2__.": "No se puede elevar __symbol1__ a la potencia __symbol2__.", "The condition in a piecewise expression must be __symbol1__ but was __symbol2__.": "La condici\u00f3n de una expresi\u00f3n a tozos debe ser __symbol1__ pero fue __symbol2__.", "Language Options Menu": "Men\u00fa de opciones de idioma", "Save Changes (ctrl+s)": "Guardar los cambios (ctrl+s)", "Regressions": "Regresiones", "Hyperbolic Cotangent": "Cotangente hiperb\u00f3lico", " Press OPTION+T for audio trace.": " Presiona OPTION+T para el rastro de audio.", "Profile Information": "Informaci\u00f3n de perfil", "Invalid height. Try using any number.": "Altura inv\u00e1lida. Intenta usar cualquier n\u00famero.", "What do you want to take the product of?": "\u00bfDesea obtener el producto?", "Speak Branch": "Hable tramo", "Open or Close the Help Menu": "Abrir o cerrar el men\u00fa de ayuda", "Error Function": "Funci\u00f3n de error", "a point": "un punto", "Email:": "Email:", "Log Mode": "Modo Logaritmo", "Select Previous Slider When in Slider Trace": "Seleccione el deslizador anterior cuando est\u00e9 en rastreo del deslizador", "Control Bar": "Barra de control", "View more examples": "Ver m\u00e1s ejemplos", "Cannot use '__symbol__' as a variable.": "No se puede usar '__symbol__' como variable.", "Derivatives": "Derivadas", "X Axis Step Size: ": "Tama\u00f1o del paso del eje X: ", "__folder__ has __count__ items": "__folder__ tiene __count__ art\u00edculos", "Saved!": "\u00a1Guardada!", "Jan": "enero", "Center:": "Centro:", "Add Note": "A\u00f1adir nota", "First column may not be __most__ or __last__.": "La primera columna no puede ser __most__ o __last__.", "Add table": "A\u00f1adir tabla", "Residuals are the difference between your data and your model. Click here to add them to your table and plot them on the graph.": "Los residuos son la diferencia entre sus datos y su modelo. Haga clic aqu\u00ed para a\u00f1adirlos a su tabla y representarlos en la gr\u00e1fica.", "Oct": "octubre", "Save This Construction": "Guardar esta Construcci\u00f3n", "Speak Parent Block": "Hablar Bloque Padre", "Lower bound of a product must set a variable equal to a number. Try n=1.": "El limite inferior de un producto debe ser una variable igual a un numero. Intente con n=1.", "Hint: The gray line will show you if the expression is in the folder.": "Sugerencia: La l\u00ednea gris le mostrar\u00e1 si la expresi\u00f3n est\u00e1 en la carpeta.", "Hide this folder from students.": "Ocultar esta carpeta de los estudiantes.", "Right Parenthesis": "Par\u00e9ntesis de cierre", "Min:": "Min:", "Untitled Graph": "Gr\u00e1fico sin t\u00edtulo", "Move to Lowest Value of Selected Slider When in Slider Trace": "Mueva al valor menor del deslizador seleccionado cuando est\u00e9 en rastreo del deslizador", "This type of expression is not allowed.": "Este tipo de expresi\u00f3n no est\u00e1 permitida.", "Edit Expression List": "Editar lista de expresiones", "... and select the \"table\" option.": "... y seleccione la opci\u00f3n \"tabla\".", "Animate __variable__ Slower": "Anima __variable__ m\u00e1s lento", "'cdf' takes a distribution and at least one number. __supplement__": "'cdf' toma una distribuci\u00f3n y al menos un n\u00famero. __supplement__", "Sine": "Seno", "synced!": "\u00a1Sincronizado!", "clear all": "desmarcar todo", "Invalid center. Try, for example, (0,0).": "Centro inv\u00e1lido. Intenta, por ejemplo, (0,0).", "Cannot chain more than 2 inequalities.": "No se puede encadenar m\u00e1s de 2 desigualdades.", "Points are written like this: (1, 2).": "Los puntos se escriben as\u00ed: (1, 2).", "What is RMSE?": "\u00bfQu\u00e9 es RMSE?", "Decrease Y by Larger Amount": "Disminuir Y por cantidad mayor", "New graph created.": "Se ha creado una nueva gr\u00e1fica.", "an unknown object": "un objeto desconocido", "Graph viewport updated.": "Vista gr\u00e1fica actualizada.", "Only square matrices have a determinant.": "Solo matrices cuadradas tienen un determinante.", "Add a Note": "A\u00f1adir una nota", "an error object": "un objeto con error", "Head over to Google Docs and copy and paste this __sample_data_link__.": "Vaya a Google Docs y copie y pegue este __sample_data_link__.", "Click to return to your expressions.": "Haga clic para regresar a sus expresiones.", "Minus": "Menos", "Unable to adjust slider": "No se puede ajustar el deslizador", "Cannot divide __symbol1__ by __symbol2__.": "No se puede dividir __symbol1__ por __symbol2__.", "Right Arrow": "Flecha Derecha", "offline. click to try again.": "fuera de l\u00ednea. Haga clic para volver a intentarlo.", "A B C": "A B C", "Some of your arguments are not points.": "Algunos de tus argumentos no son puntos.", "Hint: press the 'A B C' button on the keypad to find the [ ] buttons": "Sugerencia: Presione el bot\u00f3n de 'A B C' en el teclado para encontrar los botones de [ ]", "Opening...": "Abriendo...", "Loop __variable__ Forward and Reverse": "Lazo __variable__ adelante y atr\u00e1s", "Let's make a table!": "\u00a1Hagamos una tabla!", "Hint: press the 'A B C' button on the keypad to find the { } buttons": "Sugerencia: Presione el bot\u00f3n de  'A B C' en el teclado para encontrar los botones { }", "To disable audio trace, press OPTION+T.": "Para desactivar el rastro de audio, presione OPTION+T.", "Click here to create a new blank expression.": "Haga clic aqu\u00ed para crear una nueva expresi\u00f3n en blanco.", "This calculator does not support inequalities.": "Esta calculadora no soporta desigualdades.", "Enter a note...": "Introduzca una nota...", "Sorry, but I can't trace implicit curves yet.": "Lo sentimos, pero todav\u00eda no se puede trazar curvas impl\u00edcitas.", "Please provide an email so we can write back. ": "Por favor, proporcione una direcci\u00f3n de correo electr\u00f3nico para que podamos responderle. ", "No saved graphs yet.": "No hay gr\u00e1ficos guardados todav\u00eda.", "Export Your Graph": "Exportar tu gr\u00e1fico", "Hyperbolic Sine": "Seno hiperbolico", "Six Key Braille Input on": "Entrada Braille de seis claves activado", "Click to show the list of expressions.": "Haga clic para mostrar la lista de expresiones.", "Edit __variable__ Limits": "Editar __variable__ L\u00edmites", "Nice. Let's check the model.": "Bien. Vamos a ver el modelo.", "Unsupported Browser": "Navegador no soportado", "Save This Graph": "Guardar esta gr\u00e1fica", "Unexpected server error. Try again, or e-mail calculator@desmos.com.": "Error inesperado del servidor. Vuelva a intentarlo, o manda un correo electr\u00f3nico a calculator@desmos.com.", "Let's get started!": "\u00a1Comencemos!", "What do you want to take the sum of?": "\u00bfDesea obtener la suma?", "Error deleting.": "Error borrando elemento.", "No examples match your search.": "Ning\u00fan ejemplo coincide con tu b\u00fasqueda.", "Quantile": "Cuantillo", "We zoomed to fit your data.": "Hicimos zoom para ajustar sus datos.", "Error loading graph": "Error al cargar la gr\u00e1fica", "Co Variance": "Covarianza", "a list of numbers": "una lista de numeros", "Cosine": "Coseno", "Click anywhere to close the drawing options.": "Haga clic en cualquier parte para cerrar las opciones de dibujo.", "Print": "Imprimir", "Move right to add a new column.": "Mu\u00e9vase a la derecha para agregar una nueva columna.", "Subscript": "Subindice", "Save": "Guardar", "__variable__ paused": "__variable__ en pausa", "Points may only have 2 coordinates.": "Los puntos s\u00f3lo pueden tener 2 coordenadas.", "Opacity": "Opacidad", "Medium": "Mediano", "Change Email and Password": "Cambie correo y contrase\u00f1a", "Show Both": "Mostrar ambos", "Try graphing a straight line, like __sample_expression__": "Intente graficar una recta, como __sample_expression__", "Data Set": "Conjunto de datos", "Intercept": "Intercepto", "Save a Graph": "Guardar una gr\u00e1fica", "search by title": "buscar por t\u00edtulo", "Speak Y Coordinate": "Hable coordenadas Y", "Getting Started": "Para empezar", "Definitions are nested too deeply.": "Las definiciones est\u00e1n anidadas demasiado profundamente.", "Try adding '__lhs__' to the beginning of this equation.": "Int\u00e9ntelo a\u00f1adiendo '__lhs__' al inicio de esta ecuaci\u00f3n.", "We will send you a link to your email address (__email__) so you can delete your account.": "Le enviaremos un enlace a su correo (__email__) para poder eliminar su cuenta.", "Restore Default Zoom": "Restaurar el Zoom predeterminado", "Expression __index__ column __column__": "Expresi\u00f3n __index__ columna __column__", "Arrows": "Flechas", "Didn't work? Try again!": "\u00bfNo funcion\u00f3? \u00a1Int\u00e9ntelo de nuevo!", "Terms of Service": "T\u00e9rminos de Servicio", "undo": "deshacer", "yesterday": "ayer", "Animating at __speed__x": "Animando a __speed__x", "Duplicate This Graph": "Duplicar este gr\u00e1fico", "Correlation": "Correlaci\u00f3n", "Toggle Slider Trace Mode": "Cambiar el modo de rastreo del deslizador", "Hint #1: to get __y_1__ type __y1__.": "Consejo #1: para obtener __y_1__ escriba __y1__.", "Braille mode UEB": "Modo Braille UEB", "Open a Graph": "Abrir una gr\u00e1fica", "Delete": "Borrar", "Try typing __sample_expression__": "Intente escribiendo __sample_expression__", "Vertical": "Vertical", "Point": "Punto", "Close Graph List": "Cerrar lista de gr\u00e1ficos", "sample data": "datos de la muestra", "Let's make a new equation. For example, type: __equation__": "Vamos a hacer una nueva ecuaci\u00f3n. Por ejemplo, escribe: __equation__", "Now try pressing Enter.": "Ahora intente presionar la tecla Enter.", "Cannot apply __symbol__ to __symbol1__ and __symbol2__.": "No se puede aplicar __symbol__ a __symbol1__ y __symbol2__.", "Enter the __param__.": "Introduze el __param__.", "Lists are not allowed.": "Las listas no est\u00e1n permitidas.", "No graph to trace.": "Ning\u00fan grafico para trazar.", "Function '__dependency__' requires __assignment_arity__ arguments. __supplement__": "La funci\u00f3n '__dependency__' requiere argumentos __assignment_arity__. __supplement__", "Axis Numbers": "N\u00fameros de eje", "'__symbol__' is a function. Try using parentheses.": "'__symbol__' es una funci\u00f3n. Intenta usar par\u00e9ntesis.", "Y Axis Step Size: ": "Tama\u00f1o del paso del eje Y: ", "Account Settings": "Configuraci\u00f3n de la cuenta", "a distribution": "una distribuci\u00f3n", "Six Key Braille Input off": "Entrada de Braille de seis claves apagado", "Exponent": "Exponente", "Inverse Cotangent": "Cotangente inverso", "Projector Mode": "Modo de proyecci\u00f3n", "No more points of interest": "No hay m\u00e1s puntos de inter\u00e9s", "Cannot access a coordinate of __symbol__.": "No se puede acceder a una coordenada de __symbol__.", "Give your folder a name.": "Dale un nombre a tu carpeta.", "You can't define '__symbol__' because '__symbolRoot__' is already defined.": "No puede definir '__symbol__' porque '__symbolRoot__' ya est\u00e1 definido.", "updating graphs...": "actualizando gr\u00e1ficas...", "X Axis Minimum: ": "Eje X M\u00ednimo: ", "Desmos is in Maintenance Mode.": "Desmos se encuentra en mantenimiento.", "Singular matrices do not have an inverse.": "Matrices singulares no tienen inversa.", "If you want to count by 5 instead, just write something like this: __equation__": "Si quieres contar por 5, solo escribe algo as\u00ed: __equation__", " is movable. Press Arrows or Shift+Arrows to adjust.": " es movible. Presiona las flechas o Shift+Flechas para ajustar.", "Square brackets cannot be empty.": "Los corchetes cuadrados no pueden estar vac\u00edos.", "The file \"__file__\" is not an image": "El archivo \"__file__\" no es una imagen", "Cannot multiply matrices with incompatible dimensions.": "No se puede multiplicar matrices con dimensiones incompatibles.", "This calculator does not support the '__symbol__' function.": "Esta calculadora no soporta la funci\u00f3n __symbol__.", "no unsaved changes": "No hay cambios no guardados", "Open Construction": "Construcci\u00f3n abierta", "__number__ weeks ago": "hace __number__ semanas", "Factorial": "Factorial", "Drop Image Here": "Suelte aqu\u00ed la imagen", "unsaved graph": "gr\u00e1fico sin guardar", "The left side of a ':' must be a condition, like 'x>1'.": "El lado izquierdo de un ':' debe ser una condici\u00f3n, como 'x>1'.", "Open Graph (ctrl+o)": "Abrir gr\u00e1fica (ctrl + o)", "'__symbol__' cannot have a subscript.": "'__symbol__' no puede tener un sub\u00edndice.", "Percent Of": "Porcentaje de", "Powered by Desmos": "Potenciado por Desmos", "Cosecant": "Cosecante", "Use Arrow keys to navigate.": "Use las teclas de flecha para navegar.", "Add Table": "A\u00f1adir tabla", "Try including '__symbols__' and '__lastSymbol__' as arguments by defining the function as '__newSignature__'.": "Int\u00e9ntelo incluyendo'__symbols__' y '__lastSymbol__' como argumentos definiendo la funci\u00f3n como '__newSignature__'.", "Find Cumulative Probability (CDF)": "Encontrar Probabilidad Acumulativa (CDF)", "Unable to determine slider value": "No se puede determinar el valor del deslizador", "Function '__dependency__' is not defined.": "La funci\u00f3n '__dependency__' no est\u00e1 definida.", "Restrictions": "Restricciones", "Search": "Buscar", "Click here to only show the dots.": "Haga clic aqu\u00ed para mostrar solamente los puntos.", "Offset": "Compensaci\u00f3n", "Set a new email address and password:": "Establecer una nueva direcci\u00f3n de correo electr\u00f3nico y contrase\u00f1a:", "Zoom Out": "Alejar", "Google Account": "Cuenta de Google", "Hint: you can type y=x^2+a or use the a<sup>2</sup> button on the keypad below.": "Sugerencia: puedes escribir y=x^2+a o usar el bot\u00f3n<sup>2</sup> en el teclado de abajo.", "Try typing all of __sample_expression__": "Intente escribir completamente __sample_expression__", "Decrease Value": "Disminuye el valor", "We only support implicit equations of x and y.": "Solamente tenemos soporte para las ecuaciones impl\u00edcitas en x & y.", "Desmos is temporarily in maintenance mode. You can open example graphs, but won't be able to sign in, open your graphs, or save any changes. We're so sorry for the inconvenience.": "Desmos est\u00e1 temporalmente en mantenimiento. Usted puede abrir las gr\u00e1ficas de ejemplo pero no podr\u00e1 iniciar sesi\u00f3n, abrir sus gr\u00e1ficas o guardar cualquier cambio. Lamentamos mucho las molestias que esto ocasiona.", "X Axis Maximum: ": "Eje X m\u00e1ximo: ", "Orientation": "Orientacion", "Sep": "septiembre", "Last point": "\u00daltimo punto", "Redo (ctrl+y)": "Rehacer (ctrl + y)", "1px wide": "1px de ancho", "Duplicate This Construction": "Duplicar esta Construcci\u00f3n", "__number__ days ago": "hace __number__ d\u00edas", "Go to Next Interactive Point": "Ir al siguiente punto interactivo", "Unable to activate help menu": "No se puede activar el men\u00fa de ayuda", "Cancel": "Cancelar", "Hyperbolic Tangent": "Tangente hiperb\u00f3lica", "Integrand must end with an integration variable, like dx.": "Integral debe finalizar con una variable de integraci\u00f3n, como dx.", "Redo": "Rehacer", "Open Graph": "Abrir Gr\u00e1fica", "Previous Character": "Car\u00e1cter previo", "rad": "rad", "Let's make a folder!": "\u00a1Hagamos una carpeta!", "Floor": "Desde", "Braille Mode": "Modo Braille", "Table entries must be simple expressions. __supplement__": "Las entradas de las tablas deben ser expresiones simples. __supplement__", "Challenge accepted...": "Desaf\u00edo aceptado...", "Try Again": "Intentalo de nuevo", "Superscripts and primes cannot be combined.": "Los super\u00edndices y n\u00fameros primos no pueden combinarse.", "'%' must be used with 'of'. Try '25% of 12'.": "'%' debe usarse con 'de'. Pruebe '25% de 12'.", "Last trick!": "\u00a1\u00daltimo truco!", "Cannot take the sum of __symbol__.": "No se puede tomar la suma de __symbol__.", "'__symbol__' accepts at most __max__ arguments.": "'__symbol__' acepta a lo m\u00e1s __max__ argumentos.", "Share this link:": "Compartir este enlace:", "Standard Deviation of Population": "Desviaci\u00f3n Est\u00e1ndar de la Poblaci\u00f3n", "When you delete your account,": "Cuando elimine su cuenta,", "Pi": "Pi", "Language": "Idioma", "domain Minimum: ": "valor m\u00ednimo de dominio: ", "The first argument of '__symbol__' must be a list. For example, try typing: __recommendation__.": "El primer argumento de '__symbol__' debe ser una lista. Por ejemplo, prueba a escribir: __recommendation__.", "Please check your email (__emailAddress__) for the link to delete your account.": "Compruebe su correo electr\u00f3nico (__emailAddress__) para ver el enlace para eliminar su cuenta.", "Awesome!": "\u00a1Impresionante!", "Click here to generate a table.": "Haga clic aqu\u00ed para generar una tabla.", "Log Mode Help": "Ayuda de Modo Logaritmo", "Tangent": "Tangente", "Unable to focus expression list": "No se puede enfocar la lista de expresiones", "Loading image...": "Cargando imagen...", "Has graph and regression. To access statistics, press Tab.": "Tiene gr\u00e1fico y regresi\u00f3n. Para acceder a las estad\u00edsticas, presione Tab.", "a list of true/false values": "una lista de verdaderos/falsos valores", "Desmos works best on your version of Android if you use the Chrome Browser.": "Desmos funciona mejor en su versi\u00f3n de Android si utiliza el navegador Chrome.", "Image upload failed.": "Subir imagen fracaso.", "Function '__symbol__' requires at least one argument. For example, try typing: __symbol__(1, 2).": "La funci\u00f3n '__symbol__' requiere al menos un argumento. Por ejemplo, intente escribir: __symbol__ (1, 2).", "Hyperbolic Secant": "Secante hiperb\u00f3lico", "Sorry, I don't understand this use of prime notation.": "Lo siento, no entiendo este uso de notaci\u00f3n principal.", "Increase Value of Selected Slider by Larger Increment When in Slider Trace": "Incremente el valor del deslizador seleccionado por valor mayor cuando est\u00e9 en rastreo del deslizador", "Upper bound of a product cannot be __symbol__.": "El l\u00edmite superior de una suma no puede ser __symbol__.", "First Column in Row": "Primera columna en fila", "Speak Type of Selected Point": "Hable tipo de punto seleccionado", "Unable to activate language menu": "No se puede activar el men\u00fa de idioma", "For example, try typing: cdf(normaldist(),x)": "Por ejemplo, intenta escribir: cdf(normaldist(),x)", "Cubed": "Cubo", "Only square matrices can be raised to a power.": "S\u00f3lo se pueden elevar matrices cuadradas a un poder.", "Move to Previous Expression": "Mover a la expresi\u00f3n anterior", "Enter": "Enter", "Zoom Fit": "Zoom Fit", "Speak Selection": "Hable la Selecci\u00f3n", "Mean": "Media", "is T test. To access statistics, press Tab.": "es prueba T. Para acceder a estad\u00edsticas, presione Tab.", "First Row in Column": "Primera fila en columna", "Print a Graph": "Imprimir un gr\u00e1fico", "clear": "desmarcar", "You previously requested to delete your account, but because you logged back in within 30 days, we will not delete your account. Welcome back!": "Previamente solicitaste borrar tu cuenta, pero ya que usted ha iniciado esta sesi\u00f3n en plazo de 30 d\u00edas, no borraremos tu cuenta. \u00a1Bienvenido de vuelta!", "Unable to audio trace this expression.": "Incapaz de trazar el audio de esta expresi\u00f3n.", "Graph paper showing __count__ graphs.": "Papel cuadriculado para gr\u00e1ficas muestra__count__gr\u00e1ficas.", "Brilliant!": "\u00a1Brillante!", "Edge": "Corte", "Are you sure you want to delete your account?": "\u00bfEst\u00e1 seguro que quiere eliminar su cuenta?", "Plotting single-variable implicit equations is disabled.": "La representaci\u00f3n gr\u00e1fica de ecuaciones impl\u00edcitas de una sola variable est\u00e1 desactivada.", "Fill": "Rellenar", "Go down to the next row to add more data.": "Vaya al siguiente rengl\u00f3n para agregar m\u00e1s datos.", "Let's make a function. First: click here to create a new blank expression.": "Hagamos una funci\u00f3n. Primero: haga clic aqu\u00ed para crear una nueva expresi\u00f3n en blanco.", "Confusing implicit multiplication. Use parentheses or a '*' symbol.": "Multiplicaci\u00f3n impl\u00edcita confusa. Utilice par\u00e9ntesis o un s\u00edmbolo `*'.", "graph paper": "papel cuadriculado para gr\u00e1ficas", "Select Next Slider When in Slider Trace": "Seleccione el proximo deslizador cuando est\u00e9 en rastreo del deslizador", "Are you sure you want to leave this graph? Your unsaved work will be lost.": "\u00bfEst\u00e1 seguro de querer abandonar esta gr\u00e1fica? \u00a1El trabajo que no haya guardado se perder\u00e1.", "Please enter your feedback": "Por favor proporcione su retroalimentaci\u00f3n", "Expected '__symbol1__' to match '__symbol2__'.": "Se esperaba '__symbol1__' para coincidir '__symbol2__'.", "Audio Tracing": "Rastreo de audio", "Trials": "Ensayos", "No animating sliders were paused.": "Deslizadores de animaci\u00f3n no fueron pausados.", "Adjust Playback Speed (1 = slowest, 5 = fastest)": "Ajuste velocidad de reproducci\u00f3n (1 = m\u00e1s lento, 5 = m\u00e1s r\u00e1pido)", "Width": "Anchura", "Increase Selection Left": "Aumenta la selecci\u00f3n izquierda", "All elements of a list must have the same type.": "Todos los elementos de la lista deben ser del mismo tipo.", "Convert to fraction.": "Convertir a fracci\u00f3n.", "Bar Heights": "Alturas de barras", "Hint: you can type y=x^2, or use the <span class=\"trip-math\">a^2</span> button on the keypad below.": "Sugerencia: puede escribir y = x ^ 2, o usar el bot\u00f3n <span class=\"trip-math\">a^2</span> en el teclado a continuaci\u00f3n.", "Resources": "Recursos", "Help Center": "Centro de ayuda", "Hyperbolic Cosine": "Coseno hiperb\u00f3lico", "Drag the handle to change the value.": "Arrastre el control para cambiar el valor.", "You can't use '__symbol__' as an integration variable because it's already defined.": "No puede usar __symbol__ como una variable de integraci\u00f3n porque ya est\u00e1 definida.", "Convert to decimal.": "Convertir a decimal.", "Prime notation can only be used for functions of a single argument.": "Notaci\u00f3n prima solo puede utilizarse para funciones de un solo argumento.", "Duplicate or Rename (cmd+shift+s)": "Duplicar o renombrar (cmd+shift+s)", "Now type: __equation__": "Ahora escriba: __equation__", "Lower bound of an integral cannot be __symbol__.": "El l\u00edmite inferior de una integral no puede ser __symbol__.", "Desmos User Guide": "Gu\u00eda del usuario de Desmos", "Show Answer as Decimal or Fraction": "Mostrar respuesta como Decimal o Fracci\u00f3n", "Inverse Secant": "Secante inverso", "Grid": "Cuadr\u00edcula", "folder": "carpeta", "We can only plot inequalities when one variable is quadratic or linear.": "Solamente podemos graficar desigualdades en las que una de las variables es cuadr\u00e1tica o lineal.", "We couldn't find any region where this model is defined.": "No pudimos encontrar alguna regi\u00f3n donde se defina este modelo.", "Backspace": "Retroceso", "Cannot use __symbol1__ and __symbol2__ as the coordinates of __symbol3__.": "No se puede usar __symbol1__ y __symbol2__ con las coordenadas de __symbol3__.", "Advanced Tables": "Tablas avanzadas", "Polar Grid": "Cuadr\u00edcula polar", "This message will self-destruct in __seconds__...": "Este mensaje se autodestruir\u00e1 en __seconds__...", "Summarize Graph": "Resumen de gr\u00e1fico", "is distribution. ": "es distribuci\u00f3n. ", "Unable to add table": "No es posible a\u00f1adir la tabla", "Large": "Grande", "Last Column in Row": "\u00daltima columna en fila", "Default Zoom": "Zoom predeterminado", "Inverse Sine": "Seno inverso", "Sliders": "Deslizadores", "Invalid cdf min. Try using any number.": "Valor m\u00ednimo de cdf invalido. Intenta usar cualquier n\u00famero.", "... and select the \"expression\" option.": "... y seleccione la opci\u00f3n \"expresi\u00f3n\".", "Try again": "Volver a intentarlo", "Right": "Derecha", "If there's something about Desmos we can improve, please ": "Si hay algo que Desmos puede mejorar, por favor ", "Help": "Ayuda", "settings": "configuraciones", "Increase X": "Aumente x", "Increase Y": "Aumente Y", "Move to Origin": "Mueva hacia al origen", "Hyperbolic Cosecant": "Cosecante hiperb\u00f3lico", " To audio trace, press ALT+T.": " Para rastrear audio, pulse ALT+T.", "Add note": "A\u00f1adir nota", "You need a numerator for the top of your fraction.": "Necesitas un numerador para la parte superior de tu fracci\u00f3n.", "Remove Selected Empty Expression": "Eliminar expresi\u00f3n vac\u00eda seleccionada", "Left Parenthesis": "Par\u00e9ntesis izquierdo", "Hint: this will plot a point for each item of b.": "Sugerencia: esto graficara un punto para cada elemento de b.", "Decrease Value by Larger Increment": "Disminuir el valor por incremento mayor", "Decrease X by Larger Amount": "Disminuir X por cantidad mayor", "Increase Value": "Aumente valor", "Desmos Scientific Calculator": "Calculadora Cient\u00edfica Desmos", "Create Account": "Crear cuenta", "First, let's get some data.": "En primer lugar, vamos a obtener algunos datos.", "Bin Width": "Anchura de compartimiento", "Audio trace on.": "Rastro de audio en.", "keypad": "teclado", "Please check __emailAddress__ for the Change Email link.": "Por favor, compruebe __emailAddress__ para el enlace de Cambiar correo electr\u00f3nico.", "Previous Cell": "Celda anterior", "Add expression": "A\u00f1adir expresi\u00f3n", "Increase Y by Larger Amount": "Incrementa Y por una cantidad mayor", "Check your internet connection?": "\u00bfHas comprobado tu conexi\u00f3n a Internet?", "Learn more": "Aprenda m\u00e1s", "Unable to activate account menu": "No se puede activar el men\u00fa de la cuenta", "Invalid slider max. Try using any number.": "Valor m\u00e1ximo de control deslizante invalido. Intenta usar cualquier n\u00famero.", "a list of points": "una lista de puntos", "For example, try typing: pdf(normaldist(),x)": "Por ejemplo, intenta escribir: pdf(normaldist(),x)", "Invalid offset. Try using any number.": "Compensaci\u00f3n inv\u00e1lida. Intenta usar cualquier n\u00famero.", "Failed to load image.": "No se ha podido cargar la imagen.", "Cannot index __symbol1__ with __symbol2__.": "No se puede a\u00f1adir __symbol1__ con __symbol2__.", "Invalid cdf limits. Min should be less than max.": "Limites de cdf inv\u00e1lidos. El valor m\u00ednimo debe ser menos que el valor m\u00e1ximo.", "a matrix": "una matriz", "No sliders to trace.": "No hay deslizadores que rastrear.", "Invalid bin center. Try using any number.": "Centro de ubicaci\u00f3n no v\u00e1lido. Intenta usar cualquier n\u00famero.", "Retry now": "Reintentar ahora", "New construction created.": "Nueva construcci\u00f3n creada.", "last saved: ": "\u00faltima vez guardada: ", "New Construction": "Nueva Construcci\u00f3n", "add y-axis label": "a\u00f1adir etiqueta de eje y", "Collapsed Folder": "Carpeta Colapsada", "Hear Only Branch 1 Through 10": "Escuche solo los tramos del 1 al 10", "to save your graphs!": "para guardar tus gr\u00e1ficos!", " not visible on screen": " no visible en la pantalla", "Name:": "Nombre:", "sending...": "enviando...", "Continue to Desmos": "Continuar a Desmos", "__sliders__ animating sliders were paused.": "__sliders__ deslizadores de animaci\u00f3n fueron pausados.", "Help Menu": "Men\u00fa de ayuda", "func": "func", "Click here to connect the dots.": "Haga clic aqu\u00ed para conectar los puntos.", "Graph reset.": "Reinicio de gr\u00e1ficos.", "last week": "la semana pasada", "Something went wrong, please report this to desmos.com support. (Error __error_num__)": "Algo sali\u00f3 mal; por favor reporte esto al equipo de apoyo de desmos.com. (Error__error_num__)", "Graph cleared.": "Gr\u00e1fico borrado.", "Sign In": "Inicie Sesi\u00f3n", "optional": "opcional", "Graphs with Interactive Points": "Gr\u00e1ficos con Puntos Interactivos", "Delete All": "Borrar Todo", "Sorry, I don't understand the '__symbol__' symbol.": "Lo siento, no entiendo el s\u00edmbolo __symbol__.", "Loading...": "Cargando...", "Y-Axis": "Eje Y", "Collapsed Secret Folder": "Carpeta Secreta Colapsada", "Sorry, you can't graph __symbol__ as a function of anything yet.": "Lo sentimos, todav\u00eda no se puede graficar __symbol__ como funci\u00f3n de algo.", "Undo (ctrl+z)": "Deshacer (ctrl + z)", "Privacy Policy": "Pol\u00edtica de privacidad", "__variable__ playing": "__variable__ tocando", "Tours": "Recorridos guiados", "To move between expressions, press ALT+Up-Arrow or ALT+Down-Arrow.": "Para moverse entre expresiones, presione ALT+flecha arriba o ALT+flecha abajo.", "Unable to copy link": "No se puede copiar el enlace", "Cannot negate __symbol__.": "No se puede negar __symbol__.", "Cannot make a polygon from two numbers.": "No se puede hacer un pol\u00edgono desde dos n\u00fameros.", "expression": "expresi\u00f3n", "Speak Focused Block": "Hablar Bloque Enfocado", "Angle:": "\u00c1ngulo:", "Add Expression": "A\u00f1adir expresi\u00f3n", "Log": "Logaritmo", "Graph playback very fast": "Reproducci\u00f3n gr\u00e1fica muy r\u00e1pida", "Inverse Cosine": "Coseno inverso", "For example, try typing: __dependency__(x).": "Por ejemplo, intente escribir: __dependency__(x).", "Go \"Hands-free\"": "Vaya a \"Manos libres\"", "Now let's restrict the range. Add __sample_expression__ to the end.": "Ahora vamos a restringir el rango de valores. A\u00f1ada __sample_expression__ al final.", "table": "tabla", "Try including '__lastSymbol__' as an argument by defining the function as '__newSignature__'.": "Int\u00e9ntelo incluyendo '__lastSymbol__' como argumento definiendo la funci\u00f3n como '__newSignature__'.", "Expression Bar": "Barra de expresi\u00f3n", "Connection failed. Check your internet connection?": "Fall\u00f3 de conexi\u00f3n. \u00bfComprueba tu conexi\u00f3n a internet?", "Sorry, but I can't trace parametric curves yet.": "Lo sentimos, pero todav\u00eda no se puede trazar curvas param\u00e9tricas.", "Upper bound of a sum cannot be __symbol__.": "El l\u00edmite superior de una suma no puede ser __symbol__.", "Independent T Test": "Prueba T Independiente", "Please check your email (__emailAddress__) for the link to change your password.": "Por favor verifique su correo (__emailAddress__) y vea el enlace para cambiar su contrase\u00f1a.", "Click here to add a new table.": "Haga clic aqu\u00ed para agregar una nueva tabla.", "Integration variable cannot have a superscript.": "La variable de integraci\u00f3n no puede tener un superindice.", "A single argument to polygon should be a point list, not __type__.": "Un \u00fanico argumento del pol\u00edgono debe ser un ponto, no __type__.", "Jun": "junio", "You're a restrictions star!": "\u00a1Es usted una estrella de las restricciones!", "Jul": "julio", "Products must have upper and lower bounds.": "Productos deben tener l\u00edmites superiores e inferiores.", "Beta": "Beta", "Statistics": "Estad\u00edstica", "Speak Answer": "Hablar respuesta", "Unable to add expression": "No se ha podido guardar la expresi\u00f3n", "Retry.": "Reintente.", "We will send a link to your email address (__emailAddress__) so you can change your password.": "Le enviaremos un enlace a su direcci\u00f3n de correo (__emailAddress__) para poder cambiar su contrase\u00f1a.", "Move to Next Expression": "Mover a la siguiente expresi\u00f3n", "Go to Previous Interactive Point": "Ir al punto Interactivo anterior", " To audio trace, press OPTION+T.": " Para rastrear audio, pulse OPTION+T.", "Max:": "Max:", "Focus First Interactive Point On Screen": "Enfocar primer punto interactivo en la pantalla", "Probability Density Function": "Funci\u00f3n de Densidad de Probabilidad", "Box Plot": "Diagrama de caja", "Edit graph on Desmos": "Editar gr\u00e1fico en Desmos", "folder collapsed": "carpeta colapsada", "Yth Root": "Ra\u00edz Yth", "You haven't written anything yet.": "A\u00fan no ha escrito nada.", "We only support solved double inequalities. Try deleting one side of the inequality.": "Solamente tenemos soporte para dobles desigualdades resueltas. Int\u00e9ntelo borrando un lado de la desigualdad.", "Show as Fraction": "Mostrar como fracci\u00f3n", "Points": "Puntos", "Function '__fn__' cannot be applied to __arg__.": "La funci\u00f3n __fn__ no se puede aplicar a __arg__.", "To disable audio trace, press ALT+T.": "Para desactivar el rastro de audio, presione ALT+T.", "Label Settings": "Ajustes de etiqueta", "Type this": "Escribir esto", "Lower bound of a sum cannot be __symbol__.": "El l\u00edmite inferior de una suma no puede ser __symbol__.", "Poisson Distribution": "Distribuci\u00f3n de Poisson", "main": "principal", "Divide": "Dividir", "Intersection with __curves__": "Intersecci\u00f3n con __curves__", "To graph its derivative: __equation__": "Para grafiar su derivado: __equation__", "Exit Current Block": "Salir del bloque actual", "Radicand cannot be empty.": "El radicando no puede estar vac\u00edo.", "Previous Row": "Fila anterior", "Done": "Hecho", "Invalid slider limits. Min should be less than max.": "Limites de control deslizante inv\u00e1lidos. El valor m\u00ednimo debe ser menos que el valor m\u00e1ximo.", "error": "error", "End of Current Expression": "Fin de la expresi\u00f3n actual", "'__symbol__' may not be used as a regression parameter.": "'__symbol__' no puede utilizarse como un par\u00e1metro de la regresi\u00f3n.", "Step:": "Paso:", "Size": "Tama\u00f1o", "This calculator does not support variables like '__variable__'.": "Esta calculadora no soporta variables como __variable__.", "'pdf' takes a distribution and a number. __supplement__": "'pdf' toma una distribuci\u00f3n y un n\u00famero. __supplement__", "Hidden Folder": "Carpeta oculta", "Uploading images...": "Subiendo im\u00e1genes...", "Send Email": "Enviar correo", "Last Point": "\u00daltimo punto", "Cannot subtract __symbol2__ from __symbol1__.": "No se puede sustraer __symbol2__ con __symbol1__.", "Focus the Expression List": "Enfocar la lista de expresiones", "Apr": "abril", "edit graph on": "editar gr\u00e1fico en", "Hidden Collapsed Secret Folder": "Carpeta secreta oculta colapsada", "Click here to make a new blank expression.": "Haga clic aqu\u00ed para crear una nueva expresi\u00f3n en blanco.", "Select All": "Seleccionar todos", "Send Feedback": "Enviar retroalimentaci\u00f3n", "Highest Value": "Valor m\u00e1s alto", "Play __variable__ Animation": "Reproduce __variable__ Animaci\u00f3n", "Folder": "Carpeta", "Profile": "Perfil", "Symbols": "S\u00edmbolos", "Product": "Producto", "Table created.": "Tabla creada.", "Sorry, but I can't trace polar curves yet.": "Lo sentimos, pero todav\u00eda no se puede trazar curvas polares.", "Six Key Braille Input": "Entrada Braille de seis claves", "Click back to continue editing.": "Haga clic de nuevo para seguir editando.", "Y Axis Minimum: ": "Valor M\u00ednimo del Eje Y: ", "This calculator does not support function definitions.": "Esta calculadora no soporta funci\u00f3nes definidas.", "No saved graphs match your search.": "No hay gr\u00e1ficos guardados que coincidan con su b\u00fasqueda.", "Degrees of Freedom": "Grados de Libertad", "Regressions are not allowed.": "Regresiones no est\u00e1n permitidas.", "Ranges must be arithmetic sequences.": "Los rangos deben ser sucesiones aritm\u00e9ticas.", "__toggled__ selected. Press Enter to switch to __default__.": "__toggled__ seleccionado. Presione Enter para cambiar a __default__.", "we will retain your data for 30 days.": "conservaremos sus datos por 30 d\u00edas.", "Copy": "Copiar", "Next Point of Interest": "Siguiente punto de inter\u00e9s", "Add Item": "Agregar elemento", "Close Graph Preview": "Cerrar vista previa de gr\u00e1fico", "Logged in successfully!": "\u00a1Sesi\u00f3n iniciada con \u00e9xito!", "Function": "Funci\u00f3n", "Email Address": "Direcci\u00f3n correo electr\u00f3nico", "Nice. Let's put that list to work.": "Muy Bien. Pongamos esa lista a trabajar.", "Lines": "L\u00edneas", "Place behind graphs": "Coloque detr\u00e1s de los gr\u00e1ficos", "Typeset": "Tipografia", "Add slider for __vars__": "A\u00f1ade deslizador para __vars__", "Increase Value by Larger Increment": "Incrementa el valor por incremento mayor", "You can't redefine '__symbol__' because it's already defined.": "No puede redefinir '__symbol__' porque ya est\u00e1 definido.", "Function '__symbol__' requires 2 arguments. For example, try typing: __recommendation__.": "La funci\u00f3n '__symbol__' requiere de 2 argumentos. Por ejemplo, prueba a escribir: __recommendation__.", "Range cannot depend on free variable '__symbol__'.": "El rango no puede depender de una variable libre '__symbol__'.", "Opened '__graphTitle__'": "Se ha abierto '__graphTitle__'", "Cannot use an inequality here.": "No est\u00e1 permitido usa una desigualdad aqu\u00ed.", "Windows Shortcuts": "Atajos de Windows", "Trace": "Trazo", "Y: __y__.": "Y: __y__.", "Slider Minimum: ": "M\u00ednimo de control deslizante: ", "one minute ago": "hace un minuto", "Expression Entry and Navigation": "Entrada de expresiones y navegaci\u00f3n", "Decimal": "Decimal", "Share Options": "Opciones para compartir", "You need something before the '__symbol__' symbol.": "Usted necesita algo antes del s\u00edmbolo '__symbol__'.", "Previous Column": "Columna anterior", "Cannot multiply __symbol1__ by __symbol2__.": "No se puede multiplicar __symbol1__ con __symbol2__.", "Empty graph paper.": "Papel cuadriculado para gr\u00e1ficas vac\u00edo.", "Square Root": "Ra\u00edz cuadrada", "Examples": "Ejemplos", "Hide Folder": "Ocultar carpeta", "Cannot call distribution '__symbol__' as a function. Try '__symbol__.pdf(x)'.": "No se puede llamar a la distribuci\u00f3n '__symbol__' como funci\u00f3n. Intenta '__symbol__.pdf(x)'.", "Nemeth": "Nemeth", "to save your constructions!": "para guardar tus construcciones!", "Current Graph": "Gr\u00e1fico Actual", "Inverse": "Inverso", "__default__ selected. Press Enter to switch to __toggled__.": "__default__ seleccionado. Presione Enter para cambiar a __toggled__.", "The definition of function '__symbol__' cannot depend on '__symbol__'.": "La definici\u00f3n de la funci\u00f3n '__symbol__' no puede depender de '__symbol__'.", "Error logging out.": "Error al cerrar sesi\u00f3n.", "a list of distributions": "una lista de distribuciones", "To move between expressions, press COMMAND+Up-Arrow or COMMAND+Down-Arrow.": "Para moverse entre expresiones, presione COMMAND+flecha arriba o COMMAND+flecha abajo.", "Speak Left-Adjacent Block": "Hablar Bloque de anuncios izquierdos", "Turn __mode__ off": "Desactivar __mode__", "Use a Refreshable Braille display, or just type Braille with a keyboard.": "Utilice una pantalla de Braille recargable, o simplemente escriba Braille con un teclado.", "Function '__dependency__' requires an argument. __supplement__": "La funci\u00f3n '__dependency__' requiere un argumento. __supplement__", "Fill it in.": "Llene.", "Or sign in with Desmos": "O inicia sesi\u00f3n con Desmos", "Label Text": "Texto de etiqueta", "Construction Cleared.": "Construcci\u00f3n borrada.", "Add image": "A\u00f1adir imagen", "__number__ hours ago": "hace __number__ horas", "Video Tutorials": "Tutoriales en video", "Cumulative Density Function": "Funci\u00f3n de densidad acumulada", "You can't use 'ans' in this context.": "No puede usar 'ans' en este contexto.", "Click and hold on this icon until the options menu opens up.": "Haga clic y mant\u00e9ngalo sobre este icono hasta que las opciones del men\u00fa aparezcan.", "Learn more.": "M\u00e1s informaci\u00f3n.", "Only __form1__ and __form2__ are supported. Otherwise, use parens.": "Solamente son compatibles __form1__ y __form2__. En otro caso, use par\u00e9ntesis.", "A piecewise expression must have at least one condition.": "Una expresi\u00f3n definida a trozos debe tener al menos una condici\u00f3n.", "You've defined '__dependency__' in more than one place. Try deleting some of the definitions of '__dependency__'.": "Has definido'__dependency__' en m\u00e1s de un lugar. Intente eliminar algunas de las definiciones de '__dependency__'.", "Equations are not allowed.": "Las ecuaciones no est\u00e1n permitidas.", "Integration bounds can't depend on integration variable '__symbol__'.": "Limites de la integral no pueden depender de la variable de integraci\u00f3n __symbol__.", "step:": "paso:", "Reset": "Reiniciar", "Slider trace on.": "Deslizador de rastreo activado.", "Lower bound of a product cannot be __symbol__.": "El l\u00edmite inferior de un producto no puede ser __symbol__.", "No graph information available.": "Ninguna informaci\u00f3n grafica disponible.", "Please consent above to sign in with Google": "Por favor, d\u00e9 su consentimiento para acceder usando Google", "Invalid domain limits. Min should be less than max.": "Limites de dominio inv\u00e1lidos. El valor m\u00ednimo debe ser menos que el valor m\u00e1ximo.", "Radians": "Radianes", "Current Construction": "Construcci\u00f3n en Curso", "Let's start with some data!": "\u00a1Vamos a comenzar con algunos datos!", "Uh-oh! Type a valid number here.": "\u00a1Uy! Escriba aqu\u00ed un n\u00famero v\u00e1lido.", "Below": "Debajo", "Alpha": "Alfa", "Embed": "Incrustar", "Show as Decimal": "Mostrar como decimal", "Sorry! Something went wrong. Please try again later.": "\u00a1Lo sentimos! Algo sali\u00f3 mal. Por favor, Int\u00e9ntelo m\u00e1s tarde.", "Only __form__ is supported. Otherwise, use parens.": "Solamente es compatible __form__. En otro caso, use par\u00e9ntesis.", "Left": "Izquierda", "You need something on both sides of the '__symbol__' symbol.": "Usted necesita algo en ambos lados del s\u00edmbolo '__symbol__'.", "You did not select a file": "No ha seleccionado un archivo", "You can hide everything in the folder with one click. Click here to try.": "Puedes ocultar todo en la carpeta con un clic. Haz clic aqu\u00ed para intentar.", "Now click here to add the sliders.": "Ahora haga clic aqu\u00ed para agregar los deslizadores.", "Integrals must have upper and lower bounds.": "Integrales deben tener limites inferior y superior.", "let us know": "h\u00e1ganoslo saber", "Function '__fn__' cannot be applied to these arguments.": "La funci\u00f3n __fn__ no se puede aplicar a esos argumentos.", "Click here to add a new item.": "Haga clic aqu\u00ed para agregar un nuevo elemento.", "Branch __branch__ does not exist.": "Derivada __branch__ no existe.", "Don't forget the \"y=\"!": "\u00a1No olvide la \"y=\"!", "Fill in this whole row.": "Llene completamente este reng\u00f3n.", "powered by": "impulsado por", "Graph playback fast": "Reproducci\u00f3n gr\u00e1fica r\u00e1pida", "Too many variables. Try defining '__variables__'.": "Hay demasiadas variables. Int\u00e9ntelo definiendo '__variables__'.", "Now we\u2019ll explore some folder functionality. Click here to collapse the folder.": "Ahora exploraremos algunas funciones de carpeta. Haga clic aqu\u00ed para contraer la carpeta.", "Hint #2: __twiddle__ is in our onscreen keypad in the 'A B C' section.": "Consejo #2: __twiddle__ est\u00e1 en nuestro teclado en pantalla en la secci\u00f3n de 'ABC'.", "Integral": "Integral", "Sum": "Conjunto", "Convert this to a table.": "Convertir esto en una tabla.", "No interactive points on screen": "No hay puntos interactivos en la pantalla", "Open or Close the Language Menu": "Abrir o cerrar el men\u00fa de idioma", "Email sent": "Email enviado", "Change this equation to __sample_expression__": "Cambie esta ecuaci\u00f3n a __sample_expression__", "Increase Value of Selected Slider When in Slider Trace": "Incremente el valor del deslizador seleccionado cuando est\u00e9 en rastreo del deslizador", "Cannot subtract matrices with different dimensions.": "No se pueden restar matrices con diferentes dimensiones.", "Only graphs without folders can be inserted into a folder.": "S\u00f3lo los gr\u00e1ficos sin carpetas pueden ser insertados en una carpeta.", "Email": "Email", "Toggle Numbers": "Alternar n\u00fameros", "Now graph: __sample_expression__": "Ahora grafique: __sample_expression__", "Speak Right-Adjacent Block": "Habla de Bloque Adjacent-Derecho", "Forgot your password?": "\u00bfOlvid\u00f3 su contrase\u00f1a?", "Use parentheses around the argument of '__symbol__'.": "Usa par\u00e9ntesis alrededor del argumento de '__symbol__'.", "Operator names may only contain letters.": "Los nombres de operador s\u00f3lo pueden contener letras.", "backspace": "retroceder un espacio", "Decrease Value of Selected Slider When in Slider Trace": "Disminuye el valor del deslizador seleccionado cuando est\u00e9 en rastreo del deslizador", "Let's graph a few points.": "Vamos a graficar algunos puntos.", "Has graph.": "Tiene gr\u00e1fico.", "Sorry, I don't understand the way that '__symbol__' is used here.": "Lo siento, no entiendo el uso del s\u00edmbolo \"__symbol__\".", "equals __answer__": "igual a __answer__", "Invalid width. Try using any number.": "Anchura no v\u00e1lida. Intenta usar cualquier n\u00famero.", "You need a denominator for the bottom of your fraction.": "Necesitas un denominador para la parte inferior de tu fracci\u00f3n.", "Sign in with Google": "Iniciar sesi\u00f3n con Google", "Now, let's try a new model.": "Ahora, vamos a probar un nuevo modelo.", "Lowest Value": "Valor m\u00e1s bajo", "We only plot inequalities of x and y, or r and \u03b8.": "Solamente graficamos desigualdades en x & y, o en r & \u03b8.", "Unable to add folder": "No es posible a\u00f1adir la carpeta", "Share your thoughts!": "\u00a1Comparta sus pensamientos!", "Move to Previous Curve": "Mueva a la curva anterior", "Last slider.": "\u00daltima deslizador.", "Unexpected error.": "Error inesperado.", "Save Changes (cmd+s)": "Guardar los cambios (cmd+s)", "X Values": "Valores x", "Untitled": "Intitulado", "Nice work &ndash; Keep exploring!": "Buen trabajo &ndash; \u00a1Siga explorando!", "Both arguments of '__symbol__' must be lists. For example, try typing: __recommendation__.": "Ambos argumentos de '__symbol__' deben ser listas. Por ejemplo, prueba a escribir: __recommendation__.", "Move to Next Curve": "Mueva a la curva pr\u00f3xima", "Braille mode off": "Modo Braille apagado", "Cartesian Grid": "Cuadr\u00edcula cartesiana", "Thanks for the feedback\u2014you'll hear from us soon!": "Gracias por la retroalimentaci\u00f3n \u00a1pronto tendr\u00e1 noticias nuestras!", "Desmos | Geometry": "Desmos | Geometr\u00eda", "one hour ago": "hace una hora", "'__symbol__' requires a list. For example, try typing: __recommendation__.": "La funci\u00f3n '__symbol__' requiere una lista. Por ejemplo, intente escribir: __recommendation__.", "Animate __variable__ Faster": "Anima __variable__ m\u00e1s r\u00e1pido", "T Test": "Prueba T", "Add Folder": "A\u00f1adir carpeta", "Account Information": "Informaci\u00f3n de la cuenta", "We will send a Change Email link to __emailAddress__.": "Enviaremos un enlace de cambio de correo electr\u00f3nico a __emailAddress__.", "Speak Point of Interest Count": "Hable la cuenta de punto de inter\u00e9s", "This feature is not available in the current calculator.": "Esta caracter\u00edstica no esta disponible en la calculadora com\u00fan.", "Zero": "Cero", "Learn More": "Aprenda m\u00e1s", "You can't use '__symbol__' as an index because it's already defined.": "No puede utilizar '__symbol__' como un \u00edndice porque ya est\u00e1 definido.", "__count__ more...": "__count__ m\u00e1s...", "Slider trace off.": "Deslizador de rastreo desactivado.", "add slider:": "Agregar control deslizante:", "A matrix can only be raised to integer powers.": "Una matriz s\u00f3lo se puede elevar a poderes enteros.", "or": "o", "Residuals": "Residuos", "Audio trace off.": "Rastro de audio apagado.", "UEB": "UEB", "New Blank Graph": "Nueva gr\u00e1fica en blanco", "Feb": "febrero", "Restrict the domain of this line by adding __sample_expression__ to the end.": "Restrinja el dominio de esta recta a\u00f1adiendo __sample_expression__ al final.", "image": "imagen", "Are you sure you want to leave this construction? Your unsaved work will be lost.": "Est\u00e1 seguro de querer abandonar este trabajo? Las modificaciones no guardadas se perder\u00e1n.", "Move to Highest Value of Selected Slider When in Slider Trace": "Mueva al valor mayor del deslizador seleccionado cuando est\u00e9 en rastreo del deslizador", "Did You Know...": "\u00bfSab\u00eda que...?", "New Email Address": "Nueva direcci\u00f3n de correo", "Duplicate": "Duplicar", "Success Probability": "Probabilidad de \u00e9xito", "Degrees": "grados", "Google Login Failed.": "Google Login fall\u00f3.", "Hear Graph": "Escuche el Gr\u00e1fico", "The second argument to '__symbol__' must be a positive number.": "El segundo argumento de '__symbol__' debe ser un n\u00famero positivo.", "Graph: __equation__": "Gr\u00e1fico: __equation__", "<b>Lists are powerful. Let's see.</b><br>Begin by typing __equation__": "<b>Las listas son poderosas. Vamos a ver.</b><br>Comienza escribiendo __equation__", "What do you want '__symbol__' to equal?": "\u00bfA qu\u00e9 quiere igualar '__symbol__'?", "Color Menu": "Men\u00fa de color", "Parameters": "Par\u00e1metros", "Start by graphing a function.": "Comience graficando una funci\u00f3n.", "Lists": "Listas", "First Point": "Primer punto", "Points of interest: __poiCount__.": "Puntos de inter\u00e9s: __poiCount__.", "Invalid angle. Try using any number.": "\u00c1ngulo inv\u00e1lido. Intenta usar cualquier n\u00famero.", "Cannot use __arg__ as an element of a matrix.": "No se puede usar __arg__ como elemento de una matriz.", "Exact": "Exacto", "Note: you can add your own data instead by clicking the __plus_icon__ button.": "Nota: en su lugar usted puede agregar sus propios datos haciendo clic en el bot\u00f3n __plus_icon__.", "Invalid cdf max. Try using any number.": "Valor m\u00e1ximo de cdf invalido. Intenta usar cualquier n\u00famero.", "Inequalities are not allowed.": "No se permiten las desigualdades.", "To audio trace, press OPTION+T.": "Para rastrear audio, pulse OPTION+T.", "Click here to continue editing this table.": "Haga clic aqu\u00ed para continuar editando esta tabla.", "Lists for '__symbol__' must have at least 2 elements.": "Las listas para '__symbol__' deben tener al menos 2 elementos.", "Function '__symbol__' cannot be called with dot notation.": "La funci\u00f3n '__symbol__' no puede ser llamada con notaci\u00f3n punto.", "Function '__fn__' cannot be applied to __arg1__ and __arg2__.": "La funci\u00f3n __fn__ no se puede aplicar a __arg1__ y __arg2__.", "Minor Gridlines": "L\u00edneas de cuadr\u00edcula menor", "Click the \"Edit List\" button.": "Haga clic en el bot\u00f3n \"Editar lista\".", "Open or Close the Graph Settings Menu": "Abrir o cerrar el men\u00fa de configuraci\u00f3n de gr\u00e1ficos", "Column header __column__": "Encabezado de columna __column__", "Collapse / Expand Selected Folder": "Colapsar / Expandir carpeta seleccionada", "Google": "Google", "add x-axis label": "a\u00f1adir etiqueta de eje x", "Small": "Peque\u00f1o", "Hidden Collapsed Folder": "Carpeta oculta colapsada", "Binomial Distribution": "Distribuci\u00f3n binomial", "Dec": "diciembre", "Sorry, there was an error generating a link to your graph. Check your internet connection.": "Lo sentimos, hubo un error generando un enlace a tu gr\u00e1fico. Comprueba tu conexi\u00f3n a internet.", "First slider.": "Primer deslizador.", "Cannot take the integral of __symbol__.": "No se puede tomar la integral de __symbol__.", "Enable or Disable Audio Trace Mode": "Active o desactive el modo de rastreo de audio", "X: __x__.": "X: __x__.", "Speak Label": "Hablar etiqueta", "Radical cannot be empty.": "El signo radical no puede estar vac\u00edo.", "Convert to Table": "Convertir a tabla", "Variable '__dependency__' can't be used as a function.": "La variable '__dependency__' no puede utilizarse como una funci\u00f3n.", "'tdist' requires 1 argument. For example, try typing: tdist(1).": "'tdist' requiere 1 argumento. Por ejemplo, intenta escribir: tdist(1).", "This equation contains fine detail that has not been fully resolved.": "Esta ecuaci\u00f3n contiene detalles finos que no han sido completamente resueltos.", "Export Image": "Exportar imagen", "note": "nota", "Desmos Matrix Calculator": "Calculadora de Matriz Desmos", "add a label": "a\u00f1adir una etiqueta", "Next Character": "Car\u00e1cter siguiente", "Polar equations must be linear in r.": "Las ecuaciones polares deben ser lineales en r.", "You can do a computation on a list. For example: __equation__": "Usted puede hacer un c\u00e1lculo en una lista. Por ejemplo: __equation__", "Share your graph": "Compartir tu gr\u00e1fica", "Duplicate or Rename (ctrl+shift+s)": "Duplicar o renombrar (ctrl+shift+s)", "Move the parabola.": "Mueva la par\u00e1bola.", "Count": "Cuenta", "Left Arrow": "Flecha Izquierda", "Saving...": "Guardando...", "You're a table wizard!": "\u00a1Es usted un mago de las tablas!", "Announce Active Slider Animations": "Anuncie animaciones de control de deslizador activo", "Extremum": "Extremo", "Not a P O I": "No en P O I", "Squared": "Cuadrado", "Primed function calls must use parentheses.": "Las llamadas de funci\u00f3n principal deben usar par\u00e9ntesis.", "Invalid domain min. Try using any number.": "Valor m\u00ednimo de dominio no v\u00e1lido. Intenta usar cualquier n\u00famero.", "Y Axis Maximum: ": "Eje Y m\u00e1ximo: ", "Above": "Arriba", "That\u2019s a great start!": "\u00a1Es un gran empiezo!", "Inverse Cosecant": "Cosecante inverso", "Row __row__ Col __column__": "Fila __row__ Col __column__", "Hint: To get the derivative operator, just type d/dx.": "Sugerencia: Para obtener el operador derivado, simplemente escriba d/dx.", "Center": "Centro", "Reverse Contrast": "Invertir Contraste", "functions": "funciones", "Mar": "marzo", "No Unsaved Changes": "No hay cambios no guardados", "Close a Dialog (like this one!)": "Cerrar un di\u00e1logo (\u00a1como este!)", "May": "mayo", "Max": "Max", "Transpose": "Transponer", "We can't plot \u03b8 as a function of r. Try plotting r(\u03b8) instead.": "No podemos graficar \u03b8 como como funci\u00f3n de r. A cambio, pruebe a graficar r(\u03b8).", "Please enter your email address. We will send a password recovery link to you.": "Por favor, proporcione su direcci\u00f3n de correo electr\u00f3nico. Le enviaremos un enlace de recuperaci\u00f3n de contrase\u00f1a.", "Secret expression __index__": "Expresi\u00f3n secreta __index__", "Decrease Value of Selected Slider by Larger Increment When in Slider Trace": "Disminuye el valor del deslizador seleccionado por valor mayor cuando est\u00e9 en rastreo del deslizador", "Let's make some sliders!": "\u00a1Hagamos algunos deslizadores!", "Message sent. Please check your email for a password recovery link.": "Mensaje enviado. Por favor revise su cuenta de correo electr\u00f3nico para un enlace de recuperaci\u00f3n de contrase\u00f1a.", "Common Actions": "Acciones comunes", "Open graph": "Abrir gr\u00e1fica", "Google Login is not available on this device.": "Google Login no est\u00e1 disponible en este aparato.", "Password": "Contrase\u00f1a", "Graph playback slow": "Reproducci\u00f3n gr\u00e1fica lenta", "__open_graph__ (ctrl+o)": "__open_graph__ (ctrl+o)", "Unable to activate share menu": "No se puede activar el men\u00fa Compartir", "Shift": "Shift", "Median": "Mediana", "Zoom Square": "Zoom Cuadrado", "One animating slider was paused.": "Un deslizador animado fue pausado.", "Beginning of Current Block": "Comienzo de bloque actual", "Empty lists are not allowed.": "No se admiten listas vacias.", "First point": "Primer punto", "Cannot compare __symbol1__ to __symbol2__.": "No se puede comparar __symbol1__ con __symbol2__.", "Desmos | Graphing Calculator": "Desmos | Calculadora Gr\u00e1fica", "Saved Constructions": "Construcciones Guardadas", "Create an Account": "Crear una cuenta", "a number": "un numero", "<b>Let's graph a derivative!</b><br>Start with a function: __equation__": "\u00a1<b>vamos a gr\u00e1ficar un derivativo!</b><br>Empieza con una funci\u00f3n: __equation__", "Color": "Color", "Don't see your language?": "\u00bfNo ves tu idioma?", "Next Cell": "Siguiente celda", "Secret Folder": "Carpeta Secreta", "Inverse Tangent": "Tangente inverso", "Angle Settings": "Configuraci\u00f3n de \u00e1ngulo", "Parentheses cannot be empty.": "Los par\u00e9ntesis no pueden estar vac\u00edos.", "Beginning of Current Expression": "Comenzar la expresi\u00f3n actual", "Desmos Four-Function Calculator": "Calculadora de Cuatro Funciones Desmos", "Standard Deviation": "Derivaci\u00f3n estandar", "For example, try typing: cdf(normaldist(),-1,1)": "Por ejemplo, intenta escribir: cdf(normaldist(),-1,1)"}};
var desmosCommit = '418140bae12d4067a66a761d45210fe1f50ba9d1';
;(function (global) {
  var elt = document.createElement('style');
  elt.innerHTML = "@font-face{font-family:Abraham;src:url(data:application/font-woff;base64,d09GRk9UVE8AABesAAoAAAABsHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAGCAAAESoAAZxTwK+1TU9TLzIAAAFMAAAASAAAAGBqcY7HY21hcAAAArwAAAM/AAAM5C7FvppoZWFkAAAA9AAAAC8AAAA2C10Dp2hoZWEAAAEkAAAAHwAAACQGhwJ4aG10eAAAFzQAAAAkAAACiN3nXcBtYXhwAAABRAAAAAYAAAAGAKJQAG1ldGEAABdYAAAAUQAAAFXVMTtBbmFtZQAAAZQAAAEmAAACx11IF6xwb3N0AAAF/AAAAAwAAAAgAAMAAHgBY2BkYADh+nP6yvH8Nl8ZmJlfMADBlQ8P9BH0f3OmFGYjIJeZgQkkCgBSDwurAHgBY2BkYGBW+2/HwMD0myHl/xymX0ARVLAIAIH7BgMAAABQAACiAAB4AWNgZvrC+IWBlYGBqYtpNwMDQw+EZrzPYMjIxIAKmMEkC4QTAQQMDgy8GvbMav/tgJJGDCeBwoxghXLMcgwKQMgAAHxDCyh4AUzOuwkCYRBF4TP7frO7ghgZiBhbwGbagJFlWIAlmduFPckPN7jZx8wwHOAcXwIACJCDHbmcUbPJOUcecmE3JSc+csWBp1zbz8bcmjtzbx7Mo3kyz9awWOea5mlTtEBGyMGFvZwxcZNzNl5yYTcld35yxZW3XNvPxtyaO3NvHsyjeTLP1rBY55rm/6rGGFVDGAjCc5RcQFGws7Kxs7Gwj7pqMCaw6v3/wTwehJCE3Rm+z8B0s9rDXkWIoXiDW+Iq6DBDYXHwXigQEBH4v3wdFk4rZJT99VYxQrAz8ixrXVZV0/4xiUzE/26NEhVPgzaXJEUuyMmT6O1iMMnQx/Dc4jcz2FOUS64xsa+44T6WyWz9t3uYCjw2pgMsTk6amqn9A7mESTQAAHgBDMVlMwQBAADQt9gxY8Y3P0Bb3b2a1d3d3Vzccfx23peHIsUCVPxfRhgrCSOCJKBUgnKVqlSrUatOvQaRRk2atWjVpl2HTl269ejVp9+AQUOGxUaMGjNuwqQp02YkZs2Zt2DRkmUrVq1Zt2HTlm07du3Zd+DQkWMnTp05d+HSlWs3bt259+DRk2cvXr159+FTSlpGVk7el28FP379sU/fOE4GUBDHne1dh83BOdt/55yD78LJEBXX4BbUnIH+Y4opOIAlhOQZ/YrXjvS+EiJMhCgx4iRIkuKOe9JkyJLjgUeeeOaFV95454NP8hQoUqJMhSo16jRo0qJNhy7Qo8+AISPGTJgyY86CJSvWbNiyY8+BIyfOXIJAK15lx9uOwe/g13/dHz+//Nvq26+RWzISSn739U3+TtbCUrOI1C0qDYtJ0+LSsoS0LSkdS0nX7gS7l56lpW8ZGVhWhpaTkT3I2B5lYk8ytWeZ2YvM7VUW9iZLe5eVfcjaPmVjedlaQXZWlL2V5GBlOVpFTlaVs9XkYnX5wwI93TAAAAAQXa22bdt2O3tzyX28BV5AXAfFdQheh8V1RFxHxXVMXMfFdUJcJ8V1SlynxXUGXmfFdU5c58V1QVwXxXVJXJfFdUVcV8V1TVzXxXVDXDfhdQtet+F1B1534XUPXvfh9QBeD+H1CF6P4fUEXk/h9Qxez+H1Al4v4fUKXq/h9QZeb+H1Dl7v4fUBXh/h9Qlen+H1BV5f4fUNXt/h9QNeP+H1C16/4fUHXn/h9U9/EujaCAEAAGAg7u4CfcZmVC6X4hd4r3/qmoG6ZqiuGcVrxvGaSbxmGq+ZxWvm8ZpFvGYZr1mpa9bqmo26Zquu2alr9uqag7rmqK45qWvO6pqLuuaqrrmpa+7qmoe65qmuealr3uqaj7rm+y8pro4aAAAoCF4luLu7lIZD3F1I0mnezH3srHjLK+I9r4qPvCY+87r4yhviO2+Kn7wlfvO2+Ms7opB3RTHviVLeF+V8ICr5UFTzkajlY1HPJ6KRT0Uzn4lWPhftfCE6+VJ085Xo5WvRzzdikG/FMN+JUb4X4/wgJvlRTPOT+M/PYpZfxDy/isUS0BD9swB4AWNgZsALAAB9AAR4AVTRe3RU1RUG8O/bNzElREIAiSEPE9NoxIbm/aCyXAHkUUgoxKYBFpI7M2cyQ2bundyZSYAlVqstVowghVItlAq0gFiEghYFhTZVIxUVSSuIysMSpUBBYyFpinbIYa2u/nN/e+117t777EPEESTTql2O6TODlm1FLb/b9qhZqikaMB2QzO9NR2+G9GYYvZlxy/rn9b3ctzw+E4iX5Nj3hntSlmWCa+uGYZOAyEU5xmESpmEmZsMNP0JYhEfQjjVYj43Ygu3YjZfwCg6gA514C+/iCI7iI5xCNy6iB734mgkcxEQOZhJv5BAmcyhTOIzDOYI3cSRTeTPTOIrpzGAms3gLs5nDW5nLMazgBNaygfN4H+ezkSZddNNDRS+b6KOfC9jMAIO0aDPEFjoMM8IoW9nGB/kw27mGm7mdL3AfO3iQh3mUJ9jNC/yS/SIySIZKqmRJnnxLSmSsVMsUmSH1Mk880iyOLJIHZak8IatlrWyUZ2Wn7JH98rocki45LqflrFySK/KVEW8kGcONUUaOkW982yg3xhkTjWnGLGO20Wg01Ssn7Let7KIxhYWl35lkW5GwCniza8xm5cSSsfT1JyuwbKvg/x/NHTvt2IEJs8Ih063UQnfADLZE7YjyuAJWNOi6VrrJ8tiB2NmQctzKipjBWBA2Lc/AubDfagqokOkoK6C8kYHA8Tf5ImY4ohx/uDkUiIbddjBo+haFfMoKxZK2Jxwww77FyrFtS0Xa7IjPUcprRx2vvzVWcWFYtSpLXati+S3ltgO2FVZB/0AQUOGwaomagSZHmbEWLVEVjsSub0aqx0+YeM+kyVOmfnfa9JraGd+bOavu3u/X/6Bh9pzY9d3NKnJtQFcsGuh+PXd9Vrff7/Y77mgwanmUExvYUU2O2apMl9ujvE0+/4LmQNCyQy1OOBJtbVu4aPG1/5Wu6AzE/6sU8Qc8KrZrl6PM5th+BnYb23txZWGhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURrvAEWFmiJNsaZEU6op05RrKjSVmiqNqXFp3BqPRml0v+JCTZGmWFOiKdWUaco1FZpKTZXG1Lg0bo1HozS6X0mhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURovAD7GZXyc7XyCy7mCT3Ilf8ZVXM2fcw1/waf4NH/JtVzHX3E9f81nuIEbuYm/4W+5mVu4lc9yG5/j77idz3MHd/L33MXdfIEv8g/cw5f4MvdyH1/hq9zPA/wj/8QO/pmv8XW+wU6+yYP8C9/iIb7Nd/guD/M9HmEX/8q/8X0e5TF+wOP8kB/xY57gSZ7iaX7Cv/MMu/kpP+NZ/oPneJ4X+E9e5CV+zi/Ywy/5L17mFfayj/9mP//Dq/yKXwuEImJInMTLDZIg35BBkiiDJUlulCGSLEMlRYbJcBkhN8lISZWbJU1GSbpkSKZkyS2SLTlyq+TKNyVPbpPbJV/ukNHYYAAE4oAEIBGyAvEjkbAWiaORtAPJ5UjZhxHjMbITabVI70LWHGSfRK4XeeeR34o741CwEoXZKN6OsrtQcRBjG3DXadwdQvVlTLwfkwVTH8X0IahdhZmjUHcI9XVoOIa58zHvDBqb4focqg2+AizYhWAV7P2IbETbHVj0PO4vwwN78VA1Hn4DP6nBo0ewbDbaT2CFwspzWN2CNVfw9BKsM7D+p9iQjE2rsXkKtr6N5+7F9g+wsxG7uvFiAHu+wN4teHUMDuxGx1h0ZuHgJhwajXd24L1ydO3D++NxrBMf1uLjLpyag09OotuLz87jnIMLvbj0AHri0JOAngZcHozep9Cfi6tbiRLKm4yfwYRjTJzPpLNMDjPlKkcsY2oa09YzI49Z25hTxdz9vK2G+Ud4p8mCT1kYZHEPy5aw0uDYdo5L593PcPztnLiTkys49TVOn8baw5w5l3VnWG+zoY9zl/K+FDaupzuPahd9P2bzYFo5DG1juIrRDi6s4eLjXOLnDy/yR1E+0s+lD/GxBD7ezuWpfHIdV+X2ZQ35b3vXH1tXXcXvq5TcdRtFs8rohkPHCjRzndK0lrAR1iZbg6nGpzJmSUqmf1DTwQDdEn4IMoP6VWZeTP8QdGo3S5bGOKKsiUVTQjqXVTeYzKX9Z2Rdt1nMuh9dJm3f8d7PTb/t3mt4vcJp77t8EnLv+L737rnnns/9nPM95/s9vVLr//ffF4xI1fbyEmMKpeCba18x/r/Me09iYPzF7gYTfLTy9Zdk7J2uz5QYcb5Q8z2RtyoWiPPZI5dEDvQ8a9zghGEcDAZc/9TxDXzRG67/HH5s3OCEYe/w6mH/osk9rqSPLxo0uiKcE09tlsStQ6W+mOuP1YlcqPmROAt7tomcu73LuMEJwzgYDLj+qbgVX/SGk7/Hj40bnDDsHTq+4l90uNkVWfb9X+pqAiVwULbJz9pXG9WHNWMUJk59dRAo1LUdUKgrIvHwxiOxsN0kCvPdJlHkQjJItN+n+KNQOlP1ma939YTW5ddB6/KFBsPTa31wQuu3L0Drty8aDGe93jjoinHWt+yHNvF4r9QZImpoxPunCxFrO33A62oCTiQKYzBLUYCI3iyFXGhnKfluO6AwQlxIVucsJQKakNWJQmoSgVidsxN6ZHJhFPwY58jkQnIhNSEXEoVEIblQ6JGZLyQKo4FCD2AbVkjBpqLHJiUlGyckFZ8JKtfNkNSXKen2Af+LZf5wk//jVkgavtH4Qtr8z36Niy71lCnd3y9jZysK8875cwGFUV/CAyQ6rz3UCySGlWSRuM0iMUvSJBJlXWslkBj/BWX6y7Ai4ERU0dh46LCmpAk0DrbsDY9G2jBfNCE3crEtNIkLGruW1wVoDPBlL9mULWkqvoL7srDbli1p6n1J4uUlWywaLfgsGi08JX3fQGoCjdAFYTF0yY6WJ3WZcj8HIT07Wr7qfpy22iFTEs4q4SwOmMCGqmIgQVkTZ0d7BeSo2gQzmIElN2eisc+isRmSik8bX/YD06KxY/eEpOHFARpbIansaus/szw1QzSeT2aisQ+aT3c/VvPQ99NWXR4TNHbsmm90H5bVRFMM40YusmDcyOxOCDGMG6uBr+liAouvEDFBuLhx/OiazUCjfrQVF0+dqjeqAZ1RjxkjwIv00ty8GvV6NOtnXKdIFBKFXJtDBuH+FU5mqQl3lHLvEdcpfhTjQmpCLuR6e3LhzlAofP6YbnIRttMVETIFRk1k6chPRUYT48pgT298U8auPLhhAor7MqH4JQzEv3ki17pGXxOiMB81YRBJ28W5hSdRSBRGP7YgCmk7prjJhSy0EIVEIefIJv3kHOKUPpurIn/3z0Fx/tGyNzL5RXIn/0QQAKZaQvg/aQInfBHD2c8KB4MB685Yb4mQTdKjtz0lY4O/uZyD49S4kBUKaqIwmzlxZ4+Hws4q/3au++TrIpd+vkKc+d/uEzl/9m7j+qe1xh8uw2cG467BuP/Ffnzm/7jbuLiGwe/xmcG4K3LLS13iOB97V9l+/ZvrPPudXqWrDYhTV0Ti8UeHPU3OXZv/c7PuE+0y/sYL3ynxFLznQW943q03iVw+ftJ/SH/Z5QYnjOCA/zVucMIIfmLwczc4YSQ44KL+RXrf6/FEXP/OFv+N+3MDDgYDbnASuVD3CoZFzn0qZdzghGEcDAbc4IQvYhg/9kUkNg0n9bU4oKoFTC7OHYU1+a6J5TjuqmMlj3lDopCVPM46+D6RC2k7opAoZCWPHpkemTWRGKCQHpl/sJ5+jKsv2NCBlTmikLnemHhkemR6ZNZO2GKJrE4UEoWcnbDpIVuWsdEX22Ox9SZRyNiC7ebYpI2akAupCf9QPVtvEoVsvUlN2HqTCwZYdNadyhCFLPcRhWx6SBQShSz3EYW0HVPc5EIWWohCopBzZLbepM9m601yJzHJ1pust7D1JisU1IStN9l6k6032XqTrTfZVoSVPDb6IgpZyeOsg+8TuZC2IwqJQlby6JFpO7ZYIhfSI7PRFxt9cY5MFDK2IAqZ66VHJhdy7RmbHpJBiEKikBU8xoVsvcnWm3OIQjY9ZOtNopCxBVtvskkb281dqZ1xxznHaauTsVu6G3L0A2MLu/zThC3sxHntoV4p2FT0mLLm61orZexsRSF3WLNO9H7p89qa7Tkh8vKSLZKe135XSTgB4W5enDU124GTvEeis75l/4z9NsuJIZB4av3RqWSF28cdQ6WwGkNBA2UzNN75B/VX/JEvw3a6mgDsqiKgRBw0sVvvxVnQ3aDmnbn9ntvvR3LwnI0T/a/MRpw4uLV1hnFiZ5W+Fewea3XXeXrVjLWhNtZLczH4XGrCWFGcrp4felKAXnvHTdmKTEVvoLYF9bZsRaaqjUelKwKuE3JmJoaaOHuOjAbZnHCQCQdHSSTaK2w2x9Ka5TlLfJHgQ7aC58IfYA9IzIFYSd93fs8EEvG48BTxuIKHi1GDkexMDkbwKDGag3J0RaSTTbshR5kLOnY1KmtiyVNXjNNWddxoPix1JBKJsdAEEpSRaDM5RZV3q8YkZjbCnqfP9kr646XLcr1T40fXbMY7pWs/Z8cfa/UJy8SGE5HJSXx+2f36mRzAhNNzlXJODGLF6NSfiUbuPmc+kRDR58Too5B/xIr5KKKQKNRndcaH0Qc8d6GTEwkRciL7nDEIiDYnEiKMExsPHdZUxq5PbNlLwDMIICcSIhG1SQRQyAwONVHYSRX5/UcPf+vkrNjuFzfFQBOuSeT6qdwipPHgbXFZf0OvzCY8+cGH+qv4uLKZfCiJgSVbc62MtcpM5qdDK/PM8ntEagrvjNay1RigEe9VDOIMZm7onfNpzmxRyFavjBHnes6czJwz91lf1hz4stPwZQ9M78t2W1+2OHgxWoHEsgxfVl2uHln97Rjsp6sJfJmqCEAkFppYPmQT77lqfsp25BMzlZux7mbKTKXPzlSy8G5nKqHwjplKCutuIka7MZhCdOyaHxXaJSfGgEnYUl4BhfxzACE8M2MM/Wy2bq6KM5Vk00gsnH/QC2x5XWaMCHA3ZWN++iYMByEpG/NTJaEHMmLEuAE+AjFiqn4qTKoBk2mNZ2ESzngGWqiKiBEnxmAaQU5cXYguxsrzZsxTw/XA/UBOV00TvCq6Iuyrkvc2SVzzr+fQxTgHz9kMDnrf6Gdw0PuGifMPVxN54ovFcak1x7++wkRf9G1id09hDU7YmTpY1IafTdlRafaOUqzBiUbCSDpT9XOdiWPdmTnFR36bgcJko13Of8a4AaGAYKZHYZldVtIKFA7fiOX8bdmZOE0R2DGQmp29D1tUNcnqk6jNiYgVPzjgmUSPbZ/ExMmnT0hiZWlVich4+10il4p3ilxu8ERerrxf5OLIYu+D7hpX5N/bfyAy+uZCkf+0/FicT3Q8Ls41i3aLU/L83z0RBRvfEGf+8AZx5u171jscOiLOgqIz3gdrf+X6X3rC+3rFUu+Hqe96l0j+RGR0qNG/bKU/s/nrW5K+Ydk6JpU+9PXAN+yTxKdPHZ40cKc18GoYGB9YAw/dYQ18rzVw76SBt1oDt1sDH7AGXnXRGvhP1sBFfrx5tFmcawvv1dSWlUPGmlHi1YKv9zw3t68deHXs3UdHcqcCvrZIxvpfPRZ/mkBWaWXr7JIitbVVTMS+6lXMGeZJB1JwA5pVM9/OtUO60YTJEUmwUBrxenrEkMhtWwid2yvUa+rM2HMiF6GaeuLUhhXgxbB5MLCovWRTdh7s6r+nW7q/H7z4kZmoASGxSGIaaME8KZEY/ypYdm9cfTSSF99HDFNx8c9xEiLcoxPFnWK24xQ1iYYmRCE1iQCrE4WMLebeJkQhUUguJIMwtuDe7QhVh9j7kXxITRgbEoWMDf8HznRiLwAAeAFj6mJgYFzPkALCTL8Ypg0o/j0y7QeH/W+Y/SMTAwDIkfvpeAFjYGBgZIAAGRA7rTgnDcq2rFZKrSgJSy0qzszPU7JSMtQz1DNQ0lEqTk7MycxLd0tMLskvUrIyNNAzMjAxsDA0MzYyMzU2MDOsBQCPLBJ2AAAA) format('woff')}@font-face{font-family:Symbola;src:url(data:application/font-woff;base64,d09GRgABAAAAACh0ABEAAAAAQygAAoUeAAAAAAAAAAAAAAAAAAAAAAAAAABHREVGAAABgAAAACcAAAAoAOQA5kdQT1MAAAGoAAAADAAAAAwAFQAKR1NVQgAAAbQAAADFAAABKKK+thVPUy8yAAACfAAAAFYAAABWStGgGmNtYXAAAALUAAABFwAAAdz2W763Y3Z0IAAAA+wAAABaAAAAWhEGDTtmcGdtAAAESAAAAbEAAAJl2bQvp2dhc3AAAAX8AAAADAAAAAwAAwAHZ2x5ZgAABggAAB5ZAAA15ITPRN9oZWFkAAAkZAAAADYAAAA2+zj5+2hoZWEAACScAAAAIAAAACQPEwHJaG10eAAAJLwAAAC7AAABLm4VHxRsb2NhAAAleAAAAJoAAACaHqoSHm1heHAAACYUAAAAIAAAACACRAsCbmFtZQAAJjQAAADmAAABoCEMPvNwb3N0AAAnHAAAARYAAAGdYezlm3ByZXAAACg0AAAAQAAAAEBey7t5eJxjYGRgYOBhgAAmBhYgqc7AyKDJ4AwkXRncgaQngzcDIwAUUgHLAAABAAAACgAKAAoAAHicLY4xbsJAEEXfxlYUEDG2WRAVRUAUSBBIIAEipaSkpLcsoAAhZKXhAhyFA+QUOUDuA7PLFKs3+vP/7McAZXpMCfJTscdui/UOu89+DlhC2XK94lxmU2Q5T27yL/RbI4rhn0dSjpy58MsfJcm26DLgg28WLFnxKv4KEc+iBTLVePNMGXrGroOwLinHBn1PS9uzyotnwoP8FvGu6ZGmA2kS02SmV8a672jKNZ6odr8wV+en9nGOL9WMd1TlYiJ+ewNt1xYaAAAAAAEDhQGQAAQAAAV4BRQAAADIBXgFFAAAAooAUgH0DAMFAgECAQcHBwcHgAAi/xoD+/8CAAAnBACgCEZyZWUAQAAg//8GRv5GAAAGRgG6AAAADZIDAAAAAHicjdBPSsNAFAbwz6RuilD6Z1FKlfRhk2qwBxAtiijVK5RuJN0InqDQrQfxEi66iOklujCh6KY9QTct45d5wbWBX7438CbzMgBKAFw6hdZfXB3YtYuyXZfwwTyHx6qMDgYYYYwZts7Cnbux1xBHKlKTlvgSylAmQRJsjOGeDnq2d8rexPbWbW+VvV3bG7F3bYz5Man5NLF5N/19tHvdvaya2WXWzy4yP2tnzXSffi/fls92sv8+R/nrb0PDzqPy/+zRgA5pVGjTuHBMU5rRCW0LXcBJaMHa59XNFc6YseJdwatTfmYIiKNwxawoXDOrVNM5pKVww+QZwm/jlhkq3DGHCvfMiCasH4AgUXhkrmnD+ukXy1dLiAD+YgAAA5sFPAW/AFIASgBQAC0AMAA5ALwAqgCdAJEAKACjADwAMgA/AKUANAA3AIgAewCLAJQAdACOAE4AawBYAEwAsACgAIMARgB4AJYAtwDBAEQAcQAqAKwAAHicXVG7blNBEN0lDwNJiB9BcrQpZhlC471xC1KiXF2EI9uN5SjSLnLBjeMCf4ALpNRE+zVjp6GkoKVBkQskPoFPQGJmHRCi2dmZnXPOnFlSjlSjT7sDT71ZIIWnTdps+ZOQatcB7kg3jpoZaQffabuV0QPXH/o3GGxGa+59EygfeEt5yGjdCdSi/eB/mK/BcJ//ZX4Gg5Y2Wp46s5AeQmC+DbczepvRpps/0zesDjejkSHFNBU3f55K+d/SQ1evwat2Ro8cXIvIF6YBWjvsItD6ix6pgY+TWIJcXhprg4kpG64yEXy8mq5qqpYZtxx8S3a2HbSp0hp5gDPslFPwcHW5opC+HVFmaYhwFjslRoiY5FDIKedO9icFyieSMOZJUjpZNq01sIy8BgZ1eZqL+9lsatt1CMt7cQTfPzeWdPCRDXUxIsRuxFIAK4iEjKryDXWeuyYG5FL/z0CUgOX03b9OBNpwbCJ+lLX1rjBWCAb+2Hzmlz13q3KdF4Xuf6qqsUqnNF94OYceL3l6LAwHjQVvPh/6hQL1elwsNGgOBGPanxz80XrqiKu8Fz6y37gisOAAAAAAAAACAAQAAv//AAN4nK1bCXxU1bk/526zJDO5d7ZMZrLMkpnJZLvhTiaTgUACgQABAoRFIGBAEBXBKCiiIrIpVKEK4kK1FXmWuvfeYdAWW02te9tX17hUbLXan+Lz1ad1gWQu7zv3TkJAltD3Arn33GXmnu9//t//fN93bhCD2tVvmPXsXYhGBlSIyhDCfsFPC34BO7hgIOIMCglXTIrXhhL5rnyXdjIcr62LSS5mfe/rTHV732rqk/vWVkmXj59X/Yi60ZbYd/mt6r5YaWmM/KrfcHuPyKx6lKIPXXtz7gc4XOfZdWBUl8k7aWHfS/o9MYQo9Ck8+Vn2IDIhLxJRisGoIm1ikZ2pwHKhKBt6ZIuUpjhyQs7vbylFuALVDCt1ad2CXsUDEbo2XpuA/uW7nA4nzeGNTU1VVfBbwEwtDlRWBoqnMu82zW2C//tE+gGWLfMUFnrKWLZvXhV0AXWoe6lR7GHkRKUIyy7y5LSNQx6mImUzmCv2IxsyVchWScnXHo0dAFKYEngbeabTYUACj13UKHtO8KPu7o+COXa3+iaudKtpW9FB/ACOwr8HDhbZjG713cyBzAH1XTd56nJ46tTBT83pSSP9qTmIPDXHAE/NG3gqTxnAYjCUPA7Gg5hro6bqD8SV6pturQNUi/q2Ol97HI5Qk6hJOOI2QkfU+fDMldQhup3zogjqQCk3jSrkQCztYNFwQDgsyXmiTMfSNv0YSVguE2Vzj2L3SlLawKEQoF8ckSQliisUg1mw7edyPb7S/CRSHDbBloKDZDIJXYWxCURCdkdgJLazHIxSogrDUEn5LF0rFWE6VCe5HAaWrvf4w7mqWnxFkXrMEgp4cYn6oTcQsmBcdEUxpnLDfo/6If19biJiekL93bBhLB7+hCmSyN282VJXZnoSN8Ip9YUnTWV1ls1g3cPH3mS3M79C+WgySnHAJtksylRMsbKfyU4pZTUDqk1Wmwno5RZlYw8Bl+E+kx1SijGSawyMc8rIkKYx11ShFPSPt1+AMY8LfoA/5hcAeqfgl9jtocyhaDTzQSRCBaJRKhiiWo4flYZCmffJOG9Vr8Jr0LtAokaUogjHuSzH7aIs9KSNHCqHMRdID5BgMZEtAw93wMMVjgJckVHQcA0RKAE6p0MnQl28Frf4lySHX96yO+Cw7vL7R583+srFd3/jMub99PfFBBGqiN1OdYGH5SOZFhUD+xn5xQCMkjNgnGYVMaf3kkiEuYuYEY3Cp2+H7q+AnptQ/ATvPNFTzZq/6M7Z76M5J/korsp6ZNYNCS5I3UMl2f9CFjQV+G/VmIa4z1JmjfxmIL+ShyvkOs/BkU//M4ycFWZGNldbZVO3QrFHZLob7adok7kafnAKWrCXmzxYs8mAdYQwOCiVpFS3wR+h8KewZX/PGY4wnihn4Po8oEEzjr1Bd7PLUS4qRrNQqpBYxrIoDFbmgn8QZwgTK0tE2dSTdnLIDa7h5BUL1oyFI8UH3mBxEv7nsDBOSLEVgmtgI2UC1yDewBPHjYT5RJ3PLtRGwj4D53TAKOa7fIk6esWMttX/+mj1gslX4Y+9oZHqL0eGsH8EnjsywGz+eeamPV+99gC1fc93fS9h5p0rnn5m5dvRvWX/vOb9N9cAhimE6EXQ+2J0AUoVk74jFjWSHkqpHOi+Ysrhfd1i2qid1axge9ICh7xgHysQorMmE/F1zQqBFWxyDlhgRNAQkrJJkLmknGOTeTAkkS8B5QQuGJcSmtYKYEH+cBxzhoFDhqcn73aZVvzH0Q3mIo425i01NI8cP1pd3jS+iaqwBZnGuqYbrZy/dzHMNYYmjoPeL4PePwS9D6E7wRLS+xJW0z+iTIRf0Oe01Y7cFthl2RYWZWcP9DfN6/MCzyscDIWHQy44KpVkD58OcmgcHARFJQJG8WRo6NwSGBqZE/Yzpnw3jIsctMkhsLSEWEonZbuQYoKl5B6rLcU5PZrDxTQKxWvDwQBn0LReo1WdjwHV5wzYL9UlYvQyN77tvR03LbrbbzBfM6q661N8HkZTKq9RZ+I9W8s8tUmb34t/+/V7t7y8+nxqRXXTlT99/4MnVl/WuFpd5H9IvZP4wlxg4UFAYgT6C0rVEutDGu/AZwkDyYhaRIKIDVoeMV2kX60W0xEWOQguDaLM9aRzOO2OHF6u8PUI6RqOXJRrxHSF3srhFReghXTsAuSehIZcKpAgZAgUgteNBNByaoDCxrxIFYGqQiAIBWxNJqrAU2QLxWqTmuibLHAT4vKc5CaPILuScpFNBgirBcWXgH3EpgRqYB8S5DriCQ7GFyGRhKQJQ6QYx4BRfCRcgQOgZolRWIPaIGlIk5gDPCbfxXOGYkwfVP+l7l+7remi5nGS2VydWnj9qJpY403L/TV+39qrL1z87EyKXjvi/BHXLccFl2988Podf8BLHv2kfcFd8bHNFzbhKe1XdmDP3CuqOEwZn71t6Y0bL6luGFGzefr48e1q30vRoj+TiKQBGPk2uxn5UBD9CKW8ZIbMFdOCPgScJOeLMoqlg/pxCcyQpaIc6AF3SxdzqBDOYSlVHCBQFpOYwSilAsUasPlw5JaUkK5o8e3vf6MrmhsUraCbVYKmI4wc6KZS7oIAUTSlIHhcz4JEK2JS1tHiLgLbSOyP4zrNDWFKwvTbr5rs+1hmxgj17/UzROEyhynzFrWej3HUq+q9Ko3nPldsC4HfNeGwUPJcE/16gcD5+ibTpr7vCAOXAQOJL8bRCygVJnZXxGROTLt0UwUxnaMxTS4S05Suj0UUsazID5bFxHQ5S8QQy3WiHNQCmbvhFhQkWo5EIjH8fgeyWsGvdSqaxLRVbyFe8QApGQ7lg5omgH1BE7hsjmAn7ogE2Z9UPFbBlqYw5yrSmCe4BJvCFMDlHEE2EdqlaER8VimPgT/HCdnqfDYeaZFrLDtlHidcMGDFZELXgigpG8aRO7BrBZ54SP3ut/d8cGHlyJGVNr7osYt3TB0WGnH13CtnGIscJmHfd7fnco7S2z6YPY+mlqmfq7eqX3x0T9fwysoR7IU3bZ2Fr5t5U8vCKLU1wDWMYvP5svu9wKx+Dy9Bw9BelMojPl6oezGgXK2jHOrHVnaIaTdLHBPLEpkZ01Fd4JAkR3mi1QQucoLhZYG4sUs/dIlE3aGlxABHV1SwHcBWrjBUTVzUJ6QoRx4BFeC1uz3aZBWqBiemGTOCOxS3Q9P9LHoUmbWEWghzNQB1KGPEQznw1IjWAGbqqGLnTHzR4a+e+qprxp49Xf/YHZ+ZuIjlkuumt76OD4cbN24clwx7rhi7bUwp9eh/qofVLeqn3z2J7X/Clywcs2p55fD66IJZ4o19X1y8p23DDRdt/8+FzfO2thJmtgJyL7MbUQFah1IFBDeLPktYCgi5LDB/pexwGoMwyjZtdiPqL/CKHWBy6EcOXjHDkUHHxqt7Ya3hvYPEC2ULOGEuhBVmLayAYCKXuCCEF7mW6pPCCgMnOAJxHtv9MCUE7TFIkGJ++mW7+sn5gfxnMPpUtVxVXlQ7rpbKLfkA97I1Pq961aYP71J7Vq7E6/FteKL3l/hxhyUA2Vc/J5zAinJMoZSFWFcwoPzR7Kxdoc3aYQ6VkTCdl71kwEHqxxJFF9NevRXWtT2PQ81w5CP3IO0jSqVu7qGNr+QTc62ygQepUQpzjsj27v1Cod1esd+mbYvJFi7vDxoCcFhKtik46bvZd3OQAx9MkqjAlkzBFXIQTKImk0EoLC612QPB6v4ffKqTBEXF5QVGElzLopojFwBD97MoJ08PlWCCKIW8MwzBUp0POAfCn++ia8MBjoQadfbaahwhsZOvDuaDXvUR9QiuSizu+DuO/iOzYHJo6e2P/WX/suK/v1o57Sfpf72Ajv0JL3j4by/s/fwO37TF2P3Cw9ue3VAfi15BTbh815XPTHHtXJO5efKSS1bc9O7Gx3aiQV4aRDH0Y5TykfEo08eDEUmiRLyUF9NmzTchSU0Py8aHtaJc3JOu0r3QSMC36O0qXikF/D0SGQ1Cvjg4ZpUR9MtsA70qhTk0zTh8ZTUaHmYeXNNosREpKxtGpteiYo+OTTaK1ORMFyttHoCQjPNRPCJKRmedsghnY8uD7295cE3b/M5ovd9byhmatk8Zv6bC267eeRjTB5bO+u9nAqNuvnl8RagJs+MS1C/VtW9tio1YuSQxq9CNJ4tTf7/m9ddwPt6Mc+K71D+80vGLzdN+Mfv+KZs3XHTsGHoInPNaeiofIRWETBDisTJQNgo9DPnOj+hVkDV40MUolUviOl6L3ginjdk4zivK1h6ZlUiibdeErb9l49NmLSWCzCJltpE5xgyzp1IIuJmtRKyMvFMDi8/NokiYo2cakovWkqSBWA2EaVMjST3mNkU8ncnhsZW3lDism2iuqpGkIn0f50PO9Mbu7105/F1IyyG/hRzyTmRHXXq2JjMxDHIMOY7i1P3IO/MFv+5HJl42dyuC4YjMdx/8+FH9NCszICdst2IzHFEE3igL3egAayIjm/WOJ5jBh/3yEiJlBZLYa1kLcN+EXez2qJHr7fJ6mR2cMerufZoZ4y6J0lSZxe22UGV01JOTUTNqDoLxeBjPYLfTSRgPM0LH6ngD2aNXTraJJTbRuk3oBzbJNPSd6lZMYJP5uE1WEjmazEY4Z4Us4YhsA5sokznnuE0kF8s52abjmZgpW7IgNnl7u4g1zJjep91gH7PDS7W4LZl3iDkU/OR4onTmHQv0/HJ1LzWCPQzZmajlr2bI5E2iwpAU1iLKdI9iJhkjrWWMJODiJMV6PGn3S/qWGjFWvQZvGTtW/QOOwyZqmDD9SAd8fxd8/3Dt+/1IxqLCwvcbITXOfj+nZaT935jN/v0B2FLD1WvGjsVx9Q+w3aLujUa5n08n/Fmi7qVJj2NoDZIpMS3p6gFBZJ7eAs0oOK4Z1p50RNeJCK8YYSxsUrqSQ0ESnUupSq0mUEkM80iacETAAZRcnkzcuRI0jRUwm+cJciQpF9oUe1D3BaIToBRCLWxriUIIJLwGVpGsBf5B5gY7V38KB//oEdHHuyY6LLet9pcKX1kcE1fIUdtPZpTnsk7xnntEJ5tbPuMnNvXX+W2x0eWX4uRV601UmMMlh3Dy0vLRsSlRxjSrYnygU/18bsXCqqqF5XPVzzsD4ytmmRiCygPqHvQt5PqkDqFVDBgdWfKr1wrsjmw85vw2Cj/qy4BoXyQCn70XEF0FiNYSRAFHXscRsI3prbA2U2qIxkXZ1QNxeZrTMRSllIsjGLqsgGFEkjmeTP79UlwHiCKYkRQ6RhClwCcVLh8QjQmyNymHbUqJmFWXftCyopIYQFUHmuANWBMR1lAlkK7Skex6/BRIRuUVOtpUi0BgVF8kMLbl27M4YufccoJjxVzszOIYnUKgV18k0BNMQ3gtnaH+iFxoGvEN2RwjecpIsJrVyNaglQEwSVlye7RYCGmxkOIGq+0gnTJFImkabDbkwnSTB8m/guxZewOlMJFoQTKIKhPTYmQ6c+ur6ruzt1Zwdlvxjj/jyOx7QiZXIXV714OfbSqakFzx0OFfDUMMulF9gtvOfo0sQN0JaBKuRqlJWMso0qX6FGqVUiE4k4qTCbZOO5eqixOpr6uHcA6R/KNgYMItktITqkrrLRVyUyw9IRsUTRZlqSfdwKFi+KzUQD4r1cEgV0lyA6+0YuJA6XIO+RhSRE2Vt5I7ygkNXFKqtZwctZbCUUhSpmSTsncOXTxY12nQOar7YGzrezn66RAvhyFVm+SCVK21mzpAJC/cmhVA/WjSoFingTiooR7o1CqkCsc0k8C73CYjUi4tAPjZpFwqyIakUjUBjsqSclyQG5Inl6/sx5M/SJMN8fyB3I9UIWP4hKKM5s8DiSIWMPsXrve1HHcZx4iwTd3LmtcauLbIW6VtwyfncupC/GFeQfDeo7h5hZWdtvZ3i3LDbM4DBmNzlfp6VTPzN3UPu8ViOnK9UGYxcZuEI1+ssZnsTSzbhB1mYU09td0pZnZRD1Juk5N6rmTU3Kq+/7aZnXBD5m78vloK43ij+iS3HLjgRVE0GYdQyni8tpMyaVVXUw4MeSEZ8nIx3cIiP1xp0QaopRUGaLiYjrOoAIbRK/aXt+ySHCMxVmOWDFO0CDlPJwObN6iuJefxSgOMb7lEKh2QYMoJXqkBZxitldrlSZI8mk+36llCq6i0ncwFbdCVEuBCcTfaX1wSCmvDPdDShjpPL5zJDYLidMEwJ2z7q+KjWkjSVSPsry6MNZLsanQr3DUZhr+lHBpVSXm4IFfDsNuUmtHggFrRLQ8IYD/TmJ5ADny8QGVwDVSnXIOrUz8+9dBmBvNCne/ElXsu7tw64oJ4+PwD2PjCSN989U1ctMjjGFFNbfrh+NJjB9PC6PI4cdnPts+94WpqerDmvBV3717XPqVsmpqxX6n2giI0D1KEBWgh3olSC3+gCAtLybgtLAM2EHE4QQCUhjKtkFmjE6ehhoh6QxyGuFnjTKM2eulZemWidRa53DqNVPoXifL0nnSbPvZtvFxPeBPjkJPRyhb1equNV5qAFFX6bRPIPXM4QrrUhDmkVxPGmbRQvvMHutI5WFc6Ndp2ZnXlgnPTlYVEVzr7daXzBF1ZOEhX6qdDjhAfPpnoSZsg1yTlCbYms9gwprnF0DpzVgehWmcVcKkQ9EY4hd40N+j0axHkDhAnmzznnFXHwfki/ZUVg5aHxGtJFY+U8HQuatOktiJHyndDlqK+9j8fQ52XLSqvX9C6Y05FUJ4ePDB723VNs/cvmvHOeUtXzFxyE3XrkGSJXrjmp/Wjl80bFm5nZ00YPvf9mHltx85m4/hp08+vHzYs2Tl1o9+7pW+cJlSgVA8jJ0TJV0OMYkdFKIFkt1Zn1fMWsmoiW8W0PZu+FIuyt0fmJVJ30SquklJy0noKGlj9sA20jq+xZH4ztlkUm8dWk99qaGuLLpSxecGYMQua+9bDBppkno+gp5gOZhdM3l1IRqLCQU8YEVgEMapB1IJGIFlB1/PjBgXwrMIYjpAs5OA/Lnh+np6WILiC4QrHHlFYxggXUQpTrBa9I0zRDMudlJHgOHaaMNPR+0emtu8C+mdP4Z5h+PXz1MvUZVoEAj2b298ziJ4pvWfsaXpGwfNpeD4ugp6hwT1jqhWKNmoXWRYuctAzRHOn75kJx+E/Zub2/pG+r28RU0ttV6tn4534zg61HHr2EHUIctPH9JUrIwUzDq1VLwe3tTiU1UqVcJTdDayKadUuSCfxtaNmjYL/9LjyUaPK4Re+vVbtZOz0PZAz3ItSBpLfOnTdoUkbODMH2gYHkQKDBdSMh4fKbki5AqKcpy0tk0qxSYJUV87NlgoK9RJ/rt6y8WTVl6THHv2Ehyf86o/gghDB5dvAiQ1a3Z1OyiV6NMcXgTSwPr++XKgZoa3oOwxBmFBigiMm6Xuyvh+JMfbOn8+68J0ZI0O7Qrfft2HPropQG5V4aubVG+Z8WDDm0KbHbmbYzCVfvLKZqsvQkXGPzCajLh37nGkA6wNoG0rxRKgNsZSf4Opi0SjoHcqVIOwMagURj57JQ/cLcyrShfoRpEB6SxHAJqums7KVJ9iTNbUxBBwCC6dpMymfKFYBrHVo5V5nUqFMcGQEe10kYi8s1mJWv5MnakNKJEKQ5oj+2Ox6iTJGpsWYn2lQv1nuvD/k/ngaf4d56ZhnkiMTmL/hQjpMJ/aqO58P5415/oYd+OpM07ZROcU4gR+PljKYj9wAVndSRfT92koqOu7i9P2hjDkSob7NLpnq9xl+cJ/h/tARuI8buI/ERbu5O7Nx0TiEzmHKdxhoko2QfIm31yUG1yGHMtfjHP7NiW5re/uzeI9630yPq6G+njI49uKbzjrP993ocahHO/ae/8Ts2ZjCFvyK9RosCQaHFvPv5q4He4rRcIj5z0MoNLheRSYJMNBOZJDXXtQIDdlgex1kV/1FrZjEXf/QRRvnj2yFOGOMuCW2mW1evf3AS7e0Nf/qqHBK81lhsPn2soLK30vFnqr5829Wj+yYGyxvn1Lua8j1FU/B9uXP4JwnQxf+4iw4HP3NmL82XNw+7LLhl9S0Q0R6o/qWsTc7lnE0HXWc03iS5WGfvjp8xmA+zgcDgpOPSUMZZXpY44gOdVsHbPGVvU+d+hOtT8PP2Ud9Rpc649J9e7rwY5fu67vth3fjjY/hqertj6lKltdXZ7GYdy442M81pBgKDP919mDirMHtsaGEEWD51KzlATQDLQLLzx6an3MURZ+A2NQzBe30a2c1/Z3BSFFjzxjDZ5YNBQV23SDg+lVuWZYNC86FDTRZIvYNrN1VYH2RSVeC4yt3o/DAyp2zbiiEmLHlkT+q3z42O1RbGzIXXN1yUX3QU/5ka9jkKzDnXn/b4gaqoLjr4YZR087Ki94LnlZ/c++lMysDgcrhk2bXfRefOTEcxo/7mTKvzWMtvizv8xFZVizTWDEbLRkaK/4N0+1DJwa1c6gQvHwO/FD/dHY0mNUnsaM5i00MkFkJ8+W/Yfi5JyInIMXWDxUM1X52KXn0hHlWODsiVPlQvAr/zwm4MaiK4MbRMNe2o4VoMSB3lmzt/8woSN+ob06TsVHNQ8XwjcH49CXUPXT0VIlb5qFz5FLm13oOxwyafRIQVc08i+JILl5/MatOX+HWzCWY0CeZb9dXu8liNwljTiM0+3584KkdT81uvPa6Walr29snlm+s28mN/etgo+sLKzs6OryVL4ueUwmM+s4zaqb74bW4+dvRVdPa2lqbDKHidvXLS5nlg8MP07ilsek7O7aMXDyrhlg9dcDqqaCyyzVPOq1l/w4ZQmdCg609pd19fxsqLZhFgyEacxwi7D0NHPSmszPks9Mjxg7iiYhGovEQs52ZKVnIEtp6ii41J87F9oE1auxwSQTNCHdqmrC7p72i9v7preDo8fIn6ZQkDjZ+9nX3rZsU2L1TnbD94M6Vsa2PnpIlBVPf+8mWlT9dYhfHPvejqxavn1PAHB48M/113IKJq2pc501RL5t+2YLbx5VMnA02N2dttkPe2o7mo6UQo5/VrnPX11MAwUXOYHKm6azCSrtOhmX+mRHIbBuKrma+PyVOUwdwGo9moU50yalx+n/woyFA1fv6v+dFC4eAGD43JzolrQCvOMGLw4DXgC+dEq8z5K3sOeOSKTxtFrt9MA7rzo4DW3qarLbtbMZTyHfsDSaXPYhKIYZBmDdQ/gBJ5IAS+bG67CtS5MihvQRPXmaktdDPip0OzZmY3PX3qR8/eXTj/Z8s/5mP4id3Pvlqo8EQrktMidun4S92bX7tlg0HLwhEbrohvbSdLldf/Fp9S8XX3vu7LZdunv3i1gf34rpJieFja9978zeqccuzTzR+tWDTg8/+DGF0ofoBl8c+jobBIOmViBFYigt+wQF756AzxJ+1MoXTAS2ndp3L86oBr3f6hIxrwnRvtk1a7JXZ1rFgMJjgLEe+TgRJi+3R90fLE/DsIDx7Azy7mPxtCSbjj/2+BIlu/dmXAeB59iDQgx6ZeYSq4YyZB6gHceE9n7dKu45OFFjqysw2zs4+cUds2vf3skv7vjVareaMU5ryutrq4DjaQF9sTKpL354skjcf9LfceU574wGj29UW7g2uBeWTGozGrIhOr0bywqSJcIx7g+qbYBItrHrxBq7I9LXRyeEueqnJE+WKzMz3E2259IYLikyGX3HWvncNuXZEYV5tob6EbyX1YVLbyS5XH29RX2or1yu17aWhkOGJUOj7Vn0PvRLVFvo1+DwpEznysP4XBdmdIds9/U8LsjttyfW1/Ffg256LRm/x2svcL0ejuAHaHkcZM8bm/Z/e8aEQM0fdkvGHQtS6fb6IUPQl8+tQqPchvIb6ayiU2bSvRH/XvoXuhWeH9ShbiwZIacxAU7S2ph2ulfr13ZYA76yjq6esv7tZnDi7rDjPVjApv3nOrW3rdrfUTLyguqy2sNbd0Ma1zNw1aZwpvHrufvUzdWvm/Z+vuG3GHXAmsnop9eVHeNujl/yIPHsVXsw+T0cR6QhJeESsP1rPfWJSCYbHkpd/IRx/vnvXyrWvXnfF3hlFJtZd+Mwdq67/89quWT/25+W6i6jDd/9zzgNzbq+dF2vUWkumla4lb76sQhezzzMBPoLGInSM5Q1kj44QZqjkL0Lu5MOoACH9jZi+J0847z1+nvQVfOVFdibiQcP6q3cDf+7xYujo95EINS8apeaHyCAzhwDpoN4D7XPAwAmo/y+KqtnDKE9nSsR0/JUeqro836FuxOsc+eVGdTteZVRfCov0VfRVYliw9+3r22fv/+ugRv0b7IPfnzFh7s5yI16lbjfC9+B16kaHuhc+SM+j59mFsNh3S98t4v8Cj3aG5QAAAAABAAAAAoUejuBQpV8PPPUCnwgAAAAAAMheFaoAAAAAyF4VqvwA/kYMygZGAAAACAAAAAAAAAAAeJxjYGRgYHP758bAwMv3h+GbJs8pBqAICvAGAHJOBOp4nGO5xBDEAARMMLyK4QUQRwNxDvMRhiI2c4ZVQPEOKD2ZyZKBgUWYIRiINwFxFhBHArENEtsLSkcyKTOsBKpfBdILw0BzC4A4n/k6QwrjLIYlQHoOixKDKtsuhlYodgapY2lmUAdiVZAZLAkMJix5DEYsDAzxHEAMU8sZBNfjj0Q7A7EumrgzlG3KYs+gwFbCkMq2hEEZ7KZVDJNZGBgFgGbrM/9mYACKFUMxzM1gPtMshmiGHAB9pT17AAAAAEQARABEAEQAiADDAP0BbAG3AfUCFAJDAoYC5QNEA8kEjQUKBboGVwbEB40IIwgvCI4I6wj4CVUJhQmuCjkKVwrjCzAMNg05DosO1w8kD3EPoBAfEJoQrhDCESoRqBIuEqsTNRO2FEQU4BVtFegWgRb7F48YJxilGPMZMRloGXAZmxm7GfkaNxpoGnUagRqNGqkasRrSGvIAAAABAAAATAjAANEAcQAMAAIAAQACABYAAAEAAckAAwAEeJxdj01OAkEQRh+CRjeuXZE5ATEkLIwrE6N7//aAwzjJCNpiCJ7AE3ASD+HCQ/m6p41oJlP9quqrP2CfGV06vQOg8W+5w6FeyzvyW+au/J65R59N5l2O+Mi8t1X7yZwvbrU1UxbcU1JwIc1Z8iLP5OB7ZmSqqkyZgmu9oP+UdKdGLs1FbZV6nMuveoucHXLsd2LdmkcmxhvGXKmt1EUOrPQmaWKc8VdZ/NPe6QV710kd+w8YaW94MPazebvryooYqdL2sW5svPTawv5r7dKq7cvjfc/OqtUGM02+77c6Xjr4Bpi7QCAAAHicbc9JTsNAEAXQ/5NAYmJnnhkCN0gaOcMGgRCsOANgkQa3FJzIdsJFQIxbxB423IoNsEQY0+woqfV+dalaaiQQ19c+KvivDqJDJJBEClmYsJBDHgUUUUI52qmihjoaaKKFZaxgFWtoYx0b2MI2DnGEYzj4wDs+8coEk0zhGvd4xgsXuMg0MzS4xCxNWswxzwKLLLGMG9zhFm94ZIVVPLCGJ1ziinU22GQrPfNUR+wK7abheJNQjqVyfm5E1+5ou1qRmXgydJU/MsKLSRwCPbK1PW1fO9AOtTtG9IRUZ27omqHrS52D7Kma/2UzkHPp6SbeE8LW9tKBOldjx7em0p9Kb6ROZlEXT/u/XxH9vYF2+A2pc1uJAAC4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFgAsAUgRbADK0QBsAYgRbADK0RZsBQr) format('woff')}.dcg-add-expression-dropdown.dcg-popover{width:auto}.dcg-add-expression-dropdown.dcg-popover.dcg-bottom{position:absolute;top:43px;left:-3px}.dcg-add-expression-dropdown.dcg-popover.dcg-bottom .dcg-arrow{left:23px}.dcg-add-expression-dropdown.dcg-popover.dcg-right{position:absolute;top:-40px;left:40px}.dcg-add-expression-dropdown.dcg-popover.dcg-right .dcg-arrow{top:60px}.dcg-add-expression-dropdown.dcg-popover .dcg-popover-interior{padding:4px 0}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item{cursor:pointer;font-size:80%;text-align:left;white-space:nowrap;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50);padding:8px;line-height:0}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item i{margin:0 8px 0 4px;font-size:205%;vertical-align:middle;width:30px;display:inline-block;text-align:right}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-expression{font-size:210%}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-table{font-size:200%}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-folder{font-size:190%}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-action-newexpression{padding:10px 12px 4px 8px}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-hovered{opacity:.8;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\";filter:alpha(opacity=80)}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-depressed{opacity:1;-ms-filter:none;filter:none}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-disabled{opacity:.25;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";filter:alpha(opacity=25)}.dcg-basic-list-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:auto;border-top:1px solid rgba(0,0,0,0.2)}.dcg-basic-list-container .dcg-basic-list{width:100%}.dcg-basic-list-container .dcg-basic-list.dcg-projector-mode{font-size:150%}.dcg-basic-list-container .dcg-basic-list-placeholder{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;border-right:1px solid rgba(0,0,0,0.2);border-left:1px solid rgba(0,0,0,0.2);position:relative;overflow:hidden}.dcg-basic-list-container .dcg-basic-list-placeholder .dcg-answer-hint{-webkit-transition:opacity 1s;-moz-transition:opacity 1s;-o-transition:opacity 1s;-ms-transition:opacity 1s;transition:opacity 1s;padding:10px;width:200px;opacity:.7;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\";filter:alpha(opacity=70);position:absolute;bottom:0;right:0;text-align:right;padding-right:30px;background:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAADXCAYAAAAQqd9FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3Mzg0ZDc1YS0yMGI5LTRlNTItOTFlMS05MDFhZGFjODVkZTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkNCMzBFQzQxQkM4MTFFNjg4MTRDRUVFNEIwRTRERTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0FCQzc1ODIxQkM4MTFFNjg4MTRDRUVFNEIwRTRERTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3Mzg0ZDc1YS0yMGI5LTRlNTItOTFlMS05MDFhZGFjODVkZTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzM4NGQ3NWEtMjBiOS00ZTUyLTkxZTEtOTAxYWRhYzg1ZGU1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+s6S9BgAADBdJREFUeNrsnXuwV1UVxxd4yUeTmYVWaoVmKo1GZUUTDjIJhOKDeKRAiEL04yE5+MhHjmSEMmCEE/RTKwgkBDKQh/HIivFKL02zh6b+QZoP1EITSNG4rTW/fZO5Xe/d3/075+y1f2d9Z9b8Zu5d+5zz25/ffq39OF1aWlrIlJa6GLQSQqtWq5aLdahSqcBpulq2pacmsFR9gj+6s+1ka+ZfyV7LQoXVI4MawB9fYfss2/5t/n0x2zzLxmKrxyYPYBs7cPk22xFsl1v2F6fO2rTTPK5xGdssy0o90E7xvI6UtBstOyND46pRqs7ewLWmsV1vWRoRGjeQr/PHY+D1rmC70rI1bvXYHHDNma7UmSJBWxV4XWnfzrfsjQCNq8i1/HFe4LUXsQ22LC6+pAm42+soNbPcOM5UJDQHbnEguJ5s37VsjgBtH3AXBNzjTAMXCZoDJ+3U5ID7VGwoEAmaA7cgEIAMBYZalkeA5sDdwB83BCSVAPPhlu0RoDlwUtrmg8mOtPYtIjQHbkrAAHwI2zWW9ZGgOU1k+wuY5jpr3+JC28721YB0Myz740ETrXMlDtHxbHMMQTxoIllLNxtMcwnbSMMQD5pIZrDvAdMsZetvKOJBE4WsF7HZgMjQ1rNNAtNMtd5kXGjkBtCLwTQWm4wMrXX8th3w/zjbpYYkLrTdhEc+pPc5wLDEgya6NaCatLYtMjTRMtB/AtswQxMX2gaqbeBAwZkiQhPdxPYLwF8G22MMT1xoreDQsZspMrTVbLeAQ4BJhiguNNFPQH+DpgCabFC8CvD/MIWt/jJoGUu2Qz0B+F9kmOJDE80FfI+j2rpJU2RospTuIcB/nKGKD60VnK9OJts6pQLaQrb7Af8Rhis+NNHNgO/pbGcYsvjQZBYA2ddt0zak42wsZBZAQlv9DVp8oZvx+xi0+NpM2KLVIQZNhzYDvidSyadttEDbRNgWqIEGTYd+BviOLHNPUhM0mbZBQlt9DJoOLQF8Bxs0HZJe5Cuevh9lO9ug6dBKqyLTg7YO8O1n0HRoBdsjnr6y+GeoQdOhtVZFpgcNiUf2NWg6tIbtQaAXOcigpdch6WPQ0qsiP2PQdEgWtv4WaNcGGDQduteqyPSgIVVkD4OmQxL5/5un76cNWnql7RiqnZds0BRoi7Vr6UFbBPj2NGg69Brbb2y8lhY00QOefu+gEkyMpgLtOWvX0oOGjNc+ZNB0SBaz/t7T9ziDll67JtD6GzQdetbatfSgIe3aewyaDsnBaL6Hfn7AoOmR7x7tXgZNj3wj/t2pgXfWpAYNadf6GDQduhvwPcyg6ZB0RF7w9H2fQdOjRz39jjVoeuR77ojMZO9n0HToGcC3v0GzHqRBC9RWwPedBk2HdpD/pOh7DZoe+UZGjjJoevR0mcdqqULznVuTNu0Qg6anXfPVpwyadfsNWqD+BPi+1aDp6T22ePoeatD0yHfpwbsNWno9SCtpCZa0wwyaHj1v0NLTTk+/AxutB1kGaA3XGUkZ2m7A9xiDpkOljYqkDO1xwLfJoOnQS4DvQQYtPWjWe1Si/7DtMmiN24O06lGRXrSSlp5etpLWuNXjWwyaHu2x6jE9vWLQ0uz2G7QGbdO6GLT0qsduBk2P9nr6HWDQ9Gg/oKR1NWg69Brg282gpTVOa6jOSNcSPb9BS/D5rU1TotdzGIgbNJNBa6v9rU1rbFn1mGCbtseg6dABJfqu/xO0iLNarcpZU7Jat7lSqWxW8Py+M9ISOdlbKmgMazB/TKJ9Xk3Mf5NpkW+yzYz4/L5beF9tpMa5yRNYe294P8hBO9IB1Vw97mkkaD71/KxO/j+RbaryLv+rpYHGpWwE+b1IbpzyNu1fZSppvluETmIbqXxwXRpoSBRheITn912EuqtM0JCNe+ewfb7g5/ddZfViaaDxWGw5f/wZuN5Qpb3HljKVNNEdwPWkXRugENrOskFrBq95SoHP73saz+5SQXPhqm8A17ygoGc/EOjy7y5bSUNL2xFsEwp49rcBvqWrHqW0bSLsze7TCnj2jwC+e8tY0kTrAV95mWol52dHzgbZVUpoXNp+zB9bgGt/IednRwb+zWUtaaLvAb6nsg3L8dmRucC/K83/4dVqdR4bFE3q0tKCjTv5BvcAVdMStjE5feEFVJth8JEcaLZdESyZypJprX2Pn/8329Vco83NuqSJlgO+X2Q7I6cvjmx+f14RsNls8+n/3xcgQ5hvcaG4NnNo/Ev4Dvm/gUI0OKcvf7Cn3w5FvUfJu0s78ZnO4EZlXdJEixHOlE9o6+DEStmtbJM9fc/OAxraG8vj6D7ft8bHngCVXu5CtvFZ5VcQNK4iZcw2F0hyXg6Z8S5Pv2cjApOozY/YxoLpns6jpIk2Ar4fzLgXKb9e3wOld0QCdjjbD9nOzbomC4bGpU2g3Q4kmZxxhvgqRvV4tGv3hwSm35RXSROtAnw/SdmtI+mlGNrH2JbV0fkazgXirtyg8cVX8MfvgCRZhbaQjk2RIay+bLe5H2iIRrtwIeVZ0kTfB3zPYvtcBvdEVmE9VhCwQS4vTghMfw4DW+rjmAW0m9n+CvifVmDPUbStAGASO5QqLeQoeflRDWRgd/omyGonCRJIHp/B/Xx7jv8g7NiKEMn3WRGY9iEZDrj5Sioa2hwgc97Odk2d9/N9o8UTOQOb5CIdIbrXtWFb0YRZ7tlCStuXCoKW58BaYojzA9OudwGHP4YkzhLaBsBX3j8duo5Eovu+Lx1/ISdg06kWrQ/RSrbz2Z4MvXmW0NawLQX8zw28D/KW+DyCxbKL6NrAtDK/OMq1taQBmghZ2NqPwlYkIwt6sl6FdSPb5YFpJWg8JouOUdbQVrkG1lejEhpYy1xY6CqzKtuFWT1IHpvHbwN8hxAen0PGaHdn2MkKjZ3KbMjELDM4D2jyq0Jmtk8Hr+87j/YU1T9j3c21Q6GbJmdTDmtA8zqmAR1sI6Gt9xc0RjvU1RqjA9PPqKP9iwJNelf/zKmdOtrT78k6nl+GJDK1MiIw/RUZBBAKh4aWNt/MGQg881OBz32CqxJDV5FVqPPDBdRCQ1YjH8t2WcYl8uWAZ+5NteUBfQO/85epFkCnVKFJ1BtZI+kTIUF2yqDd/YFuLNUr8PvKXOEtVIDyPi8KmdmWdSSd7W07yvNactgLcgzUmVQLwx0f+D2lKl1BBSlvaMtdiUN+rR2ph+d1HgHuKeG0NYHf72FXQu+iAlXEyWzIwlbJgI4WavpOMm4DquRlgd/rPqqFpTZRwSoCmpS2B8Cqqj3JQhnfVcU+PcepdXQafkm1fQr3UQQVdQbiIsB3HLW/kgnpOXY2RrySbV7gd5FlASPBKjhJaDcR9orjfu387ZCMeo4SqZhZR60hnaVnKKKKPG0UWbXVXkTcN3y1h958QlaWRVwd+PyyWlhCWjsosoqEhsxsy8KdtmdI9vRM+/Cb/F2i7ZfU8YMbS9iZyQ0BTcZNCwD/fcds3dw4LrS7Lx2OiwOfW9aBjCdFKvowZmTAezK9MSUyCEjXdlpoIYWvR5HSOYWUqWhoq0FwowN6jq2dEFmFvITwbUatkqDvNFKoGMeeI4t/TqXakYQ9wB9Gd3ef0Lmw6VSbXiGD9kYv7A/gYNt3Du1R5yuR+tBjDKXt+zopVqwXDCCrcqX7fxLQc5QqMXS/wJQ6Bt0ND016ZMiaRN+DXqSU9Q58prEUvmK4FNBEP8jhmicGphvmqm0yaB1ri4Lv/7gbTtxBCSkmtJ+6DkMsyTYjWVO/gRJT7DcdLY903187YFspQcWGJjPGKwu+p5Qs2Wb0ICUqDe8Uu7PAe0nbJbPN2yhhaYAmkYv7C7iPLCsYR7pOpEsWGrkBcZ6SoLHMNr9EDSAt0CQK8VxO15boy4XUQNL0nsw5OVxT9pRNoAaTJmizM66+5EdwETWgtL2RNqvQ1nXktzfAoGWgn2dwjasofCO7QQvQOsLW/7eVVIfXU4NL4wu7Q+ORE1zHgwxa8ZKj89AXn4+h8OOODFpGQk5sPauAwblB8+xFrvbwkw32a6lk6qr42SZ2AO5XVNuksZFKqCbFzyYnyMnBMF+j2h5oWfsop7bJusZpVGI1JfCMM5yZEqgeTQatcQS/P81k0EwGrRz6rwADADnzJzb8MrEkAAAAAElFTkSuQmCC\") no-repeat top 20px right 5px;-webkit-background-size:15px;-moz-background-size:15px;background-size:15px;-webkit-animation:dcg-fadePulse .3s;-moz-animation:dcg-fadePulse .3s;-o-animation:dcg-fadePulse .3s;-ms-animation:dcg-fadePulse .3s;animation:dcg-fadePulse .3s}.dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-type-hint,.dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-answer-hint{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-o-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}.dcg-inverted-colors .dcg-settings-dropdown .dcg-popover-interior{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes dcg-fadePulse{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transform:scale(0.7,0.7);-moz-transform:scale(0.7,0.7);-o-transform:scale(0.7,0.7);-ms-transform:scale(0.7,0.7);transform:scale(0.7,0.7)}50%{-webkit-transform:scale(1.1,1.1);-moz-transform:scale(1.1,1.1);-o-transform:scale(1.1,1.1);-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1)}100%{opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}}@keyframes dcg-fadePulse{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transform:scale(0.7,0.7);-moz-transform:scale(0.7,0.7);-o-transform:scale(0.7,0.7);-ms-transform:scale(0.7,0.7);transform:scale(0.7,0.7)}50%{-webkit-transform:scale(1.1,1.1);-moz-transform:scale(1.1,1.1);-o-transform:scale(1.1,1.1);-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1)}100%{opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}}.dcg-container .dcg-basic-expression .dcg-mq-editable-field{width:100%}.dcg-container .dcg-basic-expression .dcg-mq-editable-field:after{position:absolute;top:1px;right:0;bottom:1px}.dcg-basic-expression{min-height:56px;border:1px solid rgba(0,0,0,0.2);margin-top:-1px;position:relative;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;width:100%}.dcg-basic-expression:not(:first-of-type){border-top-color:transparent}.dcg-basic-expression.dcg-focused{border-color:#6399cb;-webkit-box-shadow:inset 0 0 0 1px #6399cb;box-shadow:inset 0 0 0 1px #6399cb;z-index:1}.dcg-basic-expression:first-of-type{margin-top:0}.dcg-basic-expression.dcg-braille-io{-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:2px}.dcg-basic-expression.dcg-braille-io input{background:transparent}.dcg-basic-expression.dcg-braille-io .dcg-mq-math-mode{padding:0}.dcg-basic-expression.dcg-braille-io .dcg-braille-input input,.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,.dcg-basic-expression.dcg-braille-io .dcg-braille-error input{border:none;width:100%}.dcg-basic-expression.dcg-braille-io .dcg-braille-input input{outline:none}.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input:focus{outline:1px dotted #000}.dcg-basic-expression.dcg-braille-io .dcg-braille-error input{border:1px solid transparent}.dcg-basic-expression.dcg-braille-io .dcg-braille-error input:focus{color:#000;outline:1px dotted #000}.dcg-basic-expression.dcg-braille-io .dcg-braille-input input,.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input{font-family:Abraham,serif;font-size:26px;padding:8px 8px 0}.dcg-basic-expression.dcg-braille-io .dcg-basic-expression-error{font-size:140%}.dcg-basic-expression.dcg-braille-io .dcg-braille-error{position:absolute;top:-0.8em;right:0;width:100%}.dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea{width:100%;text-align:right;color:#666;padding-right:5px;font-size:80%;border:none;resize:none;-webkit-animation:dcg-delayed-fadeIn 1s;-moz-animation:dcg-delayed-fadeIn 1s;-o-animation:dcg-delayed-fadeIn 1s;-ms-animation:dcg-delayed-fadeIn 1s;animation:dcg-delayed-fadeIn 1s}.dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea:focus{outline:dotted 1px #666;color:#000}.dcg-basic-expression.dcg-braille-io .dcg-braille-input,.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container,.dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1 1 40%;-ms-flex:1 1 40%;flex:1 1 40%}.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container{position:relative}.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container,.dcg-basic-expression.dcg-braille-io .dcg-braille-error{text-align:right}.dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container{padding:8px}.dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container{font-size:90%;color:#666}.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container{padding:8px}.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container .dcg-basic-expression-value{padding-right:8px}.dcg-basic-expression .dcg-exp-mathquill-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden;margin-right:1px}.dcg-basic-expression .dcg-exp-mathquill-container .dcg-mq-container{width:100%}.dcg-basic-expression .dcg-mq-math-mode{padding:12px 5px 12px 15px;outline:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;border:0}.dcg-basic-expression .dcg-basic-expression-error{color:#e66b3c;font-size:130%;cursor:pointer;-webkit-animation:dcg-delayed-fadeIn 1s;-moz-animation:dcg-delayed-fadeIn 1s;-o-animation:dcg-delayed-fadeIn 1s;-ms-animation:dcg-delayed-fadeIn 1s;animation:dcg-delayed-fadeIn 1s;margin-right:15px;height:24px;line-height:24px}.dcg-basic-expression .dcg-basic-expression-value{-webkit-animation:dcg-fadeIn .5s;-moz-animation:dcg-fadeIn .5s;-o-animation:dcg-fadeIn .5s;-ms-animation:dcg-fadeIn .5s;animation:dcg-fadeIn .5s;padding-right:5px}.dcg-basic-expression .dcg-basic-expression-value.dcg-basic-evaluation-gray .dcg-static-mathquill-view{color:#666}.dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle{font-size:20px;display:inline-block;width:29px;height:29px;border:2px solid #000;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50);color:#000;text-align:center;border-radius:50%;margin:0 5px}.dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle i{position:relative;top:2px}.dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-hovered{opacity:.7;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\";filter:alpha(opacity=70)}.dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-depressed{opacity:.9;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90)}.dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected{background:#000;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50);color:#fff}.dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-hovered{opacity:.7;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\";filter:alpha(opacity=70)}.dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-depressed{opacity:.9;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90)}.dcg-basic-expression .dcg-slider-container{height:40px;width:250px;max-width:100%;padding-right:3px}.dcg-basic-expression .dcg-mq-ans{border:2px solid #4781b9;color:#4781b9;background-color:rgba(71,129,185,0.15);padding:.2em .4em;display:inline-block;border-radius:4px;margin-right:1px;margin-bottom:2px;min-width:30px;text-align:center;-o-text-overflow:ellipsis;text-overflow:ellipsis;vertical-align:middle;position:relative}.dcg-basic-expression .dcg-mq-ans sup{font-size:80%}.dcg-basic-expression .dcg-mq-ans:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;content:'ans';position:absolute;bottom:-0.5em;left:50%;font-size:60%;width:1.9em;overflow:hidden;text-align:center;margin-left:-0.95em;color:#4781b9;border:1px solid #4781b9;background:#fff;padding:0;border-radius:3px;height:1em;line-height:.9em}.dcg-basic-expression .dcg-mq-ans.dcg-invalid{border-color:#e66b3c;background:rgba(230,107,60,0.1);color:#e66b3c}.dcg-basic-expression .dcg-mq-ans.dcg-invalid i{font-style:normal;font-size:80%}.dcg-basic-expression .dcg-mq-ans.dcg-invalid:after{color:#e66b3c;border-color:#e66b3c}.dcg-basic-expression .dcg-mq-selection .dcg-mq-ans{background:#4781b9;color:#fff}.dcg-basic-expression .dcg-mq-selection .dcg-mq-ans.dcg-invalid{background:#e66b3c}.dcg-calc-basic-main.dcg-projector-mode .dcg-mq-ans:after{position:absolute;bottom:-0.3em;left:50%;height:.9em;line-height:.8em}.dcg-braille-toggle{display:inline-block;float:right}.dcg-braille-toggle .dcg-buttons{float:right}.dcg-toggle-button{padding:8px;border:1px solid #ccc;color:#444;position:relative;top:-3px;cursor:pointer;width:90px;text-align:center;float:left}.dcg-toggle-button:last-of-type{border-radius:0 6px 6px 0}.dcg-toggle-button:first-of-type{border-radius:6px 0 0 6px}.dcg-toggle-button.dcg-hovered{background:#f4f4f4}.dcg-toggle-button.dcg-depressed{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,0.5);box-shadow:inset 0 0 5px rgba(0,0,0,0.5)}.dcg-toggle-button.dcg-selected{background:#4781b9;color:#fff;border-color:transparent}.dcg-calc-basic-main.dcg-projector-mode .dcg-basic-expression.dcg-braille-io .dcg-braille-error{font-size:90%}@-webkit-keyframes dcg-delayed-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}80%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-delayed-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}80%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@-webkit-keyframes dcg-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}table.dcg-braille-examples-table{border-collapse:collapse}table.dcg-braille-examples-table tr:not(:last-of-type){border-bottom:1px solid rgba(0,0,0,0.2)}table.dcg-braille-examples-table th{font-family:\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-weight:500}table.dcg-braille-examples-table th,table.dcg-braille-examples-table td{padding:5px 8px}table.dcg-braille-examples-table th:not(:last-of-type),table.dcg-braille-examples-table td:not(:last-of-type){border-right:1px solid rgba(0,0,0,0.2)}table.dcg-braille-examples-table th:not(:first-of-type),table.dcg-braille-examples-table td:not(:first-of-type){text-align:center}table.dcg-braille-examples-table td{height:45px}table.dcg-braille-examples-table .dcg-braille-font{font-family:Abraham;font-size:110%}table.dcg-braille-examples-table .dcg-key-press{border:1px solid rgba(0,0,0,0.2);background:rgba(255,255,255,0.6);border-radius:3px;width:25px;height:25px;line-height:23px;text-align:center;display:inline-block;margin-right:2px;vertical-align:middle}.dcg-braille-io-keypad-container{padding-top:4px}.dcg-braille-io-keypad-container .dcg-braille-io-keypad{color:#666;border-top:1px solid rgba(0,0,0,0.2);padding:10px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-braille-io-keypad-container .dcg-braille-io-keypad a{color:#4781b9}.dcg-braille-io-keypad-container .dcg-braille-io-keypad a.dcg-hovered{color:#004f9b}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container{color:#444;padding:10px 10px 0}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container .dcg-more-examples-link{text-align:center}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table{margin-bottom:10px;border:1px solid rgba(0,0,0,0.2)}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table th{background:rgba(0,0,0,0.07)}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;padding:10px}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title{font-size:130%;color:#333}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text{font-size:95%;margin-bottom:10px;line-height:1.5em}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn{color:#fff;padding:8px 12px;display:inline-block;border-radius:6px;background:#4781b9;border:1px solid #3f73a6;-webkit-box-shadow:inset 0 1px rgba(255,255,255,0.1),inset 0 -1px rgba(0,0,0,0.05);box-shadow:inset 0 1px rgba(255,255,255,0.1),inset 0 -1px rgba(0,0,0,0.05)}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn.dcg-hovered:not(.dcg-disabled){background:#3f73a6;-webkit-transition:background .2s;-moz-transition:background .2s;-o-transition:background .2s;-ms-transition:background .2s;transition:background .2s}.dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn.dcg-depressed:not(.dcg-disabled){background:#35608a;border:1px solid #35608a;-webkit-box-shadow:none;box-shadow:none}.dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title{margin-bottom:10px}.dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn{margin-right:auto}.dcg-four-function-calculator .dcg-braille-io-keypad{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description{-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn{-webkit-box-ordinal-group:1;-moz-box-ordinal-group:1;-o-box-ordinal-group:1;-ms-flex-order:1;-webkit-order:1;order:1;margin-left:10px}.dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text{-webkit-box-ordinal-group:2;-moz-box-ordinal-group:2;-o-box-ordinal-group:2;-ms-flex-order:2;-webkit-order:2;order:2;width:100%;margin:5px 0 0}.dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-examples-table-container th,.dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-examples-table-container td{padding:2px 8px;white-space:nowrap}.dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:nth-of-type(3){display:none}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description{-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title{margin-bottom:0}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn{-webkit-box-ordinal-group:1;-moz-box-ordinal-group:1;-o-box-ordinal-group:1;-ms-flex-order:1;-webkit-order:1;order:1;margin-left:10px;margin-right:0}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text{-webkit-box-ordinal-group:2;-moz-box-ordinal-group:2;-o-box-ordinal-group:2;-ms-flex-order:2;-webkit-order:2;order:2;width:100%;margin:5px 0 0}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container th,.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td{padding:2px 5px}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:nth-of-type(3){display:none}.dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad{height:164px;padding:3px}.dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container table{margin-bottom:5px}.dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:last-of-type{display:none}.dcg-short.dcg-four-function-calculator .dcg-braille-io-keypad .dcg-more-examples-link{display:none}.dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad{font-size:90%}.dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-more-examples-link{display:none}.dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td{height:40px}.dcg-basic-settings-container{position:relative;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1}.dcg-basic-settings-container .dcg-keypad-control-btn.dcg-selected{color:#333;background:rgba(0,0,0,0.1)}.dcg-aria-alert{position:absolute;left:-1000px;top:-1000px;width:1px;height:1px;text-align:left;overflow:hidden}.dcg-calc-basic-main-wrapper{height:100%;width:100%;position:relative}.dcg-calc-basic-main{height:100%;width:100%;background:#fff;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:2px;font-family:Arial,sans-serif}.dcg-calc-basic-main *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.dcg-calc-basic-main.dcg-no-hyperlinks a[target=\"_blank\"]{display:none!important}.dcg-settings-dropdown{font-size:95%;color:#333;width:275px;position:absolute;bottom:50px;right:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dcg-settings-dropdown .dcg-settings-menu-option{cursor:pointer}.dcg-settings-dropdown .dcg-settings-menu-option:not(.dcg-reverse-contrast){margin-bottom:5px}.dcg-settings-dropdown .dcg-checkbox-box{display:inline-block;position:relative;top:2px;height:15px;width:15px;border-radius:3px;color:#127a3d;border:1px solid rgba(0,0,0,0.2);margin-right:10px}.dcg-settings-dropdown .dcg-checkbox-box .dcg-icon-check{position:relative;top:-2px;left:1px;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff;display:none}.dcg-settings-dropdown .dcg-checkbox-container.dcg-checked .dcg-icon-check{display:block}.dcg-settings-dropdown .dcg-checkbox-container.dcg-hovered .dcg-checkbox-box{border-color:rgba(0,0,0,0.4)}.dcg-settings-dropdown .dcg-checkbox-container.dcg-depressed .dcg-checkbox-box{border-color:rgba(0,0,0,0.6)}.dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons{margin-top:5px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:5px 0;text-align:center;border:1px solid rgba(0,0,0,0.2)}.dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:not(:last-of-type){border-right:0}.dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-selected{background:rgba(0,0,0,0.7);color:#fff;border-color:rgba(0,0,0,0.7);z-index:1;position:relative;margin-right:-1px;padding-right:1px}.dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:first-of-type{border-radius:3px 0 0 3px}.dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:last-of-type{border-radius:0 3px 3px 0}.dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-hovered:not(.dcg-selected){background:rgba(0,0,0,0.05)}.dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-depressed:not(.dcg-selected){-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,0.2);box-shadow:inset 0 0 3px rgba(0,0,0,0.2)}.dcg-settings-dropdown .dcg-modern-btn{border-radius:3px;display:block;padding:8px;text-align:center;cursor:pointer}.dcg-settings-dropdown .dcg-modern-btn.dcg-active{border:1px solid #127a3d;background-color:#127a3d;color:#fff}.dcg-settings-dropdown .dcg-modern-btn.dcg-active.dcg-hovered{border-color:rgba(13,84,42,0.7);-webkit-box-shadow:inset 0 0 0 1px rgba(13,84,42,0.7);box-shadow:inset 0 0 0 1px rgba(13,84,42,0.7)}.dcg-settings-dropdown .dcg-modern-btn.dcg-active.dcg-depressed{border-color:#0d542a;-webkit-box-shadow:inset 0 0 0 1px #0d542a;box-shadow:inset 0 0 0 1px #0d542a;background:#106d36}.dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active){border:1px solid rgba(0,0,0,0.2)}.dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active).dcg-hovered{border-color:rgba(0,0,0,0.15);-webkit-box-shadow:inset 0 0 0 1px rgba(0,0,0,0.15);box-shadow:inset 0 0 0 1px rgba(0,0,0,0.15)}.dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active).dcg-depressed{border-color:rgba(0,0,0,0.2);-webkit-box-shadow:inset 0 0 0 1px rgba(0,0,0,0.2);box-shadow:inset 0 0 0 1px rgba(0,0,0,0.2);background:rgba(0,0,0,0.05)}.dcg-settings-dropdown .dcg-download-button.dcg-braille-equations{color:#127a3d;display:block;margin-bottom:10px}.dcg-settings-dropdown .dcg-download-button.dcg-braille-equations span{text-decoration:underline}.dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-hovered:not(.dcg-disabled){color:#0d542a}.dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-depressed:not(.dcg-disabled){color:#063c1c}.dcg-settings-dropdown .dcg-download-button.dcg-braille-equations i{margin-right:10px}.dcg-settings-dropdown .dcg-six-key-info{display:inline-block;color:#999;text-decoration:none;margin-left:.5em;font-size:85%}.dcg-settings-dropdown .dcg-six-key-info.dcg-hovered{color:#666}.dcg-settings-dropdown .dcg-six-key-info.dcg-active{color:#333}.dcg-settings-dropdown .dcg-six-key-checkbox{display:inline-block;margin-top:5px}.dcg-settings-dropdown.dcg-popover .dcg-popover-interior{padding:15px}.dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after{content:\"\";position:absolute;bottom:-7px;right:18px;border-width:7px;border-bottom-width:0;border-style:solid;border-color:#fff transparent transparent;line-height:0}.dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before{content:\"\";position:absolute;bottom:-8px;right:17px;border-width:8px;border-bottom-width:0;border-style:solid;border-color:#ccc transparent transparent;line-height:0}.dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after{border-top-color:rgba(0,0,0,0.2)}.dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before{display:none}.dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after{right:10px}.dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before{right:9px}.dcg-version-number{color:#666;font-size:90%;text-align:center;margin-top:15px}.dcg-btn-blue,.dcg-btn-red,.dcg-btn-light-gray,.dcg-btn-green{border:none;-webkit-appearance:none;cursor:pointer;white-space:nowrap;text-decoration:none;display:inline-block;border-radius:4px;padding:0 20px;font:inherit}.dcg-btn-red,.dcg-btn-blue,.dcg-btn-green{color:#fff;-webkit-box-shadow:inset 0 1px rgba(255,255,255,0.15),inset 0 -1px rgba(0,0,0,0.1);box-shadow:inset 0 1px rgba(255,255,255,0.15),inset 0 -1px rgba(0,0,0,0.1)}.dcg-btn-red{background:#d95f5b;border-color:rgba(0,0,0,0.15)}.dcg-btn-red.dcg-hovered{background:#cb605d}.dcg-btn-red.dcg-depressed{background:#c15b58;-webkit-box-shadow:none;box-shadow:none}.dcg-btn-blue{background:#528fc9;border-color:rgba(0,0,0,0.15)}.dcg-btn-blue.dcg-hovered{background:#4e88bf}.dcg-btn-blue.dcg-depressed{background:#4a81b4;-webkit-box-shadow:none;box-shadow:none}.dcg-btn-light-gray{-webkit-box-shadow:inset 0 1px rgba(255,255,255,0.25),inset 0 -1px rgba(0,0,0,0.02);box-shadow:inset 0 1px rgba(255,255,255,0.25),inset 0 -1px rgba(0,0,0,0.02);background:-webkit-linear-gradient(#f6f6f6,#f0f0f0);background:-moz-linear-gradient(#f6f6f6,#f0f0f0);background:-o-linear-gradient(#f6f6f6,#f0f0f0);background:-ms-linear-gradient(#f6f6f6,#f0f0f0);background:linear-gradient(#f6f6f6,#f0f0f0);border:1px solid rgba(0,0,0,0.1)}.dcg-btn-light-gray.dcg-hovered{background:#ededed;border:1px solid rgba(0,0,0,0.13)}.dcg-btn-light-gray.dcg-depressed{background:#e0e0e0;border:1px solid rgba(0,0,0,0.15);-webkit-box-shadow:none;box-shadow:none}.dcg-btn-green{background:#1aad57}.dcg-btn-green.dcg-hovered{background:#179d4f}.dcg-btn-green.dcg-depressed,.dcg-btn-green.dcg-active{background:#148e47;-webkit-box-shadow:none;box-shadow:none}.dcg-pull-right{float:right}.dcg-pull-left{float:left}.dcg-inverted-colors .dcg-btn-red,.dcg-inverted-colors .dcg-btn-blue,.dcg-inverted-colors .dcg-btn-green{-webkit-box-shadow:inset 0 -1px rgba(255,255,255,0.15),inset 0 1px rgba(0,0,0,0.1);box-shadow:inset 0 -1px rgba(255,255,255,0.15),inset 0 1px rgba(0,0,0,0.1)}.dcg-aria-alert,.dcg-offscreen-element{position:absolute;left:-1000px;top:-1000px;width:1px;height:1px;text-align:left;overflow:hidden}.dcg-container.dcg-default-border{border:1px solid rgba(0,0,0,0.2)}.dcg-container a,.dcg-container a:hover{text-decoration:none}.dcg-container.dcg-no-graphpaper .dcg-grapher,.dcg-container.dcg-no-graphpaper .dcg-resize-list-btn,.dcg-container.dcg-no-graphpaper .dcg-graph-icon{display:none}.dcg-container .dcg-grapher.dcg-scale-horizontal{cursor:ew-resize}.dcg-container .dcg-grapher.dcg-scale-vertical{cursor:ns-resize}.dcg-container .dcg-grapher.dcg-scale-both{cursor:nesw-resize}.dcg-graph-outer{overflow:hidden;position:absolute;top:0;left:0;right:0;bottom:0}.dcg-container.dcg-no-expression-topbar .dcg-expression-top-bar{display:none}.dcg-container.dcg-no-expression-topbar .dcg-exppanel-container{padding-top:0}.dcg-container.dcg-no-hyperlinks a[target=\"_blank\"]{display:none!important}.dcg-container.dcg-inverted-colors{filter:invert(100%)}.dcg-container{width:100%;height:100%;position:relative;background:#fff;z-index:0;touch-action:none;-ms-touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;overflow:hidden;font-family:arial,sans-serif;font-size:16px;color:#000}.dcg-container *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.dcg-container .dcg-text-selectable{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.dcg-expressions-branding{position:absolute;bottom:0;left:50%}.dcg-graphpaper-branding{position:absolute;bottom:0;right:-8px;display:none;z-index:21}.dcg-fullscreen .dcg-graphpaper-branding{display:block;opacity:1;-ms-filter:none;filter:none}.dcg-fullscreen .dcg-graphpaper-branding .dcg-powered-by,.dcg-fullscreen .dcg-graphpaper-branding i{position:relative;text-shadow:-1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff}.dcg-expressions-branding,.dcg-graphpaper-branding{text-align:center;font-size:75%;width:110px;margin-left:-55px;text-decoration:none;line-height:1em;height:45px;overflow:hidden}.dcg-expressions-branding.dcg-unclickable,.dcg-graphpaper-branding.dcg-unclickable{pointer-events:none;z-index:-1}.dcg-expressions-branding .dcg-powered-by,.dcg-graphpaper-branding .dcg-powered-by{color:rgba(0,0,0,0.2);text-decoration:none;-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;-ms-transition:color .3s;transition:color .3s;display:block}.dcg-expressions-branding i,.dcg-graphpaper-branding i{color:rgba(0,0,0,0.2);font-size:650%;margin-right:2px;line-height:18px;-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;-ms-transition:color .3s;transition:color .3s;height:18px}.dcg-expressions-branding a,.dcg-graphpaper-branding a,.dcg-expressions-branding .dcg-edit-branding,.dcg-graphpaper-branding .dcg-edit-branding{cursor:pointer;display:block;height:50px}.dcg-expressions-branding a.dcg-hovered .dcg-powered-by,.dcg-graphpaper-branding a.dcg-hovered .dcg-powered-by,.dcg-expressions-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by,.dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by{color:#aaa}.dcg-expressions-branding a.dcg-hovered i,.dcg-graphpaper-branding a.dcg-hovered i,.dcg-expressions-branding .dcg-edit-branding.dcg-hovered i,.dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered i{color:#127a3d}.dcg-narrow .dcg-graphpaper-branding{display:none}.dcg-no-branding .dcg-expressions-branding,.dcg-no-branding .dcg-graphpaper-branding{display:none}.dcg-container{text-align:left;-webkit-transform-origin:0;-moz-transform-origin:0;-o-transform-origin:0;-ms-transform-origin:0;transform-origin:0 0}.dcg-container pre{white-space:pre-wrap}.dcg-container img{border:0;outline:none}.dcg-container input::-ms-clear{display:none}.dcg-container button,.dcg-container input,.dcg-container select,.dcg-container textarea{font-family:inherit}.dcg-container button,.dcg-container select{text-transform:none}.dcg-container button,.dcg-container input[type=\"button\"],.dcg-container input[type=\"reset\"],.dcg-container input[type=\"submit\"]{-webkit-appearance:button;cursor:pointer}.dcg-container button[disabled],.dcg-container input[disabled]{cursor:default}.dcg-container input[type=\"search\"]{-webkit-appearance:textfield;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.dcg-container input[type=\"search\"]::-webkit-search-cancel-button,.dcg-container input[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none}.dcg-container button::-moz-focus-inner,.dcg-container input::-moz-focus-inner{border:0;padding:0}.dcg-container table{border-collapse:collapse;border-spacing:0}.dcg-container input::-webkit-outer-spin-button,.dcg-container input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.dcg-component-checkbox{cursor:pointer;position:relative}.dcg-component-checkbox .dcg-checkbox{border:1px solid #bbb;margin-right:.5em;width:1.1em;height:1.1em;border-radius:3px;vertical-align:middle;display:inline-block;position:relative}.dcg-component-checkbox .dcg-checkbox i{display:none;font-size:115%;position:absolute;top:-0.15em;left:.1em;text-shadow:-1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff}.dcg-component-checkbox .dcg-checkbox-children{position:relative;top:.1em}.dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox{border:1px solid #999}.dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox i{display:block;color:#e2e2e2}.dcg-component-checkbox.dcg-checked .dcg-checkbox i{display:block;color:#4781b9}.dcg-component-checkbox.dcg-checked.dcg-hovered .dcg-checkbox{border:1px solid #999}.dcg-component-checkbox.dcg-disabled{pointer-events:none;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50)}.dcg-component-checkbox.dcg-disabled .dcg-checkbox{background:rgba(0,0,0,0.15)}.dcg-component-checkbox.dcg-disabled.dcg-checked i{display:block;color:#999}.dcg-component-checkbox.dcg-green.dcg-checked .dcg-checkbox i{color:#127a3d}.dcg-component-checkbox.dcg-small{font-size:85%}.dcg-download-button.dcg-disabled{pointer-events:none}.dcg-mq-container{position:relative;display:inline-block}.dcg-mq-container .dcg-mq-placeholder{position:absolute;top:50%;left:0;right:0;line-height:1em;height:1em;margin-top:-0.5em;pointer-events:none;font-family:Symbola,\"Times New Roman\",serif;opacity:.35;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=35)\";filter:alpha(opacity=35);padding-left:2px}.dcg-container .dcg-mq-editable-field{position:relative}.dcg-container .dcg-mq-editable-field:after{content:\"\";position:absolute;top:0;right:0;bottom:0;width:14px;background:-webkit-linear-gradient(left,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(left,rgba(255,255,255,0),#fff);background:-o-linear-gradient(left,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(left,rgba(255,255,255,0),#fff);background:linear-gradient(to right,rgba(255,255,255,0),#fff);pointer-events:none}.dcg-container .dcg-mq-editable-field .dcg-mq-root-block{padding-right:10px}.dcg-container .dcg-mq-editable-field .dcg-mq-root-block.dcg-mq-editing-overflow-left:before{content:\"\";position:absolute;top:0;left:0;bottom:0;width:14px;background:-webkit-linear-gradient(right,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(right,rgba(255,255,255,0),#fff);background:-o-linear-gradient(right,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(right,rgba(255,255,255,0),#fff);background:linear-gradient(to left,rgba(255,255,255,0),#fff);pointer-events:none}.dcg-has-background-color .dcg-mq-editable-field:after{display:none}.dcg-has-background-color .dcg-mq-editable-field:after .dcg-mq-editing-overflow-left:before{display:none}.dcg-disable-slider{opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30)}.dcg-slider-interior{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;top:-4px}.dcg-slider-interior .dcg-thumb{cursor:pointer;z-index:3;border-radius:8px;position:absolute;top:-8px;margin-left:-19px;width:38px;height:38px}.dcg-slider-interior .dcg-thumb:focus{outline:none}.dcg-slider-interior .dcg-thumb:focus:after{position:absolute;top:-4px;left:4px;content:\"\";pointer-events:none;border:2px solid rgba(79,129,189,0.35);border-radius:50%;width:26px;height:26px}.dcg-slider-interior .dcg-thumb .dcg-graphic{position:absolute;top:0;left:8px;border-radius:12px;width:22px;height:22px;background:rgba(79,129,189,0.35)}.dcg-slider-interior .dcg-thumb .dcg-center{position:absolute;top:0;left:8px;border-radius:12px;width:22px;height:22px;background:#4f81bd;-webkit-transform:scale(0.25,0.25);-moz-transform:scale(0.25,0.25);-o-transform:scale(0.25,0.25);-ms-transform:scale(0.25,0.25);transform:scale(0.25,0.25);-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-slider-interior .dcg-thumb.dcg-hovered .dcg-center,.dcg-slider-interior .dcg-thumb.dcg-down .dcg-center{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}.dcg-slider-interior .dcg-zeroMarker{position:absolute;top:2px;z-index:2;width:2px;height:2px;background:rgba(0,0,0,0.3);border-radius:2px}.dcg-slider-interior .dcg-track{cursor:pointer;height:22px;position:absolute;left:0;right:0}.dcg-slider-interior .dcg-track .dcg-ticks{position:absolute;top:2px;bottom:0;width:100%}.dcg-slider-interior .dcg-track .dcg-ticks .dcg-tick{position:absolute;top:0;width:2px;height:2px;background-color:#fff;margin-left:0;z-index:1;border-radius:2px}.dcg-slider-interior .dcg-track .dcg-graphic{height:6px;background-color:rgba(0,0,0,0.1);border-radius:3px;margin-bottom:6px;width:100%}.dcg-slider-container .dcg-minLabel{padding:10px 11px 10px 8px}.dcg-slider-container .dcg-maxLabel{padding:10px 8px 10px 11px}.dcg-slider-container .dcg-minLabel,.dcg-slider-container .dcg-maxLabel{color:rgba(0,0,0,0.5);margin:-10px 0}.dcg-slider-container .dcg-minLabel .dcg-mq-math-mode,.dcg-slider-container .dcg-maxLabel .dcg-mq-math-mode{font-family:arial,sans-serif;cursor:pointer;font-size:80%;position:relative;top:-1px}.dcg-slider-container .dcg-minLabel.dcg-hovered,.dcg-slider-container .dcg-maxLabel.dcg-hovered{color:#333}.dcg-slider-container .dcg-minLabel.dcg-depressed,.dcg-slider-container .dcg-maxLabel.dcg-depressed{color:#000}.dcg-EDIT-LIST-MODE .dcg-animate-play{display:none}.dcg-EDIT-LIST-MODE .dcg-animate-pause{display:none}.dcg-EDIT-LIST-MODE .dcg-slider-speed-container{display:none}.dcg-static-mathquill-view *{-webkit-user-select:text!important;-moz-user-select:text!important;-ms-user-select:text!important;user-select:text!important;-moz-user-selection:text!important}.dcg-tooltipped-error{color:#e66b3c;font-size:22px;cursor:pointer;display:inline-block;width:26px;height:26px;text-align:center;-webkit-animation:dcg-delayed-fadeIn 1s;-moz-animation:dcg-delayed-fadeIn 1s;-o-animation:dcg-delayed-fadeIn 1s;-ms-animation:dcg-delayed-fadeIn 1s;animation:dcg-delayed-fadeIn 1s;position:relative;top:3px}.dcg-tooltipped-error.dcg-small{font-size:14px;width:16px;height:16px;position:relative;top:1px}.dcg-tooltipped-error.dcg-white{color:#fff}@-webkit-keyframes dcg-delayed-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}80%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-delayed-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}80%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@-webkit-keyframes dcg-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}.dcg-tap-container [ontap]{cursor:pointer}@font-face{font-family:'dcg-icons';src:url(\"data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBjUAAAC8AAAAYGNtYXBkzWIMAAABHAAAAKxnYXNwAAAAEAAAAcgAAAAIZ2x5ZpZzze0AAAHQAABloGhlYWQTeSFlAABncAAAADZoaGVhByoEWQAAZ6gAAAAkaG10eJvCIS0AAGfMAAABpGxvY2FH61+UAABpcAAAANRtYXhwAHwCLwAAakQAAAAgbmFtZZMnHvMAAGpkAAABnnBvc3QAAwAAAABsBAAAACAAAwP/AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpDAPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAkAAAACAAIAAEAAAAAQAg5QPlBeUy5TTlQ+VK5U/lVeVZ5WPlZukM//3//wAAAAAAIOUA5QXlCuU05TblRuVM5VHlV+Vb5WbpAP/9//8AAf/jGwQbAxr/Gv4a/Rr7Gvoa+Rr4Gvca9RdcAAMAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQFKAP4CtgJ2ACYAAAEWFAcOASMiJi8BBw4BIyImJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwK2DAwGDwgIDwZ8fAYPCAgPBgwMfHwMDAwiDXt8DCIMDAx8fAFEDCIMBgYGBnx8BgYGBgwiDHx8DCIMDAx8fAwMDCIMfHwAAAIBPAD8AsQChAAbACgAAAEiBw4BBwYVFBceARcWMzI3PgE3NjU0Jy4BJyYDIiY1NDYzMhYVFAYjAgAoJCQ1DxAQDzUkJCgoJCQ1DxAQDzUkJCgvQkIvL0JCLwKEEA81JCQoKCQkNQ8QEA81JCQoKCQkNQ8Q/stCLy9CQi8vQgAAAQFmASYCmgJaAAwAAAEUBiMiJjU0NjMyFhUCmlpAQFpaQEBaAcBAWlpAQFpaQAAAAQCd/8QD/AMjABYAAAEUBw4BBwYjIicuAScmJwEWFx4BFxYVA/woKIpcXWk0MTFaKCgjAs4iGxslCgoBwGldXIooKAoKJRsbIQLPIikoWjExNAAABQB4ADsD7gNIAAUAGAAeACQANAAAAS4BJx4BJwcnNxQyFR4BFx4BFxYUMxQWFQ8BLwE3FwMHLwE3FwMHLgEnLgEnOAExLgEnNxcD7gEBAQEBaEw/TQEGGgYFCQUBAQK0gRkmgSfRgRkmgSbQRwMHBAMFAwcaBkg/AjoDBAICBMtNQE0BAQUZBgULBQEBAQEBtIIZJ4En/v+CGSaCJ/7/RwMGAwMFAwYbBkg/AAEBTQKpArIDoQBFAAABLgEnNCY1Iy4BLwEuAQcOAQcOAQ8BMAYHDgEXMR4BFx4BFTIWFR4BMzI2Nz4BNz4BNx4BHwEwFhceATMyNjczMDQzPgEnArIDDwYCARs1HQIGFhIOEgUBAQFtAgEGEgMBDwUBAQEBBhQQEhkHAQEBDx0PDh4OAQIBBxcSEBQGAQEGGAYC+wsPBQEBARw2HAIGEAICDwUBAQFtAgEGFxMOEgUBAQEBAQYPFQgBAgEPHQ4OHg4BAgIIFBAGAQUfFwAAAAAFAEr//QO2A4MAJwBQAHgAoACsAAABNhYfAR4BFxYGBw4BBw4BBwYmJy4BNTQ2Nz4BNy4BJy4BNTQ2Nz4BAQYmLwEuAScmNjc+ATc+ATc2FhceARUUBgcOAQceARceARUUBgcOAQcTJjY/AT4BNzIWFx4BFx4BFxYGBw4BIyImJy4BJw4BBw4BIyImJy4BARYGDwEOAQciJicuAScuAScmNjc+ATMyFhceARc+ATc+ATMyFhceAQMUBiMiJjU0NjMyFgMfCAwGbQQLAQEJBhw3HAQKBQoPBAUJEgUUKhMVJhYFEgkFBQr9yQgMBm0ECwEBCQYcNxwECgUKDwQFCRIFFCoTFSYWBRIJBQUKB4oBCwZtBQoGCAoFHTYcBQsBAw4EBQsGCRAFEysSFiYVBRAKBwoGBAoBKQELBm0FCgYICgUdNhwFCwEDDgQFCwYJEAUTKxIWJhUFEAoHCgYECjk0JSQ0NCQlNAJVAQsGbQUKBggKBR02HAULAQMOBAULBgkQBRMrEhYmFQUQCgcKBgQK/tcBCwZtBAsGBwsFHTYcBAwBAw4EBQsHCQ8FFCoSFiYWBBEKBgsFBAoBAcEIDAZtBAsBCQUcNxwECgUKDwQFCRIFEysTFScVBRIJBQUK/a8IDAZtBAsBCQUcNxwECgUKDwQFCRIFEysTFScVBRIJBQUKAR8lNDQlJDQ0AAEAPv/TA8ICngAwAAABFAcOAQcGIyInLgEnJic3PgE3PgE3PgEzMhYXHgEXHgEXHgEzMjY3PgE3HgEVFhQVA8IlJXxSUVlBTEuFLy8HGQwpCR06IxAmFRYrEhUmEhMlFxErFyZAGh01HwUqBgHArWJjYg0MERFIOTlRAhJSFDyAMBggKh0hTigoUCIcKGE3OXkwAwEFMT0lAAAAAAL/1QCgBCAC2gBVAFcAAAEiBw4BBwYxDgEHDgEjIiY1NDY3PgE3PgE3PgE3PgEzMTIWFx4BHwEeATMyNjc+ATc+ATc+ATMyFhUUBgcOAQcOAQcOAQcOASMiJicuAScwJy4BJyYjJTEBVwwSEiEMCwgRCRpXRxslJRkIIyAIEAgVLhsLPzQ4RQsVJBINEEUPDhsdCBAIFS4bC0AzGyUiGgEPCRcoFQgQChtYRjdHCxYnEgwMIxITDQKNAlccHEQdHBElEDiEJRsaJAIFLkAQIxEvXCcOQ1EUIEkjGiOKODkQIxEvXCcOQyUbGiUBAgwOH1MqESUQOIROEiJPJh4eSB4eBQAABP/VAKQEIALeABEALQBPAGsAADciJjU0Njc+ATc+ARceAQcOASEiJicuAScmNjc2FhceATMyNjc+ARceAQcOASMBIiYnLgE3PgE3PgEzMhYXHgEXFgYHBiYnLgEjIgYHDgEjJSImJy4BNz4BNz4BMzIWFRQGBw4BBw4BBw4BIxUbJSUZAx0YDDMWGA4MHE0CSzdHCwkUCQ0RGBgyCwgmEBAZHQsyGBgSDBtYRv4+Bw8GGBELEB0PK0YNOEUNChEKDBAYGDIMCCATEyUPCx8RApkIDwcYDg0JFAkrRg0bJSIaAQ8JCA8JCCAQpCUbGiUBAh8uGA8NDTIXOFtPEQ8iFBgyCw0RGBFNNzgYEQsLMhg3gQElAwMLMhggMxQ8FVEUDiAUGDILDREYEE5UGxASJAQEDTMYEx4PPRQlGxolAQILDwsYEBASAAr/0QCiBCQC5ABdAHAAhACYAKwAvwDSAOcA+gFYAAA3IiYnIiYnLgEnLgEnLgEnLgEnLgEnNCY1NDY3NDY3PgE3PgE3PgE3PgE3PgE3NjIXMhYXHgEXHgEXHgEXHgEXHgEXHAEVHAEHFAYHDgEHDgEHDgEHDgEHDgEHNCIjJTQ2MzEyFhUxFAYjMTgBOQEuASUuATcxPgEXMR4BBzEOASMxIiYnIS4BNzE+ARcxHgEHMQ4BIzEiJiclJjY3MTYWFzEWBgcxDgEjMQYmJyUuATcxPgEXMR4BBzEOASMxIiYlLgE3MT4BFzEeAQcxDgEjMSImJTEmNjcxNhYXMRYGBzEOASMxIiYnJzQ2MzEyFhUxFAYjMTgBOQEuAQUqASciJicuAScuAScuAScuAScuASc0JjU8ATc0Njc+ATc+ATc+ATc+ATc+ATc2MhcyFhceARceARceARceARceARcUFhUcAQcUBgcOAQcOAQcOAQcOAQcOAQcGIiMVAwYDBAYDAwYCAwQEAQYBAgMCAQECAgEBAwECAwIBBAMCBgMDBQMDBgQGDQYDBwMDBgIDBAECBQIBAwICAQECAgICAwECBAMCBQQDBAMEBgMFBAJHJRsbJSUbGib+FxgQDAwyGBgQDAggEggNBwKEGBANCzIYGBENCCASBg4I/vQMDxgYMwsLDxgGDwcRIAj+1xgQDAwyGBgQDQggEQcNAn8YEQ0LMhgYEQ0IIBIGDf5JDA8YGDIMCw8YBg8HESAIgCQcGyUlGxwkAsYDBwMDBgQDBgEDBQMCBQECAwIBAgECAgMBAgMCAQQDAgYDAwQDBAYDBwwHAwYEAwYBAwUDAgUBAgMCAQIBAgIDAQIDAgEEAwIGAwMEAwQGAwMHA6QBAQMCAQMCAgMEAQYDAwUDAwcDAwYEAwYDBAYDAwYCAwQDAgUCAgMBAgECAQEDAgEDAggFAgIFBAMEAwMHAwMFAwMGBAMGAwQFAgMEBAEGAQIDAgEBAgI+GyUlGxslAiVoCzIYGBENCzIYEBIDAwsyGBgRDQsyGBASAwMeGDILCw4YGDMLAwMCEhKNCzIYGBENCzMYEBIEAw0wGBgRDQszGBASBB4YMwsLDxgYMgsDBBIQpRknJRsbJQElJAIDAQIDAgEEAwIGAwMEBAMGAwQGAwMHAwMHAwMGAQQEAwIFAgEDAgIBAQICAgICAwECBAMCBQQDBAMDBwMDBwMDBgQDBgMEBgEDBQMBBgECAwIBAQICAAABASYA9wLcAo8AAgAAARMlASZ0AUICj/5ooAAACAEJANUC+gKmABcAKQA7AFMAZQB9AI8AoQAAASImLwEmNjc2Mh8BHgEHDgEHDgEHBiIjEyImLwEmNjc2Fh8BFgYHDgEjJyImLwEmNjc2Fh8BFgYHDgEjFyImJy4BLwEmNjc2Fhc2FhcWBg8BDgEjNyImJyY2PwE2FhcWBg8BDgEjNyImJyY0NyY0Nz4BHwEeARUUBg8BDgEjJyImLwEuATc+AR8BHgEHDgEjJyImLwEuATc+AR8BHgEHDgEjAS8LEQIIBAYICBMJHAsIBgMKBgMKBgQFAk0LEgERAwsNDRcFEQMMDQQFAScLEQIRAwwNDRYFEQQMDQUEAkUEBgMHCQEJAwwNCxUGCxUGBwkNGwcHA3sJDwMHCQ1ICxkHBggNSQMHBakKDwMDAwMDBxkLHAgJCQgcAwcFUwUHA0ALCAYGGQxACwgHBA8IlgQHBEALCAcGGQtACwgGAw8KAk0MCx4KEgYHBQ8GGQsHBwEFCAIC/vMMCzoNFwUDDA05DRcFAQGGDQs5DRcFAwwMOg0XBAIB8QEBBAoIHgwXBQMJCwMJCwsZBw8BAT4JCAsaBiQHCQ0LGQYlAQFTCQgIEAYHEQYLCAYPBQ8ICQ8DDwQBTQMBJQYZCwwIByQGGgsICVYCAiQGGgsLCAYlBhkLCgcAAA0BCQDVAvoCqQARACMANQBHAFwAbQB+AI8ApQC2AMcA2ADpAAABIiYnJjY3PgEXHgEHDgEHKgETIiYnNSY2NzYWFxUWBgcGIiMnIiYnNSY2NzYWFxUWBgciBiMnIiYnNSY2NzYWFxUWBgcOASMTIiYnLgEnJjY3NhYXHgEXFgYHDgE3IiYnJjY3MzYWFxYGByIGIzciJicmNjczNhYXFgYHIgYjNyImJyY2NzM2FhcWBgcGIiM3IiYnJjQ3MDQxPgEXHgEVFAYHDgEjJyImJyMuATc+ARceAQcOASMnIiYnIy4BNz4BFx4BBw4BIyciJicjLgE3PgEXHgEHDgEjJyImJyMuATc+ARceAQcOASMBJgkRAwQGCAgTCQwIBwMMCAMCVgsRAgMMDA0XBQMMDAUFAR4LEQIDDAwNFwUDDAwEBQIeCxECAwwNDBcFAwsNAwUDWAQGAwcJAQMLDQoQBgIDAQcJDAQITgoPBQcIDAILGQYHCQ0BCANRCg8FBwgMAgsZBgcJDAQGA08KDwUHCAwCCxkGBwkNAQcEUQoPBQMDBhkMCAkJCAQGA1gDCAQCCwgGBxkLCwgGAw8IVwMJAwILCAYGGQwLCAcDDghYAwgEAgsIBgcZCwsIBgMPCFcDCQMCCwgGBhkMCwgHAw4IAmsMCwoSBgcCBAcZDQcJAf7PDAsCDRcFAwwNAg0WBQJkDAsCDRcFAwwMAg0XBQJmDQsCDRcEBAwNAg0XBQEB/tEBAQQJBwwZAwMFBgIFAgsZBwEBJwkICxkGBwkMDBkGAigJCAwZBgYIDQsZBwIpCQgLGQcGCQwMGQYCJgkIBw8IAgsIBgUPCgkPBAEDMQMCBhkLCwgGBhoNBgkxAwIGGQsLCAYGGg0GCTQCAgYZCwwIBwYaDQgGMQICBhkMCwgHBhoMBwgAAgEJANUC/AKpABgAHAAAJSImJy4BJwMmNjc2MhcFHgEVFAYHBQ4BIwMTNyUBmgQGAwcJAXMEBggIEwkBtAgJCQj+vgUHA0BT6v7D1QEBBAoIAZcKEgYHBPoFDwgIEASgAQEBdP7Zc7QAAAAAAQCQABADbQN0ADUAAAEVFAYjIiY9ATQmKwEDFBY7ATIWFRQGIyEiJjU0NjsBMjY1EyMiBh0BFAYjIiY9ATQ2MyEyFgNtGRESGBoSxAIZEj4RGRkR/tsSGBgSPBIZAsQSGRkREhkZEgKIERkDSqwRGRkRVhIa/XASGRkREhkZEhEZGRICkBoSVhIYGRGsERkYAAAAAAEABAAVA+8BlQBRAAAlBw4BBzAiFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTA2NTAyMToBMzAyMTAyMTAWMTAyFR4BHwEWFA8BA+SRAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgICBAICBQKgCAgLs5EDBgICAwIDDAhkAgIDFRUzDQYQJktqYggLAwEBAgIBAQICAgMDoAgZCA0AAAEAC//NA/cDugBuAAAlBw4BJyY2Nz4BNw4BBwYmLwEXBw4BBwYmLwEPAQYmJy4BPwEHKgEvATc+AT8BJy4BNz4BNzMXJy4BNz4BNw4BBw4BJy4BNz4BNz4BNz4BNz4BNz4BFzY3PgE3NjsBNhYHFRQHDgEHBgcWBgcOAQcCRV8RIQwNEhwdGwUUKRURKA0cBAEEDAUKEwQJVgMQFQIGAgM7jgUQBwgCAQ4EejoPCgQEFAQFhSENCAYJFAoWRy0qJwwHAQMDCgUIGg0JEAMIGQxFbBlSXVyqRUUkAhQgAQYGQEREfQYKLggcCyVKCxANDCcqK0QXCRIIBwkNG5oEDAsBAwwORUYCDwkCBRAJaDQHBwwJCwJDGwUSCgsFARsiDSgSFy4WBBsfHBEMBg8HCBEICyEPDBQFCxwIMAcFe0RDQAYHASAUAiVHRq1dXlMbaUIMGQgAAAAAAQAO/8QD9wO8AGwAABMeARceARc2Nz4BNzY3NhceARcWFxYXHgEXFhcWFxYGBwYHDgEHBgcOAQcGJyYnLgEnJicuAScmNjc2FhceARceARceATM+ATc+ATU0JicuASciBgceARceAQcOASMqASMiBicmNjU8ATU0NjMzFiQPEh4PISIiTCsqMzIuLVEjJB8dGhstEhILDQQFBwsKEyJnRiEnKFkxMTRIPz9lJSUUAgQCAiYdHS8EBAUCDjIiKnpVUnorLTs9Kyt6UEplMBEaEwkxAwI5FRwuHC+FDwgCAhMDvAEoDxIgDRkWFR8KCQEBCAccFBQXFxwcQCUkKCowMF8tLSdJbikUDxARAQEKDx8fXTs8RgcZDRMgBAQODgoTBTJQHyg6AT8sLX5OT38rLD8BKiEUGxIJKBQTAwMeDzMVMlE1Fj4AAAkAAAFWBAACKgAYADEAowDGAUUBWgHCAfcCLAAAAS4BIyIGBw4BFRQWFx4BMzI2Nz4BNTQmJwcyFhceARUUBgcOASMiJicuATU0Njc+ATMlIgYHFS4BJyM0IiMqASMqASsBKgEjIgYrASoBIyIGIw4BBzEOAQ8BMAYHDgEHFAYxBw4BFRwBFRwBFxUwFh0BHgEXHgEfATAUMTMeARcyFhceATsBOgExMjYxMDIxMzAyMT4BNx0BHgEXMz4BPQE0JiMHFAYHDgEjIiYnMCI5AS4BJy4BJzQmNTQ2Nz4BMzIWFx4BFTc8ATUuAScuAScuAScjMCYjKgEjKgEjKgEjIgYHDgEHDgEHIgYHDgEVFBYXHgEXHgEXHgEXHgEXHgEXMhYzOgEzFjI7AToBOwE6ATMwMjE3PgE3PgE3PgE3NTY0NTQmIyIGBw4BBw4BIyImJy4BJzUuAScuATU7AT4BNzE8ATEnPgE3NT4BNz4BMzIWFx4BFx4BFSMlFRQGIyImJzU0JicuAScwIiMiBgcOAR0CMRUUBiMiJj0CMDQxLgExMCYnLgEjIgYHDgEdAQ4BIyImPQE0NjMyFhc2Mjc+ATMyFhceARcyFjMwNjE+ATc+ATM6ATMeARcUFhceARUHFAYrASImNTQ2OwEyNjU0JisBMCIxIiY1NDY7ATIWFRQGKwEiBhUUFjMxMDIxMzIWFx4BFSEUBisBIiY1NDY7ATI2NTQmKwEqATEiJjU0NjsBMhYVFAYrASIGFRQWOwE4ATsBMhYXHgEVA1wMHBERHQwLDAwLDB0RER0LDAwMDDkKEwcICAgHCBIMCxIHCAcIBwgSC/1vBQgBCRUMAQIBAQEBAgMCAQEBAQECAQEBAQEBAgEJEQgBAQEBAQEBAgIBAQYHAQEDCggDBwMDAQEDAQECAQcQCAEBAgEBAQIBDBUJAQcEBAUHCAYPBwgHEgsFCQQBBQkDBgYCAQcICBIKCxEICAfSAQYFAgYDCRULAgIBAQMBAQEBAgQCCxMJAQMBAgMBAQEBDAwDAwMJBgEDAgIFAgIDAgUJBQECAQECAQECAQEBAQEBAQIBAgEPGQoCBAIBAQEBCAYEBgICAwIIEgsLEggBAgIBAgEBA3cBBAYBgwEEAgIDAggSCgsSCAMGAgEBZAHtCQYFCAEEBAUJBQEBBgoEBQQIBgYIAQMEAQUKBgYKBAUEAQgFBggIBgQHAgEBAQYOBwsTCAEBAQEBAQIBAgEHEwsBAwEJEQcCAQgJ3hsUOQYICAY4CQwMCRkCFBwcFDgGCAgGOAkLCwkBGgUKBQ0PAh8cEzoFCAgFOQgMDAgZAQEUHR0UOAYICAY4CQwMCAEBGgUKBA0QAeIMDAwMDB0RER0MDAwMDAwdEREdDAQICAgTCwwTBwgICAcIEwsMEwgICEwHBTcICQEBAQEDCQcBAQEBAQEBAwIBAQEKFw0BAgECBAEEAgECChMIAwUDAQEBAQEBAQMDAQEKBwYBBAcBAQgFtwYIggsTCAgHAQICBgQFDQcDBgQLEwgICAgICBMLAwIDAgkQCAQIAwkMAgEGBgECAQEDAQIBDB0RCA8HCA0HAQMBAgQBAQIBAgMBAQEBAQwKAwUCAQIBAQEDAQYIAwMCBAIICAgHAgMBAQEDAgMHBAEHBQEBCwQIAwECBAIICAgIBAgFAQQCC1wFCQcGXQYLBQQEAQUEBQoGAQFbBQkIBQFcAQQKBQIEBQUEBQsGXQYHCQWJBQkFBAEBAwQHBwECAQICAQIBBwcBBwYBAgEIFQw7FBwIBgYIDAgJCx0TFB0IBgYIDAkIDAICBhgOFBwIBgYIDAgJCx0TFB0JBQYIDAgJDAICBhgOAAIARwAPA7kDcQAwAE8AAAEuASMiBg8BETQmIyIGFREnJiIHBhQfAR4BMx4BFzgBMRYyNzgBMT4BNzI2PwE2NCcTISImPQE0NjMyFh0BFBYzITI2PQE0NjMyFh0BFAYjAvoHEQkKEQeHHBQUHIcOJw4ODtgBAgECAwILGAsCAwIBAgHYDg4l/cJAWhwTFBwjGAI+GCMcFBMcWkACCQcHBweIAcAUHBwU/kGHDg4OJw7ZAQICAgEFBQECAgIB2Q4nDv4GW0DUFBwcFNQZIyMZ1BQcHBTUQFsAAAMAFABtA+wDEgAZADMARQAAJSImLwEuATU0Nj8BNhYXFgYPARceAQcOASMhIiYnJjY/AScuATc+AR8BHgEVFAYPAQ4BIwUiJiMuATcTPgEXHgEHAw4BIwEWBw8G1wcICAfXDiMLDAMNsrINAwwGEQkB1AkRBgwDDbKyDQMMCyMO1wcICAfXBg8H/scDBgMREQSfBR4RERIFngQXDt4FBbgGEQkKEQa3DAMNDiMLmJcMIw0IBwcIDSMMl5cMIw0OAgu4BhEJChEGtwUFcQEFHxECUBESBAUfEf2wDxEAAAAAAwBGAA4DuwNyADAAOgBZAAABDgEjIiYvAREUBiMiJjURBwYiJyY0PwE+ATc+ATc4ATE2Mhc4ATEeARceAR8BFhQHAzIWFyYiBz4BMwEhIiY9ATQ2MzIWHQEUFjMhMjY9ATQ2MzIWHQEOASMC+wcSCQkRB4gcFBQchw4oDg4O2QECAQIDAgsZCgIDAgECAdkODvsGDAULGQoFDAYBH/3CQFscFBMcIxkCPxgjHBQUHAFbQAJIBwcHB4f+PxMcHBMBwYcODg4nDtkBAgEBAgEGBgECAQECAdkOJw4BKgMDBgYDA/ycW0DVExwcE9UZIyMZ1RMcHBPVQFsAAAAABgAIAEgD+AM3AAwAMQBAAE8AfgCLAAAlDgEjMjY3NDAxDgEHASM1NCYnLgEjIgYHLgEjIgYHDgEdASMiBhURFBYzITI2NRE0JiU+ATMyFhcRLgEjIgYHEQU+ATMyFhcRLgEjIgYHEQEhETMRFBYXHgEzMjY3PgEzMhYXHgEXHgEzMjY3PgE3PgEzMhYXFjY3PgE1ETMRJTAiIyImJx4BFx4BFwIMAwYDBgsFAgYCAcFGDAoqYjQwWicnWjA0YioKDEYSGRkSA5oSGRn+RiBHJSdIICFIJiVGIf6bIEgnJ0ggIUgmJkghAvH8nioIBwUKBQQGBCNULipPIgIGAgMGAwMGAwIGAiJPKi5UIwkRCAcIKv5PAQEFCwQCBgIDBgO0AQIDAwEBAgECFCwLEgQREQ4ODg4REQQSCywaEv3YEhoaEgIoEhoUCgoLCv4rCQkICQHVAQoLCwr+KwkJCQkB1f21AfH+VAkQBQMDAgEODw0MAQIBAQICAQECAQwNDw4EAgUFEAkBrP4PIQQDAQIBAQEBAAAEABEADwPvA3EAJAApAC4ASQAAASM1NCYjISIGHQEjIgYVERQWOwEVFBYzITI2PQEzMjY1ETQmIyUhFSE1ASE1IRU3FAYrATU0JiMhIgYdASMiJjURNDYzITIWFREDgmsgFv4/Fx9sLUBALXIeFQHGFR5mLUBALf21AZL+bgGZ/m0BktMTDWUfFf46FR5yDRMTDQMEDRMCfb4XHx8XvUAt/tMtQDUVHh4VNUAtASwuP6enp/04g4OIDRM1FR8fFTUTDQEsDhISDv7UAAAIAEj/8wPCA40AAQAEABUAJgAvADgAQQBKAAABMSUxFQcnJiIHAQYUHwEWMjcBNjQnDwEGIi8BJjQ/ATYyHwEWFAc3FRcnNwcnFwcTFRcnNwcnFwclFTcvAQ8BHwE3MzcHJxcHNxcCHQFCJRkOKQ/9bQ4OGQ8pDgKTDg4PngQKBCYEBJ0ECwQmBAQpMhoaMjIaG2FALQ4wQC0N/tIuLhANLS4QeAEySTcRM0k3ApieAWkZDg79bQ4qDhkODgKTDykOLp4EBCYECwOeBAQmBAsDfQEaMjIaGzMy/u8BDS9ALA0vQMgBEA0tLhANLdo3ETJIOBEyAAAAAAEA4P/VAxoDqwAfAAABByIGFxMWBg8BBiYnAy4BDwEGJjUDNDY3NhYXARYGBwMT5gUDAbYDBghTCA8DtQIHAqIJDA0EBQMHBwIgCAQLAbcTBwP+fQgOAykDBQcBggMCA6IIBg0C0QYHAgEBBf4nCAwCAAAABAAzAKYDwgLGABsANABTAHUAAAEiJicuATc+ATc+ATc+ARceAQcOAQcOAQcOASMDIiYnJjY3NhYXHgEXPgE3PgEXHgEHDgEjAyImJy4BJw4BBw4BJy4BNz4BMzoBMx4BFxYGBw4BIwEiJicmNjc+ATc+ATc+ATc+ARceAQcOAQcUBhUOAQcOASMDYgULBRUPCAsRBgUGAgooFBUPCAEGBAYSCggbELc6Th0LDhMTKgsdIwUDDQkNLBIRBg8bNBvrDhgHFhwFAxQQCywREwkNE0ArAQQBMkUWCwsTBw8G/p4LGAgOBRIDDQsCAQIBCAQIKRUVEAkFBwMCDBsTCBIIAbcDAggpFRgrEAwNBRUPCAooFAQOCBAsGRAT/u9bNBQqCwsNEzUhAgILDREGDw0sESAjAVoNDSYaAgITGBMJDQssEh4/A0wmEyoLBQT+xgoKESsOAxUZBAMCBRAHFBEKCCkVDRAFAgEEGC8OBQYAAAABAFoAqwOvAsQAQAAAAQ4BBw4BBw4BIyoBIyYnLgEnJicuAQcOAQcOAQcOAQcuASc+ATc2Nz4BNzYzMTIXHgEXFhceATMyNjc+ATceARcDrw0VDRMnFQtEPAEGASUcHC8WFRgQPCMjMxAUJxQFEw0QFgYMGA0XFhYxHR0lKB4fMhYXGBA7ISA5EBs0IBAbBgIRGjgdKVMgEUoCFBRDLCwyI5QCAYsgKlIgCBYNHUMlGDMbMy0tQhMTFBVFLi40IZCQIT1tIx1AJQAAAAAFAE8ADwOxA3MAVABeAGgAcgB8AAABBwYiJzgBIy4BPQEjFTMyFg8BBiIvASY2OwE1IxUUBi8CJjQ/AzYWHQEzNSMiJic4ATEmND8BNjIfARYUBzgBMQ4BKwEVMzU0Njc2Mh8BFhQHJTEHIiYnHgE7ATcOASsBNTM+ATcTLgE9ATMVHgEXNQ4BHQEjNTQ2NwOxxAIFAgIDBbokCwwEUQQOA1EDCwsktQsGjTULCzMEiwYLtSYGDAECAlMFDgVTAQECCwYnugMDAgYDxAsL/iklCAkCAgsGJYICCQglJwQKA4YFBgMBBAMDAwIDBQGzUwICAgsGJ7gLBsILC8IGC7glCwsDPBcFDQQVAjoDCwslugQEAgUCxAsLxAMEAgMFuicGCgMBAVMFDgXpAgUFAwUGBQYDAQQD/r4CCQgkJgUJA7wDCgYnJAgMAgAAAAEAbwAvA7MDbwAuAAABBwYmPQEjERQGIyImNREhIiY1NDYzITUjIiY/ATYyHwEWBisBFTM1NDYfARYGBwOxxAgJuhYODxX+uQ4WFg4BRycLCwNTBQ4FUwMLCye6CwbECgELAbNTAwsLJ/65DhYWDgFHFQ8OFrgKB8QLC8QHCrgnCwsDUwQNBQADAGP/wAOeA8ABJgHcAgsAAAEiBiMOAQcOAQcwBjEiBiM4ATEOATEGIgcwBjEOAQcOAQcwIjEOAQcOASciJicuAScuAScuAScuAScuAScuAScuASceARcuAQc2MhcmBgcwIjEiBiMGIgc4ASMOASMOAQcOAQc+ATcOAQcyNjEOAQcOAQc4ATEOASMUMCM4ARUjMAYHMAYxDgEjBjAHIgYjDgEHMCIxBjAHOAExDgEHKgEjMSIwIy4BJx4BFy4BJyIwMTQiMSImNS4BJyYnLgEnJjc+ATceARcxFhceARcWFx4BFxU+ATM+ATc+ATcwNjMuAScmJy4BJyYnNjc+ATc2MTAXHgEXFhcOAQcOAQcOAQcyFhUeARceATMwMjM6ATcxPgE3Njc+ATc2NzA2Nx4BFxYVDgEHBgcHMAYjMAYxDgEjOAEjDgEHDgEHDgEPAQ4BBwYiFSIwMQ4BBzAiMQ4BMQ4BBzgBMQ4BByIUIyIGByIGIzAGMTAiMQ4BIzAiMRQiMTAiIw4BJy4BJzAmIzgBMSImMSI0IyImJzgBIy4BJzUuAScuAScuAScuAScuAScuAScuASMOAQcwBjEOAQcOAQcOAQcOAQcOAQcOAQc+ATcOASMyNjcOASMGJicWFx4BFxYXNjc+ATc2Nw4BBwUOASsBIiYnLgEnMjY3PgE/AT4BNz4BMzEeARceATMyNjcyFhceARceARcyFjMHA4ADBgMIEAcEBwQBAQIBAQIBAQEBFCERCBAJAQECAQoXDQoRCAQHBAULBQEBAQECAQQHBAYLBQsWDQIDAhAkEwQIBQcPBwEBAwIBAwEBAQQCBw4GChAIAQIBAwYDAQIJEgoECAUBAQEBAQIBAQEBAQEBAQEBAQEBAQEBCRIKAQEBAQEFCwUCBQMJEAcBAQEBCA4GEAwLDwICBA4cDgEBAQsMDBoNDg4LGA8BAQEDCAMGDgcBAQwWCBANDhkKCwpENzdMFBUVFE43N0UYMBoQJxkBAwIBAQcPCAQJBAEBAQIBHCoPDw4OGQsMCgECDRoOAwEHBwYJGAEBAQIEAgEDBgMEBwMCAwIBEiQUAQEBAQEBAQECAgQCAgIBAQEBAQEBAQECAQECAQEBAQELGA0KEgkBAQEBAQEBAQEBDxoNBgsFAwUDAQMCAQIBBAkFBAoFBw8ICRAHAQQHAwUIBAcPBwsZDQYNBwIEAgIEAgwZDAkTCggPCAsXCyszNFwiIwkLLCxxOzomAgMC/v4XMhoBGzMaDBgLAQEBBg4HBAIEAQEBAQoUCg0hFA0YDQEBAQkRCQIGAwEBAQEB0AEBBAMBBAIBAgEBAQEBDSIQCBAHAQIBCAsBCAQDBQMFCgUBAQEBAgEECAQGCwUKEgcBAgEKCwEBAQEBAQEBAQEBAwcEBg8HAQIBAwYCAggSCQQIBAECAQECAQEBAQEBAgEBAQEBBggBAQICAQEBAgkGAQEBBg0HLTMzckA/RgEBAgMFAygoJ00mJiUaOh0BAQEEBwMGDQYCGjIWJicnTSUlIg0TFCYODg4OJhQUDFeTQilUJwIFAwEBBgoEAgIBLVolJicnTicmJQYFAgEBNTIxXCoqJkEBAQEDAwQDAwYEAQQBARIlDwEBAQEBAQECAgEBAQEBAQEBAQEBAQQEAgEGBAEBAQEBCRYMAQUMBQMGAgIDAQECAQUIAwQHAwQDAQYEAQIGAgQJBAcOBwwXCgQJAwECAQECAQYGAwQDBAIEBFk+Pk4UEwQFGhltV1d/AQEBjBUVFxcMGw8BAQYNBwUCAwIBAQ8XCQ0WCgkBAQgNBQIDAgEBAAAAAgAT/9MD7QOtAC0AWwAAATU0Njc2Fh8BHgEVFgYPAQ4BJy4BNzUhFRQGBwYmLwEuATc0Nj8BPgEXHgEHFTcjIiYnJjY/AT4BMzYWHwEeAQcOAScjETMyFhcWBg8BDgEnIiYvAS4BNz4BFzMDHAYFBg4JnwUFAQUGnQkNBwUGAf3EBQUGDwieBgYBBQaeCQ4GBQYB32sLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxrAf5rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4Ma94GBQYOCZ8FBQEFBp0JDQcFBgH9xAUFBg8IngYGAQUGngkOBgUGAQAAAAEAEwD7A+0ChQAtAAABNTQ2NzYWHwEeARUWBg8BDgEnLgE3NSEVFAYHBiYvAS4BNzQ2PwE+ARceAQcVAxwGBQYOCZ8FBQEFBp0JDQcFBgH9xAUFBg8IngYGAQUGngkOBgUGAQH+awsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGsAAAABATv/0wLFA60ALQAAJTMyFhcWBg8BDgEjBiYvAS4BNz4BFzMRIyImJyY2PwE+ARcyFh8BHgEHDgEnIwI+awsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGukBgUGDgmfBQUBBQadCQ0HBQYBAjwFBQYPCJ4GBgEFBp4JDgYFBgEAAAAAAQAVAQQD6wJ6AB4AAAEhNTQmJyYGDwEOARUUFh8BHgE3PgE9ASEyNj0BNCYD3Pz+BgUFDQiVBQYGBZUIDQUFBgMCBgkJAfxkCw0CAQYIlgMMCAgLB5UIBgECDgpmCQZWBgsAAAEAFQEGA+sCfgAfAAATFRQWMyEVFBYXFjY/AT4BNTQmLwEuAQcOAR0BIQ4BFRUHCAMCBgUFDQiVBQYGBZUIDQUFBvz+BgkB61YEC2YLDQIBBgiWBA0ICA0FlQgGAQMNCmQFDAQAAAAAAgAPAMsD7wK3AD4ARAAAATgBMQ4BIyEVFAYHBiYvAS4BNTQ2PwE+ARceAR0BIToBMzEyNjc4ATE+ATU8ATU0Jic0NjsBMhYVHAEVFgYHJw4BIzI2A2YULxj9rAMFBQwHgAQEBASABwwFBQMCVAEBAggNByk5AQEGBE0FCAJMPzsHDwYIDQFNCAlaCQsDAgQIgAUKBwYMA4AGBgECDApXAgIKRy0DJxgVKQ0ECAYGGm0GR3EZUwICAgAAAAABAGv/0QOVA68AHwAABREjIiYnJjY3AT4BFzIWFwEeAQcOASsBERQGKwEiJjUBb8sYHQQFDREBRQsaEBEbCwFHEQ0FBB0YzREN5A0REQIRDAsNHhEBRwsMAgoL/rkRHg0LDP3vDRERDQAAAAAJAAD/wAQAA8AAAwAHAAsADwATABcAGwAfACMAADchESERIREhESERIQEhESEVIREhFSERIQEhESEVIREhESERIQABAP8AAQD/AAEA/wABgAEA/wABAP8AAQD/AAGAAQD/AAEA/wABAP8AwP8AAoD/AAKA/wABAP8AgP8AgP8AAoD/AID/AAQA/wAAAAUAJv/AA9oDwAAIAAwAFgAZACEAAAE1IQERMxUhESUVIzcDIxE3NSEVIwERExUjASERMzUhESMC9/42/vnjAtH9O2hoDJLvAUOY/vjuaAH6/c7yAUICAwS8/vP9ybwDRDFoaP2YAa8C8W3+9f7WAa1p/gABr/P9XgAAAAADAA0AAAPzA2IACwAbACwAACUBJiIHAQYWMyEWNiUjIiY9ATQ2OwEyFh0BFAYnIyImPQE0NjsBMhYdARQGIwPz/joTNRL+OhMbJQOPJBn+J1oICQsGWggJCQhaCAkLBloICQkITQMVICD86yAtAi9PCgdVCAkKB1UHCsYLBv4ICQsG/AgLAAAAAQER/8AC7wPAABQAAAUjESM1MzU0NjsBFSMiBh0BMwcjEwJRwICAUYCNWjETnhONAkACALFpa3uxJSFYsf4AAAgACQBGA/cDOgAQACEAMgBDAFMAYwB0AIQAABMRFBYzITI2NRE0JiMhIgYVEyMiJj0BNDY7ATIWHQEOASM1IyImPQE0NjsBMhYdAQ4BIzUjIiY9ATQ2OwEyFh0BDgEjASEiJjURNDYzITIWFREUBjMjIiY9ATQ2OwEyFh0BFgYnIyImPQE0NjsBMhYdARYGIzUjIiY9ATQ2OwEyFh0BFgYJCwgDyAgLCwj8OAgLqFUICwsIVwgLAQwIVQgLCwhXCAsBDAhVCAsLCFcICwEMCAI4/i4ICwsIAdIICwuzVwgLCwhXCAsCDQhXCAsLCFcICwINCFcICwsIVwgLAg0DJv00CAwMCALMCAwMCP1eCwhYCAsLCFgGDfwLCFgICwsIVggN/gsIWAgLCwhYCAv+BgsIAk8IDAwI/bEGDQsIWAgLCwhYBg38CwhYCAsLCFYIDf4LCFgICwsIWAgLAAIACgAaA/cDYgAcAEUAAAEhBgcOAQcGBw4BBwYmIyE2Nz4BNzY3PgE3NhYzJSEiJgcOAQcOAQcmNSY0NTY1NDY3NhY7ATIWHwEWNjMyNhceARcWBhcBLwLIDxAQIBEREQYMEhI5Gf03Dg8PHw8PDwgNGhQ2GgJA/fosZCRBLBUJFQgCAQEQKStsNmYvSQ8LEGw3HVYaCxYDCQwFAdcvLy9fMC8wFSEIBwMrLi9fMC8tGCwEBwVWBQkQcEAgPh49QECEQkJBMDoFBQUEIDMoAQYKBRUIG1kdAAH//gAiBAADXgAgAAABEQ4BByEuASc2NTY0NTQ1PgE3Mx4BFxYzOgE3MjMeARcEAAUmIvyYICcGAQEFJiLoVD5OMjM0aDU0NCIlBgKL/eYiJgcHJiJUVFOoU1RUIiYHBXILAwEFKSEAAwAJABMD9QNrABAAIQAyAAATITIWHQEUBiMhIiY9ATQ2MxEhMhYdARQGIyEiJj0BNDYzESEyFh0BFAYjISImPQE0NjMtA6QOFhYO/FwPFRUPA6QOFhYO/FwPFRUPA6QOFhYO/FwPFRUPA2sWD0oPFhYPShAV/p4WD0oPFhYPShAV/p0VD0sOFhYOSxAUAAAABQAGAB4D/ANmACgAOQBKAFYAYgAAJTQmJzAnLgEnJicuASMhIgYHBgcOAQcGBwYWFxUUFjMhMjY3PgE1PgEBPgEzITIWFxMhNjc+ATc2NwEUBiMhIiY9ATQ2MyEyFh0BJxQGIyImNTQ2MzIWFxQGIyImNTQ2MzIWA/wBBBQUMxcXBQw0J/3tGjMIBBcWNBYVBAMCATcjAzUYIQwOEgEB/OgFEgUB+gQWA2n8/gQPDyMPDwMCwg4L/OgLDg4LAxgLDvMeFRUeHhUVHqceFhUeHhUWHpVKggpBQZ9GRgwYKiQZC0REnkNECAp/MzMaQhQKDiUPAQ0Cbg4HBw7+ygsvLmkuLQr9jAkODgnNCg4OCs1pFR4eFRUeHhUVHh4VFR4eAAAAAAIAM//RA7EDsQAYADEAABMmNDcBNiYvASYGBwEGFBcBHgE/AT4BJwEhJjQ3ATYmLwEmBgcBBhQXAR4BPwE+AScB1wQEAVIMAg8kDiUN/nMNDQGNDSUOJA8CDP6uAYkFBQFRDQMOJA8lDP51DQ0BiwwlDyQOAw3+rwG1BQ4FAYQOJQ0gDQMO/jUOKA7+Nw4DDSANJQ4BhAUOBQGEDiUNIA0DDv41DigO/jcOAw0gDSUOAYQAAAIADwA1A/EDSwBeAKAAABMiJicuATU0Njc+ATEwNz4BNzY/Az4BNz4BMzYWFzAXHgEXFhcwFjM2Jjc0Njc2FjMyNhcWBhUUBhceARceARceARUUBgcOAQcqAScuASMmJy4BJyYjIgcOAQcGJwEmNj0BJiIHBhUcARcUFRQWBwYmKwEqAScuAScmNj0BNCY3PgE3AT4BMzA2MxYXHgEXFhcWBh0BFBYHDgEHBiIrAUkKEAQFFxAKAxAyM4A6Og8NCwYIDggFEQESHQsVFTMWFgIJAQQFAQMCCDYMEDMIBQEDAwIJBhRPAgQTDAUFGAkEBgMFFQIWQUGKNzYCAkNDokVEBAIGAgICmgIBAQICAjkFghIgCgMMAgUBAgIBDAgBRAIBAgICBjc4gjU1AQICAQUCDAMLIRLAAXwRCAgVCggOCAMMKitqMTAMCwsCBg4DAgMBBwkSEisSEgEIA2gOAgoBCAEDCgaZJRIkCgUHBRBEAQUNCAgPBwYfAQIBFhM2NnItLTg4hjc4Af65AjIIsQICARgZQyIjFQMZAgEBBQELBQsrFsULFgUHBgYBCwICAgMtLWotLAIFGAvHFCsLBAwBBQAAAgAAAEAEAANAAAsAEAAAARQWMzI2NTQmIyIGASEJATcDAEs1NUtLNTVLAQD8AAEAAVWrAsA1S0s1NUtL/UsCq/5VgAAMAA0AkQPxAw0ADwAgADEAQgBTAGQAdQCFAJcApwC4AMgAACUhIiY1ETQ2MyEyFhURFAYBIgYVERQWMyEyNjURNCYjIRcUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYdATMUBisBIiY9ATQ2OwEyFh0BBRQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYVFxQGKwEiJj0BNDY7ATIWHQEjMxQGKwEiJj0BNDY7ATIWFTcUBisBIiY9ATQ2OwEyFh0BAxQGIyEiJj0BNDYzITIWFQOT/NgnNzcnAygnNzf8sQwQEAwDKAsREQv82JcJCDUHCgkINQYLlQkINQYLCQg1BwqUCQg2BgsJCDYGC5MJCDYGCwkINgYL/qAJCDYGCwkINgYLkwkINQcKCQg1BguTCQgzBgsJCDUHCgKTCQg1BgsJCDUHCj4JCDUGCwkINQcKewkI/ogGCwkIAXoGC5E4JgHAJjg4Jv5AKDYCOBEL/kALERELAcALEY0HCgkINQYLCQg1BwoJCDUGCwkINQcKCQg1BgsJCDUHCgkINQYLCQg1mAYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCGIHCgkINQYLCQg1/uIHCgkINQcKCQgAAgBi/8kDoAO3ACEAKgAAATQnLgEnJiMiBw4BBwYdASMiBhURFBYzITI2NRE0JisBNSE0NjMyFh0BIQMVEhFGNDRERDQ0RhESRRwoMCECnCIvJx1H/ktOUlNN/sACpjQxMU0XFxcYTTExM7MvIv54Ii8vIgGIIi+zOGZkOrMAAAABAAsBUwP1Ai8AFAAAAQYmIyEiBicuATc2FjMhMhYXFhQHA/URhjj9tjqCEwoCChGGOgKkKz4MCgoBdSQCBSUScRclAwUdFW8UAAAABAAGAKQD/ALcAGMAfgDuAQwAAAEHDgEHDgEHDgEjIiYnLgE1NDY3PgEzMhYXHgEVFAYHDgEdARcyNjc+ATc+AT8BIzcyNjc+ATc+ATc+ATMyFhceARUUBgcOASMiJicuATU0Njc+ATU8AScmIiMiBgcOAQczDwElBw4BBw4BBw4BFRQWFwcuATU0Njc+ATc+ATcHNx4BFz4BNz4BNz4BMzIWFx4BFRQGBw4BIyImJy4BIyIGBw4BBx4BFx4BMzI2Nz4BNxcOAQcOASMiJicuAScuAScOAQcOAQcOASMiJicuATU0Njc+ATMyFhceATMyNjc+ATc+ATcuAScuASMqAQc3Ezc+ATc+ATc+ATc+ATU0Jic3HgEVFAYHDgEHDgEHAREkDRkLDRsQECYUDRMHBgcGBQUNCgYMAwMEAwIBAwQFBwMIDAQDCghAKwsLEgUFDAQSJBMTKhYPFQcGBwQFBQoGBwoFBAQDAQMBAgEDAgoTCRAaCi0LJgFABhcjDxYkDg8NDAsEKikNDxAwIhg7IiJtDhUFDxgGChIGBw8GCA0FBAQEBAULCAUMBgcJAQcNBggUDQ0WCAUJBQUHAwUNCgsPGg0JFAkKEAYHDAUEDQYSHAwJEgcGEAgIDAUFBAYFBQwIBQoFCAoDBQcFBQwHBBAMDxgIBQ0IBQoGBNcHER8MDBoNDRUIDAoNCwUpKg4OEDEhGjokAiCPM0oWFyILDAoGBQUMBgcKBQUDAwMDCQUFBwMDAgICAgMECBELBiYf9yQDBAMNCyAtDQ4OBgUGDgoIDQQFBAQFBAgHAwkFBQYCAQMCAgwLEjkoJQS8ERAkFSBPLy5XKBk5HBI4cDYgQB4lQRwVIw+iExczHRcfCA0OBQMEBAUFDAgICwUFAwICAQMEBAcaFS45CgYHAwIDEA0HFh4KBgkEBQUNCgkgFxciDAsNAwQDBAUFDAYIDQUFBgMCAwMDAQILBgUUEDZDCwcIAgv+exENHA8OKxobOh4oSiQZOR0ROHA2IEAeJUAdFSMPAAEAAAAkBAADXgAaAAABIiMGIiMiJy4BJyMOAQcRHgEXIT4BNxEuAScDsTM0NGg0MzJMP1XoIiYFBSYiA2YgJwYGJiMC2gEDC3IFByYi/WQhJwcHJyECGCEpBQAABAAAACIEAANgAAMABwATABgAABMRIREDIREhBRQWMzI2NTQmIyIGEyETATcABABA/IADgP8AOCgoODgoKDjA/QDAAQCAA2D8wgM+/QACwKAoODgoKDg4/fgCAP7AYAAABwAJ/80D+gOzAAQACQAOABMAFwAbAB8AABMRIREhASE1IRU3ITUhFTchNSEVASE1ITUhNSE1ITUhCQPx/A8B6v5LAbMC/ksBswL+SwGzAdH+UQGv/lEBr/5RAa8Ds/waA+b8ScbG5tPT9cfH/iXGINMixwAEAAQA9QP8AosAEQAjADUARwAAExUjNTQ2Nz4BNxcOAQcOAQczBRUjNTQ2Nz4BNxcOAQcOAQczNzUzFRQGBw4BByc+ATc+ATUjJTUzFRQGBw4BByc+ATc+ATUjpKANDRE3JSQWIwkLCwJPAQCgDQ0RNyUkFiMJCwsCT7igDQ0RNyckFiELCw1NAQCgDQ0RNyckFiELCw1NAautiDhQGCIxEjoKHBEUNiMCrYg4UBgiMRI6ChwRFDYjKK2IOE8ZIjMQOgocFBM2IQKtiDhPGSIzEDoKHBQTNiEAAAAAAgAN/8sD8wO3ABAAIQAABSEiJjURNDYzITIWFREOASMpASImNRE0NjMhMhYVERQGIwGL/qoQGBcRAVYQGAEXEAJA/qoQGBcRAVYQGBcRNRcRA5wQGBYS/GIQFhcRA5wQGBYS/GIQFgAEAAL/wgP+A74ABwAbACAAMQAAPwEnBxUzFTcBNCYjIgYHAQ4BFRQWMzI2NwE+AScJASERARQGDwEBNz4BMzIWHwEeARX3PqA+VkoBXgcIAwYB/pMCAgcIAwYBAW0DASQBGP3R/ugD/A0Nb/7pbw0dEhEgDJ4NDRo9nD5IVgMCbwgGAgL+kwEGAwgHAgIBbQEGhP7o/dEBGAHvEh8LbwEXbw0NDQ2eDCARAAAAAQA3/80DyQOxACEAAAEWBgcGBw4BBwYHDgEnLgE1ETQmNzYWFxYXHgEXFhceARUDyQElC2VkY8ZjY2QLIg0JBAEIDisNY2JixGNiYw0lAcINFwQ4NzduNjc3BhYHBRkVAzccVAoOGwg3NzZsNzc4BhMLAAABABH/zQPzA7UAMAAAARYUBwYmKwEGFhUUBgcGIicmNj0BIyIGJy4BNzYWOwE2JjU0Njc2FhcWBhURITYWFwPzCgoRhDi1AwEFHRNvFCQCtTiCEwkDChKFOLMDAQstMWANBgIBESg9DgILFG4UJAI7kUMrPg4KChGIOLMFJRJxFSQCO5BEM0QEBwsiEDMV/vIDBRwAAwAP/80D8wOzADcAZwB9AAABFgcOAQcGBwYHDgEHBgcGJy4BJyYnJicuAScmJyY3PgE3Njc+ATc+ATc2Fx4BFxYXFhceARcWFyU2Jy4BJyYnJgYHDgEVFBYXHgEzMjY3PgEXFgYHDgEHDgEXFjIzOgE/AT4BNz4BNwM8AScuAQcGFhUUBhcWNjMyFjc2JjUD8wQICSQZGR0dIyRUMDA3OTY1XikoICEcHCoODQQGCAgjGhkeHkErKGc4PTY1XicnHx4cHCsPDgT+0w8KCzMlJScrQCAQLBkJChQLCAsEHFkJCjoYFSEGAwQJBykQEyYJCQg5GA8aBooFGEYbEAEDCQooEA8rBggDAeI9NTZdJycgIBwcKw0OBAQICSQZGR0eJCNTMDA3PjY2XCYnICA2FxUdBQQJCSQZGRwcIyRVMTE3JzApKDsREQQDDw4IHRAPFgwMHQoDEgUoJS8VEy0ZD0YJBwdCGigaDigX/qYQIQ0DBwYDKBUOKgoKBAIKCicNAAAAAAEADQCrA/cC1QA6AAABJicuAQcGBw4BJyY2NzY3PgE3NhcWFx4BFxYXNjc+ATc2FxYGFRQWFRQWBwYmIyImIyIGJyY2Nz4BNwKzTVBQolBQTwsVCBJOEygoKFEpKCg4NTZqNTY3DRcWLxQVDBEHAgYjFUAYN2k4EU4LCjARFSYWAWJLNTYxCQkzCAgIEUcOIRcXHAUGAwMODjQnKDUHGRgwDw4OFEIUNGg6GFEXDAICBBURMBIWJhUAAAAAAQAL/8kD9wO3AGIAACUUBgcOAScuAScmJy4BJyYnBgcOAQcGBw4BJy4BJy4BNz4BNzY3PgE3NjcmJy4BJyYnLgEnJjY3PgEXHgEXFhceARcWFzY3PgE3Njc+ARceARceAQcOAQcGBw4BBwYHAR4BFQP3Ig8QJiMbNhEgIiJEISEfIiIiQyMiIxU3JRYhCxArCAY6Ex8jI0YhIh0eISFFIyIhEzoGCCcSECslGDIRISIhQiAgHyIiIUIiISMUPCUVIA0SKAcFORUgIiJEIiEgAREVPEsdIA4QLAUDOhQgIiJFIiIfICEhQyIiIxVBBQMhDRAqIRozEyAiI0YiIh4bISFGIyIfETIYJSgREC8MBjoTISEhQyAhHyAgIUMiIiIVQQUDIQ0RKSEdMBMgIyJGIiIg/vMSNB4AAgAL/80D8wO3ADkAVAAAEyYnJjY3Njc2Nz4BNzY3NhceARcWFx4BBw4BBx4BFx4BFx4BFxYGJy4BLwEGBw4BJyYnJicuAScmJwUWNz4BNzYnLgEnLgEHDgEHDgEXFhceARcWFyITBAUQEhMaGiIiUjAwNUU9PGMmJhkbJgMDKCALHA8cOh8OIQYPQzASHw2vIS8vajc3MSsmJj8ZGRABUUtGRmESER8TQisbTi9RbhgQDwEDERI3JSUqAXo0NjZnLy8lJR8gLw8OAwUQDzsnJykveUVDbi0QHQ8dOCAOIBItRxIGIg2tHBISDQUGExAZGUAmJix0EBcYZklIUTFMFg4RAwhYMSBMKC4oKD4WFQoAAAAAAv/+/7wEBAPCAJQAoAAAAS4BJy4BJyY2Nz4BNzYmLwEuAQ8BDgEnLgEnLgEnLgErASIGBw4BBw4BBwYmLwEmBgcOAQcOARceARceAQcOAQcOAQcOAR0BFBYfAR4BFxYGBw4BBwYWHwEeATc+ATc+ARceARceARceATsBMjY3PgE3PgE3NhYXHgEXFjY/AT4BJy4BJy4BNz4BNz4BNz4BPQEuAScBIiY1NDYzMhYVFAYD4hUpFQ0ZBQUECAwaCwgDClsKHAtFCx8LCxIDAgUEARYNgA0YAQUHAwITCwsfDEQLHAoWLxcJAwgNGQsIAgMFGQ0TKRUNExMNUw0ZBQUFBwwaCwgDClsKHAsSIxILHQsLEQIDBwUBFw5+DRYBAwcFAhMLCx0LEiMSCxwKXAkDCA0ZCwgDBAUYDhUpFQ0TARQN/h5LbGpNS2xsAiYEBwQCEwsMHgwRIxALHApcCQMIMQgDBQQZDRIoFQ0TEw0VKRUNGQUFBggxCAMJGC4WChwLEiERDB8LCxECBAcEARcOgA0WAw0CEwsLHwwRIxALHApcCQMIDRkLCAIDBRkNFSkVDRMTDRUqFg0XBQQDCA0ZCwgDCVwKHAsSIREMHwsLEQIDBwUBFw6ADhUD/uNsS0tsbEtLbAAAAAACAAkAFwP8A2kAMAB0AAABHgEHDgEHDgEHDgEnLgE9AQYHDgEHBgcOASMiNjc+ATc2Nz4BNzY3NiYXHgEXHgEXAwYWBw4BBwYmIyEiBicuAScmNjU0Jjc+ATc2FjsBDgEVDgEHDgEHBiYrASIGBwYWFREcARcWNjMhMjY3NiY3PgE3PgEDwA42CAUpDiI/IwstExABW1FQfisrEAIICRcGAghCMiQoKWA4N0IIDx4XJA4eQCIVBAkKDFA7JlQo/r4oUSUzTgMFBQUFBFs+PHY77QICGiwWEycVI1UkTyw9CggEKBpmHgGULDwLBQcGAhMHFSUCrQ8tIhUkECE/IgsxBQU5FWQBDw9ENjZPCxJZE1iCLyAYGCAJCAEakgMEKg4fPiP+rzpgKDRKBQMDAwgLVTk9iUVFiDxDWAUEBBAfEQUGBwQUAQUFDB0YUiD+6DZqDwkFCh8QKhQHDQYTKwAAAgAz/88DsQOxABgAMQAAJQYWHwEWNjcBNjQnAS4BDwEOARcBFhQHASEGFh8BFjY3ATY0JwEuAQ8BDgEXARYUBwEBvg0DDiQPJQwBiw0N/nUMJQ8kDgMNAVEFBf6v/nUNAw4lDiUNAYoNDf52DSUOJQ4DDQFRBQX+ry8OJQ0gDQMOAckOKA4BzQ4DDSANJQ7+egUOBf58DiUNIA0DDgHJDigOAc0OAw0gDSUO/noFDgX+fAAABwAJ/80D+gOzAAQACgAQABYAGgAeACIAABMRIREhASE1IRUzNSE1IRUzNSE1IRUzASE1ITUhNSE1ITUhCQPx/A8B6v5LAbMC/ksBswL+SwGzAgHP/lEBr/5RAa/+UQGvA7P8GgPm/EnGxubT0/XHx/4lxiDTIscAAgAC/+kD+gOXABkAMgAAAREhETQ3PgE3Njc2Nz4BNzY3Fw4BBw4BBzMFESERNDc+ATc2NzY3PgE3NjcXDgEHDgEHAX7+hAQEEAsMDxYbGkImJyxWN08YGh0DugJg/oQEBBALDA8VGhtBJiYtVjdPGBodAwGC/mcBREE5OV8mJx0nIiM7GRoUiBZELC2BVwL+ZwFEQTk5XyYnHSciIzsZGBSIF0MtLIFXAAAAAAMAAP/EA/oDwAAkAEkAbgAAAREUBgcOASsBIiYnLgE9ATQ2Nz4BOwE1NDY3PgE7ATIWFx4BFQU0JicuAScuASMiBgcOAQcOARUUFhceARceATMyNjc+ATc+ATUzFAYHDgEHDgEjIiYnLgEnLgE1NDY3PgE3PgEzMhYXHgEXHgEVAlEDAwQGBdMFBwMEAwMEAwcFlQMDAwcFKwUHAwEDARMZGBhCKCpaMTJaKilBGBgZGRgYQigqWjIxWioqQBgaF5YjIiFdOzt/RkWAOztcIyAiIyEiXTs7fkdFgDs7WyMgIwKt/tcFBgQDAwMDBAYFKwUHAwMD6QUHAwMDAwMDCQPrMlopKkEYGRgZGBhDKClaMjFbKSpAGBgZGRgYQigpXDBFgDs7WyMiIyMiIV07O4BFRYA7O1wjISMjISJdOzuARQAAAAEAAAAiBAADXgBLAAABDgEHPgE3DgEHLgEjIgcOAQcGFRQWFyYnLgEnJicOARUUFhcuAScVFBYXDgEjIiYnHgEzDgEjKgEnFhceARcWMzI3PgE3Nj0BPgE3BAAdPSAgMQseQyUdUC0rJiY5EBEDA0A9PW8wMCgMDzIsGjAWYEgNHA4KFQoVa0Q2hEoNGQsjJiZRKyotkW9wlycnHzUVAv4NEAUTOyUSGQgeJBEQOSYmKw0XCwMRETgnKDAYNB02XB0CDQsCTXIQBAMDAj9TKTACFhIRGAcGNjesampoHBU2IAAAAAEACwCpA/UC0wA6AAABHgEHBiYjIgYjIgYnJjY1NDY1NCY3NhceARcWFzY3PgE3Njc2Fx4BFxYXHgEHBiYnJicmBgcGBx4BFwGgEi8KC04ROGk3GEAUIgQCBhAMFRUuFxYNODU1ajY1OCgpKFEoKCgSTxIIFQtPUFCiUE9OFSYWAQ8SMBETAgIEDhdRGDpoNBY/FQ4ODzAYGQc1KCc1Dg4CAwYFHBcXIQ5HEQgICDQJCjE3NksTJhgAAAAAAgAA/8QEAAO+AFoA3gAAAS4BIy4BBw4BByIGBwYHDgEHBh0BHgEfAR4BHwceARUfAx4BFx4BFx4BFzMfAh4BFx4BMx4BHwMeATMeATcyNj8BNjc+ATc2NTQnLgEnJicFFgYXHgEXHgE3NiYnNhYXHgEXHgEXDgEHHgEXHgEXPgE3PgE3PgE3JjYnLgEvAjYmJz4BFzYyMxczJz4BNy4BJz4BMzYmNTQ2NTYmNw4BByImJyY2NycGJgcOAQcuASc+ATczMhceARcWFRQHDgEHBiMiJy4BJyY1NDc+ATc2Nx4BFwKxAwcFKFcwMVknAQYBRjo5UxcXAgMEAgMJBQQLBBMNAg0BAw0GEQ0HDQgICwQEBQICDQINAwcFAQYBAgQDERcrBQcFI0sqHjcaCFNGRmYdHBkYWT49Sv5rDQ4DARAGBQ0OBBIFBw4HFTooBRAFDiMRECcTBCsgBQoFBAUOFVUYBRAHBCkKsRwFFQwNGBMGKRUJFwoRJBMCBgUFEQYDDhgBHAgQJwwIDAUDKAoPFSMPEREPDBsQBhAIE1dNTHIhISEhckxNV1dNTHIhIQoLKBwcIg0VBwOiAgINDAECEg4DAhwwL3pJSVArDhsODQ4dDA0aCicVBBQBAwIPCRMPBg0GBQkDAgUCCAMIAgUCAQMBAgEJChECAwkJAQgFAhUuL4JQUFlTTEt+LzAbxBs8HgwYCwodCwsYCgEQBxMdAwsSCRUnExUgEliIOwQLBiZAGiU6JRsuExMKEBMXHR0NCSEODCoqCBQHCAwFAwEHAwMICwUMFBMHGRECAiITFCoDDAQEIwYDBgEQIA4hIXNMTVZXTUxyISEhIXJMTVcxLS5TJCQdBhIOAAAAAAIAEf/NA/wDvgA+AEQAAAElBgcOAQcGJwYHDgEHBgcOAScuAScuATc+ATc2Nz4BNzY3PgE3NiYnJjY3PgE3NhYXDgEPAQ4BFR4BFx4BFwE2JgcGFgLiARoLHh9hQkFQLC0uWy0uLBhHMhMlEBouGw4+GCEgHz8gICEKJAMCCwEFMiIkaD5UbitJjEQWAQUBLwkQHBD95CoZLjQdAgZlQzc4Sg4OESktLVsuLiwYMBcIJhAYVjAZNxghHx8+IB8iCiEICikNQm8kKDoFBjYoGTUYbQgWBgsiBhAaDP46Dl4KCWsAAAEAAv/EA/wDvAAtAAAlFx4BBw4BIyEiJicuATURNDY3NhYfAQEnLgE3PgEzITIWFx4BFREUBgcGJi8BASJrCwkDAxQS/sIJEwgICQgJCBMMagI6awsJAwMWEAE7DBIHCAkJCAgUC2pmagsUCAgJCQgHEgwBORIUAwMIDGsCOmoLFAgICQcICBMM/sUSFAMDBw1rAAABAA0AugPrAt4ADAAACQEGJicBJjYzITYWBwPr/kgZOxb+RBcYJQORGzAkAnP+RxoCGAHAFFABRCgAAAABAPr/1QMeA7MADAAABQEmNjcBNhYVERYGJwKz/kcaAhgBwBRQAUQoKwG4GTsWAbwXGCX8bxswJAAAAAABAOL/zQMGA6sADAAACQEWBgcBBiY1ESY2FwFNAbkaAhj+QBRQAUQoA6v+SBk7Fv5EFxglA5YYLiQAAAABAA8AoAPrAsQADAAAJSEiJjcBPgEXARYGIwPJ/GwkGBYBvBQ7GwG2JC4YoE8VAcAYAhr+SShFAAEABgBRA/oDLwA8AAABNhYXHgEXFgYHBgcOAQcGBw4BIyImJyYnLgEnJicuATU0Njc+ARceARceARceATMyNjc2Nz4BNzY3PgE3A3EgJRUOHwIBLhE7Ojp0Ojo6Ei4YHj8SHh8fPh8fHw0aIw4PIR0XIw8rSi0DGgMFLwguLCxXLCsuDSQTAy8GJBMPHhMdLRI7Ojp0Ojo6Ei5GEh4eHj0gHyENGhUbHQ4PJQMBKQ0rSC0DHzEILiwtWC0sLA8kBQAAAAABAAsAhAP3AvwANAAAJR4BNz4BNwE+AScuAScuASMiBgcGBw4BBwYHJicuAScmJy4BIyIGBw4BFx4BFxYXHgEXFhcBvBEkGhMlDgFxEyYEAyAQESMWIjcQJCIiQyIiJB8hIkYjIyESNB4XJBAQLwoEJxAvLi1dLy8xsRIeAwIlDwFxEycdGCEQESA/ECQiIkMhIiMfIiJHIyMhET4fEA8yIRIiDjAuL10vLzAAAQFS//oDjAOEADoAAAEOARceARcWFx4BFxYXHgE3PgE3PgE3NCYnJicuAScmJzY3PgE3Njc+ATc0JicuAQcOAQcGBw4BBwYHAXsQGwICIQ0qKilSKioqESQZFR8OEBwBOQ4hHh48Hx4gHB8fPyAfHhA2AR0ODS4eEB8NKykqUyoqLAH+DyEXEiENKikpUykqKxAiAgMdDw8gFB4yDyAeHzwfHyAbHx5AHyAdEC4cFCEPDioIBCQNKykqUyoqLAAAAQFS//oDiwOEADoAAAEeAQcOAQcGBw4BBwYHDgEnLgEnLgE1NDY3Njc+ATc2NyYnLgEnJicuATU0Njc+ARceARcWFx4BFxYXA2IQHAMCIA4qKSlTKSoqESQaFR4PDx05DiAfHjweHyAcHx9AHyAdEDcdDg0tHw8gDSoqKVQqKisB/g8hFxIhDSopKVMpKisQIgIDHQ8PIBQeMg8gHh88Hx8gGx8eQB8gHRAuHBQhDw4qCAQkDSspKlMqKiwAAAAAAQAJAIQD9wL8ADQAABMOAQcGFhceATMyNjc2Nz4BNzY3FhceARcWFx4BMzI2Nz4BNzYmJwEuAScmBgcGBw4BBwYHRA4pBAgvEBAmFR40EiAjI0YiIh8kIiJDIiIkEDciFiMRECIBBCYT/o8OJRMaJBExLy9dLi8vAVoPJBAjMg8QHz4RICMjRyMiHyMhIkMiIiQQPyARECIXHScTAXEPJQIDHhIxLy9cLi4uAAIABgBxA/oDDQAdACoAACURNiYHITAGBwYHDgEHBjEwFx4BFxYXHgExJRY2JycHJwcnNyc3FzcXBxcD+gMfHv2kFgoNNDNwLS0vLnM0MwwJEgJpER8DvEuGi0uJiUuJhk2JiakCLBohAwMIDTQ0ci0uMDB2NDQIBwICAR8YjkqKik2IiUqGhkqJiwAABQEkACAC3wNeAA8AIAAxAEIAUAAAASMiJj0BNDY7ATIWHQEUBgMiBh0BFBY7ATI2PQE0JisBEyMiJj0BNDY7ATIWHQEUBiMDIgYdARQWOwEyNj0BNCYrASUhIiY1NDYzITIWFRQGAl+7GicnGrsaJybWBQcHBbsFBwcFu7u7GicnGrsaJyYbuwUHBwW7BQcHBbsBIP57CxAQCwGFCxAQAiEmG7saJycauxsmAQgHBbsFBwcFuwUH/PcnGrsbJiYbuxonAQgHBbsFBwcFuwUHfQ8LCw8PCwsPAAAAAAEAcgEvA2kCUQAPAAABLgEjIgYHDgEjFSE1IiYnAqckTjMxSiUubFYC90BaKAHxIz02IitJVlZEKAAAAAH+uAEvBK8CUQAiAAABIiYnLgEjIgYHDgEjIRUhMjc+ATc2Nz4BMzIWFx4BMyE1IQNmQFooJE4zMEslLmxW/kkBtzgtLEkcHRgeMBcYMx0td1sBSf63AYVEKCM9NiIrSVYNDikYGRYbJiodLVhWAAAEAR8AqQLhAusAGgAfACUAKQAAASM1NCYrASIGHQEjIgYVERQWMyEyNjURNCYjBTMVIzU3NTMRIzUXIxEzAsdrDwuFCg9rCw8PCwGOCw8PC/6LUlKFUlLXUlICY28KDw8K7g8L/vkLDw8LAYYLD7LV1Rnu/iTu7gFTAAAABACBADQDfwNMAAsAGAAkADEAACUUBiMiJjU0NjMyFhMUBiMiJjU0NjMyFhUBFAYjIiY1NDYzMhYTIgYVFBYzMjY1NCYjAVY+LCw/PywsPlM+LSw+PiwtPgEyPi0sPj4sLT45LD4+LCw/PyyfLD8/LCw/PwGOLD8/LCw/Pyz+8y0+Pi0sPj4B1D8sLD8/LCw/AAAAAAEBHwCpAuEC6wAaAAABERQGIyEiJjURNDY7ATU0NjsBMhYdATMyFhUC4Q8L/nILDw8Law8LhQoPawsPAkn+egsPDwsBBwsP7goPDwpvDwsACQEtAMEC0wL8ADMAZgCZAM0A+AElAVgBkgHCAAABMS4BIyIGDwEnLgEjIgYHDgEVFBYfAQcOARUUFhceATMyNj8BFx4BMzI2NzY0LwE3NjQnJyIGDwEnLgEjIgYHDgEVFBYfAQcOARUUFhceATMyNj8BFx4BMzI2NzY0LwE3NjQnLgEjAxQWFx4BMzI2PwEXHgEzMjY3PgE1NCYvATc2NCcuASMiBg8BJyYiBw4BFRQWHwEHDgEVFzEuASMiBg8BJyYiBw4BFRQWHwEHDgEVFBYXHgEzMjY/ARceATMyNjc+ATU0Ji8BNzY0JzcxHgEzMjY/ARceATMyNjc2NC8BNzY0Jy4BIyIGDwEnJiIHBhQfAQcGFBcVMR4BMzI2PwEXHgEzMjY3NjQvATc2NCcuASM4ATEiBg8BJyYiBwYUHwEHBhQXNz4BNTQmJy4BIzgBMSIGDwEnLgEjIgYHBhQfAQcGFBceATMyNj8BFx4BMzI2NzY0LwEnMR4BMzI2PwEXHgEzMjY3PgE1NCYvATc+ATU0JicuASM4ATEiBg8BJy4BIzgBMSIGBwYUHwEHBhQXFzQmJyYiDwEnLgEjIgYHBhQfAQcGFBceATMyNj8BFx4BMzI2Nz4BNTQmLwE3PgE1AjECBwQEBwIXFwIHBAQGAwMDAwMWFgMDAwMCBwQEBwIXFwIHBAQGAwYGFhYGBg0EBwIXFgMHBAMHAwMCAgMXFwMCAgMDBwMEBwMWFwIHBAQHAgYGFhcFBQMHBPcDAgMHBAMHAxcWAwcDBAcDAgMDAhcXBQUDBwMEBwMWFwUQBQMDAwMWFgMDaAMHAwQHAxYXBRAFAwMDAxYWAwMDAwIHBAQGAxcWAwcEAwcDAwICAxYWBgbWAwcEAwcDFhcDBgQEBwMFBRcXBQUDBwQDBwMXFgYPBQYGFhYGBQMHBAMHAxYXAwYEBAcDBQUXFwUFAwcEAwcDFxYGDwUGBhYWBlEXAgMDAgMHBAMHAxcWAwcDBAcDBQUXFwUFAwcDBAcDFhcCBwQEBwIGBhboAgcEBAcCFxcCBwQEBgMDAwMDFhYDAwMDAgcEBAcCFxYDBwQDBwMFBRcXBgZoAwMFEAUXFgMHAwQHAwUFFxcFBQMHAwQHAxYXAgcEBAcCAwMDAxYXAgMCXAMDAwMWFgMDAwMCBwQEBgMXFgMHBAMHAwIDAwIXFwIDAwIGDwYWFwYPBaADAxYWAwMDAwMGBAQHAxYXAgcEBAYDAwMDAxYWAwMDAwUQBRcWBg8GAwP+cgQGAwMDAwMWFgMDAwMCBwQEBwIXFgYPBgIDAwIXFwUFAwcDBAcDFhcCBwRFAwMDAxYWBgYCBwQEBwIXFgMHBAMHAwMDAwMWFgMDAwMDBgQEBwMWFwUQBdECAwMCFxcCAwMCBg8GFhcGDwUDAwMDFhYGBgUPBhYXBg8GmQMDAwMWFgMDAwMFEAUXFgYPBgIDAwIXFwUFBg8GFhcFEG4XAgcEBAcCAwMDAxYWAwMDAwUPBhYXBg8FAwMDAxYWAwMDAwUPBhZpAwMDAxYWAwMDAwIHBAQHAhcWAwcEAwcDAwMDAxYWAwMDAwUQBRcWBhAFRQQHAgYGFhYDAwMDBRAFFxYGDwYCAwMCFxcCAwMCAwcEAwcDFxYDBgQAAAAAEgEuAMQC0gL5AAsAGAAkADEAPQBKAFYAZABwAH0AiQCWAKIArwC7AMgA1ADhAAABMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjBTIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIwcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiM1MhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjMRcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMnMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjAzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIxcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMXMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjAWcKEBAKCw8PCxghIRgXISEXATILDw8LChAQChchIRcYISEYmQsPDwsLDw8LGCEhGBghIRgLDw8LCw8PCxghIRgYISEYmQsPDwsKEBAKFyEhFxghIRiZCw8PCwsPDwsYISEYGCEhGJkKEBAKCw8PCxghIRgXISEXmQsPDwsLDw8LGCEhGBghIRiZCw8PCwoQEAoXISEXGCEhGAGuEAoLDw8LChAeIRcYISEYFyEeEAoLDw8LChAeIRcYISEYFyEeEAoLDw8LChAeIRcYISEYFyF4DwsLDw8LCw8fIRgXIiEYFyIfDwsLDw8LCw8fIRgXIiIXGCF4EAoLDw8LChAeIRcYISEYFyH+Hg8LCw8PCwsPHyEYFyIiFxghHw8LCw8PCwsPHyEYFyIiFxghHw8LCw8PCwsPHyEYFyIiFxghAAkBLwDEAtIC+QAMABgAJAAwADwASABUAGAAbAAAAR4BBw4BJy4BNz4BFwUUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFiceAQcOAScuATc+ARcUBiMiJjU0NjMyFiceAQcOAScuATc+AQMeAQcOAScuATc+ARcUBiMiJjU0NjMyFhcUBiMiJjU0NjMyFgFwFxwEBCYXGBsEBCYXAWIhGBchIRcYIZkiFxciIhcXIjAXHAQEJhcXHAQEJuAhGBchIRcYIckXHAQEJhcXHAQEJoIXGwMEJhcYGwQDJ+AiFxciIhcXIpkhGBchIRcYIQHLAycXFxsDBCYXGBsEOBchIRcYISEYFyEhFxghIbcEJhcXHAQEJhcXHDwXIiIXGCEhtwQmGBcbBAMmGBcb/jkEJhcXHAQEJhcXHDwYISEYFyIiFxghIRgXIiIAAAADANEBNwMvAkkANAA4ADwAAAEVIzU0JiMiBh0BFBYzMjY9ATMVFBY7ATI2PQEzFRQWMzI2PQE0JiMiBh0BIzU0JisBIgYVFzMVIzMjNTMBhHYSDQwSEgwNEnYSDd8NElESDQ0REgwNElESDd8NEj1DQ6MjIwIqSxwNEhINdg0SEg0dTA0SEg1MHQ0SEg12DRISDR1MDRISDR6YmAABAMUAdANAAxMAIQAANyoBJy4BNxM+ATc2FhcbAT4BFx4BBwMOAQcGJi8BAw4BI/ACBAISFANYAxAMCxgI75sHIRAQDge0BBELCxUH40gDGA90AQMeEQHRDBIDBAcJ/v4BcRAOBwchEP5RCg0CAgcI9P6DDxQAAAADAE0ACAO1A3oAKQBGAGYAACUnPgE1NCcuAScmIyIHDgEHBhUUFx4BFxYzMjY3Fx4BMzI2Nz4BNTQmJwMUBw4BBwYjIicuAScmNTQ3PgE3NjMyFx4BFxYVJyM1NCYjIgYdASMiBhUUFjsBFRQWMzI2PQEzMjY1NCYDpZApKx8fbUhJUlJJSWwfHx8fbUhJUkB3NJEIFAsLFAgICAgIqhYXTjU0PDw0NU4XFxcXTjU0PDw0NU4XFodsGhMTGmwSGxsSbBoTExpsEhsbZpA1fkJTSElsHyAgH2xJSFNSSUhsIB8nJpIICAgICBQLCxQIAYU7NTRPFhcXFk80NTs8NTROFxcXF040NTwuaxMaGhNrGxITGmwTGhoTbBoTEhsAAAACAAQANwP+A08ALwBbAAABFgYHHgEXHgEHBiYnLgEnLgEnJgYjBicuAScmJxY3PgE3Njc2Nz4BNzYnOgEVHgEnFgYHBgcOAQcGJy4BIw4BBw4BBw4BJyY2Nz4BNy4BNz4BNz4BNzYWFx4BFwP+BmQ6BxMNBiUFBSsMIzUdCx4KChoNLy0uUyIjGDIvMFgoKCMnJSUxCAcTAQE6X9UDHxUdKSpoPD1CCxgICSIKGzImECkFCCYIDRAKNWgFA0gvMX5IWI85NFUGAaldbicTHRAIIRASCAMIFw4HFgECCAQEBBQPDxIEBAQVEREWGiUlXTc4PwIlYT4yTxsmHR4nCAgHAQUBGAUOFggEBQ0RIQoQHRAqamBDYyAiKgMFJiEgaEsAAAAAAQAAAAEAAAWe7BlfDzz1AAsEAAAAAADYeW51AAAAANh5bnX+uP+8BK8DwgAAAAgAAgAAAAAAAAABAAADwP/AAAAE3v64/1EErwABAAAAAAAAAAAAAAAAAAAAaQQAAAAAAAAAAAAAAAIAAAAEAAFKBAABPAQAAWYEAACdBAAAeAQAAU0EAABKBAAAPgQA/9UEAP/VBAD/0QQAASYEAAEJBAABCQQAAQkEAACQBAAABAQAAAsEAAAOBAAAAAQAAEcEAAAUBAAARgQAAAgEAAARBAAASAQAAOAEAAAzBAAAWgQAAE8EAABvBAAAYwQAABMEAAATBAABOwQAABUEAAAVBAAADwQAAGsEAAAABAAAJgQAAA0EAAERBAAACQQAAAoEAP/+BAAACQQAAAYEAAAzBAAADwQAAAAEAAANBAAAYgQAAAsEAAAGBAAAAAQAAAAEAAAJBAAABAQAAA0EAAACBAAANwQAABEEAAAPBAAADQQAAAsEAAALBAD//gQAAAkEAAAzBAAACQQAAAIEAAAABAAAAAQAAAsEAAAABAAAEQQAAAIEAAANBAAA+gQAAOIEAAAPBAAABgQAAAsE3gFSBN4BUgQAAAkEAAAGBAABJAQAAHIEAP64BAABHwQAAIEEAAEfBAABLQQAAS4EAAEvBAAA0QQAAMUEAABNBAAABAAAAAAACgAUAB4AXACcALQA3gE0AZwCogLwA3IEFgXsBfoG8ghMCIIIzAksCdgKfA00DaAOEA6OD1gPvhA6EHQRLBGSEjgSfBUkFbAV+hZEFnYWqhcIFz4XhBfCGAYYJhjUGUAZdBm8Gk4aqBuKG6wcqhzqHRAekh7AHvAfKh+YH8wgIiBcIKYhaCHGImIi7CPgJJAk6iUmJXwmHiaQJu4oNCimKPApDiksKUopZinIKh4qfireKzQreivoLAYsPix8LMYs7i9YMIAxJDFyMa4yPjLQAAEAAABpAi0AEgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAJAAAAAQAAAAAAAgAHAHIAAQAAAAAAAwAJADwAAQAAAAAABAAJAIcAAQAAAAAABQALABsAAQAAAAAABgAJAFcAAQAAAAAACgAaAKIAAwABBAkAAQASAAkAAwABBAkAAgAOAHkAAwABBAkAAwASAEUAAwABBAkABAASAJAAAwABBAkABQAWACYAAwABBAkABgASAGAAAwABBAkACgA0ALxkY2ctaWNvbnMAZABjAGcALQBpAGMAbwBuAHNWZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBkY2ctaWNvbnMAZABjAGcALQBpAGMAbwBuAHNkY2ctaWNvbnMAZABjAGcALQBpAGMAbwBuAHNSZWd1bGFyAFIAZQBnAHUAbABhAHJkY2ctaWNvbnMAZABjAGcALQBpAGMAbwBuAHNGb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\") format('truetype');font-weight:normal;font-style:normal}[class^=\"dcg-icon-\"],[class*=\" dcg-icon-\"]{font-family:'dcg-icons'!important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.dcg-icon-zoom-fit:before{content:\"\\e90b\"}.dcg-icon-comments:before{content:\"\\e90c\"}.dcg-icon-lines-solid:before{content:\"\\e90a\"}.dcg-icon-histogram-fill:before{content:\"\\e905\"}.dcg-icon-histogram:before{content:\"\\e903\"}.dcg-icon-distribution-fill:before{content:\"\\e901\"}.dcg-icon-distribution:before{content:\"\\e902\"}.dcg-icon-dotplot-cross:before{content:\"\\e906\"}.dcg-icon-dotplot-open:before{content:\"\\e907\"}.dcg-icon-dotplot-default:before{content:\"\\e908\"}.dcg-icon-boxplot:before{content:\"\\e909\"}.dcg-icon-points:before{content:\"\\e904\"}.dcg-icon-fraction:before{content:\"\\e900\"}.dcg-icon-cross:before{content:\"\\e500\"}.dcg-icon-open:before{content:\"\\e501\"}.dcg-icon-point:before{content:\"\\e502\"}.dcg-icon-shaded-inequality-shade2:before{content:\"\\e503\"}.dcg-icon-shaded-inequality-dash:before{content:\"\\e505\"}.dcg-icon-position-arrows-single:before{content:\"\\e50a\"}.dcg-icon-position-arrows:before{content:\"\\e50b\"}.dcg-icon-parametric-filled:before{content:\"\\e50c\"}.dcg-icon-parametric-solid:before{content:\"\\e50d\"}.dcg-icon-parametric-dashed:before{content:\"\\e50e\"}.dcg-icon-parametric-dotted:before{content:\"\\e50f\"}.dcg-icon-polygon-filled:before{content:\"\\e510\"}.dcg-icon-polygon-dashed:before{content:\"\\e511\"}.dcg-icon-polygon-dotted:before{content:\"\\e512\"}.dcg-icon-polygon-solid:before{content:\"\\e513\"}.dcg-icon-title:before{content:\"\\e514\"}.dcg-icon-bottom-arrow:before{content:\"\\e515\"}.dcg-icon-rocket:before{content:\"\\e516\"}.dcg-icon-reset:before{content:\"\\e517\"}.dcg-icon-desmos:before{content:\"\\e518\"}.dcg-icon-download:before{content:\"\\e519\"}.dcg-icon-embed:before{content:\"\\e51a\"}.dcg-icon-export:before{content:\"\\e51b\"}.dcg-icon-book:before{content:\"\\e51c\"}.dcg-icon-print:before{content:\"\\e51d\"}.dcg-icon-magic:before{content:\"\\e51e\"}.dcg-icon-cursor:before{content:\"\\e51f\"}.dcg-icon-dashed-function:before{content:\"\\e520\"}.dcg-icon-function:before{content:\"\\e521\"}.dcg-icon-arrows-two:before{content:\"\\e522\"}.dcg-icon-arrows-one:before{content:\"\\e523\"}.dcg-icon-desmos-badge:before{content:\"\\e524\"}.dcg-icon-move:before{content:\"\\e525\"}.dcg-icon-move-horizontal:before{content:\"\\e526\"}.dcg-icon-move-vertical:before{content:\"\\e527\"}.dcg-icon-arrow-left:before{content:\"\\e528\"}.dcg-icon-arrow-right:before{content:\"\\e529\"}.dcg-icon-arrow-enter:before{content:\"\\e52a\"}.dcg-icon-shift:before{content:\"\\e52b\"}.dcg-icon-dragdots:before{content:\"\\e52c\"}.dcg-icon-duplicate:before{content:\"\\e52d\"}.dcg-icon-error:before{content:\"\\e52e\"}.dcg-icon-facebook:before{content:\"\\e52f\"}.dcg-icon-film:before{content:\"\\e530\"}.dcg-icon-folder-open:before{content:\"\\e531\"}.dcg-icon-folder:before{content:\"\\e532\"}.dcg-icon-hamburger:before{content:\"\\e534\"}.dcg-icon-hdd:before{content:\"\\e536\"}.dcg-icon-hide:before{content:\"\\e537\"}.dcg-icon-home:before{content:\"\\e538\"}.dcg-icon-image:before{content:\"\\e539\"}.dcg-icon-keyboard:before{content:\"\\e53a\"}.dcg-icon-lock:before{content:\"\\e53b\"}.dcg-icon-minus:before{content:\"\\e53c\"}.dcg-icon-new-expression:before{content:\"\\e53d\"}.dcg-icon-new-folder:before{content:\"\\e53e\"}.dcg-icon-new-image:before{content:\"\\e53f\"}.dcg-icon-new-table:before{content:\"\\e540\"}.dcg-icon-new-text:before{content:\"\\e541\"}.dcg-icon-pause:before{content:\"\\e542\"}.dcg-icon-pencil:before{content:\"\\e543\"}.dcg-icon-play:before{content:\"\\e546\"}.dcg-icon-plus:before{content:\"\\e547\"}.dcg-icon-question-sign:before{content:\"\\e548\"}.dcg-icon-redo:before{content:\"\\e549\"}.dcg-icon-remove:before{content:\"\\e54a\"}.dcg-icon-search:before{content:\"\\e54c\"}.dcg-icon-settings:before{content:\"\\e54d\"}.dcg-icon-share:before{content:\"\\e54e\"}.dcg-icon-show:before{content:\"\\e54f\"}.dcg-icon-table:before{content:\"\\e551\"}.dcg-icon-text:before{content:\"\\e552\"}.dcg-icon-time:before{content:\"\\e553\"}.dcg-icon-twitter:before{content:\"\\e554\"}.dcg-icon-undo:before{content:\"\\e555\"}.dcg-icon-world:before{content:\"\\e557\"}.dcg-icon-wrench:before{content:\"\\e558\"}.dcg-icon-zoom:before{content:\"\\e559\"}.dcg-icon-caret-down:before{content:\"\\e55b\"}.dcg-icon-caret-left:before{content:\"\\e55c\"}.dcg-icon-caret-right:before{content:\"\\e55d\"}.dcg-icon-caret-up:before{content:\"\\e55e\"}.dcg-icon-check:before{content:\"\\e55f\"}.dcg-icon-chevron-down:before{content:\"\\e560\"}.dcg-icon-chevron-left:before{content:\"\\e561\"}.dcg-icon-chevron-right:before{content:\"\\e562\"}.dcg-icon-chevron-up:before{content:\"\\e563\"}.dcg-icon-delete:before{content:\"\\e566\"}.dcg-display-domain{padding:5px 0 13px 50px;font-size:95%;color:#555;white-space:nowrap;margin-bottom:-5px;margin-top:-5px}.dcg-exppanel .dcg-expressionitem{display:block;position:relative;margin-top:-1px;border-top:1px solid rgba(206,206,206,0.8);border-bottom:1px solid transparent;font-size:100%}.dcg-exppanel .dcg-expressionitem:not(.dcg-expressionimage){cursor:text}.dcg-exppanel .dcg-expressionitem .dcg-fade-container{width:100%}.dcg-exppanel .dcg-expressionitem.dcg-selected,.dcg-exppanel .dcg-expressionitem.dcg-dragging{border-color:#6399cb;border-width:2px 0;border-right:1px solid #6399cb}.dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-fade-container,.dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-fade-container{margin-top:-1px;margin-bottom:-1px}.dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-tab,.dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-tab{color:#fff;border-right:1px solid transparent;background:#6399cb}.dcg-exppanel .dcg-expressionitem .dcg-expression-bottom.dcg-fadein-bottom{position:relative;-webkit-animation:dcg-fadeIn .8s;-moz-animation:dcg-fadeIn .8s;-o-animation:dcg-fadeIn .8s;-ms-animation:dcg-fadeIn .8s;animation:dcg-fadeIn .8s;cursor:default}.dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-fade-container:after{position:absolute;top:5px;bottom:5px;left:56px;content:'';border-left:1px solid rgba(0,0,0,0.2);-webkit-animation:dcg-fadeIn .3s;-moz-animation:dcg-fadeIn .3s;-o-animation:dcg-fadeIn .3s;-ms-animation:dcg-fadeIn .3s;animation:dcg-fadeIn .3s}.dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-main,.dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-expression-bottom{margin-left:20px}.dcg-exppanel .dcg-expressionitem.dcg-shell{height:54px;background:#fff}.dcg-exppanel .dcg-expressionitem .dcg-fade-container{position:relative;padding-bottom:6px}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-main{position:relative;padding-top:15px;padding-left:53px;padding-right:35px;padding-bottom:9px;white-space:nowrap;font-size:110%;vertical-align:middle}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-expression-mathquill{position:relative;width:100%}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn{position:absolute;top:0;right:30px;padding:8px 7px 20px;z-index:2;opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20);font-size:115%}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn.dcg-hovered{opacity:.6;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";filter:alpha(opacity=60)}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn.dcg-depressed{opacity:.8;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\";filter:alpha(opacity=80)}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete{position:absolute;top:0;right:0;padding:8px 7px 20px 20px;z-index:2;opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20);font-size:115%;cursor:pointer}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-hovered{opacity:.6;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";filter:alpha(opacity=60)}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-depressed{opacity:.8;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\";filter:alpha(opacity=80)}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved,.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-suggested-zoom-view{margin-left:50px;font-size:80%;color:#666;cursor:default}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved i,.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-suggested-zoom-view i{font-size:85%}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a,.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-suggested-zoom-view a{color:#666;margin-left:5px}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a.dcg-hovered,.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-suggested-zoom-view a.dcg-hovered{color:#000;text-decoration:underline}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved .dcg-btn,.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-suggested-zoom-view .dcg-btn{padding:2px 5px;margin-top:4px}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-suggested-zoom-view{margin-left:0}.dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-regression{margin-left:50px}.dcg-exppanel .dcg-expressionitem .dcg-tab{display:block;position:absolute;top:0;left:0;bottom:0;padding:1px 2px;font-size:65%;text-align:left;color:rgba(0,0,0,0.4);background:rgba(0,0,0,0.03);border-right:1px solid rgba(0,0,0,0.06);cursor:move;width:38px}.dcg-expressionitem.dcg-expressiontext .dcg-icon-text{position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;font-size:140%;opacity:.25;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";filter:alpha(opacity=25)}.dcg-expressiontable{cursor:default}.dcg-expressiontable .dcg-fade-container.dcg-hovered{-webkit-box-shadow:none;box-shadow:none}.dcg-expressionitem:not(.dcg-mathitem).dcg-selected .dcg-top-level-delete{padding-bottom:0;padding-left:0}.dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-top-level-delete{right:-1px}.dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-expression-bottom{margin-right:-1px}.dcg-EDIT-LIST-MODE .dcg-exppanel input.dcg-image-name{display:block!important}.dcg-EDIT-LIST-MODE .dcg-exppanel div.dcg-image-name{display:none}.dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-top-level-delete{display:none}.dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-edit-domain{display:block!important}.dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext .dcg-displayTextarea,.dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder .dcg-displayTextarea{pointer-events:none;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext textarea,.dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder textarea{opacity:1;-ms-filter:none;filter:none}.dcg-drag-container{position:absolute;top:0;left:0;right:0;z-index:1000}.dcg-drag-container .dcg-expressionitem{background:#fff;overflow:hidden;-webkit-box-shadow:0 0 10px #888;box-shadow:0 0 10px #888;border-color:#6399cb;border-right:1px solid #6399cb}.dcg-drag-container .dcg-expressionitem .dcg-main,.dcg-drag-container .dcg-expressionitem .dcg-fade-container:after,.dcg-drag-container .dcg-expressionitem .dcg-expression-bottom{-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;-ms-transition:.3s;transition:.3s}.dcg-drag-container .dcg-expressionitem .dcg-tab{background:#6399cb}.dcg-drag-container .dcg-expressionitem .dcg-num{display:none}.dcg-template-expressioneach .dcg-expressionitem.dcg-dragging{visibility:hidden}.dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-new-expression{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-container .dcg-mq-editable-field{border:none;-webkit-box-shadow:none!important;box-shadow:none!important}.dcg-container .dcg-mq-editable-field textarea{resize:none}.dcg-container .dcg-mq-editable-field.dcg-hasCursor{-webkit-box-shadow:none!important;box-shadow:none!important}.dcg-tap-container .dcg-mq-math-mode .dcg-mq-supsub{margin-bottom:-0.2em}.dcg-tap-container .dcg-mq-math-mode .dcg-mq-sub{font-size:80%}.dcg-tap-container .dcg-mq-math-mode .dcg-mq-int .dcg-mq-sub{font-size:100%}.dcg-clear{clear:both}.dcg-has-background-color .dcg-expressionitem{border-top-color:rgba(0,0,0,0.2)}.dcg-expression-icon-container{position:absolute;top:28px;left:50%;height:29px;width:29px;margin-top:-14.5px;margin-left:-14.5px;text-align:center;line-height:29px;border-radius:50%}.dcg-options-menu{position:absolute;z-index:42;padding:10px}.dcg-options-menu .dcg-dividing-line-after{padding-bottom:10px;border-bottom:1px solid #e2e2e2;margin-bottom:10px}.dcg-options-menu .dcg-triangle{width:0;height:0;border-style:solid}.dcg-options-menu .dcg-triangle:before{content:\"\";width:0;height:0;border-style:solid}.dcg-options-menu .dcg-zoom-fit-btn.dcg-disabled{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}.dcg-options-menu.dcg-exp-options-menu,.dcg-options-menu.dcg-table-column-menu{border:1px solid #d3d3d3;border-radius:7px;-webkit-box-shadow:0 0 6px rgba(0,0,0,0.15);box-shadow:0 0 6px rgba(0,0,0,0.15);background:#fff;display:none;position:absolute}.dcg-options-menu.dcg-exp-options-menu .dcg-title,.dcg-options-menu.dcg-table-column-menu .dcg-title,.dcg-options-menu.dcg-exp-options-menu .dcg-toggle-title,.dcg-options-menu.dcg-table-column-menu .dcg-toggle-title{margin-bottom:5px;opacity:.65;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=65)\";filter:alpha(opacity=65);font-weight:500}.dcg-options-menu.dcg-exp-options-menu .dcg-style-icons,.dcg-options-menu.dcg-table-column-menu .dcg-style-icons{margin-top:5px}.dcg-options-menu.dcg-exp-options-menu .dcg-component-checkbox,.dcg-options-menu.dcg-table-column-menu .dcg-component-checkbox{margin-top:5px}.dcg-options-menu.dcg-exp-options-menu .dcg-component-checkbox .dcg-checkbox-children,.dcg-options-menu.dcg-table-column-menu .dcg-component-checkbox .dcg-checkbox-children{font-size:90%;color:#333}.dcg-options-menu.dcg-exp-options-menu .dcg-options-menu-column-left,.dcg-options-menu.dcg-table-column-menu .dcg-options-menu-column-left,.dcg-options-menu.dcg-exp-options-menu .dcg-options-menu-column-right,.dcg-options-menu.dcg-table-column-menu .dcg-options-menu-column-right{display:inline-block;width:95px;vertical-align:top}.dcg-options-menu.dcg-exp-options-menu .dcg-options-menu-column-left,.dcg-options-menu.dcg-table-column-menu .dcg-options-menu-column-left{margin-right:20px}.dcg-options-menu .dcg-style-icon-container{display:inline-block;width:29px;height:29px;border-radius:50%}.dcg-options-menu .dcg-style-icon-container:not(:last-of-type){margin-right:4px}.dcg-options-menu .dcg-style-icon-container.dcg-disabled{cursor:default!important}.dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-hovered:not(.dcg-disabled){-webkit-box-shadow:0 0 0 2px rgba(0,0,0,0.1);box-shadow:0 0 0 2px rgba(0,0,0,0.1)}.dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-depressed:not(.dcg-disabled){-webkit-box-shadow:0 0 0 2px rgba(0,0,0,0.25);box-shadow:0 0 0 2px rgba(0,0,0,0.25)}.dcg-exp-options-menu{display:inline-block;margin-left:36px;margin-top:-45px;top:50%;z-index:61}.dcg-exp-options-menu.dcg-colors-only .dcg-options-menu-column-left{display:none}.dcg-exp-options-menu .dcg-triangle{position:absolute;top:45px;left:-12px;border-width:12px 12px 12px 0;border-color:transparent #d3d3d3 transparent transparent}.dcg-exp-options-menu .dcg-triangle:before{position:absolute;top:-11px;left:1px;border-width:11px 11px 11px 0;border-color:transparent #fff transparent transparent}.dcg-table-column-menu{margin-left:-6px;margin-top:35px}.dcg-table-column-menu .dcg-style-icons .dcg-graph-icon{margin-bottom:0}.dcg-table-column-menu .dcg-options-menu-column-left .dcg-options-menu-section:not(:last-of-type):not(.dcg-lines-menu){padding-bottom:10px;border-bottom:1px solid #e2e2e2;margin-bottom:10px}.dcg-table-column-menu .dcg-triangle{position:absolute;top:-9px;left:14px;border-width:0 9px 9px 9px;border-color:transparent transparent #d3d3d3 transparent}.dcg-table-column-menu .dcg-triangle:before{position:absolute;top:1px;left:-8px;border-width:0 8px 8px 8px;border-color:transparent transparent #fff transparent}.dcg-cdf-footer-container{margin-top:5px}.dcg-cdf-footer-container .dcg-component-checkbox{margin-bottom:4px}.dcg-cdf-footer-container .dcg-mq-container{margin-left:10px;margin-right:10px}.dcg-cdf-footer-container .dcg-parameter-name{font-size:85%}.dcg-cdf-footer-container .dcg-cdf-evaluation-container{margin-top:5px}.dcg-circular-icon-container{width:29px;height:29px;border-radius:50%}.dcg-circular-icon{display:inline-block;width:29px;height:29px;line-height:29px;border-radius:50%;position:relative;overflow:hidden}.dcg-circular-icon.dcg-semi-transparent{opacity:.4;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";filter:alpha(opacity=40)}.dcg-circular-icon.dcg-hidden{-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,0.25);box-shadow:inset 0 0 3px rgba(0,0,0,0.25)}.dcg-circular-icon.dcg-hidden:before{position:absolute;top:0;left:0;bottom:0;right:0;border:5px solid #999;border-radius:50%;opacity:.25;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";filter:alpha(opacity=25);content:\"\"}.dcg-circular-icon.dcg-hidden.dcg-white-icon:before{border-color:#fff;opacity:.4;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";filter:alpha(opacity=40)}.dcg-circular-icon.dcg-thick-outline{border:2px solid #000;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50);color:#000;text-align:center}.dcg-circular-icon.dcg-thick-outline.dcg-hovered{opacity:.7;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\";filter:alpha(opacity=70)}.dcg-circular-icon.dcg-thick-outline.dcg-depressed{opacity:.9;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90)}.dcg-circular-icon.dcg-thick-outline .dcg-icon-folder{position:relative;top:-1px;font-size:110%}.dcg-circular-icon.dcg-thick-outline .dcg-icon-pause{position:relative;top:-1px;left:.25px}.dcg-circular-icon.dcg-thick-outline .dcg-icon-play{position:relative;top:-1px;left:1.5px}.dcg-circular-icon.dcg-thick-outline .dcg-icon-fraction{font-size:20px;position:relative;top:2px;left:.5px}.dcg-circular-icon.dcg-thick-outline.dcg-white-icon{color:#fff;border-color:#fff;opacity:.9;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90)}.dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-hovered{opacity:1;-ms-filter:none;filter:none}.dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-depressed{opacity:1;-ms-filter:none;filter:none}.dcg-circular-icon.dcg-has-background-image:after{position:absolute;top:0;left:0;bottom:0;right:0;content:'';border-radius:50%;overflow:hidden;-webkit-box-shadow:inset 0 0 4px rgba(0,0,0,0.7);box-shadow:inset 0 0 4px rgba(0,0,0,0.7)}.dcg-circular-icon.dcg-has-background-image .dcg-background-image{width:29px;height:29px;display:inline-block;border-radius:50%;-webkit-background-size:29px 29px!important;-moz-background-size:29px 29px!important;background-size:29px 29px!important}.dcg-circular-icon.dcg-has-background-image i{text-shadow:0 0 6px rgba(0,0,0,0.2),0 0 1px rgba(0,0,0,0.5)}.dcg-circular-icon.dcg-colored-icon{-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,0.25);box-shadow:inset 0 0 3px rgba(0,0,0,0.25);overflow:hidden}.dcg-circular-icon.dcg-has-background-image,.dcg-circular-icon.dcg-colored-icon{font-size:35px}.dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-medium,.dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-medium{font-size:42.25px}.dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-large,.dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-large{font-size:56.75px}.dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-small,.dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-small{font-size:32.1px}.dcg-circular-icon.dcg-has-background-image.dcg-modifier-rotated,.dcg-circular-icon.dcg-colored-icon.dcg-modifier-rotated{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon{position:absolute;top:-3px;left:-30px;right:-30px;bottom:-3px;color:#fff;line-height:35px;text-align:center}.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-check,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-check{font-size:50%}.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move,.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-vertical,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-vertical,.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-horizontal,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-horizontal{font-size:55%}.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-point,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-point,.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-cross,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-cross,.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-open,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-open{font-size:75%}.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-points,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-points,.dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-lines-solid,.dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-lines-solid{font-size:68%}.dcg-color-menu{width:95px}.dcg-color-menu .dcg-color-option{display:inline-block;width:29px;height:29px;margin:0 4px 1px 0;border-radius:50%;position:relative}.dcg-color-menu .dcg-color-option.dcg-hovered{-webkit-box-shadow:0 0 0 2px rgba(187,187,187,0.3);box-shadow:0 0 0 2px rgba(187,187,187,0.3)}.dcg-color-menu .dcg-color-option.dcg-depressed{-webkit-box-shadow:0 0 0 2px rgba(119,119,119,0.3);box-shadow:0 0 0 2px rgba(119,119,119,0.3)}.dcg-color-menu .dcg-color-option:nth-of-type(3n){margin-right:0}.dcg-color-menu .dcg-color-option:nth-of-type(n+4){margin-bottom:0}.dcg-advanced-color-styling{font-size:75%;margin-top:5px;margin-bottom:5px}.dcg-advanced-color-styling input{border:0;outline:none;font:inherit;width:65px;margin-left:3px;border-bottom:2px solid #ccc;padding:2px}.dcg-advanced-color-styling input.dcg-hovered{border-bottom:2px solid #aaa}.dcg-advanced-color-styling input:focus{border-bottom:2px solid #888}.dcg-advanced-color-styling input.dcg-error{border-bottom:2px solid #e15855}.dcg-distribution-parameters-container{padding-left:53px}.dcg-distribution-parameters-container .dcg-component-checkbox{font-size:85%}.dcg-evaluation-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:end;-moz-box-align:end;-o-box-align:end;-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;margin-right:5px}.dcg-evaluation-container .dcg-fraction-toggle{color:#bbb;margin-bottom:2px}.dcg-evaluation-container .dcg-fraction-toggle.dcg-hovered{color:#666}.dcg-evaluation-container .dcg-fraction-toggle.dcg-depressed{color:#333}.dcg-evaluation-container .dcg-fraction-toggle .dcg-toggle-letter{font-size:90%}.dcg-evaluation-container .dcg-fraction-toggle i{margin:0 2px;position:relative;top:1px}.dcg-evaluation-container .dcg-evaluation{margin-top:-3px;border:1px solid rgba(206,206,206,0.8);border-radius:4px;padding:3px 6px 3px 3px;background:rgba(0,0,0,0.04);opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75);display:table}.dcg-evaluation-container .dcg-evaluation.dcg-hidden{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container{font-weight:normal;cursor:pointer;white-space:nowrap;display:table-cell}.dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container .dcg-mq-math-mode{cursor:pointer;padding-right:2px}.dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html{white-space:nowrap;border-top-right-radius:5px;border-bottom-right-radius:5px;display:table-cell}.dcg-exp-list-resizer{position:absolute;top:0;right:-12px;bottom:0;width:15px;cursor:ew-resize}.dcg-exp-list-resizer.dcg-depressed{width:215px;right:-112px}.dcg-expression-edit-actions{padding-left:5px;padding-right:7px;white-space:nowrap;position:absolute;top:0;right:0}.dcg-expression-edit-actions:not(.dcg-limited-height){bottom:0}.dcg-expression-edit-actions .dcg-graphic{height:100%;background:-webkit-linear-gradient(left,rgba(255,255,255,0.5),#fff);background:-moz-linear-gradient(left,rgba(255,255,255,0.5),#fff);background:-o-linear-gradient(left,rgba(255,255,255,0.5),#fff);background:-ms-linear-gradient(left,rgba(255,255,255,0.5),#fff);background:linear-gradient(to right,rgba(255,255,255,0.5),#fff);position:absolute;top:0;right:100%;width:40px;cursor:default;pointer-events:none}.dcg-expression-edit-actions .dcg-exp-action-button{margin-left:2px;width:44px;height:44px;padding:12px 10px;text-align:center;margin-top:4px;display:inline-block;font-size:125%;line-height:20px;opacity:.6;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";filter:alpha(opacity=60);border-radius:5px}.dcg-expression-edit-actions .dcg-exp-action-button.dcg-hovered{background:rgba(0,0,0,0.1)}.dcg-expression-edit-actions .dcg-exp-action-button.dcg-depressed{opacity:1;-ms-filter:none;filter:none}.dcg-slider_menu{margin-left:53px}.dcg-slider_menu{position:relative;top:-3px}.dcg-expression-footer-title{text-transform:uppercase;font-size:80%;color:rgba(0,0,0,0.5);margin-bottom:4px}.dcg-expression-footer-title .dcg-expression-footer-title-help{padding:10px;color:rgba(0,0,0,0.2);margin:-10px -10px -10px -6px;cursor:pointer;text-decoration:none}.dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-hovered{color:#888}.dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-depressed{color:#000}.dcg-container .dcg-slider_menu .dcg-slider-step-container,.dcg-display-domain .dcg-slider-step-container,.dcg-distribution-parameters-container .dcg-slider-step-container,.dcg-cdf-footer-container .dcg-slider-step-container,.dcg-visualization-parameters-container .dcg-slider-step-container{margin-left:10px}.dcg-container .dcg-slider_menu .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,.dcg-display-domain .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,.dcg-distribution-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,.dcg-cdf-footer-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,.dcg-visualization-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field{opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);pointer-events:none}.dcg-container .dcg-slider_menu .dcg-slider-step-container .dcg-slider-step-label,.dcg-display-domain .dcg-slider-step-container .dcg-slider-step-label,.dcg-distribution-parameters-container .dcg-slider-step-container .dcg-slider-step-label,.dcg-cdf-footer-container .dcg-slider-step-container .dcg-slider-step-label,.dcg-visualization-parameters-container .dcg-slider-step-container .dcg-slider-step-label{font-size:85%}.dcg-container .dcg-slider_menu .dcg-mq-editable-field,.dcg-display-domain .dcg-mq-editable-field,.dcg-distribution-parameters-container .dcg-mq-editable-field,.dcg-cdf-footer-container .dcg-mq-editable-field,.dcg-visualization-parameters-container .dcg-mq-editable-field{outline:none}.dcg-container .dcg-slider_menu .dcg-mq-placeholder,.dcg-display-domain .dcg-mq-placeholder,.dcg-distribution-parameters-container .dcg-mq-placeholder,.dcg-cdf-footer-container .dcg-mq-placeholder,.dcg-visualization-parameters-container .dcg-mq-placeholder{margin-top:-10px;font-size:95%}.dcg-container .dcg-slider_menu .dcg-mq-placeholder .dcg-mq-math-mode,.dcg-display-domain .dcg-mq-placeholder .dcg-mq-math-mode,.dcg-distribution-parameters-container .dcg-mq-placeholder .dcg-mq-math-mode,.dcg-cdf-footer-container .dcg-mq-placeholder .dcg-mq-math-mode,.dcg-visualization-parameters-container .dcg-mq-placeholder .dcg-mq-math-mode{font-size:inherit}.dcg-container .dcg-slider_menu .dcg-math-field,.dcg-display-domain .dcg-math-field,.dcg-distribution-parameters-container .dcg-math-field,.dcg-cdf-footer-container .dcg-math-field,.dcg-visualization-parameters-container .dcg-math-field{position:relative;border-bottom:1px solid rgba(0,0,0,0.2);padding:1px 2px;margin:1px;min-width:35px;max-width:60px;font-size:95%}.dcg-container .dcg-slider_menu .dcg-math-field.dcg-focus,.dcg-display-domain .dcg-math-field.dcg-focus,.dcg-distribution-parameters-container .dcg-math-field.dcg-focus,.dcg-cdf-footer-container .dcg-math-field.dcg-focus,.dcg-visualization-parameters-container .dcg-math-field.dcg-focus,.dcg-container .dcg-slider_menu .dcg-math-field.dcg-invalid,.dcg-display-domain .dcg-math-field.dcg-invalid,.dcg-distribution-parameters-container .dcg-math-field.dcg-invalid,.dcg-cdf-footer-container .dcg-math-field.dcg-invalid,.dcg-visualization-parameters-container .dcg-math-field.dcg-invalid{border-bottom:2px solid #6399cb;margin-bottom:0}.dcg-container .dcg-slider_menu .dcg-math-field.dcg-invalid,.dcg-display-domain .dcg-math-field.dcg-invalid,.dcg-distribution-parameters-container .dcg-math-field.dcg-invalid,.dcg-cdf-footer-container .dcg-math-field.dcg-invalid,.dcg-visualization-parameters-container .dcg-math-field.dcg-invalid{border-bottom:2px solid #e15855}.dcg-container .dcg-slider_menu .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-display-domain .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-distribution-parameters-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-cdf-footer-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-visualization-parameters-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid){border-bottom:2px solid #ccc;margin-bottom:0}.dcg-container.dcg-narrow .dcg-expression-top-bar{border-right:0}.dcg-container .dcg-expression-top-bar{border-right:1px solid rgba(0,0,0,0.2);height:46px;border-bottom:1px solid rgba(0,0,0,0.2);line-height:37px;position:absolute;top:0;left:0;width:100%;z-index:4;-webkit-transition:box-shadow .2s ease;-moz-transition:box-shadow .2s ease;-o-transition:box-shadow .2s ease;-ms-transition:box-shadow .2s ease;transition:box-shadow .2s ease;padding:5px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;background:-webkit-linear-gradient(#fcfcfc,#eaeaea);background:-moz-linear-gradient(#fcfcfc,#eaeaea);background:-o-linear-gradient(#fcfcfc,#eaeaea);background:-ms-linear-gradient(#fcfcfc,#eaeaea);background:linear-gradient(#fcfcfc,#eaeaea)}.dcg-container .dcg-expression-top-bar.dcg-expressions-scrolled{-webkit-box-shadow:-2px 2px 4px rgba(0,0,0,0.15);box-shadow:-2px 2px 4px rgba(0,0,0,0.15)}.dcg-container .dcg-expression-top-bar .dcg-btn-red,.dcg-container .dcg-expression-top-bar .dcg-btn-blue{padding:0 15px;height:35px;line-height:35px;position:relative;top:-1px;text-align:center}.dcg-container .dcg-expression-top-bar .dcg-icon-btn{width:38px;height:38px;line-height:38px;font-size:110%;display:inline-block;border-radius:5px;text-align:center;margin:-1px -1px -1px -1px}.dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-rotated{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-undo,.dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-redo{font-size:120%}.dcg-container .dcg-expression-top-bar .dcg-icon-btn i{opacity:.6;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";filter:alpha(opacity=60)}.dcg-container .dcg-expression-top-bar .dcg-icon-btn:not(:last-of-type){margin-right:-2px}.dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-disabled{opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);pointer-events:none}.dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered,.dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active{background:rgba(0,0,0,0.1)}.dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered i,.dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active i{opacity:.8;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\";filter:alpha(opacity=80)}.dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed{background:rgba(0,0,0,0.2)}.dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed i{opacity:1;-ms-filter:none;filter:none}.dcg-container .dcg-expression-top-bar .dcg-center-buttons{text-align:center;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-add-expression-container{position:relative;display:inline-block;height:37px}.dcg-expressionitem .dcg-caret-container{font-size:95%;position:absolute;top:-1px;left:38px;width:32px;height:48px;color:#999;padding-left:10px;padding-top:18px;text-align:left;z-index:2}.dcg-expressionitem .dcg-caret-container i{-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s;width:16px;height:16px}.dcg-expressionitem .dcg-caret-container.dcg-hovered{color:#666;cursor:pointer}.dcg-expressionitem.dcg-collapsed .dcg-caret-container i{display:inline-block;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dcg-expressionitem.dcg-secretFolder{display:none}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder{cursor:pointer;color:rgba(0,0,0,0.5);font-size:75%;padding:5px;margin-top:5px;margin-left:15px;margin-bottom:-5px;margin-right:-5px;position:relative;z-index:1}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box{display:inline-block;vertical-align:top;height:15px;width:15px;border-radius:3px;color:#127a3d;border:1px solid #aaa;margin-right:5px}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box .dcg-icon-check{position:relative;top:-1px;left:1px;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff;display:none;font-size:110%}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-checked .dcg-checkbox-box .dcg-icon-check{display:block}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered{color:#666}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered .dcg-checkbox-box{border-color:#888}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed{color:#444}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed .dcg-checkbox-box{border-color:#444}.dcg-expressionitem.dcg-expressionfolder .dcg-fade-container:after{-webkit-transition:0;-moz-transition:0;-o-transition:0;-ms-transition:0;transition:0}.dcg-expressionitem.dcg-expressionfolder:not(.dcg-collapsed).dcg-has-items .dcg-fade-container:after{position:absolute;top:35px;bottom:5px;left:56px;content:'';border-left:1px solid rgba(0,0,0,0.2);-webkit-animation:dcg-fadeIn .3s;-moz-animation:dcg-fadeIn .3s;-o-animation:dcg-fadeIn .3s;-ms-animation:dcg-fadeIn .3s;animation:dcg-fadeIn .3s}.dcg-expressionitem.dcg-expressionfolder .dcg-main textarea.dcg-smart-textarea,.dcg-expressionitem.dcg-expressionfolder .dcg-main .dcg-displayTextarea{padding-left:20px}.dcg-image-icon-container .dcg-image-loading{position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,0.3);-webkit-box-shadow:none;box-shadow:none;-webkit-animation:dcg-fade-pulse 2s infinite;-moz-animation:dcg-fade-pulse 2s infinite;-o-animation:dcg-fade-pulse 2s infinite;-ms-animation:dcg-fade-pulse 2s infinite;animation:dcg-fade-pulse 2s infinite}@-webkit-keyframes dcg-fade-pulse{0%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}50%{opacity:1;-ms-filter:none;filter:none}100%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}}@keyframes dcg-fade-pulse{0%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}50%{opacity:1;-ms-filter:none;filter:none}100%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}}.dcg-expressionitem.dcg-expressionimage .dcg-image-loading,.dcg-expressionitem.dcg-expressionimage .dcg-image-failed{font-size:100%;padding:1px;color:#888;font-style:italic;line-height:37px}.dcg-expressionitem.dcg-expressionimage .dcg-retry-loading-image{color:#407bb5;text-decoration:underline}.dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid{font-size:80%;display:grid;grid-template-columns:min-content 2fr min-content 1fr;width:calc(100%+20px);color:rgba(0,0,0,0.5);max-width:450px}.dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-name,.dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-mathquill{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-align-self:center;align-self:center;-ms-flex-item-align:center;padding-right:5px;overflow:hidden;padding-top:2px;padding-bottom:2px}.dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field{width:100%;border-bottom:1px solid transparent;cursor:pointer;margin-bottom:1px;position:relative;top:2px;margin-right:10px}.dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-hovered{border-bottom:2px solid rgba(0,0,0,0.2);margin-bottom:0}.dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-focus{cursor:text;border-bottom:2px solid #6399cb;margin-bottom:0}.dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-invalid{border-bottom:2px solid #e15855;margin-bottom:0}.dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-image-input-grid{color:#000}.dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field{border-bottom:1px solid rgba(0,0,0,0.2)}.dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container{margin-bottom:8px;font-size:85%}.dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container textarea,.dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container .dcg-displayTextarea{padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0}.dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-smart-textarea-container{margin-top:-1px;margin-bottom:9px}.dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-main{margin-right:-1px}.dcg-label-dropdown-view{background:#fff;position:absolute;top:-45px;right:35px;padding:5px;z-index:3;background-color:#fff;border:1px solid rgba(0,0,0,0.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2)}.dcg-label-dropdown-view.dcg-popover.dcg-left .dcg-arrow{top:60px}.dcg-label-dropdown-view .dcg-label-options .dcg-label-option.dcg-hovered{text-decoration:underline}.dcg-label-dropdown-view .dcg-label-options .dcg-label-option-selected{color:#4781b9;text-decoration:underline}.dcg-label-dropdown-view .dcg-additional-group-in-column{margin-top:15px}.dcg-label-dropdown-view .dcg-checkbox-children{font-size:90%;vertical-align:middle;color:#666}.dcg-label-dropdown-view .dcg-label-group-container{padding:5px 10px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group{min-width:90px}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group:first-of-type{margin-right:10px;min-width:120px}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-group-title{font-family:\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-weight:500;color:#444;font-size:90%}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option{display:block;-webkit-transition:color .2s ease;-moz-transition:color .2s ease;-o-transition:color .2s ease;-ms-transition:color .2s ease;transition:color .2s ease;white-space:nowrap;font-size:90%;min-height:24px}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-menu-option-selected{color:#4781b9}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-menu-option-selected .dcg-menu-option-label{text-decoration:underline}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected){color:#666}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-hovered{color:#333}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-hovered .dcg-menu-option-label{text-decoration:underline}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-depressed{color:#000}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-small-label{margin-top:6px}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-small-label .dcg-menu-option-icon{font-size:75%}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-large-label .dcg-menu-option-icon{font-size:125%}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option .dcg-menu-option-icon{margin-right:7px;color:#bbb;display:inline-block;width:15px;text-align:center}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-menu-option-icon{position:relative;top:4px;margin-right:12px;font-size:23px}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon{color:#4781b9;position:absolute;top:0;left:0;font-size:23px;width:23px;height:23px}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-left{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-right{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-below{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon .dcg-default-position{border-radius:50%;position:absolute;top:50%;left:50%;margin:-3px 0 0 -3px;height:6px;width:6px;background:#4781b9}.dcg-container .dcg-dropdown-container{padding-right:5px;margin:-5px 0;position:relative}.dcg-container .dcg-dropdown-container .dcg-dropdown-wrench-container{padding:5px 0;width:28px;text-align:center;display:inline-block}.dcg-container .dcg-dropdown-container .dcg-icon-wrench{font-size:110%;color:#999}.dcg-container .dcg-dropdown-container .dcg-icon-wrench.dcg-hovered{color:#666}.dcg-container .dcg-dropdown-container .dcg-icon-wrench.dcg-depressed{color:#000}.dcg-container .dcg-dropdown-container.dcg-no-label{visibility:hidden;pointer-events:none}.dcg-container .dcg-label-container{padding-left:55px;cursor:default;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-container .dcg-label-container .dcg-warning-container{position:absolute;bottom:3px;right:41px;background:#fff}.dcg-container .dcg-label-container .dcg-checkbox{cursor:pointer;color:#999;margin-top:4px;font-size:80%;white-space:nowrap}.dcg-container .dcg-label-container .dcg-checkbox:after{content:\":\";opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-container .dcg-label-container .dcg-checkbox.dcg-checkbox-checked:after{opacity:1;-ms-filter:none;filter:none}.dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box{display:inline-block;vertical-align:middle;height:1em;width:1em;position:relative;top:-0.1em;border-radius:3px;color:#4781b9;border:1px solid #bbb;font-size:125%;margin-right:2px}.dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box .dcg-icon-check{position:absolute;top:50%;left:50%;margin-top:-0.6em;margin-left:-0.35em;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff}.dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check{visibility:hidden}.dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered{color:#666}.dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box{border-color:#999}.dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check{color:#ccc;visibility:visible}.dcg-container .dcg-label-container .dcg-checkbox.dcg-depressed .dcg-checkbox-box .dcg-icon-check{color:#004f9b}.dcg-container .dcg-label-container input{outline:none;min-width:5px;border:1px solid #bbb;border-top:0!important;border-right:0!important;border-left:0!important;color:#000;padding:4px;font-size:80%;margin:0 5px 0 5px;-webkit-appearance:none;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;border-radius:0}.dcg-container .dcg-label-container input::-moz-placeholder{color:#bbb}.dcg-container .dcg-label-container input::-webkit-input-placeholder{color:#bbb}.dcg-container .dcg-label-container input.dcg-hovered{border-color:#ccc;border-bottom-width:2px;padding-bottom:3px}.dcg-container .dcg-label-container input:focus:not([disabled]){border-color:#6399cb;border-bottom-width:2px;padding-bottom:3px}.dcg-container .dcg-label-container input:focus:not([disabled])::-webkit-input-placeholder{color:transparent}.dcg-container .dcg-label-container input:focus:not([disabled])::-moz-placeholder{color:transparent}.dcg-container .dcg-label-container:not(.dcg-label-visible) input.dcg-disabled-input:not(:focus){border-bottom-color:transparent;pointer-events:none}.dcg-container .dcg-label-container.dcg-label-visible .dcg-checkbox{color:#666}.dcg-PROJECTOR-MODE .dcg-label-container{font-size:120%}.dcg-drop-image{position:absolute;top:0;right:0;left:0;bottom:0;z-index:42;text-align:center;vertical-align:middle;background:rgba(255,255,255,0.5);border:8px dashed #bbb;font-family:sans-serif;color:#bbb;font-size:370%}.dcg-drop-image span{position:absolute;bottom:0;left:0;right:0;top:0;height:3.6em;line-height:1.2em;margin:auto;padding:0 20px}.dcg-exppanel-outer{display:inline-block;overflow-x:visible;margin-left:0}.dcg-exppanel-outer .dcg-exppanel-container{padding-top:46px;width:100%;-webkit-transform:translateZ(0);z-index:40;position:absolute;top:0;bottom:0;-webkit-transition:-webkit-transform .25s ease-out;-moz-transition:-moz-transform .25s ease-out;-o-transition:-o-transform .25s ease-out;-ms-transition:-ms-transform .25s ease-out;transition:transform .25s ease-out}.dcg-exppanel-outer .dcg-exppanel-container.dcg-add-shadow{-webkit-box-shadow:0 -4px 6px rgba(0,0,0,0.2);box-shadow:0 -4px 6px rgba(0,0,0,0.2)}.dcg-show-expressions-tab{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-animation:dcg-fadeIn .3s forwards;-moz-animation:dcg-fadeIn .3s forwards;-o-animation:dcg-fadeIn .3s forwards;-ms-animation:dcg-fadeIn .3s forwards;animation:dcg-fadeIn .3s forwards;-webkit-animation-delay:.4s;-moz-animation-delay:.4s;-o-animation-delay:.4s;-ms-animation-delay:.4s;animation-delay:.4s}.dcg-exppanel{height:100%;overflow-x:hidden;overflow-y:auto;overflow-anchor:none;border-right:1px solid rgba(0,0,0,0.2);z-index:0;-webkit-overflow-scrolling:touch}.dcg-exppanel .dcg-expressionlist{position:relative;padding-bottom:50px;min-height:100%}.dcg-narrow .dcg-exppanel{border-right:0}.dcg-parameter-suggestion-container{font-size:80%;position:relative;top:-9px;margin-left:2px;white-space:nowrap;width:100%;padding-right:5px;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;color:#666;cursor:default}.dcg-parameter-suggestion-container .dcg-default-marker{color:rgba(0,0,0,0.5);margin-left:.3em}.dcg-parameter-suggestion-container .dcg-parameter-name:not(:last-of-type):after{content:',';margin-right:5px}.dcg-expressionitem.dcg-isPlaying .dcg-top-level-delete{display:none}.dcg-expressionitem.dcg-isPlaying .dcg-slider-speed-container{opacity:1;-ms-filter:none;filter:none;pointer-events:auto}.dcg-action-toggle-slider-loop-mode,.dcg-action-faster,.dcg-action-slower{color:rgba(0,0,0,0.2)}.dcg-action-toggle-slider-loop-mode.dcg-hovered,.dcg-action-faster.dcg-hovered,.dcg-action-slower.dcg-hovered{color:#666}.dcg-action-toggle-slider-loop-mode.dcg-depressed,.dcg-action-faster.dcg-depressed,.dcg-action-slower.dcg-depressed{color:#333}.dcg-action-toggle-slider-loop-mode.dcg-disabled,.dcg-action-faster.dcg-disabled,.dcg-action-slower.dcg-disabled{cursor:default;color:rgba(0,0,0,0.1)}.dcg-action-toggle-slider-loop-mode{cursor:pointer;height:36px;width:36px;padding:0 10px;position:relative;top:-6px;left:10px;display:inline-block}.dcg-action-toggle-slider-loop-mode .dcg-toggle-loop-mode-bottom{-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s;position:absolute;top:8px;left:10px;padding-bottom:5px}.dcg-action-toggle-slider-loop-mode[loopMode=\"LOOP_FORWARD_REVERSE\"] .dcg-toggle-loop-mode-bottom{display:inline-block;-webkit-transform:scale(-1,-1);-moz-transform:scale(-1,-1);-o-transform:scale(-1,-1);-ms-transform:scale(-1,-1);transform:scale(-1,-1)}.dcg-slider-speed-container{position:absolute;top:0;right:0;color:rgba(0,0,0,0.2);display:block;pointer-events:none;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s}.dcg-slider-speed-container .dcg-action-faster,.dcg-slider-speed-container .dcg-action-slower{cursor:pointer;font-size:170%;padding-bottom:5px;display:inline-block;width:30px;position:relative;top:2px}.dcg-slider-speed-container .dcg-action-slower{text-align:right}.dcg-slider-speed-container .dcg-variable-speed{width:35px;font-size:90%;display:inline-block;text-align:center}.dcg-slider-container{min-height:26px;display:block;position:relative}.dcg-slider{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-left:38px;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-smart-textarea-container{position:relative;font-size:90%}.dcg-smart-textarea-container textarea.dcg-smart-textarea,.dcg-smart-textarea-container .dcg-displayTextarea{border:0;font:inherit;resize:none;background:transparent;overflow:hidden;outline:none;color:#000;white-space:pre-wrap;word-wrap:break-word;width:100%;padding:3px;margin:-1px}.dcg-smart-textarea-container textarea.dcg-smart-textarea{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);position:absolute;top:1px;left:0;bottom:0;right:0;height:100%}.dcg-smart-textarea-container textarea.dcg-smart-textarea.dcg-empty{opacity:1;-ms-filter:none;filter:none}.dcg-smart-textarea-container .dcg-displayTextarea:after{content:'|';opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);width:0;overflow:hidden;display:inline-block;height:1px}.dcg-smart-textarea-container .dcg-displayTextarea a{z-index:1;position:relative;color:#4781b9}.dcg-smart-textarea-container .dcg-displayTextarea a.dcg-hovered,.dcg-smart-textarea-container .dcg-displayTextarea a .dcg-depressed{color:#004f9b}.dcg-selected .dcg-smart-textarea-container .dcg-displayTextarea{pointer-events:none;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-selected .dcg-smart-textarea-container textarea{opacity:1;-ms-filter:none;filter:none}.dcg-stats-footer-container{margin-right:$evaluation-margin;cursor:text;padding-right:5px}.dcg-stats-footer-container table{margin-left:auto}.dcg-stats-footer-container .dcg-value{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;margin-top:3px;border:1px solid rgba(206,206,206,0.8);border-radius:4px;background:rgba(0,0,0,0.04);opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75)}.dcg-stats-footer-container .dcg-value .dcg-row-header{display:inline-block;border-right:1px solid rgba(206,206,206,0.8);margin-right:5px;width:68px;padding:5px}.dcg-stats-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view{padding:3px 6px 3px 3px}.dcg-suggested-zoom-view{position:absolute;bottom:7px;left:50%;font-size:20px;line-height:20px;margin-left:-10px;text-align:center;-webkit-animation:dcg-fadeIn .3s;-moz-animation:dcg-fadeIn .3s;-o-animation:dcg-fadeIn .3s;-ms-animation:dcg-fadeIn .3s;animation:dcg-fadeIn .3s}.dcg-suggested-zoom-view i{padding:5px;margin-left:-5px;opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75)}.dcg-suggested-zoom-view i.dcg-hovered{opacity:.9;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90)}.dcg-suggested-zoom-view i.dcg-depressed{opacity:1;-ms-filter:none;filter:none}.dcg-expressionitem.dcg-expressiontable .dcg-table-icon-container{position:absolute;top:50%;left:5px;margin-top:-14.5px}.dcg-expressionitem.dcg-expressiontable .dcg-drag-icon{opacity:.4;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";filter:alpha(opacity=40);vertical-align:middle;cursor:text;margin-left:5px;margin-right:-10px;font-size:95%}.dcg-expressionitem.dcg-expressiontable .dcg-cell-math-content{outline:none;max-width:120px}.dcg-expressionitem.dcg-expressiontable .dcg-table-container{overflow:hidden;padding-left:15px;padding-right:15px;position:relative}.dcg-expressionitem.dcg-expressiontable .dcg-table-container:before{position:absolute;top:0;left:0;bottom:0;z-index:1;background:-webkit-linear-gradient(right,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(right,rgba(255,255,255,0),#fff);background:-o-linear-gradient(right,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(right,rgba(255,255,255,0),#fff);background:linear-gradient(to left,rgba(255,255,255,0),#fff);width:20px;content:''}.dcg-expressionitem.dcg-expressiontable .dcg-table-container:after{position:absolute;top:0;right:0;bottom:0;background:-webkit-linear-gradient(left,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(left,rgba(255,255,255,0),#fff);background:-o-linear-gradient(left,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(left,rgba(255,255,255,0),#fff);background:linear-gradient(to right,rgba(255,255,255,0),#fff);width:20px;content:''}.dcg-expressionitem.dcg-expressiontable .dcg-table-container .dcg-table-sliding-container{-webkit-transition:-webkit-transform .15s;-moz-transition:-moz-transform .15s;-o-transition:-o-transform .15s;-ms-transition:-ms-transform .15s;transition:transform .15s}.dcg-expressionitem.dcg-expressiontable .dcg-main{padding-top:20px;padding-bottom:5px;position:relative}.dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td{border-top:1px solid #e5e5e5;text-align:center;font-size:80%;color:rgba(0,0,0,0.5);padding:8px 0;font-style:italic}.dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more{color:#4781b9;font-style:normal;text-decoration:underline;font-size:90%}.dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-hovered{color:#004f9b}.dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-depressed{color:#033b70}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata{position:relative;display:table}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row{display:table-row}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell{display:table-cell}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell{border-top:1px solid #e5e5e5;padding:7px 10px 7px 20px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell.dcg-non-editable{padding:7px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:nth-of-type(2) .dcg-cell{border-top:1px solid #444}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell{vertical-align:bottom;padding:7px 5px 3px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type){padding:7px 15px 3px 30px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field{margin-left:10px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell .dcg-math-field{min-height:29px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:first-of-type.dcg-error{padding-left:33px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell{position:relative;text-align:center;vertical-align:middle;font-size:72%;min-height:34px;min-width:40px;cursor:text}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(:first-of-type){border-left:1px solid #e5e5e5}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:nth-of-type(2){border-left:1px solid #444}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable{cursor:default}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable .dcg-mq-math-mode{pointer-events:none}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(.dcg-non-editable):not(.dcg-selected).dcg-empty .dcg-empty-line{position:absolute;width:26px;left:50%;margin-left:-13px;border-top:1px dashed #bbb;bottom:10px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border{position:absolute;left:-1px;top:-1px;bottom:-1px;right:-1px;z-index:1;pointer-events:none}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable{background:#f5f5f5}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border{border:2px solid #6399cb}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-mq-math-mode{position:relative}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-table-icon-error-container{position:absolute;top:50%;left:4px;margin-top:-7px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header{font-size:85%;min-height:37px}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,.dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mq-editable-field{text-align:center}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-right-column):after{content:'';position:absolute;top:0;bottom:0;right:0;background:-webkit-linear-gradient(right,#fff,rgba(255,255,255,0));background:-moz-linear-gradient(right,#fff,rgba(255,255,255,0));background:-o-linear-gradient(right,#fff,rgba(255,255,255,0));background:-ms-linear-gradient(right,#fff,rgba(255,255,255,0));background:linear-gradient(to left,#fff,rgba(255,255,255,0));width:60px;pointer-events:none}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row):before{content:'';position:absolute;bottom:0;left:0;right:0;height:30px;pointer-events:none;background:-webkit-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-moz-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-o-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-ms-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:linear-gradient(to top,#fff,rgba(255,255,255,0));z-index:1}.dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row) .dcg-row:last-of-type .dcg-cell .dcg-empty-line{display:none}.dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type{visibility:hidden}.dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type .dcg-cell{border-color:transparent}.dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row .dcg-cell:last-of-type{border-color:transparent;visibility:hidden}.dcg-toggle-view{float:right;padding:5px;margin-top:5px;display:inline-block;width:30px;height:8px;background:#ddd;border-radius:8px;position:relative;-webkit-transition:all .2s;-moz-transition:all .2s;-o-transition:all .2s;-ms-transition:all .2s;transition:all .2s}.dcg-toggle-view .dcg-toggle-switch{position:absolute;top:-4px;left:0;width:18px;height:18px;background:#f5f5f5;border-radius:50%;-webkit-transition:all .2s;-moz-transition:all .2s;-o-transition:all .2s;-ms-transition:all .2s;transition:all .2s;-webkit-box-shadow:0 2px 2px rgba(0,0,0,0.2),0 0 3px rgba(0,0,0,0.2);box-shadow:0 2px 2px rgba(0,0,0,0.2),0 0 3px rgba(0,0,0,0.2)}.dcg-toggle-view.dcg-toggled{-webkit-transition:all .2s;-moz-transition:all .2s;-o-transition:all .2s;-ms-transition:all .2s;transition:all .2s}.dcg-toggle-view.dcg-toggled .dcg-toggle-switch{-webkit-transition:all .2s;-moz-transition:all .2s;-o-transition:all .2s;-ms-transition:all .2s;transition:all .2s;left:12px;background:#666}.dcg-ttest-footer-container{margin-right:$evaluation-margin;cursor:text;padding-right:5px}.dcg-ttest-footer-container table{margin-left:auto}.dcg-ttest-footer-container .dcg-value{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;margin-top:3px;border:1px solid rgba(206,206,206,0.8);border-radius:4px;background:rgba(0,0,0,0.04);opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75)}.dcg-ttest-footer-container .dcg-value .dcg-operator .dcg-static-mathquill-view{border-right:1px solid rgba(206,206,206,0.8);margin-right:5px;min-width:35px;text-align:center;padding:3px}.dcg-ttest-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view{padding:3px 6px 3px 3px}.dcg-visualization-parameters-container{padding-left:53px;margin-bottom:5px;cursor:pointer}.dcg-visualization-parameters-container .dcg-smaller-font{font-size:85%;margin-left:2px}.dcg-visualization-parameters-container .dcg-mq-container{margin-left:10px;margin-right:10px}.dcg-visualization-parameters-container .dcg-parameter-name{font-size:105%}.dcg-visualization-parameters-container .dcg-toggle-container{display:inline-block;margin-bottom:5px}.dcg-visualization-parameters-container .dcg-toggle-container:not(:last-of-type){margin-right:15px}.dcg-visualization-parameters-container .dcg-toggle{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-visualization-parameters-container .dcg-toggle .dcg-toggle-option{padding:4px 6px;min-width:65px;text-align:center;border:1px solid rgba(0,0,0,0.2)}.dcg-visualization-parameters-container .dcg-toggle .dcg-toggle-option:first-of-type{border-top-left-radius:5px;border-bottom-left-radius:5px}.dcg-visualization-parameters-container .dcg-toggle .dcg-toggle-option:not(:last-of-type){border-right:0}.dcg-visualization-parameters-container .dcg-toggle .dcg-toggle-option:last-of-type{border-top-right-radius:5px;border-bottom-right-radius:5px}.dcg-visualization-parameters-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle+.dcg-toggle-option{border-left:1px solid #4781b9}.dcg-visualization-parameters-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle{background:rgba(71,129,185,0.15);border-color:#4781b9;color:#4781b9;pointer-events:none}.dcg-visualization-parameters-container .dcg-toggle .dcg-toggle-option.dcg-hovered{background:rgba(0,0,0,0.05)}.dcg-visualization-parameters-container .dcg-toggle .dcg-toggle-option.dcg-depressed{background:rgba(0,0,0,0.2)}.dcg-keypad .dcg-functions-popover{top:-306px}.dcg-keypad .dcg-functions-popover .dcg-arrow{border-top-color:#f7f7f7}.dcg-keypad .dcg-functions-popover .dcg-popover-interior{height:306px!important}.dcg-keypad .dcg-functions-popover .dcg-popover-header{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;padding:3px 6px}.dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:10px 0 5px;text-transform:capitalize;color:#333}.dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading:not(:first-of-type){margin-left:6px}.dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading:not(.dcg-selected):not(.dcg-hovered):not(.dcg-depressed){border-bottom:3px solid #e2e2e2}.dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-hovered{border-bottom:3px solid #ccc;color:#000}.dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-depressed{border-bottom:3px solid #bbb}.dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-selected{color:#4781b9;border-bottom:3px solid #4781b9;cursor:default}.dcg-keypad .dcg-functions-popover{padding:0}.dcg-keypad .dcg-functions-popover .dcg-popover-interior{padding:0;width:258px}.dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-popover-header table{border-collapse:collapse;position:relative;top:1px}.dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container{width:33%;float:left;height:42px}.dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container .dcg-keypad-btn{font-size:80%!important}.dcg-keypad .dcg-functions-popover .dcg-section-heading{color:#888;text-transform:uppercase;padding-bottom:2px;font-size:75%;text-align:center;padding-top:8px;clear:both}.dcg-keypad .dcg-functions-popover .dcg-section-heading a{color:#000;margin-left:5px;opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30)}.dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-hovered{opacity:.6;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";filter:alpha(opacity=60)}.dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-depressed{opacity:.9;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90)}.dcg-keypad .dcg-functions-popover .dcg-interior-buttons{margin-left:1px}.dcg-keypad .dcg-functions-popover .dcg-option{border-bottom:1px solid rgba(0,0,0,0.2);cursor:pointer;margin:4px 1px 0 3px!important;width:60px;height:38px;line-height:28px;text-align:center;line-height:38px;padding:0}.dcg-keypad .dcg-functions-popover .dcg-option.dcg-inverse-trig .dcg-mq-supsub{line-height:0;font-size:80%;position:relative;top:-0.5em;margin-right:-5px}.dcg-keypad .dcg-functions-popover.dcg-left{top:auto;bottom:2px;right:18%;left:auto}.dcg-keypad .dcg-functions-popover.dcg-left .dcg-arrow{top:auto}.dcg-keypad .dcg-keys-container{position:absolute;bottom:0;z-index:60;width:100%;margin:0 auto;padding:0;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-o-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}.dcg-keypad .dcg-functions-popover{position:absolute;right:8px}.dcg-keypad .dcg-minimize-keypad .dcg-icon-keyboard,.dcg-keypad .dcg-show-keypad .dcg-icon-keyboard{font-size:175%;float:left;margin-right:8px}.dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-down,.dcg-keypad .dcg-show-keypad .dcg-icon-caret-down,.dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-up,.dcg-keypad .dcg-show-keypad .dcg-icon-caret-up{font-size:75%;line-height:2rem}.dcg-keypad .dcg-minimize-keypad-container{position:absolute;top:-2.5rem;left:-1px}.dcg-keypad .dcg-show-keypad-container{z-index:60;position:absolute;bottom:5px;left:5px;-webkit-animation:dcg-fadeIn-show-keypad .6s;-moz-animation:dcg-fadeIn-show-keypad .6s;-o-animation:dcg-fadeIn-show-keypad .6s;-ms-animation:dcg-fadeIn-show-keypad .6s;animation:dcg-fadeIn-show-keypad .6s}.dcg-keypad .dcg-minimize-keypad{padding:.25rem 1.25rem;border-top-left-radius:5px;border-top-right-radius:5px}.dcg-keypad .dcg-show-keypad{padding:4px 14px}.dcg-keypad .dcg-keys{position:relative;width:100%;max-width:835px;margin:auto;text-align:center}.dcg-keypad .dcg-keys{font-size:110%}.dcg-keypad .dcg-keys-background{background:#f0f0f0;border-top:1px solid rgba(0,0,0,0.1);-webkit-box-shadow:0 -1px 3px 0 rgba(0,0,0,0.1);box-shadow:0 -1px 3px 0 rgba(0,0,0,0.1)}.dcg-keypad .dcg-keys-background .dcg-minimize-keypad{background:#f0f0f0;color:rgba(0,0,0,0.7);border:1px solid rgba(0,0,0,0.1);border-bottom:1px solid #f0f0f0;-webkit-box-shadow:0 -1px 3px 0 rgba(0,0,0,0.1);box-shadow:0 -1px 3px 0 rgba(0,0,0,0.1)}.dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-hovered{color:rgba(0,0,0,0.9)}.dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-depressed{color:#000}.dcg-narrow .dcg-hide-on-narrow{display:none}.dcg-narrow .dcg-keypad .dcg-functions-popover:not(.dcg-left){position:absolute;margin-left:-70px}.dcg-narrow .dcg-keypad .dcg-functions-popover.dcg-left{right:18%}@-webkit-keyframes dcg-fadeIn-show-keypad{0%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}50%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn-show-keypad{0%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}50%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-ms-filter:none;filter:none}}.dcg-exp-options-menu.dcg-image-options-menu{width:auto;margin-top:-13px}.dcg-exp-options-menu.dcg-image-options-menu .dcg-triangle{top:14px}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option{display:inline-block;width:29px;height:29px;margin-top:2px;border-radius:50%;position:relative}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option:not(:last-of-type){margin-right:5px}.dcg-basic-keypad .dcg-keypad-btn-container{height:40px;display:inline-block;position:relative;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn{position:absolute;top:2px;left:2px;right:2px;bottom:2px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;padding:0}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content{text-align:center;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;pointer-events:none}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int{font-size:80%}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sup,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sup,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sub,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sub,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-to,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-to,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-from,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-from{display:none}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-supsub{font-size:80%}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-sqrt-stem{width:4px;padding:0;background:transparent}.dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=shift]{padding-top:2px}.dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=\"/\"],.dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=\"-\"]{padding-top:1px}.dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=\"*\"]{padding-top:2px}.dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=left],.dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=right],.dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=backspace]{font-size:110%;padding-top:2px}.dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=enter]{font-size:140%;padding-top:3px}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content{font-size:90%}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray{-webkit-box-shadow:inset 0 1px rgba(255,255,255,0.25),inset 0 -1px rgba(0,0,0,0.02);box-shadow:inset 0 1px rgba(255,255,255,0.25),inset 0 -1px rgba(0,0,0,0.02);background:-webkit-linear-gradient(#fff,#fafafa);background:-moz-linear-gradient(#fff,#fafafa);background:-o-linear-gradient(#fff,#fafafa);background:-ms-linear-gradient(#fff,#fafafa);background:linear-gradient(#fff,#fafafa);border:1px solid #d8d8d8;border-radius:2px}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-hovered{background:#f5f5f5;border-color:#d8d8d8}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-depressed{background:#ebebeb;border-color:#cfcfcf;-webkit-box-shadow:none;box-shadow:none}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray{-webkit-box-shadow:inset 0 1px rgba(255,255,255,0.1),inset 0 -1px rgba(0,0,0,0.02);box-shadow:inset 0 1px rgba(255,255,255,0.1),inset 0 -1px rgba(0,0,0,0.02);background:-webkit-linear-gradient(rgba(0,0,0,0.13),rgba(0,0,0,0.16));background:-moz-linear-gradient(rgba(0,0,0,0.13),rgba(0,0,0,0.16));background:-o-linear-gradient(rgba(0,0,0,0.13),rgba(0,0,0,0.16));background:-ms-linear-gradient(rgba(0,0,0,0.13),rgba(0,0,0,0.16));background:linear-gradient(rgba(0,0,0,0.13),rgba(0,0,0,0.16));border:1px solid #bbb;border-radius:2px}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-hovered{background:rgba(0,0,0,0.16)}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-depressed{-webkit-box-shadow:none;box-shadow:none;background:rgba(0,0,0,0.19)}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue,.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:2px;color:#fff;background:#4781b9;border:1px solid #3f73a6;-webkit-box-shadow:inset 0 1px rgba(255,255,255,0.1),inset 0 -1px rgba(0,0,0,0.05);box-shadow:inset 0 1px rgba(255,255,255,0.1),inset 0 -1px rgba(0,0,0,0.05)}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-hovered:not(.dcg-disabled),.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-hovered:not(.dcg-disabled){background:#3f73a6;-webkit-transition:background .2s;-moz-transition:background .2s;-o-transition:background .2s;-ms-transition:background .2s;transition:background .2s}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-depressed:not(.dcg-disabled),.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-depressed:not(.dcg-disabled){background:#35608a;border:1px solid #35608a;-webkit-box-shadow:none;box-shadow:none}.dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue{height:76px}.dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray{-webkit-box-shadow:inset 0 -1px rgba(255,255,255,0.25),inset 0 1px rgba(0,0,0,0.02);box-shadow:inset 0 -1px rgba(255,255,255,0.25),inset 0 1px rgba(0,0,0,0.02);background:-webkit-linear-gradient(#fafafa,#fff);background:-moz-linear-gradient(#fafafa,#fff);background:-o-linear-gradient(#fafafa,#fff);background:-ms-linear-gradient(#fafafa,#fff);background:linear-gradient(#fafafa,#fff)}.dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray{-webkit-box-shadow:inset 0 -1px rgba(255,255,255,0.1),inset 0 1px rgba(0,0,0,0.02);box-shadow:inset 0 -1px rgba(255,255,255,0.1),inset 0 1px rgba(0,0,0,0.02);background:-webkit-linear-gradient(rgba(0,0,0,0.16),rgba(0,0,0,0.13));background:-moz-linear-gradient(rgba(0,0,0,0.16),rgba(0,0,0,0.13));background:-o-linear-gradient(rgba(0,0,0,0.16),rgba(0,0,0,0.13));background:-ms-linear-gradient(rgba(0,0,0,0.16),rgba(0,0,0,0.13));background:linear-gradient(rgba(0,0,0,0.16),rgba(0,0,0,0.13))}.dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray{background:rgba(255,255,255,0.3);border:0}.dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-hovered{background:rgba(255,255,255,0.25)}.dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-depressed{background:rgba(255,255,255,0.15)}.dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray{background:rgba(0,0,0,0.15);border:0}.dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-hovered{background:rgba(0,0,0,0.18)}.dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-depressed{background:rgba(0,0,0,0.22)}.dcg-keypad-control-bar{height:40px;background-color:rgba(0,0,0,0.07);border-left:1px solid rgba(0,0,0,0.2);border-right:1px solid rgba(0,0,0,0.2)}.dcg-keypad-control-bar .dcg-keypad-control-bar-contents{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-moz-box-align:stretch;-o-box-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-shrink:0;flex-shrink:0;padding-top:2px}.dcg-keypad-control-bar .dcg-spacer{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1}.dcg-keypad-control-btn{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1;min-width:40px;text-align:center;color:rgba(0,0,0,0.6);font-size:87.5%}.dcg-keypad-control-btn.dcg-narrow-control-btn{max-width:80px}.dcg-keypad-control-btn.dcg-selectable-btn{padding:0 5px;height:38px;line-height:40px}.dcg-keypad-control-btn:not(.dcg-selectable-btn){height:32px;line-height:32px;margin:5px;border-radius:5px}.dcg-keypad-control-btn.dcg-disabled{color:rgba(0,0,0,0.15);cursor:default}.dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-hovered{color:rgba(0,0,0,0.8);background:rgba(0,0,0,0.1)}.dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-depressed{color:#000;background:rgba(0,0,0,0.18)}.dcg-keypad-control-btn[dcg-command=settings] i{font-size:120%;position:relative;top:1px}.dcg-keypad-control-btn[dcg-command=backspace] i,.dcg-keypad-control-btn[dcg-command=undo] i,.dcg-keypad-control-btn[dcg-command=redo] i{font-size:150%;position:relative;top:3px}.dcg-keypad-control-btn[dcg-command=clearall],.dcg-keypad-control-btn[dcg-command=clear]{width:50px;white-space:nowrap}.dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn{position:relative}.dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:after{position:absolute;bottom:0;left:0;right:0;content:\"\";height:0;background:rgba(71,129,185,0.5)}.dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected){color:#000}.dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected):after{height:4px;-webkit-transition:height .2s;-moz-transition:height .2s;-o-transition:height .2s;-ms-transition:height .2s;transition:height .2s}.dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected{color:#000}.dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected:after{height:4px;background:#4781b9}.dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:first-of-type{margin-left:6px}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn{min-width:25px}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clearall],.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clear]{width:50px}.dcg-keypad-control-toggle{display:block;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1;line-height:24px;height:25px;margin-top:7px;cursor:pointer;color:rgba(0,0,0,0.6);font-size:80%;text-transform:uppercase;background:#fff;border:1px solid rgba(0,0,0,0.2);border-radius:5px;width:70px;min-width:50px;margin-left:20px;margin-right:20px;position:relative;-webkit-box-shadow:inset 1px 1px 2px rgba(0,0,0,0.15);box-shadow:inset 1px 1px 2px rgba(0,0,0,0.15)}.dcg-keypad-control-toggle .dcg-ctrl-toggle-option{text-align:center;display:inline-block;width:50%;font-size:80%}.dcg-keypad-control-toggle .dcg-ctrl-toggle-cover{position:absolute;top:-1px;right:-1px;bottom:-1px;left:50%;border-radius:5px;border:1px solid rgba(0,0,0,0.2);-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-keypad-control-toggle.dcg-hovered{border-color:rgba(0,0,0,0.3)}.dcg-keypad-control-toggle.dcg-hovered .dcg-ctrl-toggle-cover{border-color:rgba(0,0,0,0.3)}.dcg-keypad-control-toggle.dcg-depressed .dcg-ctrl-toggle-cover{border-color:rgba(0,0,0,0.5)}.dcg-keypad-control-toggle.dcg-toggled .dcg-ctrl-toggle-cover{-webkit-transform:translate(-100%,0);-moz-transform:translate(-100%,0);-o-transform:translate(-100%,0);-ms-transform:translate(-100%,0);transform:translate(-100%,0)}.dcg-has-background-color .dcg-keypad-control-toggle{background:rgba(255,255,255,0.3)}.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-toggle{margin-left:5px;margin-right:5px}.dcg-basic-keypad-container{background:rgba(0,0,0,0.07);border:1px solid rgba(0,0,0,0.2);border-top:none}.dcg-basic-keypad{margin:0;padding:4px 3px}.dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-to,.dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-from{display:none!important}.dcg-basic-keypad .dcg-mq-int .dcg-mq-supsub{display:none}.dcg-basic-keypad .dcg-mq-large-operator,.dcg-basic-keypad .dcg-mq-int{font-size:70%;position:relative;top:-1px}.dcg-basic-keypad *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none}.dcg-basic-keypad .dcg-half-width-placeholder{-webkit-box-flex:.5;-moz-box-flex:.5;-o-box-flex:.5;-ms-box-flex:.5;box-flex:.5;-webkit-flex-grow:.5;flex-grow:.5}.dcg-basic-keypad .dcg-partition-placeholder{width:4%}.dcg-keypad-row{padding:0;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-moz-box-align:stretch;-o-box-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;margin:0}.dcg-tooltip-hit-area-container{display:inline-block;position:relative;cursor:default!important;line-height:0}.dcg-tooltip-mount-pt{position:absolute;top:0;left:0}.dcg-tooltip-positioning-container{position:absolute;pointer-events:none;z-index:10000}.dcg-tooltip-positioning-container .dcg-tooltip-message-container{position:absolute;z-index:10000;-webkit-animation:dcg-fadeIn .3s;-moz-animation:dcg-fadeIn .3s;-o-animation:dcg-fadeIn .3s;-ms-animation:dcg-fadeIn .3s;animation:dcg-fadeIn .3s;width:200px;white-space:normal}.dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message{background:#000;color:#fff;border-radius:4px;padding:5px 8px;font-size:14px;text-shadow:none;line-height:1.1em;display:inline-block;pointer-events:all;text-align:center}.dcg-tooltip-positioning-container .dcg-tooltip-arrow{position:absolute;-webkit-animation:dcg-fadeIn .3s;-moz-animation:dcg-fadeIn .3s;-o-animation:dcg-fadeIn .3s;-ms-animation:dcg-fadeIn .3s;animation:dcg-fadeIn .3s;z-index:10000}.dcg-settings-view-container{line-height:0}.dcg-settings-view-container .dcg-settings-container{position:absolute;top:2px;right:38px;line-height:1em}.dcg-settings-container{bottom:auto;z-index:61;width:290px}.dcg-settings-container .dcg-arrow{top:18px!important}.dcg-settings-container .dcg-popover-interior{padding:10px}.dcg-settings-container .dcg-modern-btn{border-radius:6px;display:inline-block;padding:3px;text-align:center;cursor:pointer}.dcg-settings-container .dcg-modern-btn.dcg-active{border:1px solid #127a3d;background-color:#127a3d;color:rgba(255,255,255,0.9)}.dcg-settings-container .dcg-modern-btn.dcg-active.dcg-hovered{border-color:rgba(13,84,42,0.6);-webkit-box-shadow:inset 0 0 0 1px rgba(13,84,42,0.6);box-shadow:inset 0 0 0 1px rgba(13,84,42,0.6)}.dcg-settings-container .dcg-modern-btn.dcg-active.dcg-depressed{border-color:#0d542a;-webkit-box-shadow:inset 0 0 0 1px #0d542a;box-shadow:inset 0 0 0 1px #0d542a}.dcg-settings-container .dcg-modern-btn:not(.dcg-active){border:1px solid #127a3d;color:#127a3d}.dcg-settings-container .dcg-modern-btn:not(.dcg-active).dcg-hovered{border-color:#127a3d;-webkit-box-shadow:inset 0 0 0 1px #127a3d;box-shadow:inset 0 0 0 1px #127a3d}.dcg-settings-container .dcg-modern-btn:not(.dcg-active).dcg-depressed{border-color:#0d542a;-webkit-box-shadow:inset 0 0 0 1px #0d542a;box-shadow:inset 0 0 0 1px #0d542a}.dcg-settings-container .dcg-minor-checkbox,.dcg-settings-container .dcg-step-label{font-size:85%;color:#444}.dcg-settings-container .dcg-top-section-flex{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;padding-top:5px}.dcg-settings-container .dcg-top-section-flex .dcg-component-checkbox{margin-top:3px}.dcg-settings-container .dcg-grid-settings{min-width:110px}.dcg-settings-container .dcg-grid-settings .dcg-component-checkbox{margin-bottom:2px}.dcg-settings-container .dcg-top-checkboxes-container .dcg-component-checkbox{margin-bottom:3px}.dcg-settings-container .dcg-top-checkboxes-container .dcg-action-zoom-square{float:left;clear:left;font-size:80%;margin:3px 0 8px;padding:3px 10px;line-height:1.5em}.dcg-settings-container .dcg-action-projectormode{width:100%;font-size:105%;padding:8px;margin-bottom:5px}.dcg-settings-container .dcg-action-toggle-y-axis-steps,.dcg-settings-container .dcg-action-toggle-x-axis-steps{margin-right:-2px}.dcg-settings-container .dcg-component-checkbox{float:left;clear:both}.dcg-settings-container .dcg-checkbox-title{clear:left;font-size:95%;height:1.5em;line-height:2em;margin-bottom:2px}.dcg-settings-container .dcg-checkbox-title.dcg-x-axis-title{margin-top:10px;clear:both}.dcg-settings-container .dcg-checkbox-title.dcg-y-axis-title{margin-top:20px;clear:both}.dcg-settings-container .dcg-checkbox-title .dcg-checkbox{line-height:2em;color:#444;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;cursor:pointer;white-space:nowrap}.dcg-settings-container .dcg-checkbox-title .dcg-checkbox .dcg-checkbox-box{font-size:105%}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label{width:55%;outline:none;float:right;border-radius:5px;color:#444;padding:7px;font-size:90%;-webkit-appearance:none;border:1px solid rgba(0,0,0,0.42)}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label::-moz-placeholder{color:#888}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label::-webkit-input-placeholder{color:#888}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label.dcg-hovered:not([disabled]){border-color:rgba(0,0,0,0.42);-webkit-box-shadow:0 0 0 1px rgba(0,0,0,0.42);box-shadow:0 0 0 1px rgba(0,0,0,0.42)}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled]){border-color:$selected-expr-color;-webkit-box-shadow:0 0 0 1px $selected-expr-color;box-shadow:0 0 0 1px $selected-expr-color}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled])::-webkit-input-placeholder{color:transparent}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled])::-moz-placeholder{color:transparent}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label[disabled]{opacity:.4;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";filter:alpha(opacity=40)}.dcg-settings-container .dcg-section-divider{clear:both;border-bottom:1px solid #ddd;margin-top:10px}.dcg-settings-container .dcg-radiangroup{padding-top:10px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-settings-container .dcg-radiangroup .dcg-modern-btn{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:5px}.dcg-settings-container .dcg-radiangroup .dcg-modern-btn:first-of-type{border-radius:6px 0 0 6px}.dcg-settings-container .dcg-radiangroup .dcg-modern-btn:last-of-type{border-radius:0 6px 6px 0}.dcg-settings-container .dcg-arrows{text-align:center}.dcg-settings-container .dcg-arrows i{font-size:26px;line-height:28px}.dcg-settings-container .dcg-circle-icon-group{margin-left:24px;margin-bottom:4px;float:left;clear:both}.dcg-settings-container .dcg-circle-icon-group.dcg-arrow-group{margin-bottom:10px}.dcg-settings-container .dcg-circle-icon{display:inline-block;cursor:pointer;width:28px;height:28px;border-radius:14px;-webkit-box-shadow:0 0 2px rgba(0,0,0,0.25) inset;box-shadow:0 0 2px rgba(0,0,0,0.25) inset;background-color:#f9f9f9;-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;background-position:center center;background-repeat:no-repeat;color:#777}.dcg-settings-container .dcg-circle-icon.dcg-active{background-color:#127a3d;color:rgba(255,255,255,0.9)}.dcg-settings-container .dcg-circle-icon.dcg-active.dcg-hovered{-webkit-box-shadow:inset 0 0 0 2px rgba(13,84,42,0.6);box-shadow:inset 0 0 0 2px rgba(13,84,42,0.6)}.dcg-settings-container .dcg-circle-icon.dcg-active.dcg-depressed{-webkit-box-shadow:inset 0 0 0 2px #0d542a;box-shadow:inset 0 0 0 2px #0d542a}.dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-hovered{-webkit-box-shadow:inset 0 0 0 2px rgba(0,0,0,0.15);box-shadow:inset 0 0 0 2px rgba(0,0,0,0.15)}.dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-depressed{-webkit-box-shadow:inset 0 0 0 2px rgba(0,0,0,0.25);box-shadow:inset 0 0 0 2px rgba(0,0,0,0.25)}.dcg-settings-container .dcg-circle-icon.dcg-action-cartesian,.dcg-settings-container .dcg-circle-icon.dcg-action-polar{background-position:center center;background-repeat:no-repeat;border:1px solid rgba(0,0,0,0.42)}.dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active,.dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active{border:none}.dcg-settings-container .dcg-circle-icon.dcg-action-cartesian{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABRUlEQVR4Ae2ZJZQcURQF27vx58Sb8SJ2vD+jgzYswzqcCslW4yKDy2CXwSwz84Zuvu//XDj313mqTJnGV1QPJaIssofziOnA1VHiRGC3EM3AdSKe5J0DHehAB/73gTyrMInSPMvSidgNXAslysAeI94HbhExnHcF+rMpeFthEaV5m2UUcRi4XpToDOxnxGDgNhGzefevXyQOdKADHehAB9Ko8B6laWS5j1gO3GmUaAZ2D3E3cIOI13lXoD+bvyCwVqGF0tSyXETMBu4kStQDu404HbhexKu8+9evYgc60IEOdKAD2ahwjNJsZNlHfA3cNkpsBfYbYi9wnxFHefcXvM2cqdCP0pzJUiLWA3cDJa4F9gDxMnCTiLa880XiQAc60IEO9CrMqzCvwnwVO9CBDnSgA70K8yrsJ+FVmK9iBzrQgQ504HdiRjEpheKY1QAAAABJRU5ErkJggg==\")}.dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABO0lEQVR4Ae2ZJ1AzARBGz7v4GbyJF9h4P9FUS5d0zU+v8lQckt6LpRdD773DDzzO366j8+2bVc88c7kkG8SHEAgDcygENh2XBCDLsRdA2nHjQKvtFKhABSrwzwfSEWMdou0wGQeuHZcBIHTsIzDouH1g0XYB33wC+mPsQ7T9JsvAveOmARh37H9g3nHnwLbtfvtDokAFKlCBClQgqRiDEG3K5B9w6LhcANKOvQHqHTcP9Nou4JvPDwhMxMhAtAmTYmDbcdkAJB17CeQ6bhrosZ2eYgUqUIEKVOBvD+QsxiNEe2ZyC7w47hKAC8e+AjeO+w882O4HfJvJizEL0eaZhMCp46oAqHDsHdDtuHVgxHZ6SBSoQAUqUIE6hekUplOYnmIFKlCBClSgTmE6hX3Q6BSmp1iBClSgAhX4BgYE6hY3llM6AAAAAElFTkSuQmCC\")}.dcg-settings-container .dcg-circle-icon.dcg-action-polar{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHs0lEQVR4Ad2bA5AsSxOFZ3Vt7rNt27Zt27Ztfw/Xtm3btm1zb/7xTlRsdMx27/T09ouY+Csvtounu1KVWZtIXdiHrESowiCMu0P2rU1uIo7CW2zl3vgBMoApnBkHwG8xFlMhXoDchrGLY+MAWJmVGB/HCZAyzMf4NRFP4TGMbRwQI8D3MFZTPS6AOYzDaBkXQPZhE8bzifgKF2AY58cEsBHGFMlwfIWWGOPILjlAzmQPxuWJeAsHsQ3j0ZICJIvhGB0T8Rc+wVhJpRICfABjB4f9FwArsBjj2+gA/eeIsXC/e/voAD/FWEGl/wpgFsMwOhWpr84FPMbn/MkyjD78xFvczNHkRODjyMVHAsniHL5niur8aCNdeIpqhaNb+WuCWAsNkQ6jKm8zG3O0juE05BsWYXTkV7owi92ubTvtuSiR4EI9nRc3In8r0JUNWm4nnXiao/x4kApcxTfMdzCHMEXWKEph/7R6t8BEC3iZWqmEhCzOpzkFmOjstDh+P/3Azezgi5DuVFXaYaK+lAovxZzu+HQ9t4WEdxL9WUA5x7oYS3k4pSE7jQUYu+nkfLnwAL/FWMI0rfQzOSnWqUEdCrTGtf8+ZvMwSzV0eHEeLtexGWOZGL4/Rq+wADmCnRj3Uo56WqcDZQNXKcUrrFOv7hzt1fBfswNjD03Zy3fg9WofTr6eTpSM3hgSYGeMYWTp58c0ciDlfFe5kpkCN4ubijYeSls1buKd5DfkYrZgdKNwWv7WNKVTA+QKvfjpnlfdKnWexMMcRTe3/mtqC3iDKeo0n5u8W8R6TemBQ03VvZ4KIHnivPpJkHdg1PHUVOFb1RVQRzsYXMjlGccD/TjRnR/GYUykclLPVzA2kJ8C4PP6Jvskjb1XKzykn7N5nFV6HsZp4US8Br+xS1L0GzX4RUbr8CK98sQvdYoDSHW97Ns+a/yOsZlDuJCxAreIu8hKhC8cSz+nuQqCPBSu0aacWvhcWs7Eo0kw5lLGZ2xpxsuzMYytfEqFKBbmJma7Ca4M6NFDElmKq6njsb4b6Mdb7M+xqrnVd2Q5GmKiNrJk0Qp3YI46cqhP+1FihZWYDxVIu/b1NWJ3sQATzSSrJP7fGIz6NJSh2sG3ya4mezHfqYZG3MNR2uLXuJC3megAfJcMgJPUy1jFG2zHuCk6wAsFax/5gcOKGkROYZGD8UmykFCaJa6tIXmeF3JGjO+okkjwB8aA6ADrYjQv/JoPOoM4lrNUc7I04QzZ2S3snwTwTXmJ3+jbNybLGTE5aXTDGTGOkRI/KBq8smzEuMp75OFTtjuDeLK+3hiqk8skjCZegOQLysuJBA8J4ttczyxnxK7xriImei8awEslj3n+BlG0hJqqu0Sgz/YArIcxHY3lXbXK7+YVSvmo+yHRAH4WdMDmIqZrwcXc4WraYYwiGwHkVPHZNc6I/YQJYh3yfeY6WhxZMQrAwRgvBbS1xxz14yR91+0YDwrgPRrZTWbzaRkxEacGaIqVGJdFACgOvMi3paa033XOIBbwFzX4EmOZrENnnVWO5ELGuaPBXXTH+MV/HVms59KHl6/J9/Ftuw9jvtugXo67PmINVkjtHadu5WPKuiP/HP+VpGp+Sx/gKRjbAtp+xqjrMYizsCTa42TdGTH2VW0Nv9mkkDoXexDypZswVvu3yQK/73muzVfs8MBzPrF3jA6rl/rNJjke5tsiSmCZTRkPMGiLr8JYG9DWBeOjtLa4msJGF0Xa4kCH1dhBdmDmpGlaQnKIniv7zSZL0yF9Ka6OYf6pB27FWE52GmrmKYzJASv9g/FjIv2iBa/wbanEVlmM8Ip6CMaXxVisJ6MA7IPxVnAQLk1TV8ARATmY9RgXRAH4HkYvf2fBRVmWhXIWfnMA/Z0FGQTKRAF4jnioXDHu1noODeFugbE70N16H6NPIkohj5UYtwU4rEcyGWM+h6ZwWD8WtAcDHdZp6hetyOZ2CXT5D5RPvZK/i3H5m2vEF6rxc/nPkDeYHxXgKeKdwwMPTfs7OTV+KHJoqshapxE/UpP/oamZ11GIKsltijl2lmeygzGEd7lagL/mYf4p1IqvqqP/sfN9gb2wJACvCnVwn4L50Hpmhji4j/U0RA597OTqYkMfWRzJu/RggeBuYhx1uJOyKUIfrXxCHxGCR+skty+HCB4V8mCo4FEV5mIsTA4eRQm/vSP+OyPO8BtZ0qYrqeUffksvgJlDb02wb4wBzDclWFcHBzDTCwHnS+NNpFpMIeCHpRU+ChECDh1EP05WZQw1YwiiPyfl0pCs8EH0MGmIM/TFZnNsSdIQZPOpQDQjJ3QaInQi51SWy6g9GDmRky/Fb/xCdthETnqpsAMZpb4jIqXClksUdiqcEjoVlm4ysTTfuUjVaCqnAfB6TDSXM9NLJkZJx/5WGCr/kVNSAaQCDzIUc3R0hHRspIR248Js+yS+5SqqJgMkl6N4mjZswbRZjZgQJaEd/UpALnfSiwLM0UoG04aVErUuTPOck5fyPYfEeiUg/LUm9uNFOrM+IA0xiV+4gpwIlyrivZYioJfyGG8wTzruRe7gJMoFX6/6P7jYk/lXozL/clnmX8/L/AuOmX9FNPMv2Wb+NeXMv+id+VflM/+XDTL+1zX+Bzz06y/bFKL/AAAAAElFTkSuQmCC\")}.dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHMElEQVR4AeXbA4wk+xbH8f9gbc+1bdu2bdu2bXNxbdu+s+9ac7W2dwerQffnJZPOS6fTtdPVW0k6ed/FoJBf8ZzzO6dD21hMWSgIX+HQUBAGqAxJ4BJzHZ68QF+osXESAm/HeF2TFegANFs9CYE9TMW1SQrU0WjcH5LBCZhnqQQFXoHp+oRkUOFnvJiUQItpwJkhOWwFtkxI4FOoURmSxIv4WfnCC7SxNHYMyWIZ83D8wgpUZijeDMnjOkzVfSEFHoVGK4Tk0dV43B5fYMQ+kseRuUcfW+D1mJK5CsmjTDXeCjnoYysnuNEjJuET97jEvlZVEXEfJ07EE6jMZu5UIy0/9d5xit4hg5ci3gRJ4knUqNTLpYYDmGWoJ91mHN50v3cM0wKY73XbhGBrsEVIlogo8K460OQtp1ol3z2oq13cZjTgGzV4MRSDJUMMvAAY41z923pIlNnS81KATWPd8Uu0fmNfjW4qMJ3q5TXAp9oX/hTbUBrUOiAUhHV8bozOmVsXEx3bZiDbwBi0eCsil4sWeDsm+AvcqyIsEH0NlEKz3UMIyh1rIhi6oAzXHmZjkm1C8Dk+KlSglTThcJ0NBm/oFCLQ3nlmgfetmv2Gv1Uj0p61SMiDPTViqKrWn9bWgr0LFPg2qpVlcssWfKlzyIOd/QuG2SfkYnmvggaX5R6hbc3Be/63W49hmA5tC7QT0jbMOtS5+CT3HraK90CDCzLL8h5BDRhtn+xLpBafZMvRTy0ubEugdv7CkBzJjRiY9ZuebteIlIEWCQtCpdPMAp9ZO1M//Izf9MhZ8zzUqWpD4JlosFjOtoeDY1q/L3eiaaDaBqEQ9PWAZjR7QF/3od6KIQft/IuBCxKoj1m4NIRcPIjZlrO1n8A4hygLhWN1n4FaqagMxW5IWT9k0EE1js+RMVLHPNt28AumgLmu1zXExz6Gg7l2DnnxAb7U3q4GZkXfOp+5xJJW14L9Qx509iTgFUuGYnEQgDctn2f5KpoxVT5SJuLTvEHsEGMA/ypbmPzvRwzxpDQa3Z6balrEaNDgKYdZRTUusLVL/Qa4I1eAdVSDaS4yH/uEYrE1Gi0Wgo1VkxsQrWcc4Lrch0QHEwBPapd1QJkg5g49Q/AQvgjFYhCez3xf5mgTwU82af3Numrxj9sxx5I5Ai/GLLdJ42llmSBWB96TCWJWQ9oyoRh0Uo9dskse15ufCYjrGocf9VHpdzyTLVCVOpwbgmOkcak9DQPD7Bay8COuCMVge9RpFxEQYYJ+rb/bDmmbZgkcjL+1butypMEs5+UGMefhm1AMbogqsG3jbzDeQZnfvIbvlWsVaH0p7JYJYveAtIGq8uxrVTTrFuLja5wTsex1AJ9ZJwTLm4+jfYXDfI33QlDpVNMArB/xppiKHUJ81GObkAf9NGOPTEBMeVRfN2OSX/A2mqxsaz+DMQ7xPu4LefEZzghxUQUWC3lwBEZnLtBHYJZrzADA614Fc12rU6bkHxHy4iE8EOJiPcyLWHYvBmUFxGFySSPtWZkgZnHQN+TBxXh7wYVQvj/7YHrEsg9wZdbPA9yiEQCZnFj2Ng3YPu/ezkO1XlF/ghInKHGiLvEumBmx7B1cE+sS9zYP2xR1iSMTVhqVR3ZOno31kCyHtB4hDy7HGyEu+kD+1oP9MVl5jNfMKfgj5MXjuDvExwzsFPKgu7k4LMaL+hvcHB2xnBzi4xNcEmXCxQ51KStF9GBqsVWIjyvwUUSy8BeYVFCy8ABIGagqKiDoGOJjM8zVOTrdUmv5AtKth9ESmW5diU9CMWhnKg6ISFhX9gdGW76NhPVacHRkwvoXzg3F4V68E5nyL20cpnpMdMr/PLgphIiUfyM0qwrFYT2krBhZNC3pZ8BduUWTbmaCtGtCiCyansPboXh8gldEl51d/AHSvnG5Xf2MWx3rcTMA54cQWXZeKYWtQ/HYpaDCvUY+av1bQOH+U4ggjvXRZNcFWh9lVna5D4zRjAY/G+hgndqwPl6KaX1EmEezzMe5bZlHEe5WtHnU00iMjWUeRdhvl6HRRknab8q8iqn6x7LfIgzMCh9jnMUTNDAvRtqusQ3MCAu4yjj8pndCFvCx0rgmlgXchom+hqn4Ub8ETPQzpPCksrZN9DhtiI3UYrjVF6YNodz14DkVhbUh4jRy1jcZcxxddCOnyifgPuUxGjkxWmFL+x78p6hW2GTT0BRhp0S0wuI2Ezu4Qxr8oEcMgXsCRto4bjMxfjv2AUCdu63XlkBdHe1bAKvGa8cW39B+2nDA7263i165AlVaxaleMQc0e8qvMRraCYwEVDrYR1IApvraK6ZiqHf8pRHARHdaLrGRgHhjTZZwtrfVykfK7+6zk4r4QxWJjqVkhG7vBBcZheec7SDr6Bw9XvX/OdhT8qNRJT5cVvLjeSU+4FjiI6IlP2Rb4mPKJT/oXfqj8iX9YYMS+LjGfwFgmWfRuP1uXwAAAABJRU5ErkJggg==\")}.dcg-settings-container .dcg-interval-interior{margin:0 -6px}.dcg-settings-container .dcg-editable-mathquill-container{clear:both;margin-top:15px;position:relative;white-space:nowrap}.dcg-settings-container .dcg-editable-mathquill-container .dcg-step-container{float:right;margin-bottom:10px}.dcg-settings-container .dcg-mq-editable-field.dcg-math-input{position:relative;outline:none;border-bottom:1px solid rgba(0,0,0,0.42);padding:2px;margin:1px;margin-bottom:1px;min-width:35px;font-size:95%;max-width:60px}.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-focus,.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds{border-bottom:2px solid #6399cb;margin-bottom:0}.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid{border-color:#e15855}.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus){border-bottom:2px solid rgba(0,0,0,0.42);margin-bottom:0}.dcg-narrow .dcg-settings-container{right:35px;width:260px}.dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input{padding-left:0;padding-right:0;font-size:90%;max-width:60px}.dcg-toast-view{position:absolute;top:7px;left:50px;right:50px;height:0;text-align:center;z-index:45;overflow:visible;text-shadow:none;color:#222;line-height:1em;-webkit-transition:.3s opacity;-moz-transition:.3s opacity;-o-transition:.3s opacity;-ms-transition:.3s opacity;transition:.3s opacity}.dcg-toast-view:not(.dcg-visible){opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);pointer-events:none}.dcg-toast-view .dcg-toast-wrapper{pointer-events:none}.dcg-toast-view .dcg-toast{display:inline-block;padding:6px 10px;background:#fef2ad;border:1px solid #fed973;border-radius:4px;font-size:85%;-webkit-box-shadow:0 2px 6px rgba(0,0,0,0.15);box-shadow:0 2px 6px rgba(0,0,0,0.15);position:relative;pointer-events:auto}.dcg-toast-view .dcg-toast i.dcg-icon-error{display:none}.dcg-toast-view .dcg-toast a.dcg-undo{padding:8px;margin:-8px;margin-left:0}.dcg-toast-view .dcg-toast i.dcg-icon-remove{font-size:87%;padding:8px;margin:-5px -10px -8px 2px;color:rgba(0,0,0,0.3);cursor:pointer;float:right}.dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-hovered,.dcg-toast-view .dcg-toast i.dcg-icon-remove:focus{color:rgba(0,0,0,0.6)}.dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-depressed{color:rgba(0,0,0,0.8)}.dcg-toast-view .dcg-toast a{margin-left:6px;text-decoration:underline;cursor:pointer;display:inline-block;color:#4781b9}.dcg-toast-view .dcg-toast a.dcg-hovered{color:#004f9b}.dcg-toast-view .dcg-toast-cover{display:none}.dcg-toast-view[toast-style='error'] .dcg-toast{padding-left:28px}.dcg-toast-view[toast-style='error'] .dcg-toast i.dcg-icon-error{position:absolute;top:7px;left:10px;color:#fc944c;display:block}.dcg-toast-view[toast-style='cover']{position:absolute;top:0;left:0;right:0;padding-top:5px;height:100%;z-index:999}.dcg-toast-view[toast-style='cover'] .dcg-toast-cover{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);display:block;background-color:#000}.dcg-expressionitem.dcg-new-expression{height:54px;position:relative;border-bottom:1px solid transparent;overflow:visible!important}.dcg-expressionitem.dcg-new-expression .dcg-new-math-div{position:absolute;top:0;left:0;bottom:0;right:0;cursor:pointer}.dcg-expressionitem.dcg-new-expression .dcg-new-math-div .dcg-new-expression-fade{background:-webkit-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-moz-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-o-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-ms-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:linear-gradient(to top,#fff,rgba(255,255,255,0) 50%);width:44px;position:absolute;top:0;bottom:0;z-index:3}.dcg-has-background-color .dcg-new-expression-fade{display:none}.dcg-settings-pillbox,.dcg-action-zoomin,.dcg-action-zoomout,.dcg-action-zoomrestore,.dcg-reset-pillbox{height:37px}.dcg-settings-pillbox,.dcg-zoominout-pillbox,.dcg-action-zoomrestore,.dcg-reset-pillbox{width:37px;line-height:37px;text-align:center}.dcg-zoominout-pillbox .dcg-tooltip-hit-area-container,.dcg-reset-pillbox .dcg-tooltip-hit-area-container{width:100%}.dcg-settings-pillbox,.dcg-zoominout-pillbox,.dcg-action-zoomrestore,.dcg-reset-pillbox{margin-top:3px;margin-bottom:3px}.dcg-pillbox-container{position:absolute;right:5px;top:2px;bottom:0;width:0;z-index:41}.dcg-pillbox-container .dcg-overgraph-pillbox-elements{position:absolute;top:0;right:0}.dcg-pillbox-container .dcg-settings-pillbox,.dcg-pillbox-container .dcg-reset-pillbox{float:right}.dcg-zoom-container{float:right;clear:right}.dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomin,.dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomout{line-height:40px;font-size:75%}.dcg-zoom-container .dcg-action-zoomin{border-bottom:1px solid rgba(0,0,0,0.1)}.dcg-zoom-container .dcg-action-zoomrestore.dcg-disabled{display:none}.dcg-zoom-container .dcg-action-zoomrestore{-webkit-animation:dcg-fadeIn-pillboxes .25s;-moz-animation:dcg-fadeIn-pillboxes .25s;-o-animation:dcg-fadeIn-pillboxes .25s;-ms-animation:dcg-fadeIn-pillboxes .25s;animation:dcg-fadeIn-pillboxes .25s}.dcg-btn-flat-gray{-webkit-box-shadow:0 0 5px rgba(0,0,0,0.15);box-shadow:0 0 5px rgba(0,0,0,0.15);border:1px solid rgba(0,0,0,0.1);border-radius:5px;cursor:pointer;text-shadow:0 1px #fff}.dcg-btn-flat-gray i{opacity:.6;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";filter:alpha(opacity=60)}.dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-hovered i,.dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-hovered i{opacity:.9;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90)}.dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed,.dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed,.dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active,.dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active{background:#e8e8e8}.dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed i,.dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed i,.dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active i,.dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active i{opacity:1;-ms-filter:none;filter:none}.dcg-has-background-color .dcg-btn-flat-gray{text-shadow:none}.dcg-overgraph-icon-container{z-index:21}.dcg-overgraph-icon-container:not(.dcg-bottom-right){position:absolute;top:5px;left:5px}.dcg-overgraph-icon-container.dcg-bottom-right{position:absolute;bottom:5px;right:5px}.dcg-overgraph-icon{width:37px;height:37px;line-height:40px;font-size:110%;text-shadow:-2px -2px 0 #fff,-2px 2px 0 #fff,2px -2px 0 #fff,2px 2px 0 #fff,0 -2px 0 #fff,0 2px 0 #fff,2px 0 0 #fff,-2px 0 0 #fff;text-align:center;border-radius:5px}.dcg-overgraph-icon.dcg-rotated{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dcg-overgraph-icon i{opacity:.6;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";filter:alpha(opacity=60)}.dcg-overgraph-icon.dcg-hovered{background:rgba(0,0,0,0.15);text-shadow:none}.dcg-overgraph-icon.dcg-hovered i{opacity:.8;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\";filter:alpha(opacity=80)}.dcg-overgraph-icon.dcg-depressed{background:rgba(0,0,0,0.3);text-shadow:none}.dcg-overgraph-icon.dcg-depressed i{opacity:1;-ms-filter:none;filter:none}@media only screen and (max-width:450px){.dcg-zoominout-pillbox{display:none}}@media only screen and (max-height:450px){.dcg-zoominout-pillbox{display:none}}@-webkit-keyframes dcg-fadeIn-pillboxes{0%{-webkit-transform:scale(0.75,0.75);-moz-transform:scale(0.75,0.75);-o-transform:scale(0.75,0.75);-ms-transform:scale(0.75,0.75);transform:scale(0.75,0.75);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn-pillboxes{0%{-webkit-transform:scale(0.75,0.75);-moz-transform:scale(0.75,0.75);-o-transform:scale(0.75,0.75);-ms-transform:scale(0.75,0.75);transform:scale(0.75,0.75);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);opacity:1;-ms-filter:none;filter:none}}.dcg-api-shared-keypad-root{background-color:#ededed}.dcg-api-shared-keypad-root .dcg-keypad-control-bar{background-color:transparent;border-left-color:transparent;border-right-color:transparent}.dcg-api-shared-keypad-root .dcg-basic-keypad,.dcg-api-shared-keypad-root .dcg-keypad-control-bar-contents{max-width:600px;margin:0 auto}.dcg-api-shared-keypad-root .dcg-keypad-control-btn.dcg-selectable-btn{max-width:70px}.dcg-api-shared-keypad-root .dcg-hide-keypad-button{height:35px;width:35px;line-height:35px;text-align:center;border-radius:5px;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);margin:4px 4px 4px auto;color:#666}.dcg-api-shared-keypad-root .dcg-hide-keypad-button .dcg-icon-hide{position:relative;top:2px}.dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-hovered{color:rgba(0,0,0,0.8);background:rgba(0,0,0,0.1)}.dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-depressed{color:#000;background:rgba(0,0,0,0.18)}.dcg-transparent-bg{background:rgba(0,0,0,0)}.dcg-mouse-over-closed-poi,.dcg-mouse-over-opened-poi,.dcg-mouse-over-interactive-label{cursor:pointer}.dcg-mouse-over-movable-point{cursor:move}.dcg-mouse-over-movable-point-ew{cursor:ew-resize}.dcg-mouse-over-movable-point-ns{cursor:ns-resize}.dcg-mouse-over-closed-poi .dcg-tracept{display:none}.dcg-poi-label.dcg-show-border .dcg-label{border:1px solid #ddd;background:#fff;border-radius:5px;-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);padding:8px 6px}.dcg-tabbable-point{position:absolute;left:-6px;top:-6px;width:12px;height:12px;text-align:left;overflow:hidden;pointer-events:none}.dcg-poi-label{display:inline-block;position:absolute;top:0;left:0;font-size:100%;color:#888}.dcg-poi-label .dcg-pt{display:inline-block;position:absolute;top:-4px;left:-4px;border:4px solid #000;border-radius:4px;width:0;height:0;z-index:0}.dcg-poi-label.dcg-size-small .dcg-label{font-size:95%}.dcg-poi-label.dcg-size-medium .dcg-label{font-size:110%}.dcg-poi-label.dcg-size-large .dcg-label{font-size:150%}.dcg-poi-label.dcg-vertical-label .dcg-label{-webkit-transform:rotate(-90deg) translate(-100%,0);-moz-transform:rotate(-90deg) translate(-100%,0);-o-transform:rotate(-90deg) translate(-100%,0);-ms-transform:rotate(-90deg) translate(-100%,0);transform:rotate(-90deg) translate(-100%,0);-webkit-transform-origin:top left;-moz-transform-origin:top left;-o-transform-origin:top left;-ms-transform-origin:top left;transform-origin:top left}.dcg-poi-label .dcg-label{position:absolute;text-shadow:-1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff;z-index:3;white-space:nowrap;-webkit-transition-property:top,left;-moz-transition-property:top,left;-o-transition-property:top,left;-ms-transition-property:top,left;transition-property:top,left;-webkit-transition-duration:.3s,0.3s;-moz-transition-duration:.3s,0.3s;-o-transition-duration:.3s,0.3s;-ms-transition-duration:.3s,0.3s;transition-duration:.3s,0.3s}.dcg-poi-label .dcg-label .dcg-mq-sqrt-prefix{text-shadow:none}.dcg-poi-label:not(.dcg-tracept) .dcg-pt{border-width:5px;border-color:transparent!important;border-radius:5px;opacity:1;-ms-filter:none;filter:none;top:-5px!important;left:-5px!important;cursor:pointer}.dcg-poi-label:not(.dcg-tracept).dcg-opened{color:#222}.dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-pt{border-color:#000!important}.dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-label{opacity:1;-ms-filter:none;filter:none}.dcg-poi-label.dcg-hole .dcg-pt{top:-5px;left:-5px;border-width:2px;padding:3px;background:#fff!important;border-radius:6px}.dcg-poi-label.dcg-hide-dot .dcg-pt{display:none}.dcg-constrained-height-popover{position:absolute;top:40px;bottom:2px;right:4px;pointer-events:none}.dcg-constrained-height-popover .dcg-popover-interior{max-height:100%;pointer-events:auto}.dcg-popover{z-index:80}.dcg-popover .dcg-popover-interior{padding:20px;background-color:#fff;border:1px solid rgba(0,0,0,0.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);margin:-1px;overflow:auto}.dcg-popover.dcg-top{margin-bottom:10px}.dcg-popover.dcg-right{margin-left:10px}.dcg-popover.dcg-bottom{margin-top:10px}.dcg-popover.dcg-left{margin-right:10px}.dcg-popover .dcg-popover-interior{overflow:auto}.dcg-popover .dcg-popover-content{font-size:85%;color:#444;line-height:1.5em;position:relative}.dcg-popover .dcg-popover-title{margin-bottom:10px;font-size:115%;border-bottom:2px solid #127a3d;color:#127a3d;font-weight:normal;background-color:#fff}.dcg-popover .dcg-popover-title:not(:first-of-type){padding-top:20px}.dcg-popover .dcg-arrow,.dcg-popover .dcg-arrow:after{position:absolute;display:inline-block;width:0;height:0;border-color:transparent;border-style:solid}.dcg-popover .dcg-arrow:after{content:\"\";z-index:-1}.dcg-popover.dcg-top .dcg-arrow{bottom:-10px;left:50%;margin-left:-10px;border-width:10px 10px 0;border-top-color:#fff}.dcg-popover.dcg-top .dcg-arrow:after{border-width:11px 11px 0;border-top-color:rgba(0,0,0,0.25);bottom:-1px;left:-11px}.dcg-popover.dcg-right .dcg-arrow{top:50%;left:-10px;margin-top:-10px;border-width:10px 10px 10px 0;border-right-color:#fff}.dcg-popover.dcg-right .dcg-arrow:after{border-width:11px 11px 11px 0;border-right-color:rgba(0,0,0,0.25);bottom:-11px;left:-1px}.dcg-popover.dcg-bottom .dcg-arrow{top:-14px;margin-left:-14px;border-width:0 14px 14px;border-bottom-color:#fff}.dcg-popover.dcg-bottom .dcg-arrow:after{border-width:0 14px 14px;border-bottom-color:rgba(0,0,0,0.25);top:-1px;left:-14px}.dcg-popover.dcg-left .dcg-arrow{top:50%;right:-10px;margin-top:-10px;border-width:10px 0 10px 10px;border-left-color:#fff;border-top-color:transparent}.dcg-popover.dcg-left .dcg-arrow:after{border-width:11px 0 11px 11px;border-left-color:rgba(0,0,0,0.25);bottom:-11px;right:-1px}.dcg-PROJECTOR-MODE .dcg-expressionitem textarea.dcg-smart-textarea,.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-displayTextarea{font-size:113%}.dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-image-name{font-size:113%}.dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-math-mode{font-size:130%}.dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-editable-field.dcg-math-input{font-size:100%}.dcg-PROJECTOR-MODE .dcg-poi-label{font-size:150%}.dcg-PROJECTOR-MODE .dcg-poi-label .dcg-pt{border-width:8px;border-radius:8px;margin-left:-4px;margin-top:-4px}.dcg-PROJECTOR-MODE .dcg-poi-label.dcg-hole .dcg-pt{border-width:4px;padding:5px;border-radius:9px}.dcg-PROJECTOR-MODE .dcg-poi-label:not(.dcg-tracept) .dcg-pt{border-width:8px;border-radius:8px;margin-left:-4px;margin-top:-4px}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-editable-field,.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-math-mode,.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider-container .dcg-mq-math-mode{font-size:150%}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation{font-size:135%}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-editable-field,.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-math-mode{font-size:100%}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-main:after{width:2px}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders{height:30px;line-height:30px}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-msg{font-size:100%;padding:2px 0}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-btn-slider{font-size:120%;height:30px;line-height:30px}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider{bottom:30px}.dcg-PROJECTOR-MODE .dcg-display-domain{bottom:12px;font-size:110%}.dcg-PROJECTOR-MODE .dcg-slider_menu,.dcg-PROJECTOR-MODE .dcg-edit-domain{bottom:6px}.dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-editable-field,.dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-editable-field,.dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-math-mode,.dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-math-mode{font-size:120%}.dcg-PROJECTOR-MODE .dcg-slider_menu table,.dcg-PROJECTOR-MODE .dcg-edit-domain table{border-collapse:collapse;font-size:20px;margin:0 auto}.dcg-PROJECTOR-MODE .dcg-slider_menu table input,.dcg-PROJECTOR-MODE .dcg-edit-domain table input{font-size:81%}.dcg-create-sliders{white-space:nowrap;height:26px;line-height:26px}.dcg-create-sliders .dcg-msg{display:inline-block;margin-left:53px;margin-right:5px;font-size:80%;color:rgba(0,0,0,0.6)}.dcg-create-sliders .dcg-all .dcg-btn-slider{font-style:normal}.dcg-create-sliders .dcg-btn-slider{padding:0 10px!important;font-family:times;font-size:90%;font-style:italic}.dcg-create-sliders .dcg-slider-btn-container{display:inline-block;position:relative;margin-right:3px;height:16px;margin-bottom:5px}.dcg-create-sliders .dcg-slider-btn-container .dcg-btn-slider{height:25px;line-height:25px}.dcg-create-sliders .dcg-slider-btn-container.dcg-all{width:46px}.dcg-create-sliders .dcg-slider-btn-container.dcg-all .dcg-slider_decoration{width:46px}.dcg-create-sliders .dcg-slider-btn-container.dcg-all .dcg-slider_btn{width:28px}.dcg-regression-container{margin-left:53px;font-size:80%;color:#222;cursor:default}.dcg-regression-container .dcg-statistics{display:inline-block;width:130px;float:left;margin-bottom:10px}.dcg-regression-container .dcg-residuals{float:left;width:130px;margin-bottom:10px}.dcg-regression-container .dcg-r-value{padding-left:.5em}.dcg-regression-container .dcg-residual-suggestion{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);cursor:default;padding:2px 7px;margin-left:7px}.dcg-regression-container .dcg-residual-suggestion:not(.dcg-visible){pointer-events:none}.dcg-regression-container .dcg-residual-suggestion.dcg-visible{-webkit-transition:opacity .25s;-moz-transition:opacity .25s;-o-transition:opacity .25s;-ms-transition:opacity .25s;transition:opacity .25s;display:inline-block;opacity:1;-ms-filter:none;filter:none;cursor:pointer}.dcg-regression-container .dcg-log-mode-toggle{clear:both}.dcg-regression-container .dcg-log-mode-toggle.dcg-visible{display:block}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle{cursor:pointer;padding:5px 0;color:#444;border-radius:4px;display:inline-block;margin-bottom:12px}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox{display:inline-block;width:15px;height:15px;border:1px solid rgba(0,0,0,0.2);float:left;margin-right:6px;border-radius:3px;position:relative}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox i{color:transparent}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-hovered .dcg-log-mode-checkbox,.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox{border-color:#aaa}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-depressed .dcg-log-mode-checkbox{border-color:#666}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox i{color:#127a3d;position:absolute;top:-1px;right:-2px;font-size:110%;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff}.dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help{text-decoration:none;color:rgba(0,0,0,0.2);padding:10px 6px}.dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-hovered{color:#aaa}.dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-depressed{color:#666}.dcg-regression-container .dcg-parameters-container{clear:both;padding-bottom:4px}.dcg-regression-container .dcg-parameters-container .dcg-parameter{float:left;width:130px}.dcg-regression-container .dcg-parameters-container .dcg-parameter:nth-of-type(2n+1){clear:both}.tipsy{font-size:14px;position:fixed;padding:5px;z-index:100000;cursor:pointer;font-family:sans-serif}.tipsy-inner{background-color:#000;color:#FFF;max-width:170px;padding:5px 8px 4px 8px;text-align:center;cursor:pointer}.tipsy-inner{border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}.tipsy-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000;cursor:pointer}.tipsy-arrow-n{border-bottom-color:#000}.tipsy-arrow-s{border-top-color:#000}.tipsy-arrow-e{border-left-color:#000}.tipsy-arrow-w{border-right-color:#000}.tipsy-n .tipsy-arrow{top:0;left:50%;margin-left:-5px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.tipsy-nw .tipsy-arrow{top:0;left:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.tipsy-ne .tipsy-arrow{top:0;right:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.tipsy-s .tipsy-arrow{bottom:0;left:50%;margin-left:-5px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.tipsy-sw .tipsy-arrow{bottom:0;left:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.tipsy-se .tipsy-arrow{bottom:0;right:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.tipsy-e .tipsy-arrow{right:0;top:50%;margin-top:-5px;border-left-style:solid;border-right:none;border-top-color:transparent;border-bottom-color:transparent}.tipsy-w .tipsy-arrow{left:0;top:50%;margin-top:-5px;border-right-style:solid;border-left:none;border-top-color:transparent;border-bottom-color:transparent}.tipsy.tipsy-temporary-sticky .tipsy-inner{background-color:#777}.tipsy.tipsy-temporary-sticky .tipsy-arrow{border-bottom-color:#777}.dcg-tap-container:not(body){position:relative}.dcg-focus-by-tap:focus{outline:none}.trip-block{position:absolute;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transition:.3s ease;-moz-transition:.3s ease;-o-transition:.3s ease;-ms-transition:.3s ease;transition:.3s ease;display:none;-webkit-transform:scale(0,0);-moz-transform:scale(0,0);-o-transform:scale(0,0);-ms-transform:scale(0,0);transform:scale(0,0)}.trip-block.trip-is-loaded:not(.trip-hidden){opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}.trip-block .trip-interior{padding:10px;text-align:left;min-width:100px;border-radius:6px;padding-right:40px;width:275px;background:#fff;border:3px solid #127a3d;color:#444;font-size:100%;-webkit-box-shadow:0 2px 7px 0 rgba(0,0,0,0.3);box-shadow:0 2px 7px 0 rgba(0,0,0,0.3)}.trip-block .trip-interior .trip-link{color:#4781b9}.trip-block .trip-interior .trip-title{font-weight:bold;margin-bottom:5px}.trip-block .trip-interior .trip-hint{font-size:80%;line-height:12px;margin-top:4px;color:#666}.trip-block .trip-interior i{font-size:80%}.trip-block .trip-interior code{border:solid 1px #d3d3d3;border-radius:3px;padding:2px 3px;display:inline-block}.trip-block .trip-interior code i{font-size:70%;font-family:Arial,sans-serif}.trip-block .trip-interior .trip-close{color:rgba(0,0,0,0.3);position:absolute;right:0;top:0;font-size:150%;line-height:16px;float:right;padding:6px;text-decoration:none;cursor:pointer}.trip-block .trip-interior .trip-close.dcg-hovered{color:rgba(0,0,0,0.6)}.trip-block .trip-interior .trip-close.dcg-depressed{color:rgba(0,0,0,0.8)}.trip-block .trip-arrow{border:10px solid transparent;height:0;width:0;position:absolute}.trip-block.trip-n .trip-arrow{border-bottom-width:0;border-top-color:#127a3d}.trip-block.trip-s .trip-arrow{border-bottom-color:#127a3d;border-top-width:0}.trip-block.trip-e .trip-arrow{border-left-width:0;border-right-color:#127a3d}.trip-block.trip-w .trip-arrow{border-right-width:0;border-left-color:#127a3d}.trip-block.trip-n .trip-arrow,.trip-block.trip-s .trip-arrow{left:50%;margin-left:-10px}.trip-block.trip-e .trip-arrow,.trip-block.trip-w .trip-arrow{top:50%;margin-top:-10px}.trip-block.trip-n .trip-arrow{top:100%}.trip-block.trip-s .trip-arrow{bottom:100%}.trip-block.trip-e .trip-arrow{right:100%}.trip-block.trip-w .trip-arrow{left:100%}.trip-progress-bar{height:1px;background-color:#444;width:0}.dcg-mq-aria-alert{position:absolute;left:-1000px;top:-1000px;width:1px;height:1px;text-align:left;overflow:hidden}.dcg-mq-editable-field{display:-moz-inline-box;display:inline-block}.dcg-mq-editable-field .dcg-mq-cursor{border-left:1px solid black;margin-left:-1px;position:relative;z-index:1;padding:0;display:-moz-inline-box;display:inline-block}.dcg-mq-editable-field .dcg-mq-cursor.dcg-mq-blink{visibility:hidden}.dcg-mq-editable-field,.dcg-mq-math-mode .dcg-mq-editable-field{border:1px solid gray}.dcg-mq-editable-field.dcg-mq-focused,.dcg-mq-math-mode .dcg-mq-editable-field.dcg-mq-focused{-webkit-box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;-moz-box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;border-color:#709AC0;border-radius:1px;aria-hidden:true}.dcg-mq-math-mode .dcg-mq-editable-field{margin:1px}.dcg-mq-editable-field .dcg-mq-latex-command-input{color:inherit;font-family:\"Courier New\",monospace;border:1px solid gray;padding-right:1px;margin-right:1px;margin-left:2px}.dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-empty{background:transparent}.dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-hasCursor{border-color:ActiveBorder}.dcg-mq-editable-field.dcg-mq-empty:after,.dcg-mq-editable-field.dcg-mq-text-mode:after,.dcg-mq-math-mode .dcg-mq-empty:after{visibility:hidden;content:'c'}.dcg-mq-editable-field .dcg-mq-cursor:only-child:after,.dcg-mq-editable-field .dcg-mq-textarea+.dcg-mq-cursor:last-child:after{visibility:hidden;content:'c'}.dcg-mq-editable-field .dcg-mq-text-mode .dcg-mq-cursor:only-child:after{content:''}.dcg-mq-editable-field.dcg-mq-text-mode{overflow-x:auto;overflow-y:hidden}.dcg-mq-root-block,.dcg-mq-math-mode .dcg-mq-root-block{display:-moz-inline-box;display:inline-block;width:100%;padding:2px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle}.dcg-mq-math-mode{font-variant:normal;font-weight:normal;font-style:normal;font-size:115%;line-height:1;display:-moz-inline-box;display:inline-block}.dcg-mq-math-mode .dcg-mq-non-leaf,.dcg-mq-math-mode .dcg-mq-scaled{display:-moz-inline-box;display:inline-block}.dcg-mq-math-mode var,.dcg-mq-math-mode .dcg-mq-text-mode,.dcg-mq-math-mode .dcg-mq-nonSymbola{font-family:\"Times New Roman\",Symbola,serif;line-height:.9}.dcg-mq-math-mode svg{fill:currentColor;position:absolute;top:0;left:0;width:100%;height:100%}.dcg-mq-math-mode *{font-size:inherit;line-height:inherit;margin:0;padding:0;border-color:black;-webkit-user-select:none;-moz-user-select:none;user-select:none;box-sizing:border-box}.dcg-mq-math-mode .dcg-mq-empty{background:rgba(0,0,0,0.2)}.dcg-mq-math-mode .dcg-mq-empty.dcg-mq-root-block{background:transparent}.dcg-mq-math-mode .dcg-mq-empty.dcg-mq-empty-parens{background:transparent}.dcg-mq-math-mode.dcg-mq-empty{background:transparent}.dcg-mq-math-mode .dcg-mq-text-mode{display:inline-block}.dcg-mq-math-mode .dcg-mq-text-mode.dcg-mq-hasCursor{box-shadow:inset darkgray 0 .1em .2em;padding:0 .1em;margin:0 -0.1em;min-width:1ex}.dcg-mq-math-mode .dcg-mq-font{font:1em \"Times New Roman\",Symbola,serif}.dcg-mq-math-mode .dcg-mq-font *{font-family:inherit;font-style:inherit}.dcg-mq-math-mode b,.dcg-mq-math-mode b.dcg-mq-font{font-weight:bolder}.dcg-mq-math-mode var,.dcg-mq-math-mode i,.dcg-mq-math-mode i.dcg-mq-font{font-style:italic}.dcg-mq-math-mode var.dcg-mq-f{margin-right:.2em;margin-left:.1em}.dcg-mq-math-mode .dcg-mq-roman var.dcg-mq-f{margin:0}.dcg-mq-math-mode big{font-size:200%}.dcg-mq-math-mode .dcg-mq-int>big{display:inline-block;-webkit-transform:scaleX(0.7);-moz-transform:scaleX(0.7);-ms-transform:scaleX(0.7);-o-transform:scaleX(0.7);transform:scaleX(0.7);vertical-align:-0.16em}.dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub{font-size:80%;vertical-align:-1.1em;padding-right:.2em}.dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub>.dcg-mq-sup>.dcg-mq-sup-inner{vertical-align:1.3em}.dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub>.dcg-mq-sub{margin-left:-0.35em}.dcg-mq-math-mode .dcg-mq-roman{font-style:normal}.dcg-mq-math-mode .dcg-mq-sans-serif{font-family:sans-serif,Symbola,serif}.dcg-mq-math-mode .dcg-mq-monospace{font-family:monospace,Symbola,serif}.dcg-mq-math-mode .dcg-mq-overline{border-top:1px solid black;margin-top:1px}.dcg-mq-math-mode .dcg-mq-underline{border-bottom:1px solid black;margin-bottom:1px}.dcg-mq-math-mode .dcg-mq-binary-operator{padding:0 .2em;display:-moz-inline-box;display:inline-block}.dcg-mq-math-mode .dcg-mq-supsub{text-align:left;font-size:90%;vertical-align:-0.5em}.dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only{vertical-align:.5em}.dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only .dcg-mq-sup{display:inline-block;vertical-align:text-bottom}.dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sup{display:block}.dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sub{display:block;float:left}.dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-binary-operator{padding:0 .1em}.dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-fraction{font-size:70%}.dcg-mq-math-mode sup.dcg-mq-nthroot{font-size:80%;vertical-align:.8em;margin-right:-0.6em;margin-left:.2em;min-width:.5em}.dcg-mq-math-mode .dcg-mq-ghost svg{opacity:.2}.dcg-mq-math-mode .dcg-mq-bracket-middle{margin-top:.1em;margin-bottom:.1em}.dcg-mq-math-mode .dcg-mq-bracket-l,.dcg-mq-math-mode .dcg-mq-bracket-r{position:absolute;top:0;bottom:2px}.dcg-mq-math-mode .dcg-mq-bracket-l{left:0}.dcg-mq-math-mode .dcg-mq-bracket-r{right:0}.dcg-mq-math-mode .dcg-mq-bracket-container{position:relative}.dcg-mq-math-mode .dcg-mq-array{vertical-align:middle;text-align:center}.dcg-mq-math-mode .dcg-mq-array>span{display:block}.dcg-mq-math-mode .dcg-mq-operator-name{font-family:Symbola,\"Times New Roman\",serif;line-height:.9;font-style:normal}.dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-first{padding-left:.2em}.dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-last,.dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-after-operator-name{padding-right:.2em}.dcg-mq-math-mode .dcg-mq-fraction{font-size:90%;text-align:center;vertical-align:-0.4em;padding:0 .2em}.dcg-mq-math-mode .dcg-mq-fraction,.dcg-mq-math-mode .dcg-mq-large-operator,.dcg-mq-math-mode x:-moz-any-link{display:-moz-groupbox}.dcg-mq-math-mode .dcg-mq-fraction,.dcg-mq-math-mode .dcg-mq-large-operator,.dcg-mq-math-mode x:-moz-any-link,.dcg-mq-math-mode x:default{display:inline-block}.dcg-mq-math-mode .dcg-mq-numerator,.dcg-mq-math-mode .dcg-mq-denominator{display:block}.dcg-mq-math-mode .dcg-mq-numerator{padding:0 .1em}.dcg-mq-math-mode .dcg-mq-denominator{border-top:1px solid;float:right;width:100%;padding:.1em}.dcg-mq-math-mode .dcg-mq-sqrt-prefix{position:absolute;top:1px;bottom:.15em;width:.95em}.dcg-mq-math-mode .dcg-mq-sqrt-container{position:relative}.dcg-mq-math-mode .dcg-mq-sqrt-stem{border-top:1px solid;margin-top:1px;margin-left:.9em;padding-left:.15em;padding-right:.2em;margin-right:.1em;padding-top:1px}.dcg-mq-math-mode .dcg-mq-diacritic-above{display:block;text-align:center;line-height:.4em}.dcg-mq-math-mode .dcg-mq-diacritic-stem{display:block;text-align:center}.dcg-mq-math-mode .dcg-mq-hat-prefix{display:block;text-align:center;line-height:.95em;margin-bottom:-0.7em;transform:scaleX(1.5);-moz-transform:scaleX(1.5);-o-transform:scaleX(1.5);-webkit-transform:scaleX(1.5)}.dcg-mq-math-mode .dcg-mq-hat-stem{display:block}.dcg-mq-math-mode .dcg-mq-large-operator{vertical-align:-0.2em;padding:.2em;text-align:center}.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,.dcg-mq-math-mode .dcg-mq-large-operator big,.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to{display:block}.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to{font-size:80%}.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from{float:right;width:100%}.dcg-mq-math-mode,.dcg-mq-math-mode .dcg-mq-editable-field{cursor:text;font-family:Symbola,\"Times New Roman\",serif}.dcg-mq-math-mode .dcg-mq-overarc{border-top:1px solid black;border-radius:50% 50% 0 0;padding:.35em .25em 0 .1em;margin-top:.1em}.dcg-mq-math-mode .dcg-mq-overarrow{border-top:1px solid black;margin-top:1px;padding-top:.2em;position:relative}.dcg-mq-math-mode .dcg-mq-overarrow:after{position:absolute;right:-0.1em;top:-0.48em;font-size:.5em;content:'\\27A4'}.dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:after{content:'';display:none}.dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:before,.dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-leftright:before{position:absolute;top:-0.48em;left:-0.1em;font-size:.5em;content:'\\27A4';-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;-ms-filter:\"FlipH\"}.dcg-mq-math-mode .dcg-mq-selection,.dcg-mq-editable-field .dcg-mq-selection,.dcg-mq-math-mode .dcg-mq-selection .dcg-mq-non-leaf,.dcg-mq-editable-field .dcg-mq-selection .dcg-mq-non-leaf,.dcg-mq-math-mode .dcg-mq-selection .dcg-mq-scaled,.dcg-mq-editable-field .dcg-mq-selection .dcg-mq-scaled{background:#B4D5FE!important}.dcg-mq-math-mode .dcg-mq-selection .dcg-mq-matrixed,.dcg-mq-editable-field .dcg-mq-selection .dcg-mq-matrixed{background:#39F!important}.dcg-mq-math-mode .dcg-mq-selection .dcg-mq-matrixed-container,.dcg-mq-editable-field .dcg-mq-selection .dcg-mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='#3399FF')!important}.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur,.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-matrixed,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-matrixed{background:#D4D4D4!important;color:black;border-color:black}.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-matrixed-container,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='#D4D4D4')!important}.dcg-mq-editable-field .dcg-mq-textarea,.dcg-mq-math-mode .dcg-mq-textarea{position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}.dcg-mq-editable-field .dcg-mq-textarea *,.dcg-mq-math-mode .dcg-mq-textarea *,.dcg-mq-editable-field .dcg-mq-selectable,.dcg-mq-math-mode .dcg-mq-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text;position:absolute;clip:rect(1em 1em 1em 1em);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);-o-transform:scale(0);transform:scale(0);resize:none;width:1px;height:1px;box-sizing:content-box}.dcg-mq-math-mode .dcg-mq-matrixed{background:white;display:-moz-inline-box;display:inline-block}.dcg-mq-math-mode .dcg-mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='white');margin-top:-0.1em}";
  document.getElementsByTagName('head')[0].appendChild(elt);

  var _Desmos = (typeof Desmos !== 'undefined') ? Desmos : {};
  if ( typeof module === "object" && typeof module.exports === "object" ) {
    module.exports = _Desmos;
  } else {
    global.Desmos = _Desmos;
  }

  ;(function () {
    var module = undefined;
    var exports = undefined;
    var Desmos = _Desmos;
    if (!Desmos.config) Desmos.config = {};
    if (typeof desmosEnabledFeatures === 'object') Desmos.enabledFeatures = desmosEnabledFeatures;
    if (typeof desmosLocales === 'object') Desmos.locales = desmosLocales;
    if (typeof desmosCommit === 'string') Desmos.commit = desmosCommit;
    !function(){function injectWorkerDependencies(){var workerSrc=require("worker_src"),old_ALMOND_OVERRIDES=window.ALMOND_OVERRIDES;window.ALMOND_OVERRIDES={define:define,require:require,requirejs:requirejs},eval(workerSrc),window.ALMOND_OVERRIDES=old_ALMOND_OVERRIDES}var requirejs,require,define;!function(e){function t(e,t){return y.call(e,t)}function n(e,t){var n,r,i,o,s,a,l,c,u,d,p=t&&t.split("/"),h=g.map,f=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),e=p.concat(e.split("/")),c=0;c<e.length;c+=1)if("."===(d=e[c]))e.splice(c,1),c-=1;else if(".."===d){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||f)&&h){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),p)for(u=p.length;u>0;u-=1)if((i=h[p.slice(0,u).join("/")])&&(i=i[r])){o=i,s=c;break}if(o)break;!a&&f&&f[r]&&(a=f[r],l=c)}!o&&a&&(o=a,s=l),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function r(t,n){return function(){return u.apply(e,v.call(arguments,0).concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function o(e){return function(t){h[e]=t}}function s(n){if(t(f,n)){var r=f[n];delete f[n],m[n]=!0,c.apply(e,r)}if(!t(h,n)&&!t(m,n))throw new Error("No "+n);return h[n]}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return g&&g.config&&g.config[e]||{}}}var c,u,d,p,h={},f={},g={},m={},y=Object.prototype.hasOwnProperty,v=[].slice;d=function(e,t){var r,o=a(e),l=o[0];return e=o[1],l&&(l=n(l,t),r=s(l)),l?e=r&&r.normalize?r.normalize(e,i(t)):n(e,t):(e=n(e,t),o=a(e),l=o[0],e=o[1],l&&(r=s(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:r}},p={require:function(e){return r(e)},exports:function(e){var t=h[e];return void 0!==t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:l(e)}}},c=function(n,i,a,l){var c,u,g,y,v,b,x=[];if(l=l||n,"function"==typeof a){for(i=!i.length&&a.length?["require","exports","module"]:i,v=0;v<i.length;v+=1)if(y=d(i[v],l),"require"===(u=y.f))x[v]=p.require(n);else if("exports"===u)x[v]=p.exports(n),b=!0;else if("module"===u)c=x[v]=p.module(n);else if(t(h,u)||t(f,u)||t(m,u))x[v]=s(u);else{if(!y.p)throw new Error(n+" missing "+u);y.p.load(y.n,r(l,!0),o(u),{}),x[v]=h[u]}g=a.apply(h[n],x),n&&(c&&c.exports!==e&&c.exports!==h[n]?h[n]=c.exports:g===e&&b||(h[n]=g))}else n&&(h[n]=a)},requirejs=require=u=function(t,n,r,i,o){return"string"==typeof t?p[t]?p[t](n):s(d(t,n).f):(t.splice||(g=t,n.splice?(t=n,n=r,r=null):t=e),n=n||function(){},"function"==typeof r&&(r=i,i=o),i?c(e,t,n,r):setTimeout(function(){c(e,t,n,r)},4),u)},u.config=function(e){return g=e,g.deps&&u(g.deps,g.callback),u},define=function(e,n,r){n.splice||(r=n,n=[]),t(h,e)||t(f,e)||(f[e]=[e,n,r])},define.amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs),define("vendor/almond",function(){}),define("ipad.ghostevents",["require"],function(e){function t(e){r&&o.evtInScope(e)&&(e.stopPropagation(),e.stopImmediatePropagation())}function n(e){r&&o.evtInScope(e)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}var r=!1,i=null,o={isGhostEvent:function(e){return!1},evtInScope:function(e){return!1}};return document.addEventListener("mousedown",function(e){o.evtInScope(e)&&(i=document.activeElement,r=o.isGhostEvent(e),t(e))},!0),document.addEventListener("mouseup",t,!0),document.addEventListener("click",function(e){n(e),r&&document.activeElement!==i&&(document.activeElement&&document.activeElement.blur(),i&&i.focus()),r=!1},!0),document.addEventListener("focus",n,!0),document.addEventListener("blur",n,!0),o}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return J.call(t,e)>-1!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function s(){X.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s),ie.ready()}function a(){this.expando=ie.expando+a.uid++}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ke,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Me.test(n)?ie.parseJSON(n):n)}catch(e){}Se.set(e,t,n)}else n=void 0;return n}function c(e,t,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return ie.css(e,t,"")},l=a(),c=n&&n[3]||(ie.cssNumber[t]?"":"px"),u=(ie.cssNumber[t]||"px"!==c&&+l)&&Ce.exec(ie.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{o=o||".5",u/=o,ie.style(e,t,u+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}function u(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],n):n}function d(e,t){for(var n=0,r=e.length;n<r;n++)Ee.set(e[n],"globalEval",!t||Ee.get(t[n],"globalEval"))}function p(e,t,n,r,i){for(var o,s,a,l,c,p,h=t.createDocumentFragment(),f=[],g=0,m=e.length;g<m;g++)if((o=e[g])||0===o)if("object"===ie.type(o))ie.merge(f,o.nodeType?[o]:o);else if(Fe.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(Ae.exec(o)||["",""])[1].toLowerCase(),l=Oe[a]||Oe._default,s.innerHTML=l[1]+ie.htmlPrefilter(o)+l[2],p=l[0];p--;)s=s.lastChild;ie.merge(f,s.childNodes),s=h.firstChild,s.textContent=""}else f.push(t.createTextNode(o));for(h.textContent="",g=0;o=f[g++];)if(r&&ie.inArray(o,r)>-1)i&&i.push(o);else if(c=ie.contains(o.ownerDocument,o),s=u(h.appendChild(o),"script"),c&&d(s),n)for(p=0;o=s[p++];)Le.test(o.type||"")&&n.push(o);return h}function h(){return!0}function f(){return!1}function g(){try{return X.activeElement}catch(e){}}function m(e,t,n,r,i,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(a in t)m(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=f;else if(!i)return e;return 1===o&&(s=i,i=function(e){return ie().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ie.guid++)),e.each(function(){ie.event.add(this,t,i,r,n)})}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function v(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=Ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){var n,r,i,o,s,a,l,c;if(1===t.nodeType){if(Ee.hasData(e)&&(o=Ee.access(e),s=Ee.set(t,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)ie.event.add(t,i,c[i][n])}Se.hasData(e)&&(a=Se.access(e),l=ie.extend({},a),Se.set(t,l))}}function w(e,t){var n=t.nodeName.toLowerCase();"input"===n&&De.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function _(e,t,n,r){t=Q.apply([],t);var i,o,s,a,l,c,d=0,h=e.length,f=h-1,g=t[0],m=ie.isFunction(g);if(m||h>1&&"string"==typeof g&&!re.checkClone&&Ve.test(g))return e.each(function(i){var o=e.eq(i);m&&(t[0]=g.call(this,i,o.html())),_(o,t,n,r)});if(h&&(i=p(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=ie.map(u(i,"script"),v),a=s.length;d<h;d++)l=i,d!==f&&(l=ie.clone(l,!0,!0),a&&ie.merge(s,u(l,"script"))),n.call(e[d],l,d);if(a)for(c=s[s.length-1].ownerDocument,ie.map(s,b),d=0;d<a;d++)l=s[d],Le.test(l.type||"")&&!Ee.access(l,"globalEval")&&ie.contains(c,l)&&(l.src?ie._evalUrl&&ie._evalUrl(l.src):ie.globalEval(l.textContent.replace(ze,"")))}return e}function E(e,t,n){for(var r,i=t?ie.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ie.cleanData(u(r)),r.parentNode&&(n&&ie.contains(r.ownerDocument,r)&&d(u(r,"script")),r.parentNode.removeChild(r));return e}function S(e,t){var n=ie(t.createElement(e)).appendTo(t.body),r=ie.css(n[0],"display");return n.detach(),r}function M(e){var t=X,n=He[e];return n||(n=S(e,t),"none"!==n&&n||(Ge=(Ge||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ge[0].contentDocument,t.write(),t.close(),n=S(e,t),Ge.detach()),He[e]=n),n}function k(e,t,n){var r,i,o,s,a=e.style;return n=n||Ye(e),s=n?n.getPropertyValue(t)||n[t]:void 0,""!==s&&void 0!==s||ie.contains(e.ownerDocument,e)||(s=ie.style(e,t)),n&&!re.pixelMarginRight()&&We.test(s)&&Ke.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o),void 0!==s?s+"":s}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e){if(e in tt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}function T(e,t,n){var r=Ce.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function P(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=ie.css(e,n+Te[o],!0,i)),r?("content"===n&&(s-=ie.css(e,"padding"+Te[o],!0,i)),"margin"!==n&&(s-=ie.css(e,"border"+Te[o]+"Width",!0,i))):(s+=ie.css(e,"padding"+Te[o],!0,i),"padding"!==n&&(s+=ie.css(e,"border"+Te[o]+"Width",!0,i)));return s}function D(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ye(e),s="border-box"===ie.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=k(e,t,o),(i<0||null==i)&&(i=e.style[t]),We.test(i))return i;r=s&&(re.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+P(e,t,n||(s?"border":"content"),r,o)+"px"}function A(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)r=e[s],r.style&&(o[s]=Ee.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Pe(r)&&(o[s]=Ee.access(r,"olddisplay",M(r.nodeName)))):(i=Pe(r),"none"===n&&i||Ee.set(r,"olddisplay",i?n:ie.css(r,"display"))));for(s=0;s<a;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function L(e,t,n,r,i){return new L.prototype.init(e,t,n,r,i)}function O(){return e.setTimeout(function(){nt=void 0}),nt=ie.now()}function F(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Te[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function q(e,t,n){for(var r,i=(B.tweeners[t]||[]).concat(B.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function N(e,t,n){var r,i,o,s,a,l,c,u=this,d={},p=e.style,h=e.nodeType&&Pe(e),f=Ee.get(e,"fxshow");n.queue||(a=ie._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ie.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=ie.css(e,"display"),"inline"===("none"===c?Ee.get(e,"olddisplay")||M(e.nodeName):c)&&"none"===ie.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],it.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!f||void 0===f[r])continue;h=!0}d[r]=f&&f[r]||ie.style(e,r)}else c=void 0;if(ie.isEmptyObject(d))"inline"===("none"===c?M(e.nodeName):c)&&(p.display=c);else{f?"hidden"in f&&(h=f.hidden):f=Ee.access(e,"fxshow",{}),o&&(f.hidden=!h),h?ie(e).show():u.done(function(){ie(e).hide()}),u.done(function(){var t;Ee.remove(e,"fxshow");for(t in d)ie.style(e,t,d[t])});for(r in d)s=q(h?f[r]:0,r,u),r in f||(f[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function R(e,t){var n,r,i,o,s;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=ie.cssHooks[r])&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,s=B.prefilters.length,a=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=nt||O(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),o<1&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{},easing:ie.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||O(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(R(u,c.opts.specialEasing);o<s;o++)if(r=B.prefilters[o].call(c,e,u,c.opts))return ie.isFunction(r.stop)&&(ie._queueHooks(c.elem,c.opts.queue).stop=ie.proxy(r.stop,r)),r;return ie.map(u,q,c),ie.isFunction(c.opts.start)&&c.opts.start.call(e,c),ie.fx.timer(ie.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function U(e,t,n,r){function i(a){var l;return o[a]=!0,ie.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}var o={},s=e===St;return i(t.dataTypes[0])||!o["*"]&&i("*")}function z(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ie.extend(!0,e,r),e}function G(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}function H(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function K(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Ct.test(e)?r(e,i):K(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)K(e+"["+i+"]",t[i],n,r)}function W(e){return ie.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],X=e.document,$=Y.slice,Q=Y.concat,Z=Y.push,J=Y.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:"2.2.4",constructor:ie,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ie.each(this,e)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:Y.sort,splice:Y.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ie.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(c&&r&&(ie.isPlainObject(r)||(i=ie.isArray(r)))?(i?(i=!1,o=n&&ie.isArray(n)?n:[]):o=n&&ie.isPlainObject(n)?n:{},s[t]=ie.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},ie.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ie.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=ie.trim(e))&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(ae,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):Z.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:J.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,r){var i,o,s=0,a=[];if(n(e))for(i=e.length;s<i;s++)null!=(o=t(e[s],s,r))&&a.push(o);else for(s in e)null!=(o=t(e[s],s,r))&&a.push(o);return Q.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),ie.isFunction(e))return r=$.call(arguments,2),i=function(){return e.apply(t||this,r.concat($.call(arguments)))},i.guid=e.guid=e.guid||ie.guid++,i},now:Date.now,support:re}),"function"==typeof Symbol&&(ie.fn[Symbol.iterator]=Y[Symbol.iterator]),ie.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,r){var i,o,s,a,c,d,p,h,f=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:R)!==P&&T(t),t=t||P,A)){if(11!==g&&(d=ge.exec(e)))if(i=d[1]){if(9===g){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(f&&(s=f.getElementById(i))&&q(t,s)&&s.id===i)return n.push(s),n}else{if(d[2])return $.apply(n,t.getElementsByTagName(e)),n;if((i=d[3])&&b.getElementsByClassName&&t.getElementsByClassName)return $.apply(n,t.getElementsByClassName(i)),n}if(b.qsa&&!z[e+" "]&&(!L||!L.test(e))){if(1!==g)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(ye,"\\$&"):t.setAttribute("id",a=N),p=E(e),o=p.length,c=ue.test(a)?"#"+a:"[id='"+a+"']";o--;)p[o]=c+" "+u(p[o]);h=p.join(","),f=me.test(e)&&l(t.parentNode)||t}if(h)try{return $.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{a===N&&t.removeAttribute("id")}}}return M(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[N]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||H)-(~e.sourceIndex||H);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function u(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=j++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,l,c,u=[B,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(c=t[N]||(t[N]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(a=l[r])&&a[0]===B&&a[1]===o)return u[2]=a[2];if(l[r]=u,u[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function f(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function g(e,t,n,i,o,s){return i&&!i[N]&&(i=g(i)),o&&!o[N]&&(o=g(o,s)),r(function(r,s,a,l){var c,u,d,p=[],g=[],m=s.length,y=r||h(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?y:f(y,p,e,a,l),b=n?o||(r?e:m||i)?[]:s:v;if(n&&n(v,b,a,l),i)for(c=f(b,g),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[g[u]]=!(v[g[u]]=d));if(r){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(v[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?Z(r,d):p[u])>-1&&(r[c]=!(s[c]=d))}}else b=f(b===s?b.splice(m,b.length):b),o?o(null,s,b,l):$.apply(s,b)})}function m(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],s=o||x.relative[" "],a=o?1:0,l=d(function(e){return e===t},s,!0),c=d(function(e){return Z(t,e)>-1},s,!0),h=[function(e,n,r){var i=!o&&(r||n!==k)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];a<i;a++)if(n=x.relative[e[a].type])h=[d(p(h),n)];else{if(n=x.filter[e[a].type].apply(null,e[a].matches),n[N]){for(r=++a;r<i&&!x.relative[e[r].type];r++);return g(a>1&&p(h),a>1&&u(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(oe,"$1"),n,a<r&&m(e.slice(a,r)),r<i&&m(e=e.slice(r)),r<i&&u(e))}h.push(n)}return p(h)}function y(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,l,c){var u,d,p,h=0,g="0",m=r&&[],y=[],v=k,b=r||o&&x.find.TAG("*",c),w=B+=null==v?1:Math.random()||.1,_=b.length;for(c&&(k=s===P||s||c);g!==_&&null!=(u=b[g]);g++){if(o&&u){for(d=0,s||u.ownerDocument===P||(T(u),a=!A);p=e[d++];)if(p(u,s||P,a)){l.push(u);break}c&&(B=w)}i&&((u=!p&&u)&&h--,r&&m.push(u))}if(h+=g,i&&g!==h){for(d=0;p=n[d++];)p(m,y,s,a);if(r){if(h>0)for(;g--;)m[g]||y[g]||(y[g]=Y.call(l));y=f(y)}$.apply(l,y),c&&!r&&y.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(B=w,k=v),m};return i?r(s):s}var v,b,x,w,_,E,S,M,k,I,C,T,P,D,A,L,O,F,q,N="sizzle"+1*new Date,R=e.document,B=0,j=0,V=n(),U=n(),z=n(),G=function(e,t){return e===t&&(C=!0),0},H=1<<31,K={}.hasOwnProperty,W=[],Y=W.pop,X=W.push,$=W.push,Q=W.slice,Z=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(re),ue=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ye=/'|\\/g,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){T()};try{$.apply(W=Q.call(R.childNodes),R.childNodes),W[R.childNodes.length].nodeType}catch(e){$={apply:W.length?function(e,t){X.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==P&&9===r.nodeType&&r.documentElement?(P=r,D=P.documentElement,A=!_(P),(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(P.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=fe.test(P.getElementsByClassName),b.getById=i(function(e){return D.appendChild(e).id=N,!P.getElementsByName||!P.getElementsByName(N).length}),b.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(ve,be);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(ve,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},O=[],L=[],(b.qsa=fe.test(P.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ee+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+N+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+N+"+*").length||L.push(".#.+[+~]")}),i(function(e){var t=P.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(b.matchesSelector=fe.test(F=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){b.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),O.push("!=",re)}),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),t=fe.test(D.compareDocumentPosition),q=t||fe.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return C=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===P||e.ownerDocument===R&&q(R,e)?-1:t===P||t.ownerDocument===R&&q(R,t)?1:I?Z(I,e)-Z(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return C=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!i||!o)return e===P?-1:t===P?1:i?-1:o?1:I?Z(I,e)-Z(I,t):0;if(i===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[r]===l[r];)r++;return r?s(a[r],l[r]):a[r]===R?-1:l[r]===R?1:0},P):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&T(e),n=n.replace(le,"='$1']"),b.matchesSelector&&A&&!z[n+" "]&&(!O||!O.test(n))&&(!L||!L.test(n)))try{var r=F.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&T(e),q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&T(e);var n=x.attrHandle[t.toLowerCase()],r=n&&K.call(x.attrHandle,t.toLowerCase())?n(e,t,!A):void 0;return void 0!==r?r:b.attributes||!A?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(C=!b.detectDuplicates,I=!b.sortStable&&e.slice(0),e.sort(G),C){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return I=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){
return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&v){for(p=m,d=p[N]||(p[N]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===B&&c[1],b=h&&c[2],p=h&&m.childNodes[h];p=++h&&p&&p[g]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[B,h,b];break}}else if(v&&(p=t,d=p[N]||(p[N]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===B&&c[1],b=h),!1===b)for(;(p=++h&&p&&p[g]||(b=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&&(d=p[N]||(p[N]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[B,b]),p!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[N]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=Z(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(oe,"$1"));return i[N]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ve,be),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,be).toLowerCase(),function(t){var n;do{if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(v);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,E=t.tokenize=function(e,n){var r,i,o,s,a,l,c,u=U[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=x.preFilter;a;){r&&!(i=se.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=ae.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),a=a.slice(r.length));for(s in x.filter)!(i=de[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):U(e,l).slice(0)},S=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=m(t[n]),o[N]?r.push(o):i.push(o);o=z(e,y(i,r)),o.selector=e}return o},M=t.select=function(e,t,n,r){var i,o,s,a,c,d="function"==typeof e&&e,p=!r&&E(e=d.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===t.nodeType&&A&&x.relative[o[1].type]){if(!(t=(x.find.ID(s.matches[0].replace(ve,be),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(s=o[i],!x.relative[a=s.type]);)if((c=x.find[a])&&(r=c(s.matches[0].replace(ve,be),me.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&u(o)))return $.apply(n,r),n;break}}return(d||S(e,p))(r,t,!A,n,!t||me.test(e)&&l(t.parentNode)||t),n},b.sortStable=N.split("").sort(G).join("")===N,b.detectDuplicates=!!C,T(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(J,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.uniqueSort=ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains;var ue=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ie(e).is(n))break;r.push(e)}return r},de=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},pe=ie.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<n;t++)if(ie.contains(i[t],this))return!0}));for(t=0;t<n;t++)ie.find(e,i[t],r);return r=this.pushStack(n>1?ie.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&pe.test(e)?ie(e):e||[],!1).length}});var ge,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ie.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ge,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:me.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),he.test(r[1])&&ie.isPlainObject(t))for(r in t)ie.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=X.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==n.ready?n.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))}).prototype=ie.fn,ge=ie(X);var ye=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};ie.fn.extend({has:function(e){var t=ie(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ie.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=pe.test(e)||"string"!=typeof e?ie(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?J.call(ie(e),this[0]):J.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.uniqueSort(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue(e,"parentNode")},parentsUntil:function(e,t,n){return ue(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ue(e,"nextSibling")},prevAll:function(e){return ue(e,"previousSibling")},nextUntil:function(e,t,n){return ue(e,"nextSibling",n)},prevUntil:function(e,t,n){return ue(e,"previousSibling",n)},siblings:function(e){return de((e.parentNode||{}).firstChild,e)},children:function(e){return de(e.firstChild)},contents:function(e){return e.contentDocument||ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ve[e]||ie.uniqueSort(i),ye.test(e)&&i.reverse()),this.pushStack(i)}});var be=/\S+/g;ie.Callbacks=function(e){e="string"==typeof e?o(e):ie.extend({},e);var t,n,r,i,s=[],a=[],l=-1,c=function(){for(i=e.once,r=t=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=s.length,n=!1);e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},u={add:function(){return s&&(n&&!t&&(l=s.length-1,a.push(n)),function t(n){ie.each(n,function(n,r){ie.isFunction(r)?e.unique&&u.has(r)||s.push(r):r&&r.length&&"string"!==ie.type(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return ie.each(arguments,function(e,t){for(var n;(n=ie.inArray(t,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?ie.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=a=[],n||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var s=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=$.call(arguments),s=o.length,a=1!==s||e&&ie.isFunction(e.promise)?s:0,l=1===a?e:ie.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?$.call(arguments):i,r===t?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().progress(c(i,n,t)).done(c(i,r,o)).fail(l.reject):--a;return a||l.resolveWith(r,o),l.promise()}});var xe;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){(!0===e?--ie.readyWait:ie.isReady)||(ie.isReady=!0,!0!==e&&--ie.readyWait>0||(xe.resolveWith(X,[ie]),ie.fn.triggerHandler&&(ie(X).triggerHandler("ready"),ie(X).off("ready"))))}}),ie.ready.promise=function(t){return xe||(xe=ie.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?e.setTimeout(ie.ready):(X.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s))),xe.promise(t)},ie.ready.promise();var we=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===ie.type(n)){i=!0;for(a in n)we(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(ie(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},_e=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!_e(e))return{};var t=e[this.expando];return t||(t={},_e(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,ie.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{ie.isArray(t)?r=t.concat(t.map(ie.camelCase)):(i=ie.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(be)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||ie.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ie.isEmptyObject(t)}};var Ee=new a,Se=new a,Me=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ke=/[A-Z]/g;ie.extend({hasData:function(e){return Se.hasData(e)||Ee.hasData(e)},data:function(e,t,n){return Se.access(e,t,n)},removeData:function(e,t){Se.remove(e,t)},_data:function(e,t,n){return Ee.access(e,t,n)},_removeData:function(e,t){Ee.remove(e,t)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Se.get(o),1===o.nodeType&&!Ee.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),l(o,r,i[r])));Ee.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Se.set(this,e)}):we(this,function(t){var n,r;if(o&&void 0===t){if(void 0!==(n=Se.get(o,e)||Se.get(o,e.replace(ke,"-$&").toLowerCase())))return n;if(r=ie.camelCase(e),void 0!==(n=Se.get(o,r)))return n;if(void 0!==(n=l(o,r,void 0)))return n}else r=ie.camelCase(e),this.each(function(){var n=Se.get(this,r);Se.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&Se.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Se.remove(this,e)})}}),ie.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ee.get(e,t),n&&(!r||ie.isArray(n)?r=Ee.access(e,t,ie.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),s=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ee.get(e,n)||Ee.access(e,n,{empty:ie.Callbacks("once memory").add(function(){Ee.remove(e,[t+"queue",n])})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Ee.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),Te=["Top","Right","Bottom","Left"],Pe=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=/^(?:checkbox|radio)$/i,Ae=/<([\w:-]+)/,Le=/^$|\/(?:java|ecma)script/i,Oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.thead,Oe.th=Oe.td;var Fe=/<|&#?\w+;/;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var qe=/^key/,Ne=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Re=/^([^.]*)(?:\.(.+)|)/;ie.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,d,p,h,f,g,m=Ee.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=ie.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==ie&&ie.event.triggered!==t.type?ie.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(be)||[""],c=t.length;c--;)a=Re.exec(t[c])||[],h=g=a[1],f=(a[2]||"").split(".").sort(),h&&(d=ie.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=ie.event.special[h]||{},u=ie.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&!1!==d.setup.call(e,r,f,s)||e.addEventListener&&e.addEventListener(h,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),ie.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,d,p,h,f,g,m=Ee.hasData(e)&&Ee.get(e);if(m&&(l=m.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(a=Re.exec(t[c])||[],h=g=a[1],f=(a[2]||"").split(".").sort(),h){for(d=ie.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,p=l[h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!i&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));s&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||ie.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)ie.event.remove(e,h+t[c],n,r,!0);ie.isEmptyObject(l)&&Ee.remove(e,"handle events")}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,s=[],a=$.call(arguments),l=(Ee.get(this,"events")||{})[e.type]||[],c=ie.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=ie.event.handlers.call(this,e,l),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((ie.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],n=0;n<a;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?ie(i,this).index(l)>-1:ie.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&s.push({elem:l,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||X,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ne.test(i)?this.mouseHooks:qe.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==g()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===g()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ie.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ie.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ie.Event=function(e,t){if(!(this instanceof ie.Event))return new ie.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?h:f):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),this[ie.expando]=!0},ie.Event.prototype={constructor:ie.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ie.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ie.fn.extend({on:function(e,t,n,r){return m(this,e,t,n,r)},one:function(e,t,n,r){return m(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=f),this.each(function(){ie.event.remove(this,e,n,t)})}});var Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,je=/<script|<style|<link/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ie.extend({htmlPrefilter:function(e){return e.replace(Be,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ie.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(s=u(a),o=u(e),r=0,i=o.length;r<i;r++)w(o[r],s[r]);if(t)if(n)for(o=o||u(e),s=s||u(a),r=0,i=o.length;r<i;r++)x(o[r],s[r]);else x(e,a);return s=u(a,"script"),s.length>0&&d(s,!l&&u(e,"script")),a},cleanData:function(e){for(var t,n,r,i=ie.event.special,o=0;void 0!==(n=e[o]);o++)if(_e(n)){if(t=n[Ee.expando]){if(t.events)for(r in t.events)i[r]?ie.event.remove(n,r):ie.removeEvent(n,r,t.handle);n[Ee.expando]=void 0}n[Se.expando]&&(n[Se.expando]=void 0)}}}),ie.fn.extend({domManip:_,detach:function(e){return E(this,e,!0)},remove:function(e){return E(this,e)},text:function(e){return we(this,function(e){return void 0===e?ie.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){y(this,e).appendChild(e)}})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return we(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!Oe[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=ie.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(u(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var n=this.parentNode;ie.inArray(this,e)<0&&(ie.cleanData(u(this)),n&&n.replaceChild(t,this))},e)}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=[],i=ie(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),ie(i[s])[t](n),Z.apply(r,n.get());return this.pushStack(r)}});var Ge,He={HTML:"block",BODY:"block"},Ke=/^margin/,We=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),Ye=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Xe=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i},$e=X.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",$e.appendChild(s);var t=e.getComputedStyle(a);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,$e.removeChild(s)}var n,r,i,o,s=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ie.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),i},reliableMarginLeft:function(){return null==r&&t(),o},reliableMarginRight:function(){var t,n=a.appendChild(X.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",$e.appendChild(s),t=!parseFloat(e.getComputedStyle(n).marginRight),$e.removeChild(s),a.removeChild(n),t}}))}();var Qe=/^(none|table(?!-c[ea]).+)/,Ze={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"},et=["Webkit","O","Moz","ms"],tt=X.createElement("div").style;ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=k(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie.camelCase(t),l=e.style;if(t=ie.cssProps[a]||(ie.cssProps[a]=C(a)||a),s=ie.cssHooks[t]||ie.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:l[t];o=typeof n,"string"===o&&(i=Ce.exec(n))&&i[1]&&(n=c(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ie.cssNumber[a]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l[t]=n))}},css:function(e,t,n,r){var i,o,s,a=ie.camelCase(t);return t=ie.cssProps[a]||(ie.cssProps[a]=C(a)||a),s=ie.cssHooks[t]||ie.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=k(e,t,r)),"normal"===i&&t in Je&&(i=Je[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){if(n)return Qe.test(ie.css(e,"display"))&&0===e.offsetWidth?Xe(e,Ze,function(){return D(e,t,r)}):D(e,t,r)},set:function(e,n,r){var i,o=r&&Ye(e),s=r&&P(e,t,r,"border-box"===ie.css(e,"boxSizing",!1,o),o);return s&&(i=Ce.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=ie.css(e,t)),T(e,n,s)}}}),ie.cssHooks.marginLeft=I(re.reliableMarginLeft,function(e,t){if(t)return(parseFloat(k(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ie.cssHooks.marginRight=I(re.reliableMarginRight,function(e,t){if(t)return Xe(e,{display:"inline-block"},k,[e,"marginRight"])}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Te[r]+t]=o[r]||o[r-2]||o[0];return i}},Ke.test(e)||(ie.cssHooks[e+t].set=T)}),ie.fn.extend({css:function(e,t){return we(this,function(e,t,n){var r,i,o={},s=0;if(ie.isArray(t)){for(r=Ye(e),i=t.length;s<i;s++)o[t[s]]=ie.css(e,t[s],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Pe(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=L,L.prototype={constructor:L,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ie.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){
var t,n=L.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ie.cssProps[e.prop]]&&!ie.cssHooks[e.prop]?e.elem[e.prop]=e.now:ie.style(e.elem,e.prop,e.now+e.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ie.fx=L.prototype.init,ie.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;ie.Animation=ie.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return c(n.elem,e,Ce.exec(t),n),n}]},tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.match(be);for(var n,r=0,i=e.length;r<i;r++)n=e[r],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[N],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Pe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),s=function(){var t=B(this,ie.extend({},e),o);(i||Ee.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,s=Ee.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ot.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ie.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Ee.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,s=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,r,i)}}),ie.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=0,n=ie.timers;for(nt=ie.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ie.fx.stop(),nt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){rt||(rt=e.setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){e.clearInterval(rt),rt=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,n){return t=ie.fx?ie.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),n=t.appendChild(X.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=X.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var st,at=ie.expr.attrHandle;ie.fn.extend({attr:function(e,t){return we(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),i=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?st:void 0)),void 0!==n?null===n?void ie.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ie.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),st={set:function(e,t,n){return!1===t?ie.removeAttr(e,n):e.setAttribute(n,n),n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=at[t]||ie.find.attr;at[t]=function(e,t,r){var i,o;return r||(o=at[t],at[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,at[t]=o),i}});var lt=/^(?:input|select|textarea|button)$/i,ct=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return we(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})}}),ie.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ie.isXMLDoc(e)||(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):lt.test(e.nodeName)||ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),re.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this});var ut=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,l=0;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,j(this)))});if("string"==typeof e&&e)for(t=e.match(be)||[];n=this[l++];)if(i=j(n),r=1===n.nodeType&&(" "+i+" ").replace(ut," ")){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=ie.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,l=0;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,j(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(be)||[];n=this[l++];)if(i=j(n),r=1===n.nodeType&&(" "+i+" ").replace(ut," ")){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=ie.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,j(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=j(this),t&&Ee.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ee.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+j(n)+" ").replace(ut," ").indexOf(t)>-1)return!0;return!1}});var dt=/\r/g,pt=/[\x20\t\r\n\f]+/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),(t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(dt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e)).replace(pt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,l=i<0?a:o?i:0;l<a;l++)if(n=r[l],(n.selected||l===i)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=ie.inArray(ie.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=ie.inArray(ie(e).val(),t)>-1}},re.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ht=/^(?:focusinfocus|focusoutblur)$/;ie.extend(ie.event,{trigger:function(t,n,r,i){var o,s,a,l,c,u,d,p=[r||X],h=ne.call(t,"type")?t.type:t,f=ne.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!ht.test(h+ie.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[ie.expando]?t:new ie.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),d=ie.event.special[h]||{},i||!d.trigger||!1!==d.trigger.apply(r,n))){if(!i&&!d.noBubble&&!ie.isWindow(r)){for(l=d.delegateType||h,ht.test(l+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||X)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||h,u=(Ee.get(s,"events")||{})[t.type]&&Ee.get(s,"handle"),u&&u.apply(s,n),(u=c&&s[c])&&u.apply&&_e(s)&&(t.result=u.apply(s,n),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),n)||!_e(r)||c&&ie.isFunction(r[h])&&!ie.isWindow(r)&&(a=r[c],a&&(r[c]=null),ie.event.triggered=h,r[h](),ie.event.triggered=void 0,a&&(r[c]=a)),t.result}},simulate:function(e,t,n){var r=ie.extend(new ie.Event,n,{type:e,isSimulated:!0});ie.event.trigger(r,null,t)}}),ie.fn.extend({trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e))};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ee.access(r,t);i||r.addEventListener(e,n,!0),Ee.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ee.access(r,t)-1;i?Ee.access(r,t,i):(r.removeEventListener(e,n,!0),Ee.remove(r,t))}}});var ft=e.location,gt=ie.now(),mt=/\?/;ie.parseJSON=function(e){return JSON.parse(e+"")},ie.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var yt=/#.*$/,vt=/([?&])_=[^&]*/,bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wt=/^(?:GET|HEAD)$/,_t=/^\/\//,Et={},St={},Mt="*/".concat("*"),kt=X.createElement("a");kt.href=ft.href,ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft.href,type:"GET",isLocal:xt.test(ft.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,ie.ajaxSettings),t):z(ie.ajaxSettings,e)},ajaxPrefilter:V(Et),ajaxTransport:V(St),ajax:function(t,n){function r(t,n,r,a){var c,d,v,b,w,E=n;2!==x&&(x=2,l&&e.clearTimeout(l),i=void 0,s=a||"",_.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(b=G(p,_,r)),b=H(p,b,_,c),c?(p.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(ie.lastModified[o]=w),(w=_.getResponseHeader("etag"))&&(ie.etag[o]=w)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=b.state,d=b.data,v=b.error,c=!v)):(v=E,!t&&E||(E="error",t<0&&(t=0))),_.status=t,_.statusText=(n||E)+"",c?g.resolveWith(h,[d,E,_]):g.rejectWith(h,[_,E,v]),_.statusCode(y),y=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[_,p,c?d:v]),m.fireWith(h,[_,E]),u&&(f.trigger("ajaxComplete",[_,p]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,s,a,l,c,u,d,p=ie.ajaxSetup({},n),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?ie(h):ie.event,g=ie.Deferred(),m=ie.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!a)for(a={};t=bt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,p.url=((t||p.url||ft.href)+"").replace(yt,"").replace(_t,ft.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ie.trim(p.dataType||"*").toLowerCase().match(be)||[""],null==p.crossDomain){c=X.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=kt.protocol+"//"+kt.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ie.param(p.data,p.traditional)),U(Et,p,n,_),2===x)return _;u=ie.event&&p.global,u&&0==ie.active++&&ie.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!wt.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(mt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=vt.test(o)?o.replace(vt,"$1_="+gt++):o+(mt.test(o)?"&":"?")+"_="+gt++)),p.ifModified&&(ie.lastModified[o]&&_.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&_.setRequestHeader("If-None-Match",ie.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Mt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,_,p)||2===x))return _.abort();w="abort";for(d in{success:1,error:1,complete:1})_[d](p[d]);if(i=U(St,p,n,_)){if(_.readyState=1,u&&f.trigger("ajaxSend",[_,p]),2===x)return _;p.async&&p.timeout>0&&(l=e.setTimeout(function(){_.abort("timeout")},p.timeout));try{x=1,i.send(v,r)}catch(e){if(!(x<2))throw e;r(-1,e)}}else r(-1,"No Transport");return _},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax(ie.extend({url:e,type:t,dataType:i,data:n,success:r},ie.isPlainObject(e)&&e))}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){var t;return ie.isFunction(e)?this.each(function(t){ie(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return!ie.expr.filters.visible(e)},ie.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var It=/%20/g,Ct=/\[\]$/,Tt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)K(n,e[n],t,i);return r.join("&").replace(It,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Dt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var At={0:200,1223:204},Lt=ie.ajaxSettings.xhr();re.cors=!!Lt&&"withCredentials"in Lt,re.ajax=Lt=!!Lt,ie.ajaxTransport(function(t){var n,r;if(re.cors||Lt&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(e){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(At[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=ie("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ot=[],Ft=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||ie.expando+"_"+gt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=!1!==t.jsonp&&(Ft.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ft,"$1"+i):!1!==t.jsonp&&(t.url+=(mt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||ie.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){void 0===o?ie(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ot.push(i)),s&&ie.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=he.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=p([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var qt=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&qt)return qt.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=ie.trim(e.slice(a)),e=e.slice(0,a)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&ie.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length},ie.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c,u=ie.css(e,"position"),d=ie(e),p={};"static"===u&&(e.style.position="relative"),a=d.offset(),o=ie.css(e,"top"),l=ie.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(r=d.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,ie.extend({},a))),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):d.css(p)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,r)?(i=r.getBoundingClientRect(),n=W(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ie.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(r=e.offset()),r.top+=ie.css(e[0],"borderTopWidth",!0),r.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-ie.css(n,"marginTop",!0),left:t.left-r.left-ie.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||$e})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ie.fn[e]=function(r){return we(this,function(e,r,i){var o=W(e);if(void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=I(re.pixelPosition,function(e,n){if(n)return n=k(e,t),We.test(n)?ie(e).position()[t]+"px":n})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return we(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,s):ie.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),ie.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var Nt=e.jQuery,Rt=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=Rt),t&&e.jQuery===ie&&(e.jQuery=Nt),ie},t||(e.jQuery=e.$=ie),ie}),define("browser",["require","jquery"],function(e){var t=e("jquery"),n={IS_IE8:null!==navigator.userAgent.match(/MSIE 8.0/i),IS_IE9:null!==navigator.userAgent.match(/MSIE 9.0/i),IS_IE:null!==navigator.userAgent.match(/MSIE/i),IS_EDGE:null!==navigator.userAgent.match(/Edge/i),IS_IPAD:null!==navigator.userAgent.match(/iPad/i),IS_MOBILE:null!==navigator.userAgent.match(/Mobile|Android/i),IS_ANDROID:null!==navigator.userAgent.match(/Android/i),IS_IOS:null!==navigator.userAgent.match(/(iPad|iPhone|iPod)/i),IS_CHROME:null!==navigator.userAgent.match(/Chrome/i),IS_FIREFOX:null!==navigator.userAgent.match(/Firefox/i),IS_SAFARI:null!==navigator.userAgent.match(/^((?!chrome|android).)*safari/i),IS_APPLE:null!==navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),IS_WINDOWS:null!==navigator.platform.match(/(Win32)/i),IS_TOUCH:null!==navigator.userAgent.match(/Touch/i),IS_KINDLE:null!==navigator.userAgent.match(/Kindle/i)||null!==navigator.userAgent.match(/Silk/i),IS_BRAILLENOTE:null!==navigator.userAgent.match(/KeyWeb/i),IS_IN_IFRAME:window.parent!==window};return n.IS_TABLET=n.IS_IPAD||n.IS_ANDROID||n.IS_KINDLE,n.IS_TOUCH_DEVICE=n.SHOULD_NOT_AUTOFOCUS=n.IS_IOS||n.IS_ANDROID||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),n.IOS_VERSION=function(){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:null}(),n.SUPPORTS_TRANSLATE3D=!1,t(document).ready(function(){var e,t,r=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(r,null);for(var o in i)if(void 0!==r.style[o]){if(r.style[o]="translate3d(1px,1px,1px)",!(t=window.getComputedStyle(r)))return;e=t.getPropertyValue(i[o])}document.body.removeChild(r),n.SUPPORTS_TRANSLATE3D=void 0!==e&&e.length>0&&"none"!==e}),n.translateRule=function(e,t){return n.SUPPORTS_TRANSLATE3D?"translate3d("+e+(e?"px":"")+","+t+(t?"px":"")+",0)":"translate("+e+(e?"px":"")+","+t+(t?"px":"")+")"},n.SUPPORTS_CANVAS=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),n}),function(){function e(){}function t(e){var t=x.call(arguments,1);return function(){return e.apply(this,t)}}function n(e,t){if(!t)throw new Error("prayer failed: "+e)}function r(e){n("a direction was passed",e===_||e===E)}function i(){I||(I=!0,setTimeout(o))}function o(){I=!1,k={}}function s(e,t){var n=e[_];if(n)for(;n!==e[E][E];n=n[E]){var r=t(n);if(!1===r)break}}function a(e,t,n){var r=e[_];if(!r)return t;for(;r!==e[E][E];r=r[E])t=n(t,r);return t}function l(e,t,r){n("a parent is always present",e),n("leftward is properly set up",function(){return t?t[E]===r&&t.parent===e:e.ends[_]===r}()),n("rightward is properly set up",function(){return r?r[_]===t&&r.parent===e:e.ends[E]===t}())}function c(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function u(e){return c(),Pe(e)}function d(t){function n(e){if(!e||!e.nodeType)return null;var t=C.getNodeOfElement(S(e).children(".dcg-mq-root-block")[0]),n=t&&t.controller;return n?i[n.KIND_OF_MQ](n):null}function r(e,t){t&&t.handlers&&(t.handlers={fns:t.handlers,APIClasses:i});for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],o=N[n];e[n]=o?o(r):r}}if(!(j<=t&&t<=V))throw"Only interface versions between "+j+" and "+V+" supported. You specified: "+t;var i={};n.L=_,n.R=E,n.saneKeyboardEvents=z,n.config=function(e){return r(q.p,e),this},n.registerEmbed=function(e,t){if(!/^[a-z][a-z0-9]*$/i.test(e))throw"Embed name must start with letter and be only letters and digits";B[e]=t};var o=i.AbstractMathQuill=w(R,function(e){e.init=function(e){this.__controller=e,this.__options=e.options,this.id=e.id,this.data=e.data},e.__mathquillify=function(e){var t=this.__controller,n=t.root,r=t.container;t.createTextarea();var i=r.addClass(e).contents().detach();n.jQ=S('<span class="dcg-mq-root-block"/>').appendTo(r),C.linkElementByBlockId(n.jQ[0],n.id),this.latex(i.text()),this.revert=function(){return r.empty().unbind(".mathquill").removeClass("dcg-mq-editable-field dcg-mq-math-mode dcg-mq-text-mode").append(i)}},e.config=function(e){return r(this.__options,e),this},e.el=function(){return this.__controller.container[0]},e.text=function(){return this.__controller.exportText()},e.mathspeak=function(){return this.__controller.exportMathSpeak()},e.latex=function(e){return arguments.length>0?(this.__controller.renderLatexMath(e),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},e.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?dcg-mq-cursor( dcg-mq-blink)?"?>.?<\/span>/i,"").replace(/ dcg-mq-hasCursor|dcg-mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},e.reflow=function(){return this.__controller.root.postOrder(function(e){e.reflow()}),this}});n.prototype=o.prototype,i.EditableField=w(o,function(t,n){t.__mathquillify=function(){return n.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},t.focus=function(){return this.__controller.textarea.focus(),this.__controller.scrollHoriz(),this},t.blur=function(){return this.__controller.textarea.blur(),this},t.write=function(e){return this.__controller.writeLatex(e),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},t.cmd=function(e){var t=this.__controller.notify(),n=t.cursor;if(/^\\[a-z]+$/i.test(e)){e=e.slice(1);var r=P[e];r&&(e=r(e),n.selection&&e.replaces(n.replaceSelection()),e.createLeftOf(n.show()))}else n.parent.write(n,e);return t.scrollHoriz(),t.blurred&&n.hide().parent.blur(),this},t.select=function(){var e=this.__controller
;for(e.notify("move").cursor.insAtRightEnd(e.root);e.cursor[_];)e.selectLeft();return this},t.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},t.moveToDirEnd=function(e){return this.__controller.notify("move").cursor.insAtDirEnd(e,this.__controller.root),this},t.moveToLeftEnd=function(){return this.moveToDirEnd(_)},t.moveToRightEnd=function(){return this.moveToDirEnd(E)},t.keystroke=function(t,n){for(var t=t.replace(/^\s+|\s+$/g,"").split(/\s+/),r=0;r<t.length;r+=1)this.__controller.keystroke(t[r],n||{preventDefault:e});return this},t.typedText=function(e){for(var t=0;t<e.length;t+=1)this.__controller.typedText(e.charAt(t));return this},t.dropEmbedded=function(e,t,n){var r=e-S(window).scrollLeft(),i=t-S(window).scrollTop(),o=document.elementFromPoint(r,i);this.__controller.seek(S(o),e,t),Te().setOptions(n).createLeftOf(this.__controller.cursor)},t.setAriaLabel=function(e){return this.__controller.ariaLabel=e&&"string"==typeof e&&""!=e?e:"Math Input",this},t.getAriaLabel=function(){return this.__controller.ariaLabel||"Math Input"},t.setAriaPostLabel=function(e,t){var n=this.__controller;return e&&"string"==typeof e&&""!=e?(e!==n.ariaPostLabel&&"number"==typeof t&&(this.ariaAlertTimeout&&clearTimeout(this.ariaAlertTimeout),this.ariaAlertTimeout=setTimeout(function(){S(document.activeElement).closest(S(n.container)).length&&W.alert(this.mathspeak().trim()+" "+e.trim())}.bind(this),t)),n.ariaPostLabel=e):(this.ariaAlertTimeout&&clearTimeout(this.ariaAlertTimeout),n.ariaPostLabel=""),this},t.getAriaPostLabel=function(){return this.__controller.ariaPostLabel||""},t.clickAt=function(e,t,n){n=n||document.elementFromPoint(e,t);var r=this.__controller,i=r.root;return y.contains(i.jQ[0],n)||(n=i.jQ[0]),r.seek(S(n),e+pageXOffset,t+pageYOffset),r.blurred&&this.focus(),this},t.ignoreNextMousedown=function(e){return this.__controller.cursor.options.ignoreNextMousedown=e,this}}),n.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},n.EditableField.prototype=i.EditableField.prototype;for(var s in F)!function(e,r){var o=i[e]=r(i);n[e]=function(r,i){var s=n(r);if(s instanceof o||!r||!r.nodeType)return s;var a=O(o.RootBlock(),S(r),q());return a.KIND_OF_MQ=e,o(a).__mathquillify(i,t)},n[e].prototype=o.prototype}(s,F[s]);return n}function p(e){for(var t="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),n=0;n<t.length;n+=1)!function(t){e[t]=function(e){this.controller.handle(t,e)}}(t[n]);e.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function h(e){var t=this.parent,n=e;do{if(n[E])return e.insLeftOf(t);n=n.parent.parent}while(n!==t);e.insRightOf(t)}function f(e,t){e.jQadd=function(){t.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")}}function g(e,n,r){var n=n||e,i=ke[e],o=ke[n];D[e]=t(Me,_,e,i,n,o),D[i]=t(Me,E,e,i,n,o),Ie[e]=Ie[i]=r}var m,y=window.jQuery,v=Math.min,b=Math.max;if(!y)throw"MathQuill requires jQuery 1.5.2+ to be loaded first";var x=[].slice,w=function(e,t,n){function r(e){return"object"==typeof e}function i(e){return"function"==typeof e}function o(){}return function e(n,s){function a(){var e=new l;return i(e.init)&&e.init.apply(e,arguments),e}function l(){}void 0===s&&(s=n,n=Object),a.Bare=l;var c,u=o.prototype=n.prototype,d=l.prototype=a.prototype=a.p=new o;return d.constructor=a,a.extend=function(t){return e(a,t)},(a.open=function(e){if(c={},i(e)?c=e.call(a,d,u,a,n):r(e)&&(c=e),r(c))for(var o in c)t.call(c,o)&&(d[o]=c[o]);return i(d.init)||(d.init=n),a})(s)}}(0,{}.hasOwnProperty),_=-1,E=1,S=w(y,function(e){e.insDirOf=function(e,t){return e===_?this.insertBefore(t.first()):this.insertAfter(t.last())},e.insAtDirEnd=function(e,t){return e===_?this.prependTo(t):this.appendTo(t)}}),M=w(function(e){e.parent=0,e[_]=0,e[E]=0,e.init=function(e,t,n){this.parent=e,this[_]=t,this[E]=n},this.copy=function(e){return M(e.parent,e[_],e[E])}}),k={},I=!1,C=w(function(e){function t(){return n+=1}e[_]=0,e[E]=0,e.parent=0;var n=0;this.getNodeOfElement=function(e){if(e){if(!e.nodeType)throw new Error("must pass an HTMLElement to Node.getNodeOfElement");return e.mqBlockNode||e.mqCmdNode}},this.linkElementByBlockId=function(e,t){C.linkElementByBlockNode(e,k[t])},this.linkElementByBlockNode=function(e,t){e.mqBlockNode=t},this.linkElementByCmdNode=function(e,t){e.mqCmdNode=t},e.init=function(){this.id=t(),k[n]=this,i(),this.ends={},this.ends[_]=0,this.ends[E]=0},e.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},e.jQ=S(),e.jQadd=function(e){return this.jQ=this.jQ.add(e)},e.jQize=function(e){function t(e){if(e.getAttribute){var n=e.getAttribute("mathquill-command-id");if(n){e.removeAttribute("mathquill-command-id");var r=k[n];r.jQadd(e),C.linkElementByCmdNode(e,r)}var i=e.getAttribute("mathquill-block-id");if(i){e.removeAttribute("mathquill-block-id");var o=k[i];o.jQadd(e),C.linkElementByBlockNode(e,o)}}for(e=e.firstChild;e;e=e.nextSibling)t(e)}for(var e=S(e||this.html()),n=0;n<e.length;n+=1)t(e[n]);return e},e.createDir=function(e,t){r(e);var n=this;return n.jQize(),n.jQ.insDirOf(e,t.jQ),t[e]=n.adopt(t.parent,t[_],t[E]),n},e.createLeftOf=function(e){return this.createDir(_,e)},e.selectChildren=function(e,t){return L(e,t)},e.bubble=function(e){for(var t=this;t;t=t.parent){if(!1===e(t))break}return this},e.postOrder=function(e){return function t(n){n.eachChild(t),e(n)}(this),this},e.isEmpty=function(){return 0===this.ends[_]&&0===this.ends[E]},e.isEmptyParens=function(){return!!this.isEmpty()&&(!!this.parent&&"\\left("===this.parent.ctrlSeq)},e.isStyleBlock=function(){return!1},e.children=function(){return T(this.ends[_],this.ends[E])},e.eachChild=function(e){return s(this.ends,e),this},e.foldChildren=function(e,t){return a(this.ends,e,t)},e.withDirAdopt=function(e,t,n,r){return T(this,this).withDirAdopt(e,t,n,r),this},e.adopt=function(e,t,n){return T(this,this).adopt(e,t,n),this},e.disown=function(){return T(this,this).disown(),this},e.remove=function(){return this.jQ.remove(),this.disown()},e.finalizeTree=function(){},e.contactWeld=function(){},e.blur=function(){},e.intentionalBlur=function(){},e.reflow=function(){},e.registerInnerField=function(){}}),T=w(function(e){e.init=function(e,t,i){if(i===m&&(i=_),r(i),n("no half-empty fragments",!e==!t),this.ends={},e){n("withDir is passed to Fragment",e instanceof C),n("oppDir is passed to Fragment",t instanceof C),n("withDir and oppDir have the same parent",e.parent===t.parent),this.ends[i]=e,this.ends[-i]=t;var o=this.fold([],function(e,t){return e.push.apply(e,t.jQ.get()),e});this.jQ=this.jQ.add(o)}},e.jQ=S(),e.withDirAdopt=function(e,t,n,r){return e===_?this.adopt(t,n,r):this.adopt(t,r,n)},e.adopt=function(e,t,n){l(e,t,n);var r=this;r.disowned=!1;var i=r.ends[_];if(!i)return this;var o=r.ends[E];return t||(e.ends[_]=i),n?n[_]=o:e.ends[E]=o,r.ends[E][E]=n,r.each(function(n){n[_]=t,n.parent=e,t&&(t[E]=n),t=n}),r},e.disown=function(){var e=this,t=e.ends[_];if(!t||e.disowned)return e;e.disowned=!0;var n=e.ends[E],r=t.parent;return l(r,t[_],t),l(r,n,n[E]),t[_]?t[_][E]=n[E]:r.ends[_]=n[E],n[E]?n[E][_]=t[_]:r.ends[E]=t[_],e},e.remove=function(){return this.jQ.remove(),this.disown()},e.each=function(e){return s(this.ends,e),this},e.fold=function(e,t){return a(this.ends,e,t)}}),P={},D={},A=w(M,function(e){e.init=function(e,t){this.parent=e,this.options=t;var n=this.jQ=this._jQ=S('<span class="dcg-mq-cursor">&#8203;</span>');this.blink=function(){n.toggleClass("dcg-mq-blink")},this.upDownCache={}},e.show=function(){return this.jQ=this._jQ.removeClass("dcg-mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[E]?this.selection&&this.selection.ends[_][_]===this[_]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[E].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},e.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=S(),this},e.withDirInsertAt=function(e,t,n,r){var i=this.parent;this.parent=t,this[e]=n,this[-e]=r,i!==t&&i.blur&&i.blur(this)},e.insDirOf=function(e,t){return r(e),this.jQ.insDirOf(e,t.jQ),this.withDirInsertAt(e,t.parent,t[e],t),this.parent.jQ.addClass("dcg-mq-hasCursor"),this},e.insLeftOf=function(e){return this.insDirOf(_,e)},e.insRightOf=function(e){return this.insDirOf(E,e)},e.insAtDirEnd=function(e,t){return r(e),this.jQ.insAtDirEnd(e,t.jQ),this.withDirInsertAt(e,t,0,t.ends[e]),t.focus(),this},e.insAtLeftEnd=function(e){return this.insAtDirEnd(_,e)},e.insAtRightEnd=function(e){return this.insAtDirEnd(E,e)},e.jumpUpDown=function(e,t){var n=this;n.upDownCache[e.id]=M.copy(n);var r=n.upDownCache[t.id];if(r)r[E]?n.insLeftOf(r[E]):n.insAtRightEnd(r.parent);else{var i=n.offset().left;t.seek(i,n)}W.queue(t,!0)},e.offset=function(){var e=this,t=e.jQ.removeClass("dcg-mq-cursor").offset();return e.jQ.addClass("dcg-mq-cursor"),t},e.unwrapGramp=function(){var e=this.parent.parent,t=e.parent,n=e[E],r=this,i=e[_];if(e.disown().eachChild(function(r){r.isEmpty()||(r.children().adopt(t,i,n).each(function(t){t.jQ.insertBefore(e.jQ.first())}),i=r.ends[E])}),!this[E])if(this[_])this[E]=this[_][E];else for(;!this[E];){if(this.parent=this.parent[E],!this.parent){this[E]=e[E],this.parent=t;break}this[E]=this.parent.ends[_]}this[E]?this.insLeftOf(this[E]):this.insAtRightEnd(t),e.jQ.remove(),e[_].siblingDeleted&&e[_].siblingDeleted(r.options,E),e[E].siblingDeleted&&e[E].siblingDeleted(r.options,_)},e.startSelection=function(){for(var e=this.anticursor=M.copy(this),t=e.ancestors={},n=e;n.parent;n=n.parent)t[n.parent.id]=n},e.endSelection=function(){delete this.anticursor},e.select=function(){var e=this.anticursor;if(this[_]===e[_]&&this.parent===e.parent)return!1;for(var t=this;t.parent;t=t.parent)if(t.parent.id in e.ancestors){var r=t.parent;break}n("cursor and anticursor in the same tree",r);var i,o,s=e.ancestors[r.id],a=E;if(t[_]!==s)for(var l=t;l;l=l[E])if(l[E]===s[E]){a=_,i=t,o=s;break}return a===E&&(i=s,o=t),i instanceof M&&(i=i[E]),o instanceof M&&(o=o[_]),this.hide().selection=r.selectChildren(i,o),this.insDirOf(a,this.selection.ends[a]),this.selectionChanged(),!0},e.resetToEnd=function(e){this.clearSelection();var t=e.root;this[E]=0,this[_]=t.ends[E],this.parent=t},e.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},e.deleteSelection=function(){this.selection&&(this[_]=this.selection.ends[_][_],this[E]=this.selection.ends[E][E],this.selection.remove(),this.selectionChanged(),delete this.selection)},e.replaceSelection=function(){var e=this.selection;return e&&(this[_]=e.ends[_][_],this[E]=e.ends[E][E],delete this.selection),e}}),L=w(T,function(e,t){e.init=function(){t.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="dcg-mq-selection"></span>').parent()},e.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),t.adopt.apply(this,arguments)},e.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},e.join=function(e,t){var n=t||"";return this.fold("",function(t,r){return t+n+r[e]()})}}),O=w(function(e){e.init=function(e,t,n){this.id=e.id,this.data={},this.root=e,this.container=t,this.options=n,this.ariaLabel="Math Input",this.ariaPostLabel="",e.controller=this,this.cursor=e.cursor=A(e,n)},e.handle=function(e,t){var n=this.options.handlers;if(n&&n.fns[e]){var r=n.APIClasses[this.KIND_OF_MQ](this);t===_||t===E?n.fns[e](t,r):n.fns[e](r)}};var t=[];this.onNotify=function(e){t.push(e)},e.notify=function(){for(var e=0;e<t.length;e+=1)t[e].apply(this.cursor,arguments);return this}}),F={},q=w(),N={},R=w(),B={};u.prototype=R.p,u.VERSION="v0.10.1",u.interfaceVersion=function(e){if(1!==e)throw"Only interface version 1 supported. You specified: "+e;return c=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')},c(),u},u.getInterface=d;var j=d.MIN=1,V=d.MAX=2;u.noConflict=function(){return window.MathQuill=U,u};var U=window.MathQuill;window.MathQuill=u;var z=function(){function t(e){var t,r=e.which||e.keyCode,i=n[r],o=[];return e.ctrlKey&&o.push("Ctrl"),e.originalEvent&&e.originalEvent.metaKey&&o.push("Meta"),e.altKey&&o.push("Alt"),e.shiftKey&&o.push("Shift"),t=i||String.fromCharCode(r),o.length||i?(o.push(t),o.join("-")):t}var n={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};return function(n,r){function i(e){S=e,clearTimeout(b),b=setTimeout(e)}function o(t){i(function(n){S=e,clearTimeout(b),t(n)})}function s(){try{_[0].select()}catch(e){}}function a(t){S(),S=e,clearTimeout(b),_.val(t),t&&s(),M=!!t}function l(){var e=_[0];return"selectionStart"in e&&e.selectionStart!==e.selectionEnd}function c(){r.options&&r.options.overrideKeystroke?r.options.overrideKeystroke(t(x),x):r.keystroke(t(x),x)}function u(e){x=e,w=null,M&&o(function(e){e&&"focusout"===e.type||s()}),c()}function d(e){if(!e||!e.originalEvent)return!1;switch(e.originalEvent.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":return!0}return!1}function p(e){x&&w&&c(),w=e,d(e)||i(f)}function h(e){x&&!w&&(d(e)||i(f))}function f(){if(!l()){var e=_.val();1===e.length?(_.val(""),r.options&&r.options.overrideTypedText?r.options.overrideTypedText(e):r.typedText(e)):e&&s()}}function g(){x=null,w=null,S=e,clearTimeout(b),_.val("")}function m(e){_.focus(),i(v)}function v(){var e=_.val();_.val(""),e&&r.paste(e)}var b,x=null,w=null,_=y(n),E=y(r.container||_),S=e;E.bind("keydown keypress input keyup paste",function(e){S(e)});var M=!1;return r.options&&r.options.disableCopyPaste?E.bind({keydown:u,keypress:p,keyup:h,focusout:g,copy:function(e){e.preventDefault()},cut:function(e){e.preventDefault()},paste:function(e){e.preventDefault()}}):E.bind({keydown:u,keypress:p,keyup:h,focusout:g,cut:function(){o(function(){r.cut()})},copy:function(){o(function(){r.copy()})},paste:m}),{select:a}}}(),G=w(function(e,t,r){function i(e,t){throw e=e?"'"+e+"'":"EOF","Parse Error: "+t+" at "+e}e.init=function(e){this._=e},e.parse=function(e){function t(e,t){return t}return this.skip(a)._(""+e,t,i)},e.or=function(e){n("or is passed a parser",e instanceof r);var t=this;return r(function(n,r,i){function o(t){return e._(n,r,i)}return t._(n,r,o)})},e.then=function(e){var t=this;return r(function(i,o,s){function a(t,i){var a=e instanceof r?e:e(i);return n("a parser is returned",a instanceof r),a._(t,o,s)}return t._(i,a,s)})},e.many=function(){var e=this;return r(function(t,n,r){function i(e,n){return t=e,s.push(n),!0}function o(){return!1}for(var s=[];e._(t,i,o););return n(t,s)})},e.times=function(e,t){arguments.length<2&&(t=e);var n=this;return r(function(r,i,o){function s(e,t){return u.push(t),r=e,!0}function a(e,t){return c=t,r=e,!1}function l(e,t){return!1}for(var c,u=[],d=!0,p=0;p<e;p+=1)if(!(d=n._(r,s,a)))return o(r,c);for(;p<t&&d;p+=1)d=n._(r,s,l);return i(r,u)})},e.result=function(e){return this.then(s(e))},e.atMost=function(e){return this.times(0,e)},e.atLeast=function(e){var t=this;return t.times(e).then(function(e){return t.many().map(function(t){return e.concat(t)})})},e.map=function(e){return this.then(function(t){return s(e(t))})},e.skip=function(e){return this.then(function(t){return e.result(t)})};var o=(this.string=function(e){var t=e.length,n="expected '"+e+"'";return r(function(r,i,o){var s=r.slice(0,t);return s===e?i(r.slice(t),s):o(r,n)})},this.regex=function(e){n("regexp parser is anchored","^"===e.toString().charAt(1));var t="expected "+e;return r(function(n,r,i){var o=e.exec(n);if(o){var s=o[0];return r(n.slice(s.length),s)}return i(n,t)})}),s=r.succeed=function(e){return r(function(t,n){return n(t,e)})},a=(r.fail=function(e){return r(function(t,n,r){return r(t,e)})},r.letter=o(/^[a-z]/i),r.letters=o(/^[a-z]*/i),r.digit=o(/^[0-9]/),r.digits=o(/^[0-9]*/),r.whitespace=o(/^\s+/),r.optWhitespace=o(/^\s*/),r.any=r(function(e,t,n){return e?t(e.slice(1),e.charAt(0)):n(e,"expected any character")}),r.all=r(function(e,t,n){return t("",e)}),r.eof=r(function(e,t,n){return e?n(e,"expected EOF"):t(e,e)}))});O.open(function(e){e.focusBlurEvents=function(){function e(){clearTimeout(r),s.selection&&s.selection.jQ.addClass("dcg-mq-blur"),t(),n()}function t(){s.hide().parent.blur(),i.container.removeClass("dcg-mq-focused"),S(window).unbind("blur",e),i.options&&i.options.resetCursorOnBlur&&s.resetToEnd(i)}function n(){var e=(i.ariaLabel+": "+o.mathspeak()+" "+i.ariaPostLabel).trim();W.jQ.empty(),i.textarea.attr("aria-label",e),i.container.attr("aria-label",e)}var r,i=this,o=i.root,s=i.cursor;i.textarea.focus(function(){n(),i.blurred=!1,clearTimeout(r),i.container.addClass("dcg-mq-focused"),s.parent||s.insAtRightEnd(o),s.selection?(s.selection.jQ.removeClass("dcg-mq-blur"),i.selectionChanged()):s.show(),i.setOverflowClasses()}).blur(function(){i.textareaSelectionTimeout&&(clearTimeout(i.textareaSelectionTimeout),i.textareaSelectionTimeout=m),i.blurred=!0,r=setTimeout(function(){o.postOrder(function(e){e.intentionalBlur()}),s.clearSelection().endSelection(),t(),n(),i.scrollHoriz()}),S(window).bind("blur",e)}),n(),i.blurred=!0,s.hide().parent.blur()}}),O.open(function(e,t){e.exportText=function(){return this.root.foldChildren("",function(e,t){return e+t.text()})}}),O.open(function(t){q.p.ignoreNextMousedown=e;var n;this.onNotify(function(e){"edit"!==e&&"replace"!==e||n&&n.cursor===this&&n.cb()}),t.delegateMouseEvents=function(){var t=this.root.jQ;this.container.bind("mousedown.mathquill",function(r){function i(e){y=S(e.target)}function o(e){p.anticursor||p.startSelection(),d.seek(y,e.pageX,e.pageY).cursor.select(),p.selection&&W.clear().queue(p.selection.join("mathspeak")+" selected").alert(),y=m}function s(e){c.unbind("mousemove",i),S(e.target.ownerDocument).unbind("mousemove",o).unbind("mouseup",l),n=m}function a(){d.editable?(p.show(),W.queue(p.parent).alert()):f.detach()}function l(e){p.blink=h,p.selection||a(),s(e)}var c=S(r.target).closest(".dcg-mq-root-block"),u=C.getNodeOfElement(c[0])||C.getNodeOfElement(t[0]),d=u.controller,p=d.cursor,h=p.blink,f=d.textareaSpan,g=d.textarea;if(r.preventDefault(),r.target.unselectable=!0,!p.options.ignoreNextMousedown(r)){p.options.ignoreNextMousedown=e;var y,v;n={cursor:p,cb:function(){v=!0,p.blink=h,p.clearSelection(),a(),s(r)}},d.blurred&&(d.editable||c.prepend(f),g.focus(),v)||(p.blink=e,d.seek(S(r.target),r.pageX,r.pageY).cursor.startSelection(),c.mousemove(i),S(r.target.ownerDocument).mousemove(o).mouseup(l))}})}}),O.open(function(e){e.seek=function(e,t,n){for(var r,i=this.notify("select").cursor,o=e&&e[0];o&&!(r=C.getNodeOfElement(o));)o=o.parentElement;return r||(r=this.root),i.clearSelection().show(),r.seek(t,i),this.scrollHoriz(),this}}),O.open(function(e){e.keystroke=function(e,t){this.cursor.parent.keystroke(e,t,this)}}),C.open(function(e){e.keystroke=function(e,t,n){var r=n.cursor;switch(e){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(_);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(E,e,t);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(_,e,t);case"End":n.notify("move").cursor.insAtRightEnd(r.parent),W.queue("end of").queue(r.parent,!0);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root),W.queue("end of").queue(n.ariaLabel).queue(n.root).queue(n.ariaPostLabel);break;case"Shift-End":for(;r[E];)n.selectRight();break;case"Ctrl-Shift-End":for(;r[E]||r.parent!==n.root;)n.selectRight();break;case"Home":n.notify("move").cursor.insAtLeftEnd(r.parent),W.queue("beginning of").queue(r.parent,!0);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root),W.queue("beginning of").queue(n.ariaLabel).queue(n.root).queue(n.ariaPostLabel);break;case"Shift-Home":for(;r[_];)n.selectLeft();break;case"Ctrl-Shift-Home":for(;r[_]||r.parent!==n.root;)n.selectLeft();break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Ctrl-Right":break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":if(r[_])for(;r[_];)n.selectLeft();else n.selectLeft();case"Shift-Down":if(r[E])for(;r[E];)n.selectRight();else n.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(E);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":for(n.notify("move").cursor.insAtRightEnd(n.root);r[_];)n.selectLeft();break;case"Ctrl-Alt-Up":r.parent.parent&&r.parent.parent instanceof C?W.queue(r.parent.parent):W.queue("nothing above");break;case"Ctrl-Alt-Down":r.parent&&r.parent instanceof C?W.queue(r.parent):W.queue("block is empty");break;case"Ctrl-Alt-Left":r.parent.parent&&r.parent.parent.ends&&r.parent.parent.ends[_]&&r.parent.parent.ends[_]instanceof C?W.queue(r.parent.parent.ends[_]):W.queue("nothing to the left");break;case"Ctrl-Alt-Right":r.parent.parent&&r.parent.parent.ends&&r.parent.parent.ends[E]&&r.parent.parent.ends[E]instanceof C?W.queue(r.parent.parent.ends[E]):W.queue("nothing to the right");break;case"Ctrl-Alt-Shift-Down":r.selection?W.queue(r.selection.join("mathspeak"," ").trim()+" selected"):W.queue("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":n.ariaPostLabel.length?W.queue(n.ariaPostLabel):W.queue("no answer");break;default:return}W.alert(),t.preventDefault(),n.scrollHoriz()},e.moveOutOf=e.moveTowards=e.deleteOutOf=e.deleteTowards=e.unselectInto=e.selectOutOf=e.selectTowards=function(){n("overridden or never called on this node")}}),O.open(function(e){function t(e,t){var n=e.notify("upDown").cursor,r=t+"Into",i=t+"OutOf";return n[E][r]?n.insAtLeftEnd(n[E][r]):n[_][r]?n.insAtRightEnd(n[_][r]):n.parent.bubble(function(e){var t=e[i];if(t&&("function"==typeof t&&(t=e[i](n)),t instanceof C&&n.jumpUpDown(e,t),!0!==t))return!1}),e}this.onNotify(function(e){"move"!==e&&"upDown"!==e||this.show().clearSelection()}),e.escapeDir=function(e,t,n){r(e);var i=this.cursor;if(i.parent!==this.root&&n.preventDefault(),i.parent!==this.root)return i.parent.moveOutOf(e,i),W.alert(),this.notify("move")},N.leftRightIntoCmdGoes=function(e){if(e&&"up"!==e&&"down"!==e)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+e+'"';return e},e.moveDir=function(e){r(e);var t=this.cursor,n=t.options.leftRightIntoCmdGoes;return t.selection?t.insDirOf(e,t.selection.ends[e]):t[e]?t[e].moveTowards(e,t,n):t.parent.moveOutOf(e,t,n),this.notify("move")},e.moveLeft=function(){return this.moveDir(_)},e.moveRight=function(){return this.moveDir(E)},e.moveUp=function(){return t(this,"up")},e.moveDown=function(){return t(this,"down")},this.onNotify(function(e){"upDown"!==e&&(this.upDownCache={})}),this.onNotify(function(e){"edit"===e&&this.show().deleteSelection()}),e.deleteDir=function(e){r(e);var t=this.cursor,n=t[e],i=t.parent.parent;if(n&&n instanceof C)n.sides?W.queue(n.parent.chToCmd(n.sides[-e].ch).mathspeak({createdLeftOf:t})):n.blocks||"\\text"===n.parent.ctrlSeq||W.queue(n);else if(i&&i instanceof C)if(i.sides)W.queue(i.parent.chToCmd(i.sides[e].ch).mathspeak({createdLeftOf:t}));else if(i.blocks&&i.mathspeakTemplate)if(i.upInto&&i.downInto)W.queue(i.mathspeakTemplate[1]);else{var o=i.mathspeakTemplate,s=e===_?o[0]:o[o.length-1];W.queue(s)}else W.queue(i);var a=t.selection;return this.notify("edit"),a||(t[e]?t[e].deleteTowards(e,t):t.parent.deleteOutOf(e,t)),t[_].siblingDeleted&&t[_].siblingDeleted(t.options,E),t[E].siblingDeleted&&t[E].siblingDeleted(t.options,_),t.parent.bubble(function(e){e.reflow()}),this},e.ctrlDeleteDir=function(e){r(e);var t=this.cursor;if(!t[e]||t.selection)return this.deleteDir(e);this.notify("edit");var n;return n=e===_?T(t.parent.ends[_],t[_]):T(t[E],t.parent.ends[E]),W.queue(n),n.remove(),t.insAtDirEnd(e,t.parent),t[_].siblingDeleted&&t[_].siblingDeleted(t.options,E),t[E].siblingDeleted&&t[E].siblingDeleted(t.options,_),t.parent.bubble(function(e){e.reflow()}),this},e.backspace=function(){return this.deleteDir(_)},e.deleteForward=function(){return this.deleteDir(E)},this.onNotify(function(e){"select"!==e&&this.endSelection()}),e.selectDir=function(e){var t=this.notify("select").cursor,n=t.selection;r(e),t.anticursor||t.startSelection();var i=t[e];i?n&&n.ends[e]===i&&t.anticursor[-e]!==i?i.unselectInto(e,t):i.selectTowards(e,t):t.parent.selectOutOf(e,t),t.clearSelection(),t.select()||t.show(),t.selection&&W.clear().queue(t.selection.join("mathspeak"," ").trim()+" selected")},e.selectLeft=function(){return this.selectDir(_)},e.selectRight=function(){return this.selectDir(E)}}),O.open(function(e){q.p.substituteTextarea=function(){return S("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true/>")[0]},e.createTextarea=function(){var e=this.textareaSpan=S('<span class="dcg-mq-textarea"></span>'),t=this.options.substituteTextarea();if(!t.nodeType)throw"substituteTextarea() must return a DOM element, got "+t;t=this.textarea=S(t).appendTo(e);var n=this;n.cursor.selectionChanged=function(){n.selectionChanged()}},e.selectionChanged=function(){var e=this;e.textareaSelectionTimeout===m&&(e.textareaSelectionTimeout=setTimeout(function(){e.setTextareaSelection()}))},e.setTextareaSelection=function(){this.textareaSelectionTimeout=m;var e="";this.cursor.selection&&(e=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(e="$"+e+"$")),this.selectFn(e)},e.staticMathTextareaEvents=function(){function e(){o.detach(),t.blurred=!0}var t=this,n=t.root,r=t.cursor,i=t.textarea,o=t.textareaSpan;this.container.prepend('<span aria-hidden="true" class="dcg-mq-selectable">$'+t.exportLatex()+"$</span>"),t.blurred=!0,i.bind("cut paste",!1),t.options.disableCopyPaste?i.bind("copy",!1):i.bind("copy",function(){t.setTextareaSelection()}),i.focus(function(){t.blurred=!1}).blur(function(){r.selection&&r.selection.clear(),setTimeout(e)}),t.selectFn=function(e){i.val(e),e&&i.select()};var s=t&&"Math Input"!==t.ariaLabel?t.ariaLabel+": ":"";t.container.attr("role","math").attr("aria-label",s+n.mathspeak().trim())},q.p.substituteKeyboardEvents=z,e.editablesTextareaEvents=function(){var e=this,t=e.textarea,n=e.textareaSpan,r=this.options.substituteKeyboardEvents(t,this);this.selectFn=function(e){r.select(e)},this.container.prepend(n),this.focusBlurEvents()},e.typedText=function(e){if("\n"===e)return this.handle("enter");var t=this.notify().cursor;t.parent.write(t,e),this.scrollHoriz()},e.cut=function(){var e=this,t=e.cursor;t.selection&&setTimeout(function(){e.notify("edit"),t.parent.bubble(function(e){e.reflow()}),e.options&&e.options.onCut&&e.options.onCut()})},e.copy=function(){this.setTextareaSelection()},e.paste=function(e){this.options.statelessClipboard&&(e="$"===e.slice(0,1)&&"$"===e.slice(-1)?e.slice(1,-1):"\\text{"+e+"}"),this.writeLatex(e).cursor.show(),this.scrollHoriz(),this.options&&this.options.onPaste&&this.options.onPaste()}});var H=function(){function e(e){var t=J();return e.adopt(t,0,0),t}function t(e){for(var t=e[0]||J(),n=1;n<e.length;n+=1)e[n].children().adopt(t,t.ends[E],0);return t}var n=G.string,r=G.regex,i=G.letter,o=G.any,s=G.optWhitespace,a=G.succeed,l=G.fail,c=i.map(function(e){return re(e)}),u=r(/^[^${}\\_^]/).map(function(e){return Q(e)}),d=r(/^[^\\a-eg-zA-Z]/).or(n("\\").then(r(/^[a-z]+/i).or(r(/^\s+/).result(" ")).or(o))).then(function(e){var t=P[e];return t?t(e).parser():l("unknown command: \\"+e)}),p=d.or(c).or(u),h=n("{").then(function(){return g}).skip(n("}")),f=s.then(h.or(p.map(e))),g=f.many().map(t).skip(s),m=n("[").then(f.then(function(e){return"]"!==e.join("latex")?a(e):l()}).many().map(t).skip(s)).skip(n("]")),y=g;return y.block=f,y.optBlock=m,y}();O.open(function(e,t){e.cleanLatex=function(e){return e.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},e.exportLatex=function(){return this.cleanLatex(this.root.latex())},e.writeLatex=function(e){var t=this.notify("edit").cursor,n=G.all,r=G.eof,i=H.skip(r).or(n.result(!1)).parse(e);if(i&&!i.isEmpty()){i.children().adopt(t.parent,t[_],t[E]);i.jQize().insertBefore(t.jQ),t[_]=i.ends[E],i.finalizeInsert(t.options,t),i.ends[E][E].siblingCreated&&i.ends[E][E].siblingCreated(t.options,_),i.ends[_][_].siblingCreated&&i.ends[_][_].siblingCreated(t.options,E),t.parent.bubble(function(e){e.reflow()})}return this},e.classifyLatexForEfficientUpdate=function(e){if("string"==typeof e){var t=e.match(/-?[0-9.]+$/g);return t&&1===t.length?{latex:e,prefix:e.substr(0,e.length-t[0].length),digits:t[0]}:void 0}},e.renderLatexMathEfficiently=function(e){var t,n,r=this.classifyLatexForEfficientUpdate(e);if(!r)return!1;if(t=this.exportLatex(),!(n=this.classifyLatexForEfficientUpdate(t))||n.prefix!==r.prefix)return!1;var i=this.root,o=n.digits,s=r.digits,a=!1,l=!1;"-"===o[0]&&(a=!0,o=o.substr(1)),"-"===s[0]&&(l=!0,s=s.substr(1));for(var c=this.root.ends[E],u=[],d=o.length-1;d>=0;d--){if(c.ctrlSeq!==o[d])return!1;if(c.parent!==i)return!1;u.unshift(c),c=c[_]}if(a&&!l){var p=c;if("-"!==p.ctrlSeq)return!1;if(p[E]!==u[0])return!1;if(p.parent!==i)return!1;if(p[_]&&p[_].parent!==i)return!1;u[0][_]=p[_],i.ends[_]===p&&(i.ends[_]=u[0]),p[_]&&(p[_][E]=u[0]),p.jQ.remove()}if(!a&&l){var h=de("-"),f=document.createElement("span");f.textContent="-",h.jQ=S(f),u[0][_]&&(u[0][_][E]=h),i.ends[_]===u[0]&&(i.ends[_]=h),h.parent=i,h[_]=u[0][_],h[E]=u[0],u[0][_]=h,h.contactWeld(),h.jQ.insertBefore(u[0].jQ)}var g=Math.min(o.length,s.length);for(d=0;d<g;d++){var m=s[d];c=u[d],c.ctrlSeq!==m&&(c.ctrlSeq=m,c.jQ[0].textContent=m,c.mathspeakName=m)}if(o.length>s.length)for(c=u[s.length-1],i.ends[E]=c,c[E]=0,d=o.length-1;d>=g;d--)u[d].jQ.remove();if(s.length>o.length){var y=document.createDocumentFragment();for(d=g;d<s.length;d++){var v=document.createElement("span");v.textContent=s[d];var b=te(s[d]);b.parent=i,b.jQ=S(v),y.appendChild(v),b[_]=i.ends[E],b[E]=0,b[_][E]=b,i.ends[E]=b}i.jQ[0].appendChild(y)}var x=this.exportLatex();return x!==e?(console.warn("tried updating latex efficiently but did not work. Attempted: "+e+" but wrote: "+x),!1):(this.cursor.resetToEnd(this),!0)},e.renderLatexMathFromScratch=function(e){var t=this.root,n=this.cursor,r=G.all,i=G.eof,o=H.skip(i).or(r.result(!1)).parse(e);t.ends[_]=t.ends[E]=0,o&&o.children().adopt(t,0,0);var s=t.jQ;if(o){var a=o.join("html");s.html(a),t.jQize(s.children()),t.finalizeInsert(n.options)}else s.empty();var l=this.ariaLabel&&"Math Input"!==this.ariaLabel?this.ariaLabel+": ":"";this.container.attr("aria-label",l+t.mathspeak().trim()),delete n.selection,n.insAtRightEnd(t)},e.renderLatexMath=function(e){this.notify("replace"),this.renderLatexMathEfficiently(e)||this.renderLatexMathFromScratch(e)},e.renderLatexText=function(e){var t=this.root,n=this.cursor;t.jQ.children().slice(1).remove(),t.ends[_]=t.ends[E]=0,delete n.selection,n.show().insAtRightEnd(t);var r=G.regex,i=G.string,o=G.eof,s=G.all,a=i("$").then(H).skip(i("$").or(o)).map(function(e){var t=RootMathCommand(n);t.createBlocks();var r=t.ends[_];return e.children().adopt(r,0,0),t}),l=i("\\$").result("$"),c=l.or(r(/^[^$]/)).map(Q),u=a.or(c).many(),d=u.skip(o).or(s.result(!1)).parse(e);if(d){for(var p=0;p<d.length;p+=1)d[p].adopt(t,t.ends[E],0);t.jQize().appendTo(t.jQ),t.finalizeInsert(n.options)}}}),O.open(function(e){e.setOverflowClasses=function(){var e=this.root.jQ[0],t=!1,n=!1;if(!this.blurred){var r=e.getBoundingClientRect().width,i=e.scrollWidth,o=e.scrollLeft
;t=i>r+o,n=o>0}e.classList.contains("dcg-mq-editing-overflow-right")!==t&&e.classList.toggle("dcg-mq-editing-overflow-right"),e.classList.contains("dcg-mq-editing-overflow-left")!==n&&e.classList.toggle("dcg-mq-editing-overflow-left")},e.scrollHoriz=function(){var e=this.cursor,t=e.selection,n=this.root.jQ[0].getBoundingClientRect();if(!e.jQ[0]&&!t)return void this.root.jQ.stop().animate({scrollLeft:0},100,function(){this.setOverflowClasses()}.bind(this));if(t){var r=t.jQ[0].getBoundingClientRect(),i=r.left-(n.left+20),o=r.right-(n.right-20);if(t.ends[_]===e[E])if(i<0)var s=i;else{if(!(o>0))return;if(r.left-o<n.left+20)var s=i;else var s=o}else if(o>0)var s=o;else{if(!(i<0))return;if(r.right-i>n.right-20)var s=o;else var s=i}}else{var a=e.jQ[0].getBoundingClientRect().left;if(a>n.right-20)var s=a-(n.right-20);else{if(!(a<n.left+20))return;var s=a-(n.left+20)}}var l=this.root.jQ[0];s<0&&0===l.scrollLeft||s>0&&l.scrollWidth<=l.scrollLeft+n.width||this.root.jQ.stop().animate({scrollLeft:"+="+s},100,function(){this.setOverflowClasses()}.bind(this))}});var K=w(function(e){e.init=function(){this.jQ=y([]),y(document).ready(function(){var e=".dcg-mq-aria-alert";y(e).length||y("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-mq-aria-alert'></p>"),this.jQ=y(e)}.bind(this)),this.items=[],this.msg=""},e.queue=function(e,t){return e instanceof C&&(e=t?e.parent&&e.parent.ariaLabel&&"block"===e.ariaLabel?e.parent.ariaLabel+" "+e.mathspeak():e.ariaLabel?e.ariaLabel+" "+e.mathspeak():e.mathspeak():e.mathspeak()),this.items.push(e),this},e.queueDirOf=function(e){return r(e),this.queue(e===_?"before":"after")},e.queueDirEndOf=function(e){return r(e),this.queue(e===_?"beginning of":"end of")},e.alert=function(e){return e&&this.queue(e),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.jQ.empty().text(this.msg)),this.clear()},e.clear=function(){return this.items.length=0,this}}),W=K();O.open(function(e){e.aria=W,e.exportMathSpeak=function(){return this.root.mathspeak()}});var Y=w(C,function(e,t){e.finalizeInsert=function(e,t){var n=this;n.postOrder(function(t){t.finalizeTree(e)}),n.postOrder(function(e){e.contactWeld(t)}),n.postOrder(function(e){e.blur()}),n.postOrder(function(e){e.reflow()}),n[E].siblingCreated&&n[E].siblingCreated(e,_),n[_].siblingCreated&&n[_].siblingCreated(e,E),n.bubble(function(e){e.reflow()})}}),X=w(Y,function(e,t){e.init=function(e,n,r){var i=this;t.init.call(i),i.ctrlSeq||(i.ctrlSeq=e),n&&(i.htmlTemplate=n),r&&(i.textTemplate=r)},e.replaces=function(e){e.disown(),this.replacedFragment=e},e.isEmpty=function(){return this.foldChildren(!0,function(e,t){return e&&t.isEmpty()})},e.parser=function(){var e=H.block,t=this;return e.times(t.numBlocks()).map(function(e){t.blocks=e;for(var n=0;n<e.length;n+=1)e[n].adopt(t,t.ends[E],0);return t})},e.createLeftOf=function(e){var n=this,r=n.replacedFragment;n.createBlocks(),t.createLeftOf.call(n,e),r&&(r.adopt(n.ends[_],0,0),r.jQ.appendTo(n.ends[_].jQ)),n.finalizeInsert(e.options),n.placeCursor(e)},e.createBlocks=function(){for(var e=this,t=e.numBlocks(),n=e.blocks=Array(t),r=0;r<t;r+=1){(n[r]=J()).adopt(e,e.ends[E],0)}},e.placeCursor=function(e){e.insAtRightEnd(this.foldChildren(this.ends[_],function(e,t){return e.isEmpty()?e:t}))},e.moveTowards=function(e,t,n){var r=n&&this[n+"Into"];t.insAtDirEnd(-e,r||this.ends[-e]),W.queueDirEndOf(-e).queue(t.parent,!0)},e.deleteTowards=function(e,t){this.isEmpty()?t[e]=this.remove()[e]:this.moveTowards(e,t,null)},e.selectTowards=function(e,t){t[-e]=this,t[e]=this[e]},e.selectChildren=function(){return L(this,this)},e.unselectInto=function(e,t){t.insAtDirEnd(-e,t.anticursor.ancestors[this.id])},e.seek=function(e,t){function n(e){var t={};return t[_]=e.jQ.offset().left,t[E]=t[_]+e.jQ.outerWidth(),t}var r=this,i=n(r);if(e<i[_])return t.insLeftOf(r);if(e>i[E])return t.insRightOf(r);var o=i[_];r.eachChild(function(s){var a=n(s);return e<a[_]?(e-o<a[_]-e?s[_]?t.insAtRightEnd(s[_]):t.insLeftOf(r):t.insAtLeftEnd(s),!1):e>a[E]?void(s[E]?o=a[E]:i[E]-e<e-a[E]?t.insRightOf(r):t.insAtRightEnd(s)):(s.seek(e,t),!1)})},e.numBlocks=function(){var e=this.htmlTemplate.match(/&\d+/g);return e?e.length:0},e.html=function(){var e=this,t=e.blocks,r=" mathquill-command-id="+e.id,i=e.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);n("no unmatched angle brackets",i.join("")===this.htmlTemplate);for(var o=0,s=i[0];s;o+=1,s=i[o])if("/>"===s.slice(-2))i[o]=s.slice(0,-2)+r+' aria-hidden="true"/>';else if("<"===s.charAt(0)){n("not an unmatched top-level close tag","/"!==s.charAt(1)),i[o]=s.slice(0,-1)+r+' aria-hidden="true">';var a=1;do{o+=1,s=i[o],n("no missing close tags",s),"</"===s.slice(0,2)?a-=1:"<"===s.charAt(0)&&"/>"!==s.slice(-2)&&(a+=1)}while(a>0)}return i.join("").replace(/>&(\d+)/g,function(e,n){return" mathquill-block-id="+t[n].id+' aria-hidden="true">'+t[n].join("html")})},e.latex=function(){return this.foldChildren(this.ctrlSeq,function(e,t){return e+"{"+(t.latex()||" ")+"}"})},e.textTemplate=[""],e.text=function(){var e=this,t=0;return e.foldChildren(e.textTemplate[t],function(n,r){t+=1;var i=r.text();return n&&"("===e.textTemplate[t]&&"("===i[0]&&")"===i.slice(-1)?n+i.slice(1,-1)+e.textTemplate[t]:n+i+(e.textTemplate[t]||"")})},e.mathspeakTemplate=[],e.mathspeak=function(){var e=this,t=0;return e.foldChildren(e.mathspeakTemplate[t]||"Start"+e.ctrlSeq+" ",function(n,r){return t+=1,n+" "+r.mathspeak()+" "+(e.mathspeakTemplate[t]+" "||"End"+e.ctrlSeq+" ")})}}),$=w(X,function(t,n){t.init=function(e,t,r,i){r||(r=e&&e.length>1?e.slice(1):e),this.mathspeakName=i||r,n.init.call(this,e,t,[r])},t.parser=function(){return G.succeed(this)},t.numBlocks=function(){return 0},t.replaces=function(e){e.remove()},t.createBlocks=e,t.moveTowards=function(e,t){t.jQ.insDirOf(e,this.jQ),t[-e]=this,t[e]=this[e],W.queue(this)},t.deleteTowards=function(e,t){t[e]=this.remove()[e]},t.seek=function(e,t){e-this.jQ.offset().left<this.jQ.outerWidth()/2?t.insLeftOf(this):t.insRightOf(this)},t.latex=function(){return this.ctrlSeq},t.text=function(){return this.textTemplate.join("")},t.mathspeak=function(){return this.mathspeakName},t.placeCursor=e,t.isEmpty=function(){return!0}}),Q=w($,function(e,t){e.init=function(e,n,r){t.init.call(this,e,"<span>"+(n||e)+"</span>",m,r)}}),Z=w($,function(e,t){e.init=function(e,n,r,i){t.init.call(this,e,'<span class="dcg-mq-binary-operator">'+n+"</span>",r,i)}}),J=w(Y,function(e,t){e.join=function(e){return this.foldChildren("",function(t,n){return t+n[e]()})},e.html=function(){return this.join("html")},e.latex=function(){return this.join("latex")},e.text=function(){return this.ends[_]===this.ends[E]&&0!==this.ends[_]?this.ends[_].text():this.join("text")},e.mathspeak=function(){var e="",t={};return this.controller&&(t=this.controller.options.autoOperatorNames),this.foldChildren([],function(n,r){if(r.isPartOfOperator)e+=r.mathspeak();else{if(""!==e){if(t!=={}&&t._maxLength>0){var i=t[e.toLowerCase()];"string"==typeof i&&(e=i)}n.push(e+" "),e=""}var o=r.mathspeak(),s=r.ctrlSeq;isNaN(s)&&(o=" "+o,"."!==s&&(o+=" ")),n.push(o)}return n}).join("").replace(/ +(?= )/g,"")},e.ariaLabel="block",e.keystroke=function(e,n,r){return!r.options.spaceBehavesLikeTab||"Spacebar"!==e&&"Shift-Spacebar"!==e?t.keystroke.apply(this,arguments):(n.preventDefault(),void r.escapeDir("Shift-Spacebar"===e?_:E,e,n))},e.moveOutOf=function(e,t,n){n&&this.parent[n+"Into"]||!this[e]?(t.insDirOf(e,this.parent),W.queueDirOf(e).queue(this.parent)):(t.insAtDirEnd(-e,this[e]),W.queueDirEndOf(-e).queue(t.parent,!0))},e.selectOutOf=function(e,t){t.insDirOf(e,this.parent)},e.deleteOutOf=function(e,t){t.unwrapGramp()},e.seek=function(e,t){var n=this.ends[E];if(!n||n.jQ.offset().left+n.jQ.outerWidth()<e)return t.insAtRightEnd(this);if(e<this.ends[_].jQ.offset().left)return t.insAtLeftEnd(this);for(;e<n.jQ.offset().left;)n=n[_];return n.seek(e,t)},e.chToCmd=function(e,t){var n;return e.match(/^[a-eg-zA-Z]$/)?re(e):/^\d$/.test(e)?te(e):t&&t.typingSlashWritesDivisionSymbol&&"/"===e?P["÷"](e):t&&t.typingAsteriskWritesTimesSymbol&&"*"===e?P["×"](e):t&&t.typingPercentWritesPercentOf&&"%"===e?P.percentof(e):(n=D[e]||P[e])?n(e):Q(e)},e.write=function(e,t){var n=this.chToCmd(t,e.options);e.selection&&n.replaces(e.replaceSelection()),n.createLeftOf(e.show()),"/"===t?W.alert("over"):W.alert(n.mathspeak({createdLeftOf:e}))},e.focus=function(){return this.jQ.addClass("dcg-mq-hasCursor"),this.jQ.removeClass("dcg-mq-empty"),this},e.blur=function(){return this.jQ.removeClass("dcg-mq-hasCursor"),this.isEmpty()&&(this.jQ.addClass("dcg-mq-empty"),this.isEmptyParens()&&this.jQ.addClass("dcg-mq-empty-parens")),this}});F.StaticMath=function(e){return w(e.AbstractMathQuill,function(t,n){this.RootBlock=J,t.__mathquillify=function(e,t){return this.config(e),n.__mathquillify.call(this,"dcg-mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},t.init=function(){n.init.apply(this,arguments);var t=this.innerFields=[];this.__controller.root.postOrder(function(n){n.registerInnerField(t,e.MathField)})},t.latex=function(){var t=n.latex.apply(this,arguments);if(arguments.length>0){var r=this.innerFields=[];this.__controller.root.postOrder(function(t){t.registerInnerField(r,e.MathField)})}return t},t.setAriaLabel=function(e){this.__controller.ariaLabel="string"==typeof e?e:"";var t="Math Input"!==this.__controller.ariaLabel?this.__controller.ariaLabel+": ":"";return this.__controller.container.attr("aria-label",t+this.__controller.root.mathspeak().trim()),this},t.getAriaLabel=function(){return this.__controller.ariaLabel||""}})};var ee=w(J,p);F.MathField=function(t){return w(t.EditableField,function(t,n){this.RootBlock=ee,t.__mathquillify=function(t,r){return this.config(t),r>1&&(this.__controller.root.reflow=e),n.__mathquillify.call(this,"dcg-mq-editable-field dcg-mq-math-mode"),delete this.__controller.root.reflow,this}})};var te=w(Q,function(e,t){e.createLeftOf=function(e){e.options.autoSubscriptNumerals&&e.parent!==e.parent.parent.sub&&(e[_]instanceof ne&&!1!==e[_].isItalic||e[_]instanceof ve&&e[_][_]instanceof ne&&!1!==e[_][_].isItalic)?(P._().createLeftOf(e),t.createLeftOf.call(this,e),e.insRightOf(e.parent.parent)):t.createLeftOf.call(this,e)},e.mathspeak=function(e){if(e&&e.createdLeftOf){var n=e.createdLeftOf;if(n.options.autoSubscriptNumerals&&n.parent!==n.parent.parent.sub&&(n[_]instanceof ne&&!1!==n[_].isItalic||n[_]instanceof ve&&n[_][_]instanceof ne&&!1!==n[_][_].isItalic))return"Subscript "+t.mathspeak.call(this)+" Baseline"}return t.mathspeak.apply(this,arguments)}}),ne=w($,function(e,t){e.init=function(e,n){t.init.call(this,e,"<var>"+(n||e)+"</var>")},e.text=function(){var e=this.ctrlSeq;return this.isPartOfOperator?"\\"==e[0]?e=e.slice(1,e.length):" "==e[e.length-1]&&(e=e.slice(0,-1)):(!this[_]||this[_]instanceof ne||this[_]instanceof Z||"\\ "===this[_].ctrlSeq||(e="*"+e),!this[E]||this[E]instanceof Z||this[E]instanceof ve||(e+="*")),e},e.mathspeak=function(){var e=this.ctrlSeq;return this.isPartOfOperator||1!==e.length?t.mathspeak.call(this):'"'+e+'"'}});q.p.autoCommands={_maxLength:0},N.autoCommands=function(e){if(!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var o=t[i];if(o.length<2)throw'autocommand "'+o+'" not minimum length of 2';if(P[o]===ae)throw'"'+o+'" is a built-in operator name';n[o]=1,r=b(r,o.length)}return n._maxLength=r,n},q.p.autoParenthesizedFunctions={_maxLength:0},N.autoParenthesizedFunctions=function(e){if(!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var o=t[i];if(o.length<2)throw'autocommand "'+o+'" not minimum length of 2';n[o]=1,r=b(r,o.length)}return n._maxLength=r,n};var re=w(ne,function(e,t){function n(e){return!e||("."===e.ctrlSeq||(e instanceof Z||e instanceof be))}e.init=function(e){return t.init.call(this,this.letter=e)},e.checkAutoCmds=function(e){var t=e.options.autoCommands,n=t._maxLength;if(n>0){for(var r="",i=this,o=0;i instanceof re&&i.ctrlSeq===i.letter&&o<n;)r=i.letter+r,i=i[_],o+=1;for(;r.length;){if(t.hasOwnProperty(r)){for(var o=1,i=this;o<r.length;o+=1,i=i[_]);return T(i,this).remove(),e[_]=i[_],P[r](r).createLeftOf(e)}r=r.slice(1)}}},e.autoParenthesize=function(e){var t=e.parent.ends[E];if(!(t&&t instanceof Me&&"\\left("===t.ctrlSeq)){for(var n="",r=this,i=0,o=e.options.autoParenthesizedFunctions,s=o._maxLength,a=e.options.autoOperatorNames;r instanceof re&&i<s;)n=r.letter+n,r=r[_],i+=1;for(;n.length;){if(o.hasOwnProperty(n)&&a.hasOwnProperty(n))return e.parent.write(e,"(");n=n.slice(1)}}},e.createLeftOf=function(e){t.createLeftOf.apply(this,arguments),this.checkAutoCmds(e),this.autoParenthesize(e)},e.italicize=function(e){return this.isItalic=e,this.isPartOfOperator=!e,this.jQ.toggleClass("dcg-mq-operator-name",!e),this},e.finalizeTree=e.siblingDeleted=e.siblingCreated=function(e,t){t!==_&&this[E]instanceof re||this.autoUnItalicize(e)},e.autoUnItalicize=function(e){var t=e.autoOperatorNames;if(0!==t._maxLength){for(var r=this.letter,i=this[_];i instanceof re;i=i[_])r=i.letter+r;for(var o=this[E];o instanceof re;o=o[E])r+=o.letter;T(i[E]||this.parent.ends[_],o[_]||this.parent.ends[E]).each(function(e){e.italicize(!0).jQ.removeClass("dcg-mq-first dcg-mq-last dcg-mq-followed-by-supsub"),e.ctrlSeq=e.letter});e:for(var s=0,a=i[E]||this.parent.ends[_];s<r.length;s+=1,a=a[E])for(var l=v(t._maxLength,r.length-s);l>0;l-=1){var c=r.slice(s,s+l);if(t.hasOwnProperty(c)){for(var u=0,d=a;u<l;u+=1,d=d[E]){d.italicize(!1);var p=d}var h=ie.hasOwnProperty(c);if(a.ctrlSeq=(h?"\\":"\\operatorname{")+a.ctrlSeq,p.ctrlSeq+=h?" ":"}",se.hasOwnProperty(c)&&p[_][_][_].jQ.addClass("dcg-mq-last"),n(a[_])||a.jQ.addClass("dcg-mq-first"),!n(p[E]))if(p[E]instanceof ve){var f=p[E],g=f.siblingCreated=f.siblingDeleted=function(){f.jQ.toggleClass("dcg-mq-after-operator-name",!(f[E]instanceof Me))};g()}else p.jQ.toggleClass("dcg-mq-last",!(p[E]instanceof Me));s+=l-1,a=p;continue e}}}}}),ie={},oe=q.p.autoOperatorNames={_maxLength:9},se={limsup:1,liminf:1,projlim:1,injlim:1};!function(){for(var e="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),t=0;t<e.length;t+=1)ie[e[t]]=oe[e[t]]=1;for(var n="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "),t=0;t<n.length;t+=1)ie[n[t]]=1;for(var r="sin cos tan sec cosec csc cotan cot ctg".split(" "),t=0;t<r.length;t+=1)oe[r[t]]=oe["arc"+r[t]]=oe[r[t]+"h"]=oe["ar"+r[t]+"h"]=oe["arc"+r[t]+"h"]=1;for(var i="gcf hcf lcm proj span".split(" "),t=0;t<i.length;t+=1)oe[i[t]]=1}(),N.autoOperatorNames=function(e){if("string"!=typeof e)throw'"'+e+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of letters or "|"';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var o=t[i];if(o.length<2)throw'"'+o+'" not minimum length of 2';if(o.indexOf("|")<0)n[o]=o,r=b(r,o.length);else{var s=o.split("|");if(s.length>2)throw'"'+o+'" has more than 1 mathspeak delimiter';if(s[0].length<2)throw'"'+o[0]+'" not minimum length of 2';n[s[0]]=s[1].replace(/-/g," "),r=b(r,s[0].length)}}return n._maxLength=r,n};var ae=w($,function(e,t){e.init=function(e){this.ctrlSeq=e},e.createLeftOf=function(e){for(var t=this.ctrlSeq,n=0;n<t.length;n+=1)re(t.charAt(n)).createLeftOf(e)},e.parser=function(){for(var e=this.ctrlSeq,t=J(),n=0;n<e.length;n+=1)re(e.charAt(n)).adopt(t,t.ends[E],0);return G.succeed(t.children())}});for(var le in oe)oe.hasOwnProperty(le)&&(P[le]=ae);P.operatorname=w(X,function(t){t.createLeftOf=e,t.numBlocks=function(){return 1},t.parser=function(){return H.block.map(function(e){var t=!0,n="",r=e.children();return r.each(function(e){e instanceof re?n+=e.letter:t=!1}),t&&"ans"===n?P[n](n):r})}}),P.f=w(re,function(e,t){e.init=function(){$.p.init.call(this,this.letter="f",'<var class="dcg-mq-f">f</var>')},e.italicize=function(e){return this.jQ.html("f").toggleClass("dcg-mq-f",e),t.italicize.apply(this,arguments)}}),P[" "]=P.space=t(Q,"\\ ","&nbsp;","space"),P["'"]=P.prime=t(Q,"'","&prime;","prime"),P["″"]=P.dprime=t(Q,"″","&Prime;","double prime"),P.backslash=t(Q,"\\backslash ","\\","backslash"),D["\\"]||(D["\\"]=P.backslash),P.$=t(Q,"\\$","$","dollar"),P.square=t(Q,"\\square ","□","square"),P.mid=t(Q,"\\mid ","∣","mid");var ce=w($,function(e,t){e.init=function(e,n){t.init.call(this,e,'<span class="dcg-mq-nonSymbola">'+(n||e)+"</span>")}});P["@"]=ce,P["&"]=t(ce,"\\&","&amp;","and"),P["%"]=w(ce,function(e,t){e.init=function(){t.init.call(this,"\\%","%","percent")},e.parser=function(){var e=G.optWhitespace,n=G.string;return e.then(n("\\operatorname{of}").map(function(){return P.percentof()})).or(t.parser.call(this))}}),P["∥"]=P.parallel=t(Q,"\\parallel ","&#x2225;","parallel"),P["∦"]=P.nparallel=t(Q,"\\nparallel ","&#x2226;","not parallel"),P["⟂"]=P.perp=t(Q,"\\perp ","&#x27C2;","perpendicular"),P.alpha=P.beta=P.gamma=P.delta=P.zeta=P.eta=P.theta=P.iota=P.kappa=P.mu=P.nu=P.xi=P.rho=P.sigma=P.tau=P.chi=P.psi=P.omega=w(ne,function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}}),P.phi=t(ne,"\\phi ","&#981;","phi"),P.phiv=P.varphi=t(ne,"\\varphi ","&phi;","phi"),P.epsilon=t(ne,"\\epsilon ","&#1013;","epsilon"),P.epsiv=P.varepsilon=t(ne,"\\varepsilon ","&epsilon;","epsilon"),P.piv=P.varpi=t(ne,"\\varpi ","&piv;","piv"),P.sigmaf=P.sigmav=P.varsigma=t(ne,"\\varsigma ","&sigmaf;","sigma"),P.thetav=P.vartheta=P.thetasym=t(ne,"\\vartheta ","&thetasym;","theta"),P.upsilon=P.upsi=t(ne,"\\upsilon ","&upsilon;","upsilon"),P.gammad=P.Gammad=P.digamma=t(ne,"\\digamma ","&#989;","gamma"),P.kappav=P.varkappa=t(ne,"\\varkappa ","&#1008;","kappa"),P.rhov=P.varrho=t(ne,"\\varrho ","&#1009;","rho"),P.pi=P["π"]=t(ce,"\\pi ","&pi;","pi"),P.lambda=t(ce,"\\lambda ","&lambda;","lambda"),P.Upsilon=P.Upsi=P.upsih=P.Upsih=t($,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>',"capital upsilon"),P.Gamma=P.Delta=P.Theta=P.Lambda=P.Xi=P.Pi=P.Sigma=P.Phi=P.Psi=P.Omega=P.forall=w(Q,function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}});var ue=w(X,function(e){e.init=function(e){this.latex=e},e.createLeftOf=function(e){var t=H.parse(this.latex);t.children().adopt(e.parent,e[_],e[E]),e[_]=t.ends[E],t.jQize().insertBefore(e.jQ),t.finalizeInsert(e.options,e),t.ends[E][E].siblingCreated&&t.ends[E][E].siblingCreated(e.options,_),t.ends[_][_].siblingCreated&&t.ends[_][_].siblingCreated(e.options,E),e.parent.bubble(function(e){e.reflow()})},e.mathspeak=function(){return H.parse(this.latex).mathspeak()},e.parser=function(){var e=H.parse(this.latex).children();return G.succeed(e)}});P["⁰"]=t(ue,"^0"),P["¹"]=t(ue,"^1"),P["²"]=t(ue,"^2"),P["³"]=t(ue,"^3"),P["⁴"]=t(ue,"^4"),P["⁵"]=t(ue,"^5"),P["⁶"]=t(ue,"^6"),P["⁷"]=t(ue,"^7"),P["⁸"]=t(ue,"^8"),P["⁹"]=t(ue,"^9"),P["¼"]=t(ue,"\\frac14"),P["½"]=t(ue,"\\frac12"),P["¾"]=t(ue,"\\frac34");var de=w(Z,function(e){e.init=Q.prototype.init,e.contactWeld=e.siblingCreated=e.siblingDeleted=function(e,t){function n(e){return e[_]?e[_]instanceof Z||/^(\\ )|[,;:\(\[]$/.test(e[_].ctrlSeq)?"":"dcg-mq-binary-operator":e.parent&&e.parent.parent&&e.parent.parent.isStyleBlock()?n(e.parent.parent):""}if(t!==E)return this.jQ[0].className=n(this),this}});P["+"]=t(de,"+","+","plus"),P["−"]=P["—"]=P["–"]=P["-"]=t(de,"-","&minus;","minus"),P["±"]=P.pm=P.plusmn=P.plusminus=t(de,"\\pm ","&plusmn;","plus-or-minus"),P.mp=P.mnplus=P.minusplus=t(de,"\\mp ","&#8723;","minus-or-plus"),D["*"]=P.sdot=P.cdot=t(Z,"\\cdot ","&middot;","*","times");var pe=w(Z,function(e,t){e.init=function(e,n){this.data=e,this.strict=n;var r=n?"Strict":"";t.init.call(this,e["ctrlSeq"+r],e["html"+r],e["text"+r],e["mathspeak"+r])},e.swap=function(e){this.strict=e;var t=e?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+t],this.jQ.html(this.data["html"+t]),this.textTemplate=[this.data["text"+t]],this.mathspeakName=this.data["mathspeak"+t]},e.deleteTowards=function(e,n){if(e===_&&!this.strict)return this.swap(!0),void this.bubble(function(e){e.reflow()});t.deleteTowards.apply(this,arguments)}}),he={ctrlSeq:"\\le ",html:"&le;",text:"≤",mathspeak:"less than or equal to",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<",mathspeakStrict:"less than"},fe={ctrlSeq:"\\ge ",html:"&ge;",text:"≥",mathspeak:"greater than or equal to",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">",mathspeakStrict:"greater than"};P["<"]=P.lt=t(pe,he,!0),P[">"]=P.gt=t(pe,fe,!0),P["≤"]=P.le=P.leq=t(pe,he,!1),P["≥"]=P.ge=P.geq=t(pe,fe,!1),P.infty=P.infin=P.infinity=t(Q,"\\infty ","&infin;","infinity"),P["≠"]=P.ne=P.neq=t(Z,"\\ne ","&ne;","not equal");var ge=w(Z,function(e,t){e.init=function(){t.init.call(this,"=","=","=","equals")},e.createLeftOf=function(e){if(e[_]instanceof pe&&e[_].strict)return e[_].swap(!1),void e[_].bubble(function(e){e.reflow()});t.createLeftOf.apply(this,arguments)}});P["="]=ge,P["×"]=P.times=t(Z,"\\times ","&times;","[x]","times"),P["÷"]=P.div=P.divide=P.divides=t(Z,"\\div ","&divide;","[/]","over"),D["~"]=P.sim=t(Z,"\\sim ","~","~","tilde");var me={sqrt:{html:'<svg preserveAspectRatio="none" viewBox="0 0 32 54"><path d="M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33" /></svg>'},"|":{width:".4em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M4.4 0 L4.4 54 L5.6 54 L5.6 0" /></svg>'},"[":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 11 24"><path d="M8 0 L3 0 L3 24 L8 24 L8 23 L4 23 L4 1 L8 1" /></svg>'},"]":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 11 24"><path d="M3 0 L8 0 L8 24 L3 24 L3 23 L7 23 L7 1 L3 1" /></svg>'},"(":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="3 0 106 186"><path d="M85 0 A61 101 0 0 0 85 186 L75 186 A75 101 0 0 1 75 0" /></svg>'},")":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="3 0 106 186"><path d="M24 0 A61 101 0 0 1 24 186 L34 186 A75 101 0 0 0 34 0" /></svg>'},"{":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="10 0 210 350"><path d="M170 0 L170 6 A47 52 0 0 0 123 60 L123 127 A35 48 0 0 1 88 175 A35 48 0 0 1 123 223 L123 290 A47 52 0 0 0 170 344 L170 350 L160 350 A58 49 0 0 1 102 301 L103 220 A45 40 0 0 0 58 180 L58 170 A45 40 0 0 0 103 130 L103 49 A58 49 0 0 1 161 0" /></svg>'},"}":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="10 0 210 350"><path d="M60 0 L60 6 A47 52 0 0 1 107 60 L107 127 A35 48 0 0 0 142 175 A35 48 0 0 0 107 223 L107 290 A47 52 0 0 1 60 344 L60 350 L70 350 A58 49 0 0 0 128 301 L127 220 A45 40 0 0 1 172 180 L172 170 A45 40 0 0 1 127 130 L127 49 A58 49 0 0 0 70 0" /></svg>'},"&#8741;":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M3.2 0 L3.2 54 L4 54 L4 0 M6.8 0 L6.8 54 L6 54 L6 0" /></svg>'},"&lang;":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M6.8 0 L3.2 27 L6.8 54 L7.8 54 L4.2 27 L7.8 0" /></svg>'},"&rang;":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M3.2 0 L6.8 27 L3.2 54 L2.2 54 L5.8 27 L2.2 0" /></svg>'}},ye=w(X,function(e,t){e.init=function(e,n,r){t.init.call(this,e,"<"+n+" "+r+">&0</"+n+">")}});P.mathrm=t(ye,"\\mathrm","span",'class="dcg-mq-roman dcg-mq-font"'),P.mathit=t(ye,"\\mathit","i",'class="dcg-mq-font"'),P.mathbf=t(ye,"\\mathbf","b",'class="dcg-mq-font"'),P.mathsf=t(ye,"\\mathsf","span",'class="dcg-mq-sans-serif dcg-mq-font"'),P.mathtt=t(ye,"\\mathtt","span",'class="dcg-mq-monospace dcg-mq-font"'),P.underline=t(ye,"\\underline","span",'class="dcg-mq-non-leaf dcg-mq-underline"'),P.overline=P.bar=t(ye,"\\overline","span",'class="dcg-mq-non-leaf dcg-mq-overline"'),P.overrightarrow=t(ye,"\\overrightarrow","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-right"'),P.overleftarrow=t(ye,"\\overleftarrow","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-left"'),P.overleftrightarrow=t(ye,"\\overleftrightarrow ","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-leftright"'),P.overarc=t(ye,"\\overarc","span",'class="dcg-mq-non-leaf dcg-mq-overarc"');var ve=(P.textcolor=w(X,function(e,t){e.setColor=function(e){this.color=e,this.htmlTemplate='<span class="dcg-mq-textcolor" style="color:'+e+'">&0</span>'},e.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},e.parser=function(){var e=this,n=G.optWhitespace,r=G.string,i=G.regex;return n.then(r("{")).then(i(/^[#\w\s.,()%-]*/)).skip(r("}")).then(function(n){return e.setColor(n),t.parser.call(e)})},e.isStyleBlock=function(){return!0}}),P.class=w(X,function(e,t){e.parser=function(){var e=this,n=G.string,r=G.regex;return G.optWhitespace.then(n("{")).then(r(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then(function(n){return e.cls=n||"",e.htmlTemplate='<span class="dcg-mq-class '+n+'">&0</span>',t.parser.call(e)})},e.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},e.isStyleBlock=function(){return!0}}),w(X,function(e,t){e.ctrlSeq="_{...}^{...}",e.createLeftOf=function(e){if(this.replacedFragment||e[_]||!e.options.supSubsRequireOperand)return t.createLeftOf.apply(this,arguments)},e.contactWeld=function(e){for(var t=_;t;t=t===_&&E)if(this[t]instanceof ve){for(var n="sub";n;n="sub"===n&&"sup"){var r=this[n],i=this[t][n];if(r){if(i)if(r.isEmpty())var o=M(i,0,i.ends[_]);else{r.jQ.children().insAtDirEnd(-t,i.jQ);var s=r.children().disown(),o=M(i,s.ends[E],i.ends[_]);t===_?s.adopt(i,i.ends[E],0):s.adopt(i,0,i.ends[_])}else this[t].addBlock(r.disown());this.placeCursor=function(e,n){return function(r){r.insAtDirEnd(-t,e||n)}}(i,r)}}this.remove(),e&&e[_]===this&&(t===E&&o?o[_]?e.insRightOf(o[_]):e.insAtLeftEnd(o.parent):e.insRightOf(this[t]));break}},q.p.charsThatBreakOutOfSupSub="",e.finalizeTree=function(){this.ends[_].write=function(e,t){if(e.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===t)return;var n=this.chToCmd(t,e.options);return n instanceof $?e.deleteSelection():e.clearSelection().insRightOf(this.parent),n.createLeftOf(e.show()),void W.queue("Baseline").alert(n.mathspeak({createdLeftOf:e}))}e[_]&&!e[E]&&!e.selection&&e.options.charsThatBreakOutOfSupSub.indexOf(t)>-1&&(e.insRightOf(this.parent),W.queue("Baseline")),J.p.write.apply(this,arguments)}},e.moveTowards=function(e,n,r){n.options.autoSubscriptNumerals&&!this.sup?n.insDirOf(e,this):t.moveTowards.apply(this,arguments)},e.deleteTowards=function(e,n){if(n.options.autoSubscriptNumerals&&this.sub){var r=this.sub.ends[-e];r instanceof $?r.remove():r&&r.deleteTowards(e,n.insAtDirEnd(-e,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(_,n.insAtLeftEnd(this.sub)),this.sup&&n.insDirOf(-e,this))}else t.deleteTowards.apply(this,arguments)},e.latex=function(){function e(e,t){var n=t&&t.latex();return t?e+(1===n.length?n:"{"+(n||" ")+"}"):""}return e("_",this.sub)+e("^",this.sup)},e.addBlock=function(e){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=e,e.adopt(this,this.sub,0).downOutOf=this.sub,e.jQ=S('<span class="dcg-mq-sup"/>').append(e.jQ.children()).prependTo(this.jQ),C.linkElementByBlockNode(e.jQ[0],e)):(this.sub=this.downInto=this.sup.downOutOf=e,e.adopt(this,0,this.sup).upOutOf=this.sup,e.jQ=S('<span class="dcg-mq-sub"></span>').append(e.jQ.children()).appendTo(this.jQ.removeClass("dcg-mq-sup-only")),C.linkElementByBlockNode(e.jQ[0],e),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var t=0;t<2;t+=1)!function(e,t,n,r){e[t].deleteOutOf=function(i,o){if(o.insDirOf(this[i]?-i:i,this.parent),!this.isEmpty()){var s=this.ends[i];this.children().disown().withDirAdopt(i,o.parent,o[i],o[-i]).jQ.insDirOf(-i,o.jQ),o[-i]=s}e.supsub=n,delete e[t],delete e[r+"Into"],e[n][r+"OutOf"]=h,delete e[n].deleteOutOf,"sub"===t&&S(e.jQ.addClass("dcg-mq-sup-only")[0].lastChild).remove(),this.remove()}}(this,"sub sup".split(" ")[t],"sup sub".split(" ")[t],"down up".split(" ")[t])}}));P.subscript=P._=w(ve,function(e,t){e.supsub="sub",e.htmlTemplate='<span class="dcg-mq-supsub dcg-mq-non-leaf"><span class="dcg-mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',e.textTemplate=["_"],e.mathspeakTemplate=["Subscript,",", Baseline"],e.ariaLabel="subscript",e.finalizeTree=function(){this.downInto=this.sub=this.ends[_],this.sub.upOutOf=h,t.finalizeTree.call(this)}}),P.superscript=P.supscript=P["^"]=w(ve,function(e,t){e.supsub="sup",e.htmlTemplate='<span class="dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"><span class="dcg-mq-sup">&0</span></span>',e.textTemplate=["^"],e.mathspeakTemplate=["Superscript,",", Baseline"],e.ariaLabel="superscript",e.finalizeTree=function(){this.upInto=this.sup=this.ends[E],this.sup.downOutOf=h,t.finalizeTree.call(this)}});var be=w(X,function(e,t){e.init=function(t,n,r){e.ariaLabel=r||ctrlSeq;var i='<span class="dcg-mq-large-operator dcg-mq-non-leaf"><span class="dcg-mq-to"><span>&1</span></span><big>'+n+'</big><span class="dcg-mq-from"><span>&0</span></span></span>';$.prototype.init.call(this,t,i)},e.createLeftOf=function(e){t.createLeftOf.apply(this,arguments),e.options.sumStartsWithNEquals&&(re("n").createLeftOf(e),ge().createLeftOf(e))},e.latex=function(){function e(e){return 1===e.length?e:"{"+(e||" ")+"}"}return this.ctrlSeq+"_"+e(this.ends[_].latex())+"^"+e(this.ends[E].latex())},e.mathspeak=function(){return"Start "+this.ariaLabel+" from "+this.ends[_].mathspeak()+" to "+this.ends[E].mathspeak()+", end "+this.ariaLabel+", "},e.parser=function(){for(var e=G.string,t=G.optWhitespace,n=G.succeed,r=H.block,i=this,o=i.blocks=[J(),J()],s=0;s<o.length;s+=1)o[s].adopt(i,i.ends[E],0);return t.then(e("_").or(e("^"))).then(function(e){var t=o["_"===e?0:1];return r.then(function(e){return e.children().adopt(t,t.ends[E],0),n(i)})}).many().result(i)},e.finalizeTree=function(){this.ends[_].ariaLabel="lower bound",this.ends[E].ariaLabel="upper bound",this.downInto=this.ends[_],this.upInto=this.ends[E],this.ends[_].upOutOf=this.ends[E],this.ends[E].downOutOf=this.ends[_]}});P["∑"]=P.sum=P.summation=t(be,"\\sum ","&sum;","sum"),P["∏"]=P.prod=P.product=t(be,"\\prod ","&prod;","product"),P.coprod=P.coproduct=t(be,"\\coprod ","&#8720;","co product"),P["∫"]=P.int=P.integral=w(be,function(e,t){e.init=function(){e.ariaLabel="integral";$.prototype.init.call(this,"\\int ",'<span class="dcg-mq-int dcg-mq-non-leaf"><big>&int;</big><span class="dcg-mq-supsub dcg-mq-non-leaf"><span class="dcg-mq-sup"><span class="dcg-mq-sup-inner">&1</span></span><span class="dcg-mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>',"integral")},e.createLeftOf=X.p.createLeftOf});var xe=P.frac=P.dfrac=P.cfrac=P.fraction=w(X,function(e,t){e.ctrlSeq="\\frac",e.htmlTemplate='<span class="dcg-mq-fraction dcg-mq-non-leaf"><span class="dcg-mq-numerator">&0</span><span class="dcg-mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',e.textTemplate=["(",")/(",")"],e.finalizeTree=function(){this.upInto=this.ends[E].upOutOf=this.ends[_],this.downInto=this.ends[_].downOutOf=this.ends[E],this.ends[_].ariaLabel="numerator",this.ends[E].ariaLabel="denominator",this.getFracDepth()>1?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},e.mathspeak=function(e){if(e&&e.createdLeftOf){return e.createdLeftOf.parent.mathspeak()}return t.mathspeak.apply(this,arguments)},e.getFracDepth=function(){var e=function(t,n){return t instanceof C&&t.ctrlSeq&&t.ctrlSeq.toLowerCase().search("frac")>=0&&(n+=1),t.parent?e(t.parent,n):n};return e(this,0)}}),we=P.over=D["/"]=w(xe,function(t,n){t.createLeftOf=function(t){if(!this.replacedFragment){var r=t[_];if(!t.options.typingSlashCreatesNewFraction)for(;r&&!(r instanceof Z||r instanceof(P.text||e)||r instanceof be||"\\ "===r.ctrlSeq||/^[,;:]$/.test(r.ctrlSeq));)r=r[_];r instanceof be&&r[E]instanceof ve&&(r=r[E],r[E]instanceof ve&&r[E].ctrlSeq!=r.ctrlSeq&&(r=r[E])),r!==t[_]&&(this.replaces(T(r[E]||t.parent.ends[_],t[_])),t[_]=r)}
n.createLeftOf.call(this,t)}});P.ans=w($,function(e,t){e.init=function(e){t.init.call(this,"\\operatorname{ans}",'<span class="dcg-mq-ans">ans</span>',"ans")}}),P.percent=P.percentof=w($,function(e,t){e.init=function(){t.init.call(this,"\\%\\operatorname{of}",'<span class="dcg-mq-nonSymbola dcg-mq-operator-name">% of </span>',"percent of")}});var _e=P.sqrt=P["√"]=w(X,function(e,t){e.ctrlSeq="\\sqrt",e.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-sqrt-container"><span class="dcg-mq-scaled dcg-mq-sqrt-prefix">'+me.sqrt.html+'</span><span class="dcg-mq-non-leaf dcg-mq-sqrt-stem">&0</span></span>',e.textTemplate=["sqrt(",")"],e.mathspeakTemplate=["StartRoot,",", EndRoot"],e.ariaLabel="root",e.parser=function(){return H.optBlock.then(function(e){return H.block.map(function(t){var n=Ee();return n.blocks=[e,t],e.adopt(n,0,0),t.adopt(n,e,0),n})}).or(t.parser.call(this))}}),Ee=(P.hat=w(X,function(e,t){e.ctrlSeq="\\hat",e.htmlTemplate='<span class="dcg-mq-non-leaf"><span class="dcg-mq-hat-prefix">^</span><span class="dcg-mq-hat-stem">&0</span></span>',e.textTemplate=["hat(",")"]}),P.nthroot=w(_e,function(e,t){e.htmlTemplate='<sup class="dcg-mq-nthroot dcg-mq-non-leaf">&0</sup><span class="dcg-mq-scaled dcg-mq-sqrt-container"><span class="dcg-mq-sqrt-prefix dcg-mq-scaled">'+me.sqrt.html+'</span><span class="dcg-mq-sqrt-stem dcg-mq-non-leaf">&1</span></span>',e.textTemplate=["sqrt[","](",")"],e.latex=function(){return"\\sqrt["+this.ends[_].latex()+"]{"+this.ends[E].latex()+"}"},e.mathspeak=function(){return this.ends[_].ariaLabel="Index",this.ends[E].ariaLabel="Radicand","Start "+this.ends[_].mathspeak()+" Root, "+this.ends[E].mathspeak()+", End Root"}})),Se=w(X,function(e,t){e.init=function(e,n,r){var i='<span class="dcg-mq-non-leaf"><span class="dcg-mq-diacritic-above">'+n+'</span><span class="dcg-mq-diacritic-stem">&0</span></span>';t.init.call(this,e,i,r)}});P.vec=t(Se,"\\vec","&rarr;",["vec(",")"]),P.tilde=t(Se,"\\tilde","~",["tilde(",")"]);var Me=w(w(X,f),function(t,n){t.init=function(e,t,r,i,o){n.init.call(this,"\\left"+i,m,[t,r]),this.side=e,this.sides={},this.sides[_]={ch:t,ctrlSeq:i},this.sides[E]={ch:r,ctrlSeq:o}},t.numBlocks=function(){return 1},t.html=function(){var e=this.getSymbol(_),t=this.getSymbol(E);return this.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-bracket-container"><span style="width:'+e.width+'" class="dcg-mq-scaled dcg-mq-bracket-l dcg-mq-paren'+(this.side===E?" dcg-mq-ghost":"")+'">'+e.html+'</span><span style="margin-left:'+e.width+";margin-right:"+t.width+'" class="dcg-mq-bracket-middle dcg-mq-non-leaf">&0</span><span style="width:'+t.width+'" class="dcg-mq-scaled dcg-mq-bracket-r dcg-mq-paren'+(this.side===_?" dcg-mq-ghost":"")+'">'+t.html+"</span></span>",n.html.call(this)},t.getSymbol=function(e){return me[this.sides[e||E].ch]||{width:"0",html:""}},t.latex=function(){return"\\left"+this.sides[_].ctrlSeq+this.ends[_].latex()+"\\right"+this.sides[E].ctrlSeq},t.mathspeak=function(e){var t=this.sides[_].ch,r=this.sides[E].ch;if("|"===t&&"|"===r)this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(e&&e.createdLeftOf&&this.side){var i="";return this.side===_?i=this.textTemplate[0]:this.side===E&&(i=this.textTemplate[1]),(this.side===_?"left ":"right ")+Ie[i]}this.mathspeakTemplate=["left "+Ie[t]+",",", right "+Ie[r]],this.ariaLabel=Ie[t]+" block"}return n.mathspeak.call(this)},t.matchBrack=function(e,t,n){return n instanceof Me&&n.side&&n.side!==-t&&(!e.restrictMismatchedBrackets||ke[this.sides[this.side].ch]===n.sides[n.side].ch||{"(":"]","[":")"}[this.sides[_].ch]===n.sides[E].ch)&&n},t.closeOpposing=function(e){e.side=0,e.sides[this.side]=this.sides[this.side];var t=e.delimjQs.eq(this.side===_?0:1).removeClass("dcg-mq-ghost");this.replaceBracket(t,this.side)},t.createLeftOf=function(e){if(!this.replacedFragment){var t=e.options;if("|"===this.sides[_].ch)var r=this.matchBrack(t,E,e[E])||this.matchBrack(t,_,e[_])||this.matchBrack(t,0,e.parent.parent);else var r=this.matchBrack(t,-this.side,e[-this.side])||this.matchBrack(t,-this.side,e.parent.parent)}if(r){var i=this.side=-r.side;this.closeOpposing(r),r===e.parent.parent&&e[i]&&T(e[i],e.parent.ends[i],-i).disown().withDirAdopt(-i,r.parent,r,r[i]).jQ.insDirOf(i,r.jQ),r.bubble(function(e){e.reflow()})}else r=this,i=r.side,r.replacedFragment?r.side=0:e[-i]&&(r.replaces(T(e[-i],e.parent.ends[-i],i)),e[-i]=0),n.createLeftOf.call(r,e);i===_?e.insAtLeftEnd(r.ends[_]):e.insRightOf(r)},t.placeCursor=e,t.unwrap=function(){this.ends[_].children().disown().adopt(this.parent,this,this[E]).jQ.insertAfter(this.jQ),this.remove()},t.deleteSide=function(e,t,n){var r=this.parent,i=this[e],o=r.ends[e];if(e===this.side)return this.unwrap(),void(i?n.insDirOf(-e,i):n.insAtDirEnd(e,r));var s=n.options,a=!this.side;if(this.side=-e,this.matchBrack(s,e,this.ends[_].ends[this.side])){this.closeOpposing(this.ends[_].ends[this.side]);var l=this.ends[_].ends[e];this.unwrap(),l.siblingCreated&&l.siblingCreated(n.options,e),i?n.insDirOf(-e,i):n.insAtDirEnd(e,r)}else{if(this.matchBrack(s,e,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(t&&a)return this.unwrap(),void(i?n.insDirOf(-e,i):n.insAtDirEnd(e,r));this.sides[e]={ch:ke[this.sides[this.side].ch],ctrlSeq:ke[this.sides[this.side].ctrlSeq]};var c=this.delimjQs.removeClass("dcg-mq-ghost").eq(e===_?0:1).addClass("dcg-mq-ghost");this.replaceBracket(c,e)}if(i){var l=this.ends[_].ends[e];T(i,o,-e).disown().withDirAdopt(-e,this.ends[_],l,0).jQ.insAtDirEnd(e,this.ends[_].jQ.removeClass("dcg-mq-empty")),l.siblingCreated&&l.siblingCreated(n.options,e),n.insDirOf(-e,i)}else t?n.insDirOf(e,this):n.insAtDirEnd(e,this.ends[_])}},t.replaceBracket=function(e,t){var n=this.getSymbol(t);e.html(n.html).css("width",n.width),t===_?e.next().css("margin-left",n.width):e.prev().css("margin-right",n.width)},t.deleteTowards=function(e,t){this.deleteSide(-e,!1,t)},t.finalizeTree=function(){this.ends[_].deleteOutOf=function(e,t){this.parent.deleteSide(e,!0,t)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===_?1:0).removeClass("dcg-mq-ghost"),this.side=0}},t.siblingCreated=function(e,t){t===-this.side&&this.finalizeTree()}}),ke={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},Ie={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"};g("(",null,"parenthesis"),g("[",null,"bracket"),g("{","\\{","brace"),P.langle=t(Me,_,"&lang;","&rang;","\\langle ","\\rangle "),P.rangle=t(Me,E,"&lang;","&rang;","\\langle ","\\rangle "),D["|"]=t(Me,_,"|","|","|","|"),P.lVert=t(Me,_,"&#8741;","&#8741;","\\lVert ","\\rVert "),P.rVert=t(Me,E,"&#8741;","&#8741;","\\lVert ","\\rVert "),P.left=w(X,function(e){e.parser=function(){var e=G.regex,t=G.string,n=(G.succeed,G.optWhitespace);return n.then(e(/^(?:[([|]|\\\{|\\langle\b|\\lVert\b)/)).then(function(r){var i="\\"===r.charAt(0)?r.slice(1):r;return"\\langle"==r&&(i="&lang;",r+=" "),"\\lVert"==r&&(i="&#8741;",r+=" "),H.then(function(o){return t("\\right").skip(n).then(e(/^(?:[\])|]|\\\}|\\rangle\b|\\rVert\b)/)).map(function(e){var t="\\"===e.charAt(0)?e.slice(1):e;"\\rangle"==e&&(t="&rang;",e+=" "),"\\rVert"==e&&(t="&#8741;",e+=" ");var n=Me(0,i,t,r,e);return n.blocks=[o],o.adopt(n,0,0),n})})})}}),P.right=w(X,function(e){e.parser=function(){return G.fail("unmatched \\right")}});var Ce=P.binom=P.binomial=w(w(X,f),function(e,t){var n=me["("],r=me[")"];e.ctrlSeq="\\binom",e.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-bracket-container"><span style="width:'+n.width+'" class="dcg-mq-paren dcg-mq-bracket-l dcg-mq-scaled">'+n.html+'</span><span style="margin-left:'+n.width+"; margin-right:"+r.width+';" class="dcg-mq-non-leaf dcg-mq-bracket-middle"><span class="dcg-mq-array dcg-mq-non-leaf"><span>&0</span><span>&1</span></span></span><span style="width:'+r.width+'" class="dcg-mq-paren dcg-mq-bracket-r dcg-mq-scaled">'+r.html+"</span></span>",e.textTemplate=["choose(",",",")"],e.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],e.ariaLabel="binomial"});P.choose=w(Ce,function(e){e.createLeftOf=we.prototype.createLeftOf});P.editable=P.MathQuillMathField=w(X,function(e,t){e.ctrlSeq="\\MathQuillMathField",e.htmlTemplate='<span class="dcg-mq-editable-field"><span class="dcg-mq-root-block">&0</span></span>',e.parser=function(){var e=this,n=G.string,r=G.regex,i=G.succeed;return n("[").then(r(/^[a-z][a-z0-9]*/i)).skip(n("]")).map(function(t){e.name=t}).or(i()).then(t.parser.call(e))},e.finalizeTree=function(e){var t=O(this.ends[_],this.jQ,e);t.KIND_OF_MQ="MathField",t.editable=!0,t.createTextarea(),t.editablesTextareaEvents(),t.cursor.insAtRightEnd(t.root),p(t.root)},e.registerInnerField=function(e,t){e.push(e[this.name]=t(this.ends[_].controller))},e.latex=function(){return this.ends[_].latex()},e.text=function(){return this.ends[_].text()}});var Te=P.embed=w($,function(e,t){e.setOptions=function(e){function t(){return""}return this.text=e.text||t,this.htmlTemplate=e.htmlString||"",this.latex=e.latex||t,this},e.parser=function(){var e=this,t=G.string,n=G.regex,r=G.succeed;return t("{").then(n(/^[a-z][a-z0-9]*/i)).skip(t("}")).then(function(i){return t("[").then(n(/^[-\w\s]*/)).skip(t("]")).or(r()).map(function(t){return e.setOptions(B[i](t))})})}}),Pe=d(1);for(var De in Pe)!function(e,t){"function"==typeof t?(u[e]=function(){return c(),t.apply(this,arguments)},u[e].prototype=t.prototype):u[e]=t}(De,Pe[De])}(),define("mathquill_src",["jquery"],function(){}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("lib/inject-css",["require","underscore"],function(e){function t(e,t){var o=r[e];if(!o){o=document.createElement("style"),r[e]=o;var s=n.sortedIndex(i,e),a=r[i[s]];a?document.head.insertBefore(o,a):document.head.appendChild(o),i.splice(s,0,e)}o.textContent=t}var n=e("underscore"),r={},i=[];return t}),define("loadcss",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("loadcss!Symbola-basic",function(){}),define("loadcss!vendor_css/mathquill/mathquill-basic",function(){}),define("toplevel/mathquill",["require","mathquill_src","loadcss!Symbola-basic","loadcss!vendor_css/mathquill/mathquill-basic"],function(e){return e("mathquill_src"),e("loadcss!Symbola-basic"),e("loadcss!vendor_css/mathquill/mathquill-basic"),window.MathQuill.noConflict()}),define("mathquill",["require","browser","jquery","toplevel/mathquill"],function(e){var t=e("browser"),n=e("jquery"),r=e("toplevel/mathquill").getInterface(1),i=["erf|error-function","TTest|t-test ttest|t-test TScore|t-score tscore|t-score","iTTest|independent-t-test ittest|independent-t-test IndependentTTest","TScore|t-score Tscore|t-score tscore|t-score","normaldist|normal-distribution tdist|t-distribution poissondist|poisson-distribution","binomialdist|binomial-distribution","pdf cdf","histogram dotplot boxplot"].join(" ");return r.config({leftRightIntoCmdGoes:"up",sumStartsWithNEquals:!0,supSubsRequireOperand:!0,charsThatBreakOutOfSupSub:"+-=<>*",autoCommands:"alpha beta sqrt theta phi pi tau nthroot sum prod int ans percent infinity infty",autoSubscriptNumerals:!0,restrictMismatchedBrackets:!0,typingPercentWritesPercentOf:!0,substituteTextarea:function(){return t.IS_IOS||t.IS_ANDROID?n('<span class="dcg-mathquill-input-span" tabindex=0 role="textbox" style="display:inline-block;height:1px;width:1px">')[0]:t.IS_WINDOWS&&t.IS_TOUCH?n("<textarea readonly>").on("keydown",function(){this.readOnly=!1,this.select()}).on("blur",function(){this.readOnly=!0})[0]:n("<textarea>")[0]},autoOperatorNames:["exp|exponent ln|natural-log log","total length mean median quantile quartile nCr nPr stats","stdev|standard-deviation stddev|standard-deviation","stdDev|standard-deviation stdevp|standard-deviation-population","stddevp|standard-deviation-population stdDevP|standard-deviation-population mad var|variance","varp|variance-population variance cov|co-variance corr|correlation","lcm mcm gcd mcd gcf mod ceil|ceiling floor round abs|absolute-value min max sign|signum signum","sin|sine cos|cosine tan|tangent csc|co-secant sec|secant cot|co-tangent","sinh|hyperbolic-sine cosh|hyperbolic-cosine tanh|hyperbolic-tangent csch|hyperbolic-co-secant","sech|hyperbolic-secant coth|hyperbolic-co-tangent","arcsin|arc-sine arccos|arc-cosine arctan|arc-tangent arccsc|arc-co-secant arcsec|arc-secant","arccot|arc-co-tangent","arcsinh|hyperbolic-arc-sine arccosh|hyperbolic-arc-cosine arctanh|hyperbolic-arc-co-tangent","arccsch|hyperbolic-arc-co-secant arcsech|hyperbolic-arc-secant","arccoth|hyperbolic-arc-co-tangent","polygon","distance midpoint",i].join(" "),resetCursorOnBlur:!0})}),define("lib/color-helpers",["require","exports"],function(e,t){"use strict";function n(e){return r(e)?(e.match(/^#([A-Fa-f0-9]{3})$/g)&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),e.toLowerCase()):e}function r(e){return"string"==typeof e&&(e.match(/^#([A-Fa-f0-9]{3})$/g)||e.match(/^#([A-Fa-f0-9]{6})$/g))}function i(e,t){if(e=n(e),!r(e))return e;t>1&&(t=1),t<-1&&(t=-1);var i=parseInt(e.slice(1),16),o=t<0?0:255,s=t<0?-1*t:t,a=i>>16,l=i>>8&255,c=255&i;return"#"+(16777216+65536*(Math.round((o-a)*s)+a)+256*(Math.round((o-l)*s)+l)+(Math.round((o-c)*s)+c)).toString(16).slice(1)}function o(e){if(e=n(e),!r(e))return e;var t="0123456789abcdef";return"#"+e.slice(1).split("").map(function(e){return t[15-t.indexOf(e)]}).join("")}function s(e,t){var n=/(rgba\([\d]+\,\ ?[\d]+\,\ ?[\d]+\,\ ?)[\d.]+(\))/;return e.match(n)?e.replace(n,"$1"+t+"$2"):e}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeColor=n,t.isValidHexColor=r,t.shadeColor=i,t.invertColor=o,t.mutateOpacity=s,t.colors={RED:"#c74440",BLUE:"#2d70b3",GREEN:"#388c46",PURPLE:"#6042a6",ORANGE:"#fa7e19",BLACK:"#000000",GRAY:"#aaaaaa"}}),define("expressions/colors",["require","exports","lib/color-helpers"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RED=n.colors.RED,t.BLUE=n.colors.BLUE,t.GREEN=n.colors.GREEN,t.PURPLE=n.colors.PURPLE,t.ORANGE=n.colors.ORANGE,t.BLACK=n.colors.BLACK,t.all=[t.RED,t.BLUE,t.GREEN,t.PURPLE,t.ORANGE,t.BLACK]}),define("expressions/opacity",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOW=.2,t.DEFAULT=.4,t.HIGH=.8}),define("main/label-sizes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(t.LabelSize||(t.LabelSize={}))}),define("main/label-orientations",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.DEFAULT="default",e.LEFT="left",e.RIGHT="right",e.ABOVE="above",e.BELOW="below"}(t.LabelOrientation||(t.LabelOrientation={}))}),define("graphing-calc/api/sanitize-expression",["require","exports","expressions/opacity","expressions/styles","graphing/dragmode","main/label-sizes","main/label-orientations","lib/number-to-latex","lib/console"],function(e,t,n,r,i,o,s,a,l){"use strict";function c(e,t){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return!0;return!1}function u(e){return c(e,t.SanitizedPointStyle)}function d(e){return c(e,t.SanitizedLineStyle)}function p(e){return c(e,t.SanitizedDragMode)}function h(e){return c(e,t.SanitizedColumnMode)}function f(e){return c(e,t.SanitizedLabelSize)}function g(e){return c(e,t.SanitizedLabelOrientation)}function m(e){return{id:e.id,type:e.type,columns:e.columns.map(y)}}function y(e){return{id:e.id,latex:e.latex,color:e.color,hidden:e.hidden,pointStyle:e.pointStyle,lineStyle:e.lineStyle,points:e.points,lines:e.lines,dragMode:e.dragMode,values:e.values.slice()}}function v(e){var t=["latex","color","lineStyle","pointStyle","fillOpacity","points","lines","fill","hidden","secret","dragMode","label","showLabel","labelSize","labelOrientation","verticalLabel","interactiveLabel"],n={id:e.id,type:e.type};return t.forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),e.hasOwnProperty("parametricDomain")&&(n.parametricDomain={min:e.parametricDomain.min,max:e.parametricDomain.max}),e.hasOwnProperty("polarDomain")&&(n.polarDomain={min:e.polarDomain.min,max:e.polarDomain.max}),e.hasOwnProperty("domain")&&(n.domain={min:e.domain.min,max:e.domain.max}),e.slider&&(e.slider.hardMin&&(n.sliderBounds=n.sliderBounds||{},n.sliderBounds.min=e.slider.min),e.slider.hardMax&&(n.sliderBounds=n.sliderBounds||{},n.sliderBounds.max=e.slider.max),e.slider.step&&(n.sliderBounds=n.sliderBounds||{},n.sliderBounds.step=e.slider.step)),n}function b(e){return{id:e.id,type:e.type,hidden:e.hidden,secret:e.secret}}function x(e){return{id:e.id,type:e.type,hidden:e.hidden,secret:e.secret}}function w(e){return{id:e.id,type:e.type,secret:e.secret}}function _(e){switch(e.type){case"expression":return v(e);case"table":return m(e);case"folder":return x(e);case"image":return b(e);case"text":return w(e);default:return e}}function E(e,t){return e.hasOwnProperty("id")?e.id+"":t.generateId()}function S(e,t){var r={type:"expression",id:E(e,t)};if(r.type="expression",r.id=E(e,t),e.hasOwnProperty("latex")&&(r.latex=e.latex+""),e.hasOwnProperty("color")&&(r.color=e.color+""),e.hasOwnProperty("points")&&(r.points=!!e.points),e.hasOwnProperty("lines")&&(r.lines=!!e.lines),e.hasOwnProperty("style")&&(l.warn("As of API v1.1 the 'style' property is deprecated and has been split into 'pointStyle' and 'lineStyle'."),u(e.style)?r.pointStyle=e.style:d(e.style)?r.lineStyle=e.style:l.warn("Invalid style: '"+e.style+"'.")),e.hasOwnProperty("pointStyle")&&(u(e.pointStyle)?r.pointStyle=e.pointStyle:l.warn("Invalid pointStyle: '"+e.pointStyle+"'.")),e.hasOwnProperty("lineStyle")&&(d(e.lineStyle)?r.lineStyle=e.lineStyle:l.warn("Invalid lineStyle: '"+e.lineStyle+"'.")),e.hasOwnProperty("hidden")&&(r.hidden=!!e.hidden),e.hasOwnProperty("secret")&&(r.secret=!!e.secret),e.hasOwnProperty("sliderBounds")&&e.sliderBounds&&(r.slider={min:a.default(e.sliderBounds.min),max:a.default(e.sliderBounds.max),step:a.default(e.sliderBounds.step)},r.slider.min&&(r.slider.hardMin=!0),r.slider.max&&(r.slider.hardMax=!0)),e.hasOwnProperty("parametricDomain")&&e.parametricDomain?(r.parametricDomain={min:a.default(e.parametricDomain.min),max:a.default(e.parametricDomain.max)},e.hasOwnProperty("domain")&&l.warn("Both 'parametricDomain' and the deprecated 'domain' property were specified. Using 'parametricDomain'.")):e.hasOwnProperty("domain")&&(l.warn("The 'domain' property is deprecated.Use 'parametricDomain' to specify the domain for parametric functions"),r.parametricDomain={min:a.default(e.domain.min),max:a.default(e.domain.max)}),e.hasOwnProperty("polarDomain")&&e.polarDomain&&(r.polarDomain={min:a.default(e.polarDomain.min),max:a.default(e.polarDomain.max)}),e.hasOwnProperty("dragMode")&&(p(e.dragMode)?r.dragMode=e.dragMode:l.warn("Invalid dragMode: '"+e.dragMode+"'.")),e.hasOwnProperty("label")&&(r.label=e.label+""),e.hasOwnProperty("showLabel")&&(r.showLabel=!!e.showLabel),e.hasOwnProperty("labelSize")&&(f(e.labelSize)?r.labelSize=e.labelSize:l.warn("Invalid labelSize: "+e.labelSize)),e.hasOwnProperty("labelOrientation")&&(g(e.labelOrientation)?r.labelOrientation=e.labelOrientation:l.warn("Invalid labelOrientation: "+e.labelOrientation)),e.hasOwnProperty("fill")&&(r.fill=!!e.fill),e.hasOwnProperty("fillOpacity")){var i=parseFloat(e.fillOpacity+"");isNaN(i)||!isFinite(i)||i<0||i>1?(l.warn("Invalid fillOpacity: "+i+". Continuing with default."),r.fillOpacity=n.DEFAULT):r.fillOpacity=i}return r}function M(e,n){var r={id:E(e,n)};return e.hasOwnProperty("latex")&&(r.latex=e.latex+""),e.hasOwnProperty("color")&&(r.color=e.color+""),e.hasOwnProperty("hidden")&&(r.hidden=!!e.hidden),e.hasOwnProperty("points")&&(r.points=!!e.points),e.hasOwnProperty("lines")&&(r.lines=!!e.lines),e.hasOwnProperty("values")&&e.values&&(r.values=e.values.map(function(e){return e+""})),e.hasOwnProperty("columnMode")&&(l.warn("As of API v1.1 the 'columnMode' property is deprecated and has been split into individual 'points' and 'lines' properties."),e.columnMode===t.SanitizedColumnMode.POINTS_AND_LINES?(r.points=!0,r.lines=!0):e.columnMode===t.SanitizedColumnMode.LINES?(r.points=!1,r.lines=!0):(r.points=!0,r.lines=!1),r.lines&&!r.points&&e.hasOwnProperty("dragMode")&&e.dragMode!==i.DragMode.NONE&&(l.warn("A 'lines' value of true and 'points' value of false is only compatible with a dragMode of 'NONE'. Proceeding by setting 'points' to true."),r.points=!0),h(e.columnMode)&&l.warn("Invalid columnMode: '"+e.columnMode+"'.")),e.hasOwnProperty("dragMode")&&(p(e.dragMode)?r.dragMode=e.dragMode===i.DragMode.AUTO?i.DragMode.NONE:e.dragMode:l.warn("Invalid dragMode: '"+e.dragMode+"'.")),r}function k(e,t){var n={type:"table",id:E(e,t)};return e.hasOwnProperty("columns")&&e.columns&&(n.columns=e.columns.map(function(e){return M(e,t)})),n}function I(e,t){var n={type:"folder",id:E(e,t)};return e.hasOwnProperty("hidden")&&(n.hidden=!!e.hidden),n}function C(e,t){var n={type:"image",id:E(e,t)};return e.hasOwnProperty("hidden")&&(n.hidden=!!e.hidden),n}function T(e,t,n){var r=e.type;if(t&&r&&r!==t)return void l.warn("Cannot change type of expression from '"+t+"' to '"+r+"'.");switch(r){case void 0:case"expression":return S(e,n);case"image":return C(e,n);case"table":return k(e,n);case"folder":return I(e,n);default:return t?void l.warn("Cannot modify expressions of type: '"+t+"' through the API."):void l.warn("Invalid expression type: '"+r+"'.")}}Object.defineProperty(t,"__esModule",{value:!0}),t.SanitizedPointStyle={OPEN:r.PointStyle.OPEN,CROSS:r.PointStyle.CROSS,POINT:r.PointStyle.POINT},t.SanitizedLineStyle={SOLID:r.LineStyle.SOLID,DASHED:r.LineStyle.DASHED,DOTTED:r.LineStyle.DOTTED},t.SanitizedDragMode={NONE:i.DragMode.NONE,AUTO:i.DragMode.AUTO,X:i.DragMode.X,Y:i.DragMode.Y,XY:i.DragMode.XY},t.SanitizedColumnMode={POINTS:"POINTS",LINES:"LINES",POINTS_AND_LINES:"POINTS_AND_LINES"},t.SanitizedLabelSize={SMALL:o.LabelSize.SMALL,MEDIUM:o.LabelSize.MEDIUM,LARGE:o.LabelSize.LARGE},t.SanitizedLabelOrientation={ABOVE:s.LabelOrientation.ABOVE,BELOW:s.LabelOrientation.BELOW,DEFAULT:s.LabelOrientation.DEFAULT,LEFT:s.LabelOrientation.LEFT,RIGHT:s.LabelOrientation.RIGHT},t.sanitizeItem=_,t.validateItem=T}),define("graphing-calc/json/graph-settings",["require","exports","tslib"],function(e,t,n){"use strict";function r(e){return e in o}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.NONE="NONE",e.POSITIVE="POSITIVE",e.BOTH="BOTH"}(i=t.AxisArrowModes||(t.AxisArrowModes={}));var o={showGrid:!0,showXAxis:!0,showYAxis:!0,xAxisStep:0,yAxisStep:0,xAxisMinorSubdivisions:0,yAxisMinorSubdivisions:0,xAxisArrowMode:i.NONE,yAxisArrowMode:i.NONE,xAxisLabel:"",yAxisLabel:"",xAxisNumbers:!0,yAxisNumbers:!0,polarMode:!1,polarNumbers:!0,degreeMode:!1,restrictGridToFirstQuadrant:!1},s={squareAxes:!0};t.DefaultGraphSettings=n.__assign({},o,s),t.publicGraphSettings=Object.keys(o),t.isGraphSetting=r}),define("main/font_sizes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERY_SMALL=9,t.SMALL=12,t.MEDIUM=16,t.LARGE=20,t.VERY_LARGE=24}),function(e){"use strict";var t=function(e,n,r){var i,o,s=document.createElement("img");if(s.onerror=n,s.onload=function(){!o||r&&r.noRevoke||t.revokeObjectURL(o),n&&n(t.scale(s,r))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))i=o=t.createObjectURL(e),s._type=e.type;else{if("string"!=typeof e)return!1;i=e,r&&r.crossOrigin&&(s.crossOrigin=r.crossOrigin)}return i?(s.src=i,s):t.readFile(e,function(e){var t=e.target;t&&t.result?s.src=t.result:n&&n(e)})},n=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e){return e},t.renderImageToCanvas=function(e,t,n,r,i,o,s,a,l,c){return e.getContext("2d").drawImage(t,n,r,i,o,s,a,l,c),e},t.hasCanvasOption=function(e){return e.canvas||e.crop},t.scale=function(e,n){n=n||{};var r,i,o,s,a,l,c,u,d,p=document.createElement("canvas"),h=e.getContext||t.hasCanvasOption(n)&&p.getContext,f=e.naturalWidth||e.width,g=e.naturalHeight||e.height,m=f,y=g,v=function(){var e=Math.max((o||m)/m,(s||y)/y);e>1&&(m=Math.ceil(m*e),y=Math.ceil(y*e))},b=function(){var e=Math.min((r||m)/m,(i||y)/y);e<1&&(m=Math.ceil(m*e),y=Math.ceil(y*e))};return h&&(n=t.getTransformedOptions(n),c=n.left||0,u=n.top||0,n.sourceWidth?(a=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(c=f-a-n.right)):a=f-c-(n.right||0),n.sourceHeight?(l=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(u=g-l-n.bottom)):l=g-u-(n.bottom||0),m=a,y=l),r=n.maxWidth,i=n.maxHeight,o=n.minWidth,s=n.minHeight,h&&r&&i&&n.crop?(m=r,y=i,d=a/l-r/i,d<0?(l=i*a/r,void 0===n.top&&void 0===n.bottom&&(u=(g-l)/2)):d>0&&(a=r*l/i,void 0===n.left&&void 0===n.right&&(c=(f-a)/2))):((n.contain||n.cover)&&(o=r=r||o,s=i=i||s),n.cover?(b(),v()):(v(),b())),h?(p.width=m,p.height=y,t.transformCoordinates(p,n),t.renderImageToCanvas(p,e,c,u,a,l,0,0,m,y)):(e.width=m,e.height=y,e)},t.createObjectURL=function(e){return!!n&&n.createObjectURL(e)},t.revokeObjectURL=function(e){return!!n&&n.revokeObjectURL(e)},t.readFile=function(e,t,n){if(window.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,n=n||"readAsDataURL",r[n])return r[n](e),r}return!1},"function"==typeof define&&define.amd?define("vendor/load-image/load-image",[],function(){return t}):e.loadImage=t}(this),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-orientation",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption;e.hasCanvasOption=function(e){return t(e)||e.orientation},e.transformCoordinates=function(e,t){var n=e.getContext("2d"),r=e.width,i=e.height,o=t.orientation;if(o)switch(o>4&&(e.width=i,e.height=r),o){case 2:n.translate(r,0),n.scale(-1,1);break;case 3:n.translate(r,i),n.rotate(Math.PI);break;case 4:n.translate(0,i),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-i);break;case 7:n.rotate(.5*Math.PI),n.translate(r,-i),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-r,0)}},e.getTransformedOptions=function(e){if(!e.orientation||1===e.orientation)return e;var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);switch(e.orientation){case 2:n.left=e.right,n.right=e.left;break;case 3:n.left=e.right,n.top=e.bottom,n.right=e.left,n.bottom=e.top;break;case 4:n.top=e.bottom,n.bottom=e.top;break;case 5:n.left=e.top,n.top=e.left,n.right=e.bottom,n.bottom=e.right;break;case 6:n.left=e.top,n.top=e.right,n.right=e.bottom,n.bottom=e.left;break;case 7:n.left=e.bottom,n.top=e.right,n.right=e.top,n.bottom=e.left;break;case 8:n.left=e.bottom,n.top=e.left,n.right=e.top,n.bottom=e.right}return e.orientation>4&&(n.maxWidth=e.maxHeight,n.maxHeight=e.maxWidth,n.minWidth=e.minHeight,n.minHeight=e.minWidth,n.sourceWidth=e.sourceHeight,n.sourceHeight=e.sourceWidth),n}}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-meta",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,r){r=r||{};var i=this,o=r.maxMetaDataSize||262144,s={};!!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)&&e.readFile(e.blobSlice.call(t,0,o),function(t){var o,a,l,c,u=t.target.result,d=new DataView(u),p=2,h=d.byteLength-4,f=p;if(65496===d.getUint16(0)){for(;p<h&&((o=d.getUint16(p))>=65504&&o<=65519||65534===o);){if(a=d.getUint16(p+2)+2,p+a>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[o])for(c=0;c<l.length;c+=1)l[c].call(i,d,p,a,s,r);p+=a,f=p}!r.disableImageHead&&f>6&&(u.slice?s.imageHead=u.slice(0,f):s.imageHead=new Uint8Array(u).subarray(0,f))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(s)},"readAsArrayBuffer")||n(s)}}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-ios",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var t=e.renderImageToCanvas;e.detectSubsampling=function(e){var t,n;return e.width*e.height>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,1-e.width,0),0===n.getImageData(0,0,1,1).data[3])},e.detectVerticalSquash=function(e,t){var n,r,i,o,s,a=e.naturalHeight||e.height,l=document.createElement("canvas"),c=l.getContext("2d");for(t&&(a/=2),l.width=1,l.height=a,c.drawImage(e,0,0),n=c.getImageData(0,0,1,a).data,r=0,i=a,o=a;o>r;)s=n[4*(o-1)+3],0===s?i=o:r=o,o=i+r>>1;return o/a||1},e.renderImageToCanvas=function(n,r,i,o,s,a,l,c,u,d){if("image/jpeg"===r._type){var p,h,f,g,m=n.getContext("2d"),y=document.createElement("canvas"),v=y.getContext("2d");if(y.width=1024,y.height=1024,m.save(),p=e.detectSubsampling(r),p&&(i/=2,o/=2,s/=2,a/=2),h=e.detectVerticalSquash(r,p),p||1!==h){for(o*=h,u=Math.ceil(1024*u/s),d=Math.ceil(1024*d/a/h),c=0,g=0;g<a;){for(l=0,f=0;f<s;)v.clearRect(0,0,1024,1024),v.drawImage(r,i,o,s,a,-f,-g,s,a),m.drawImage(y,0,0,1024,1024,l,c,u,d),f+=1024,l+=u;g+=1024,c+=d}return m.restore(),n}}return t(n,r,i,o,s,a,l,c,u,d)}}}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-exif",["./load-image","./load-image-meta"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var r,i,o;if(!n||t+n>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(r=[],i=0;i<n;i+=1)o=e.getUint8(t+i),r.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+r.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,r,i,o,s){var a,l,c,u,d,p,h=e.exifTagTypes[i];if(!h)return void console.log("Invalid Exif data: Invalid tag type.");if(a=h.size*o,(l=a>4?n+t.getUint32(r+8,s):r+8)+a>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===o)return h.getValue(t,l,s);for(c=[],u=0;u<o;u+=1)c[u]=h.getValue(t,l+u*h.size,s);if(h.ascii){for(d="",u=0;u<c.length&&"\0"!==(p=c[u]);u+=1)d+=p;return d}return c},e.parseExifTag=function(t,n,r,i,o){var s=t.getUint16(r,i);o.exif[s]=e.getExifValue(t,n,r,t.getUint16(r+2,i),t.getUint32(r+4,i),i)},e.parseExifTags=function(e,t,n,r,i){var o,s,a;if(n+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(o=e.getUint16(n,r),(s=n+2+12*o)+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(a=0;a<o;a+=1)this.parseExifTag(e,t,n+2+12*a,r,i);return e.getUint32(s,r)},e.parseExifData=function(t,n,r,i,o){if(!o.disableExif){var s,a,l,c=n+10;if(1165519206===t.getUint32(n+4)){if(c+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(n+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(c)){case 18761:s=!0;break
;case 19789:s=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(c+2,s))return void console.log("Invalid Exif data: Missing TIFF marker.");a=t.getUint32(c+4,s),i.exif=new e.ExifMap,a=e.parseExifTags(t,c,c+a,s,i),a&&!o.disableExifThumbnail&&(l={exif:{}},a=e.parseExifTags(t,c,c+a,s,l),l.exif[513]&&(i.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),i.exif[34665]&&!o.disableExifSub&&e.parseExifTags(t,c,c+i.exif[34665],s,i),i.exif[34853]&&!o.disableExifGps&&e.parseExifTags(t,c,c+i.exif[34853],s,i)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-exif-map",["./load-image","./load-image-exif"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,r=e.map;for(t in n)n.hasOwnProperty(t)&&(r[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}}),define("loadImage",["require","vendor/load-image/load-image-orientation","vendor/load-image/load-image-meta","vendor/load-image/load-image-ios","vendor/load-image/load-image-exif","vendor/load-image/load-image-exif-map","vendor/load-image/load-image"],function(e){return e("vendor/load-image/load-image-orientation"),e("vendor/load-image/load-image-meta"),e("vendor/load-image/load-image-ios"),e("vendor/load-image/load-image-exif"),e("vendor/load-image/load-image-exif-map"),e("vendor/load-image/load-image")}),define("expressions/image_file_to_data_url",["require","exports","loadImage"],function(e,t,n){"use strict";function r(e,t){for(var n,r=[.92,.86,.8,.7,.6,.5,.4,.3,.2,.1],i=0;i<r.length;i++)if(n=e.toDataURL("image/jpeg",r[i]),n.length<t)return n;return n}function i(e,t){for(var n,r=e.toDataURL().length,i=e.width,o=e.height,s=document.createElement("canvas"),a=0;a<2;a++){var l=Math.sqrt(t/r);i=Math.round(l*i),o=Math.round(l*o),s.height=o,s.width=i;if(s.getContext("2d").drawImage(e,0,0,i,o),n=s.toDataURL(),(r=n.length)<t)return n}return n}function o(e){for(var t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height).data,r=3;r<n.length;r+=4)if(255!==n[r])return!0;return!1}function s(e,t){var s={orientation:!0,canvas:!0,maxWidth:1600,maxHeight:1600};n(e,function(n){if(!n.toDataURL)return void t(!0);var s;if("image/jpeg"===e.type)s=r(n,2e5);else if(s=n.toDataURL(),s.length>2e5){var a=s.length>.75*n.width*n.height,l=a&&!o(n);s=l?r(n,2e5):i(n,2e5)}t(null,s)},s)}Object.defineProperty(t,"__esModule",{value:!0}),t.imageFileToDataURL=s}),define("config",["require","exports","lib/deepCopy"],function(e,t,n){"use strict";function r(e){return o[e]}function i(){return n.default(o)}Object.defineProperty(t,"__esModule",{value:!0});var o={},s=location.search;"?"===s[0]&&(s=s.slice(1));for(var a=s.split("&"),l={},c=0;c<a.length;c++){var u=a[c].split("=");l[u[0]]=2!==u.length||u[1]}if("undefined"!=typeof Desmos&&Desmos.config)for(var d in Desmos.config)Desmos.config.hasOwnProperty(d)&&(l[d]=Desmos.config[d]);var p=function(e){return l.hasOwnProperty(e)},h=function(e){o[e]=p(e)},f=function(e){o[e]=!p("no"+e)};h("testing"),h("maintenance"),h("disableScrollFix"),h("nativeOnscreenKeypad"),h("hidden"),h("disableMouseInteractions"),h("advancedStyling"),h("outofdom"),l.lang&&(o.lang=l.lang),l.fontSize&&(o.fontSize=l.fontSize),l.backgroundColor&&(o.backgroundColor="#"+l.backgroundColor),l.textColor&&(o.textColor="#"+l.textColor),o.no_navigation_warning=p("noconcat")||p("testing"),o.previewMessage="You're previewing some new accessibility features.",o.previewFeedbackUrl="mailto:feedback@desmos.com";var g=location&&"preview.desmos.com"===location.hostname;o.previewMode=p("previewMode")||g,h("lockViewport"),h("administerSecretFolders"),h("advancedStyling"),h("degreeMode"),h("clearIntoDegreeMode"),h("plaidMode"),h("editOnWeb"),h("crossOriginSaveTest"),h("showResetButtonOnGraphpaper"),h("transparentBackground"),f("links"),f("trace"),h("expressionsCollapsed"),h("invertedColors"),h("projectorMode"),f("images"),f("folders"),f("settingsMenu"),f("expressionsTopbar"),f("zoomButtons"),f("keypad"),f("graphpaper"),f("expressions"),f("expressionsTopbar"),f("settingsMenu"),f("branding"),f("pointsOfInterest"),f("plotSingleVariableImplicitEquations"),f("notes"),h("sciKeypad"),h("4fnKeypad"),h("ans"),p("braille")&&(o.braille=!0),f("qwertyKeyboard"),h("restrictedFunctions"),f("functionDefinition"),h("singleExpression"),h("restrictedEditing"),f("labels"),h("bare-i18n"),f("distributions"),o["4fnKeypad"]?h("decimalToFraction"):f("decimalToFraction"),l.additionalFunctions&&"string"==typeof l.additionalFunctions&&(o.additionalFunctions=l.additionalFunctions.split(",")),t.get=r,t.all=i}),define("lib/i18n",["require","exports","config","jquery","underscore","lib/console"],function(e,t,n,r,i,o){"use strict";function s(e,t){f=e||"",g=t||{}}function a(e){for(var t,n=/(__[^_]+__)/g,r=[];null!==(t=n.exec(e));)r.push({index:t.index,text:t[0]});e=e.replace(/[a-z]/gi,"♦");for(var i=e.split(""),o=0;o<r.length;o++)for(var s=r[o].index,a=r[o].text,l=0;l<a.length;l++)i[s+l]=a[l];return i.join("")}function l(e,t,r){var i=void 0!==r?r:f,o=g[i]&&g[i][e]||e||"";if(n.get("bare-i18n")&&(o=a(o)),t)for(var s in t)t.hasOwnProperty(s)&&(o=o.split("__"+s+"__").join(t[s]));return o}function c(e){var n=[];return i.each(e,function(e){if(e){var r=e.split("-")[0];n.push(e),n.push(r),i.each(t.enabled_languages,function(e,t){t.split("-")[0]===r&&e.useAsRoot&&n.push(t)})}}),n}function u(){for(var e=c([n.get("lang"),navigator.userLanguage,navigator.language]),r=0;r<e.length;r++){var o=e[r];if(t.enabled_languages.hasOwnProperty(o))return o;if(i.contains(m,o))return o}return"en"}function d(){return f}function p(e){var t=r.Deferred();return"undefined"==typeof Desmos?(t.reject(),t.promise()):Desmos.supportedLanguages.indexOf(e)>=0||"en"===e?(s(e,Desmos.locales),t.resolve(!0),t.promise()):(r.get("/api/v1/calculator/language/"+e,function(n){Desmos.locales||(Desmos.locales={}),Desmos.supportedLanguages||(Desmos.supportedLanguages=[]),Desmos.locales[e]=n[e],Desmos.supportedLanguages.push(e),s(e,Desmos.locales),t.resolve(!0)}).fail(function(n){404===n.status&&o.warn(e+" is not an available language."),t.reject()}),t.promise())}function h(e,t){if(null===e||void 0===e)return"";if("string"==typeof e)return e;if("number"==typeof e)return""+e;var n,r=e.vars;if(r){n={};for(var i in r)r.hasOwnProperty(i)&&(n[i]=h(r[i],t))}return l(e.msg,n,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.locales=function(){return"undefined"!=typeof Desmos&&Desmos.locales?Desmos.locales:{}}();var f="",g={};t.enabled_languages={en:{displayName:"English (US)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"en-GB":{displayName:"English (GB)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"es-ES":{displayName:"Español (España)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ES-ES.pdf",useAsRoot:!0},ru:{displayName:"Русский",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_RU.pdf",useAsRoot:!1},da:{displayName:"Dansk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},de:{displayName:"Deutsch",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_DE.pdf",useAsRoot:!1},"pt-BR":{displayName:"Português (Brasil)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"pt-PT":{displayName:"Português (Portugal)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ca:{displayName:"Català",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},fr:{displayName:"Français",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_FR.pdf",useAsRoot:!1},it:{displayName:"Italiano",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_IT.pdf",useAsRoot:!1},is:{displayName:"Íslenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},nl:{displayName:"Nederlands",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},no:{displayName:"Norsk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"sv-SE":{displayName:"Svenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},hr:{displayName:"Hrvatski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},hu:{displayName:"Magyar",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},cs:{displayName:"Čeština",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},tr:{displayName:"Türkçe",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_TR.pdf",useAsRoot:!1},sl:{displayName:"Slovenščina",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_SL.pdf",useAsRoot:!1},lt:{displayName:"Lietuvių",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},pl:{displayName:"Polski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_PL.pdf",useAsRoot:!1},ro:{displayName:"Română",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},id:{displayName:"Bahasa Indonesia",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},vi:{displayName:"Tiếng Việt",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_VI.pdf",useAsRoot:!1},el:{displayName:"Ελληνικά",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_EL.pdf",useAsRoot:!1},"sr-CS":{displayName:"SRPSKI",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},bg:{displayName:"Български",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_BG.pdf",useAsRoot:!1},mk:{displayName:"Македонски",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},uk:{displayName:"Українська",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ka:{displayName:"ქართული",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},th:{displayName:"ภาษาไทย",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"zh-CN":{displayName:"简体中文",useAsRoot:!0,userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-CN.pdf"},"zh-TW":{displayName:"繁體中文",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-TW.pdf",useAsRoot:!1},ko:{displayName:"한국어",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ja:{displayName:"日本語",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_JA.pdf",useAsRoot:!1}};var m=["sr","bn","he","hi","ar","fi","kk","ml-IN","tr","fa"];t.init=s,t.t=l,t.detectLanguage=u,t.currentLanguage=d,t.fetchLanguage=p,t.unpack=h,s(u(),t.locales)}),define("underscore_model",["require","underscore","pjs"],function(e){var t=e("underscore");return{UnderscoreModel:e("pjs")(function(e){var n=0,r="guid_"+Math.round(1e6*Math.random())+"_"+(new Date).getTime()+"_";e.init=function(){this.__observers={},this.__eventObservers={},this.__oldProperties={},this.__propertyComparators={},this.guid=r+ ++n},e.unobserveAll=function(){this.__observers={},this.__eventObservers={}},e.getProperty=function(e){return this[e]},e.getOldProperty=function(e){return this.__oldProperties[e]},e.setProperty=function(e,n){var r=this[e];this[e]=n;var i=this.__propertyComparators[e];if(i){if(i(r,n))return}else if(t.isEqual(r,n))return;this.__oldProperties[e]=r,this.notifyPropertyChange(e)},e.setProperties=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setProperty(t,e[t])},e.setPropertyComparator=function(e,t){this.__propertyComparators[e]=t},e.notifyPropertyChange=function(e){this.__callObservers(this.__observers,e,this)},e.observe=function(e,t){this.__addObservers(this.__observers,e,t)},e.unobserve=function(e){this.__removeObservers(this.__observers,e)},e.observeAndSync=function(e,t){this.observe(e,t);for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r].split("."),o=i[0];this.hasOwnProperty(o)&&t(o,this)}},e.triggerEvent=function(e,t){this.__callObservers(this.__eventObservers,e,t)},e.observeEvent=function(e,t){this.__addObservers(this.__eventObservers,e,t)},e.unobserveEvent=function(e){this.__removeObservers(this.__eventObservers,e)},e.__callObservers=function(e,t,n){var r=e[t];if(r)for(var i=0;i<r.length;i++)r[i].callback(t,n)},e.__removeObservers=function(e,t){for(var n=t.split(" "),r=0;r<n.length;r++){var i=n[r].split("."),o=i[0],s=i[1];if(o&&s){var a=e[o],l=[];if(!a)continue;for(var c=0;c<a.length;c++){var u=a[c];u.namespace!==s&&l.push(u)}e[o]=l}else if(o)delete e[o];else if(s)for(o in e)e.hasOwnProperty(o)&&this.__removeObservers(e,o+"."+s)}},e.__addObservers=function(e,t,n){for(var r=t.split(" "),i=0;i<r.length;i++){var o=r[i].split("."),s=o[0];if(!s)throw"Must supply a property to observe";var a=o[1],l={namespace:a,callback:n},c=e[s];c?c.push(l):e[s]=[l]}}})}}),define("main/graph_settings",["require","pjs","underscore","underscore_model","graphing-calc/json/graph-settings","console","graphing-calc/json/graph-settings","lib/color-helpers"],function(e){var t=e("pjs"),n=e("underscore"),r=e("underscore_model").UnderscoreModel,i=e("graphing-calc/json/graph-settings").AxisArrowModes,o=e("console"),s=e("graphing-calc/json/graph-settings").DefaultGraphSettings,a=e("lib/color-helpers"),l=t(r,function(e,t,c){e.init=function(){function e(e,t,n){function r(){o.setProperty(e,o.config.projectorMode?n:t)}o.cloneProperties.push(e),o.config.observe("projectorMode",r),r()}function n(e,t,n,r,i){function s(){var s;s=o.config.projectorMode?o.highlight?i:r:o.highlight?n:t,o.setProperty(e,s)}o.cloneProperties.push(e),o.observe("highlight",s),o.config.observe("projectorMode",s),s()}t.init.call(this),this.stateProperties=[],this.cloneProperties=[],this.config=new r;for(var i in s)s.hasOwnProperty(i)&&this.addStateProperty(i,s[i]);this.labelHangingColor="rgba(150,150,150,1)",this.lastChangedAxis="x";var o=this;e("labelSize",14,19),e("majorAxisOpacity",.4,1),e("minorAxisOpacity",.12,.25),e("axisOpacity",.9,.9),e("axisLineWidth",1.5,2),e("axisLineOffset",.25,0),e("pixelsPerLabel",80,120),n("curveOpacity",.7,1,.7,1),e("globalCurveColor",void 0,void 0),n("graphLineWidth",2.5,3.5,5,7),n("pointLineWidth",9,11,15,17)},e.addStateProperty=function(e,t){this[e]=t,this.stateProperties.push(e),this.cloneProperties.push(e)},c.fromObject=function(e){var t=l();return t.cloneProperties.forEach(function(n){e.hasOwnProperty(n)&&t.setProperty(n,e[n])}),t},e.registerCallbacks=function(e,t){var n=this,r=function(){e.redrawAllLayers()};this.stateProperties.forEach(function(e){n.observe(e,r)}),this.config.observe("backgroundColor",r),this.config.observe("textColor",r),this.config.observe("invertedColors",r),this.observe("squareAxes",function(){e.viewportController.enforceSquareAxes()}),this.observe("degreeMode",function(){t.setDegreeMode(n.degreeMode)}),this.observe("backgroundColor",function(){e.redrawAllLayers()}),this.observe("textColor",function(){e.redrawAllLayers()}),this.config.observe("enableTabindex",function(){e.redrawAllLayers()}),this.config.observeAndSync("restrictedFunctions",function(){t.setRestrictedFunctions(n.config.restrictedFunctions)}),this.config.observeAndSync("distributions",function(){t.setDistributions(n.config.distributions)}),this.config.observeAndSync("pointsOfInterest",function(){t.setPointsOfInterest(n.config.pointsOfInterest)}),this.config.observeAndSync("projectorMode",function(){e.redrawAllLayers()}),this.config.observeAndSync("plotSingleVariableImplicitEquations",function(){t.setPlotSingleVariableImplicitEquations(n.config.plotSingleVariableImplicitEquations)})};var u=function(e,t){var r;switch(e){case"xAxisMinorSubdivisions":case"yAxisMinorSubdivisions":r=Math.round(Math.min(Math.max(0,t),5)),t!==r&&o.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+t+", which we changed to "+r+".");break;case"degreeMode":case"projectorMode":case"showGrid":case"showXAxis":case"showYAxis":case"xAxisNumbers":case"yAxisNumbers":case"polarNumbers":case"enableTabindex":case"invertedColors":r="false"!==t&&!!t,t!==r&&o.warn(e+" must be a Boolean. You provided "+t+" ("+typeof t+"), which we changed to "+r+" ("+typeof r+").");break;case"xAxisStep":case"yAxisStep":r=parseFloat(t),isFinite(t)||(r=0,o.warn(e+" must be a number. You provided "+t+", which we changed to "+r+"."));break;case"yAxisMinorSubdivisions":r=Math.round(Math.min(Math.max(0,t),5)),t!==r&&o.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+t+", which we changed to "+r+".");break;case"xAxisArrowMode":case"yAxisArrowMode":r=i[t],r!==t&&(r=i.NONE,o.warn("unknown AxisArrowMode. Allowed values are: \n"+n.keys(i).join("\n")));break;case"xAxisLabel":case"yAxisLabel":r=t,"string"!=typeof t&&(r="",o.warn(e+" must be a string. you provided a "+typeof t+"."));break;case"backgroundColor":r=t,"string"!=typeof t&&(r="",o.warn(e+" must be a string. you provided a "+typeof t+".")),r||(r="#fff"),"#"!==r[0]&&(r="#"+r);break;case"textColor":r=t,"string"!=typeof t&&(r="",o.warn(e+" must be a string. you provided a "+typeof t+".")),r||(r="#000"),"#"!==r[0]&&(r="#"+r);break;case"fontSize":r=t,"number"!=typeof t&&(r=parseInt(r,10),o.warn("fontSize must be a number. Attempted to convert "+t+" to "+r+"."));break;case"language":r=t,"string"!=typeof t&&(r="",o.warn(e+" must be a string. you provided a "+typeof t+".")),"undefined"!=typeof Desmos&&Desmos.supportedLanguages.indexOf(t)<0&&"en"!==t&&(r="en",o.warn(t+" is not currently an available language."));break;default:r=t}return r};e._validateSettings=function(e){var t={},n=!1;for(var r in e)this.stateProperties.indexOf(r)>=0?t[r]=u(r,e[r]):(o.warn('Invalid graph setting "'+r+'".'),n=!0);return n&&o.warn("Available graph settings are: \n"+this.stateProperties.join("\n")),t},e.getBackgroundColor=function(){var e=a.normalizeColor(this.config.backgroundColor||"#fff");return this.config.invertedColors&&"#ffffff"!==e?a.invertColor(e):e},e.getTextColor=function(){var e=a.normalizeColor(this.config.textColor||"#000");return this.config.invertedColors&&"#000000"!==e?a.invertColor(e):e},e.setGraphSettings=function(e){var t=this._validateSettings(e);for(var n in t)t.hasOwnProperty(n)&&("projectorMode"===n||"invertedColors"===n||"fontSize"===n||"language"===n||"backgroundColor"===n||"textColor"===n?this.config.setProperty(n,t[n]):this.setProperty(n,t[n]))}});return l}),define("scroll_helpers",["require"],function(e){return{scrollVisible:function(e,t,n){var r,i=t.height(),o=e.height(),s=t[0].scrollTop,a=e.offset().top+s-t.offset().top,l=a-n,c=o+a+n-i;return(r=l>=c?Math.min(Math.max(s,c),l):.5*(l+c))!==s&&(t[0].scrollTop=r,t[0].scrollTop!=s)}}}),define("bugsnag",["require","exports","tslib"],function(e,t,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function i(e){if(!l){var t=window.Desmos&&window.Desmos.commit,n=0,i=r();l=e({apiKey:"7f7807097671acbc4557e64bbf5eb529",maxBreadcrumbs:40,appVersion:t,consoleBreadcrumbsEnabled:!1,beforeSend:function(e){if(e.errorClass)for(var t=0,r=u;t<r.length;t++){var o=r[t];if(-1!==e.errorClass.indexOf(o))return void e.ignore()}if(e.errorMessage)for(var s=0,a=u;s<a.length;s++){var o=a[s];if(-1!==e.errorMessage.indexOf(o))return void e.ignore()}c&&c(e),e.isIgnored()||(n+=1,e.metaData.errorNumber=n,e.metaData.pageLoadId=i)}})}}function o(e,t){l&&l.notify(e,t)}function s(e,t,r,i){if(t){t=n.__assign({},t);for(var o in t)try{t[o]=JSON.stringify(t[o],null,2)}catch(e){t[o]="[[could not stringify]]"}}l&&l.leaveBreadcrumb(e,t,r,i)}function a(e){c=e}Object.defineProperty(t,"__esModule",{value:!0});var l,c,u=["UnhandledRejection","lnrAppboy","socratic","MyAppGet","SymBrowser_","mobincube_","_avast_submit","Cannot redefine property: googletag","jcarousel","SyntaxError: Unexpected identifier 'script'","__gCrWeb.autofill.extractForms","BrowseITEXT","Can't find variable: removeAllHighlights","aAttribruteValue.parentNode.getAttribute","vid_mate_check","GetImageTagSrcFromPoint","Can't find variable: didEnterViewPort"];t.init=i,t.notify=o,t.leaveBreadcrumb=s,t.setBeforeSendCB=a}),define("tours/trip",["require","jquery","pjs","mathquill","scroll_helpers","bugsnag"],function(e){var t=e("jquery"),n=e("pjs"),r=e("mathquill"),i=e("scroll_helpers"),o=e("bugsnag");return n({init:function(e){this.settings=e,this.__cachedStepName=null},ensureTripBlock:function(){if(!this.$tripBlock){var e=['<div class="trip-block">','<div class="trip-interior">','<a class="trip-close">&times;</a>','<div class="trip-content"></div>',"</div>",'<div class="trip-arrow"></div>',"</div>"].join(""),n=this,r=this.$tripBlock=t(e);r.css({top:"-100px"}),t("body").append(r),r.find(".trip-close").on("dcg-tap",function(e){e.preventDefault(),n.stop()}),this.bindKeyEvents()}},cleanup:function(){return this.unbindKeyEvents(),this.hideTripBlock(),!1},bindKeyEvents:function(){var e=this;t(document).on({"keydown.Trip":function(t){e.keyEvent.call(e,t)}})},unbindKeyEvents:function(){t(document).off("keydown.Trip")},keyEvent:function(e){27===e.which&&this.stop()},stop:function(){this.hideTripBlock(),this.settings.onTripStop()},exitTourBecauseOfError:function(e,t){var n="",r=t;do{n=r.selector+n}while(r=r.prevObject);this.stop(),o.notify("TourError: could not find $sel.offset()",{metaData:{message:e,selector:n}})},showTripBlock:function(e){this.ensureTripBlock(),"string"==typeof e.sel&&(e.sel=t(e.sel)),e.sel=e.sel.filter(":visible"),e.scrollContainer&&i.scrollVisible(e.sel,e.scrollContainer,0);var n=this.$tripBlock;n.find(".trip-content").html(e.content),n.toggleClass("trip-hidden",!!e.hidden);var o=e.sel,s=o.outerWidth(),a=o.outerHeight(),l=n.outerWidth(),c=n.outerHeight();if(!o.offset())return void(this.__cachedMissingSelTime?Date.now()-this.__cachedMissingSelTime>1e3&&(e.final?this.stop():this.exitTourBecauseOfError(e.content,o)):this.__cachedMissingSelTime=Date.now());this.__cachedMissingSelTime=void 0,n.removeClass("trip-e trip-s trip-w trip-n");var u=0;switch(e.position){case"e":n.addClass("trip-e"),n.css({left:o.offset().left+s+10,top:o.offset().top-(c-a)/2});break;case"s":n.addClass("trip-s");var d=o.offset().left+(s-l)/2;n.css({left:d,top:o.offset().top+a+10}),d+l>t(window).width()-1&&(u=t(window).width()-1-d-l),d<1&&(u=1-d);break;case"w":n.addClass("trip-w"),n.css({left:o.offset().left-(10+l),top:o.offset().top-(c-a)/2});break;default:n.addClass("trip-n"),n.css({left:o.offset().left+(s-l)/2,top:o.offset().top-10-c})}n.find(".trip-interior").css("transform","translate("+u+"px, 0)"),n.css({display:"inline-block"}),n.find(".trip-math:not(.dcg-mq-math-mode)").each(function(){r.StaticMath(this)})},fadeInTripBlock:function(){this.ensureTripBlock();var e=this.$tripBlock;setTimeout(function(){e.addClass("trip-is-loaded")},0)},hideTripBlock:function(){this.$tripBlock&&this.$tripBlock.removeClass("trip-is-loaded")}})}),define("tours/tour_manager",["require","pjs","./trip"],function(e){var t=e("pjs"),n=e("./trip");return t(function(e,t){e.init=function(){this.tripManager=new n({onTripStop:this.stopTour.bind(this)}),this.currentStep=void 0,this.currentTour=void 0},e._tripLoop=function(){if(clearTimeout(this.__tripLoopTimeout),this.running){var e=this;e._advanceTrip(),e.__tripLoopTimeout=setTimeout(e._tripLoop.bind(e),200)}},e._advanceTrip=function(){var e=this.currentTour.update(),t=(new Date).getTime();if(e&&this.currentStep&&e.content!==this.currentStep.content){if(this.currentStep.delayBeforeExit){if(this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeExit)return;if(!this.throttleTimer)return void(this.throttleTimer=t)}e.delayBeforeEnter&&(this.currentStep=e,this.throttleTimer=t)}if(!(e&&this.currentStep&&e.content===this.currentStep.content&&this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeEnter)&&(this.throttleTimer=null,e&&!e.doNotUpdate)){if(this.currentStep=e,e.final)return void this.finishTour(e,5);this.tripManager.showTripBlock(e)}},e.updateNow=e._advanceTrip,e.startTour=function(e){this.running||(this.currentTour=e,this.running=!0,this._tripLoop(),this.tripManager.fadeInTripBlock())},e.closingMsg="<b>__endingMessage__</b><br>This message will self-destruct in __seconds__...",e.finishTour=function(e,t){clearTimeout(this.__tripLoopTimeout),this.running=!1;var n=this;if(t<0)return void n.tripManager.stop();e.endingMsg&&(e.content=n.closingMsg.replace("__endingMessage__",e.endingMsg).replace("__seconds__",t)),n.tripManager.showTripBlock(e),setTimeout(function(){n.finishTour(e,t-1)},1e3)},e.stopTour=function(){this.running=!1,this.currentStep=void 0,this.currentTour=void 0}})}),define("lib/named-colors",["require"],function(e){return{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],
darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),define("lib/color-distance",["require","underscore","lib/named-colors"],function(e){function t(e){var t=[],i=e.toLowerCase();if("rgb"===i.slice(0,3))try{t=i.replace(/[^\d,]/g,"").split(",").slice(0,3),t=u.map(t,function(e){return parseInt(e,10)})}catch(t){r(e)}else if("#"===i[0]){var o=/^#?([a-f\d])([a-f\d])([a-f\d])$/;i=i.replace(o,function(e,t,n,r){return t+t+n+n+r+r});try{t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/.exec(i).slice(1),t=u.map(t,function(e){return parseInt(e,16)})}catch(t){r(e)}}else t=d[i];return n(t)||r(e),{R:t[0],G:t[1],B:t[2]}}function n(e){return!!u.isArray(e)&&(3===e.length&&u.every(e,function(e){return Number.isInteger(e)&&e>=0&&e<=255}))}function r(e){throw new Error("Invalid color string: "+e)}function i(e){var t=e.R,n=e.G,r=e.B,i=[];return i[0]=.49*t+.31*n+.2*r,i[1]=.17697*t+.8124*n+.01063*r,i[2]=.01*n+.99*r,i=u.map(i,function(e){return e/.17697}),{X:i[0],Y:i[1],Z:i[2]}}function o(e){var t=e.X,n=e.Y,r=e.Z,i=[];return i[0]=116*s(n/100)-16,i[1]=500*(s(t/95.047)-s(n/100)),i[2]=200*(s(n/100)-s(r/108.883)),{L:i[0],a:i[1],b:i[2]}}function s(e){var t=6/29;return e>Math.pow(t,3)?Math.pow(e,1/3):e/(3*t*t)+4/29}function a(e,t){var n=e.L,r=e.a,i=e.b,o=t.L,s=t.a,a=t.b,l=n-o,c=Math.sqrt(r*r+i*i),u=Math.sqrt(s*s+a*a),d=c-u,p=r-s,h=i-a,f=Math.sqrt(p*p+h*h-d*d),g=1+.045*c,m=1+.015*c,y=l/1,v=d/(1*g),b=f/(1*m);return Math.sqrt(y*y+v*v+b*b)}function l(e,n){return a(o(i(t(e))),o(i(t(n))))}function c(e,t){var n=u.map(t,function(t){return l(e,t)}),r=u.min(n);return t[n.indexOf(r)]}var u=e("underscore"),d=e("lib/named-colors");return{str2rgb:t,difference:l,closestColor:c}}),define("expressions/slider_loop_modes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOOP_FORWARD_REVERSE="LOOP_FORWARD_REVERSE",t.LOOP_FORWARD="LOOP_FORWARD"}),define("lib/evaluate-single-expression",["require","exports","parser","math/builtinframe","math/parsenode/constant"],function(e,t,n,r,i){"use strict";function o(e,t){if(/^\s*(\-|\+)?([0-9]+(\.[0-9]+)?)\s*$/.test(e))return parseFloat(e);var o=Object.create(r);return o.trigAngleMultiplier=i(t?Math.PI/180:1),+n.parse(e).tryGetConcreteTree(o).asValue()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}),define("lib/rounding",["require","exports","math/distance"],function(e,t,n){"use strict";function r(e,t){var r=n.mean(e,t);if(e>0!=t>0)return 0;if(0===e||0===t)return 0;var i=e>0?1:-1,o=Math.abs(e).toExponential().split("e"),s=Math.abs(t).toExponential().split("e"),a=o[0],l=s[0],c=o[1],u=s[1];if(u!==c)return i*Math.pow(10,Math.max(parseFloat(c),parseFloat(u)));if(a[0]!==l[0])return parseFloat(r.toPrecision(1));for(var d=1,p=2;p<Math.min(a.length,l.length)&&(d++,a[p]===l[p]);p++);return parseFloat(r.toPrecision(d))}Object.defineProperty(t,"__esModule",{value:!0}),t.shortestDecimalBetween=r}),define("lib/copy-properties",["require","exports","lib/deepCopy"],function(e,t,n){"use strict";function r(e){var t=e.from,r=e.to,i=e.props;for(var o in i)i[o]&&t.hasOwnProperty(o)&&(r[o]=n.default(t[o]))}Object.defineProperty(t,"__esModule",{value:!0}),t.copyProperties=r}),define("lib/default-spec",["require","exports","underscore","lib/deepCopy"],function(e,t,n,r){"use strict";function i(e,t){var r={};for(var i in t)t.hasOwnProperty(i)&&(n.isEqual(e[i],t[i])||(r[i]=t[i]));return r}function o(e,t){var r=void 0,i={};for(var o in t)t.hasOwnProperty(o)&&(n.isEqual(e[o],t[o])||(i[o]=t[o],r=i));return r}function s(e,t){t||(t={});var n={};for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(n[i]=r.default(e[i]));for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.stripDefaults=i,t.stripDefaultsAndMaybeReturnUndefined=o,t.populateDefaults=s}),define("graphing-calc/json/expression",["require","exports","tslib","expressions/opacity","expressions/styles","graphing/dragmode","main/label-sizes","main/label-orientations","expressions/slider_loop_modes","lib/default-spec"],function(e,t,n,r,i,o,s,a,l,c){"use strict";function u(e){return n.__assign({},t.DEFAULTS,e,{slider:n.__assign({},t.SLIDER_DEFAULTS,e.slider),cdf:n.__assign({},t.CDF_DEFAULTS,e.cdf),vizProps:n.__assign({},t.VIZ_DEFAULTS,e.vizProps)})}function d(e){var r=c.stripDefaults(t.DEFAULTS,n.__assign({},e,{slider:c.stripDefaults(t.SLIDER_DEFAULTS,e.slider)})),i=c.stripDefaultsAndMaybeReturnUndefined(t.CDF_DEFAULTS,e.cdf);void 0===i?delete r.cdf:r.cdf=i;var o=c.stripDefaultsAndMaybeReturnUndefined(t.VIZ_DEFAULTS,e.vizProps);return void 0===o?delete r.vizProps:r.vizProps=o,r}function p(e){return{type:"statement",id:e.id,latex:e.latex,label:e.label,color:e.color,fill:e.fill,fillOpacity:e.fillOpacity,points:e.points,lines:e.lines,pointStyle:e.pointStyle,lineStyle:e.lineStyle,dragMode:e.dragMode,labelSize:e.labelSize,labelOrientation:e.labelOrientation,verticalLabel:e.verticalLabel,interactiveLabel:e.interactiveLabel,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,showLabel:e.showLabel,shouldGraph:e.hidden,slider:{min:e.slider.hardMin?e.slider.min:"",max:e.slider.hardMax?e.slider.max:"",step:e.slider.step},parametricDomain:e.parametricDomain,polarDomain:e.polarDomain,cdf:e.cdf,vizProps:e.vizProps}}Object.defineProperty(t,"__esModule",{value:!0}),t.CDF_DEFAULTS={show:!1,min:"",max:""},t.VIZ_DEFAULTS={breadth:"",axisOffset:"",alignedAxis:"x",binAlignment:"center",dotplotXMode:"exact",dotplotSize:"medium",histogramMode:""},t.DEFAULT_SLIDER_PERIOD=4e3,t.DEFAULTS={folderId:"",latex:"",color:"",showLabel:!1,label:"",cdf:t.CDF_DEFAULTS,vizProps:t.VIZ_DEFAULTS,hidden:!1,secret:!1,dragMode:o.DragMode.AUTO,labelSize:s.LabelSize.MEDIUM,labelOrientation:a.LabelOrientation.DEFAULT,verticalLabel:!1,interactiveLabel:!1,residualVariable:"",isLogModeRegression:!1,pointStyle:i.PointStyle.POINT,lineStyle:i.LineStyle.SOLID,fillOpacity:r.DEFAULT,regressionParameters:{},displayEvaluationAsFraction:!1,slider:{},polarDomain:{min:"",max:""},parametricDomain:{min:"",max:""},points:void 0,lines:void 0,fill:void 0},t.SLIDER_DEFAULTS={hardMin:!1,hardMax:!1,animationPeriod:t.DEFAULT_SLIDER_PERIOD,loopMode:l.LOOP_FORWARD_REVERSE,playDirection:1,isPlaying:!1,min:"-10",max:"10",step:""},t.inflateDefaults=u,t.stripDefaults=d,t.computeParsableState=p}),define("graphing-calc/models/expression",["require","exports","parser","math/builtinframe","math/policyGraphing","tslib","graphing/dragmode","expressions/styles","main/label-sizes","main/label-orientations","expressions/slider_loop_modes","graphing/reconcileDragMode","lib/evaluate-single-expression","lib/rounding","lib/deepCopy","lib/copy-properties","./abstract-item","./list","underscore","math/expression-types","graphing/label","lib/number-to-latex","math/sliders","lib/number-to-latex","../json/expression","math/distribution-spec"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m,y,v,b,x,w,_,E,S,M){"use strict";function k(e){var t=e.formula;return!!t&&(e.controller.isDecimalToFractionEnabled()&&t.hasOwnProperty("constant_value")&&x.canDisplayAsFraction(t.constant_value))}function I(e){return!!e.isGraphable}function C(e){var t=e.formula;if(!t)return!1;var n=t.is_evaluable&&t.zero_values&&t.zero_values.length>0&&"boolean"!=typeof t.zero_values[0].val,r=k(e)&&Te(e);return n||r}function T(e){var t=e.formula;return C(e)?t.zero_values&&t.zero_values.length?t.zero_values[0].val:t.constant_value:k(e)?e.formula.constant_value:NaN}function P(e){var t=e.formula.ttest_results;if(t&&isFinite(t.lessThan))return{lessThan:t.lessThan,greaterThan:t.greaterThan,notEqual:t.notEqual}}function D(e){var t=e.formula.stats_results;if(t&&isFinite(t.min))return{min:t.min,q1:t.q1,median:t.median,q3:t.q3,max:t.max}}function A(e,t){if(!isFinite(t))return e;var n=/=(.*?)([-\.0-9]+)/,r=e.match(n);if(!r)return e;if(parseFloat(r[2])===t)return e;var i=E.numberToDecimalString(t);return e.replace(n,"=$1"+i)}function L(e){return""===((e.latex||"")+(e.label||"")).split(" ").join("")}function O(e){var t=e.dragMode===s.DragMode.AUTO?e.formula.default_drag_mode:e.dragMode;e.reconciledDragMode=d.default(t,e.formula.move_strategy),e.interactiveLabel&&e.reconciledDragMode!==s.DragMode.NONE&&$e(e,!1)}function F(e,t,n){if(!e.sliderExists)return NaN;var r=Y(e),i=X(e),o=$(e);if(n&&void 0!==n.overwriteStep&&(o=n.overwriteStep),t=_.constrainSliderValueLikeEvaluator({target:t,hardMin:e.slider.hardMin?r:void 0,hardMax:e.slider.hardMax?i:void 0,step:o}),!n||!n.ignoreSoftLimits){if(!e.slider.hardMin&&t<r)return r;if(!e.slider.hardMax&&t>i)return i}return t}function q(e,t){if(!e.sliderExists)return NaN;var n=Q(e),r=Y(e),i=X(e),o=$(e),s=o||(i-r)/20,a=0;switch(t){case"min":return F(e,r);case"max":return F(e,i);case"up":a=1;break;case"down":a=-1;break;case"bigup":a=5;break;case"bigdown":a=-5;break;default:return t}for(var l=n,c=0;c<20;c++){var u=c/3*s,d=n;if(a>0)(n=F(e,l+u,{overwriteStep:s}))>d&&(a-=1);else{if(!(a<0))break;(n=F(e,l-u,{overwriteStep:s}))<d&&(a+=1)}}return n}function N(e,t){if(e.sliderExists){e.slider.isPlaying&&we(e,!1);var n=F(e,t,{ignoreSoftLimits:!0});e.latex=A(e.latex,n)}}function R(e,t){if(e.sliderExists){e.slider.isPlaying&&we(e,!1),_e(e);var n=q(e,t);e.latex=A(e.latex,n)}}function B(e,t){if(e.sliderExists){e.slider.isPlaying&&we(e,!1);var n=F(e,t);e.latex=A(e.latex,n)}}function j(e,t){if(e.sliderExists){var n=Y(e),r=X(e),i=$(e),o=e.slider.animationPeriod,s=e.slider.loopMode,a=i?i/2:0;if(s===u.LOOP_FORWARD_REVERSE)e.sliderAnimationTargetValue>=r?xe(e,{playDirection:-1}):e.sliderAnimationTargetValue<=n&&xe(e,{playDirection:1});else{if(s!==u.LOOP_FORWARD)throw new Error("Unexpected slider loop mode: "+s);xe(e,{playDirection:1}),e.sliderAnimationTargetValue>=r+a&&(e.sliderAnimationTargetValue=n-a)}isFinite(t)||(t=0),t=Math.min(t,o/10);var l=(r-n)*t/o;e.sliderAnimationTargetValue+=l*e.slider.playDirection,e.sliderAnimationTargetValue=Math.max(n-a,Math.min(r+a,e.sliderAnimationTargetValue));var c=e.sliderAnimationTargetValue;i||(c=h.shortestDecimalBetween(c-.1*l,c+.1*l));var c=F(e,c);e.latex=A(e.latex,c)}}function V(e,t){e.formula=t,e.loading=!1,e.error=t.error?t.error:"",e.isGraphable=t.is_graphable,e.dependent=t.assignment,e.isTableable=t.is_tableable,e.unresolved=!1,t.is_single_identifier?e.missingVariables=[]:e.missingVariables=t.variables||[],e.__workerSliderLatex=t.raw_slider_latex,t.is_slider?(e.__workerSliderValue=t.constant_value,e.__workerSliderMin=t.slider_min_number,e.__workerSliderMax=t.slider_max_number,e.__workerSliderStep=t.slider_step_number,e.__workerSliderMinValid=t.slider_min_valid,e.__workerSliderMaxValid=t.slider_max_valid,e.__workerSliderStepValid=t.slider_step_valid,e.sliderExists||(e.sliderAnimationTargetValue=Q(e),e.sliderDragging=!1,e.sliderExists=!0)):e.sliderExists=!1,e.__workerDomainMin=t.domain_min_number,e.__workerDomainMax=t.domain_max_number,e.__workerDomainMinValid=t.domain_min_valid,e.__workerDomainMaxValid=t.domain_max_valid,e.__workerCDFMinValid=t.cdf_min_valid,e.__workerCDFMaxValid=t.cdf_max_valid,e.__workerCDFEvaluation=t.cdf_evaluation;var n={};t.is_regression&&(n=t.regression.parameters,e.residualVariable=t.regression.residualVariable),v.isEqual(e.regressionParameters,n)||(e.regressionParameters=n)}function U(e){var t=y.getParentFolderModel(e);t&&t.hidden?e.shouldGraph=!1:e.formula.expression_type&&Ze(e)?e.shouldGraph=!1:e.shouldGraph=!e.hidden}function z(e){if(!e.sliderExists||e.latex!==e.__workerSliderLatex)return void(e.cachedDisplayLatex={storedLatex:e.latex,valueLatex:e.latex});var t=e.latex;if(e.cachedDisplayLatex.storedLatex!==t)return void(e.cachedDisplayLatex={storedLatex:e.latex,valueLatex:e.latex});if(isFinite(e.__workerSliderValue)){var n=e.controller.getFocusLocation();n&&"expression"===n.type&&n.id===e.id||(e.cachedDisplayLatex.valueLatex=A(e.latex,e.__workerSliderValue))}}function G(e){return e.cachedDisplayLatex.valueLatex}function H(e){var t=x.value(e);return t.superscript&&t.mantissa?t.mantissa+"^{"+t.superscript+"}":t.string}function K(e){return e.slider.hardMin?e.slider.min:H(Y(e))}function W(e){return e.slider.hardMax?e.slider.max:H(X(e))}function Y(e){if(e.slider.hardMin)return isFinite(e.__workerSliderMin)?e.__workerSliderMin:NaN;var t=e.controller.isDegreeMode(),n=p.default(e.slider.min,t),r=Q(e),i=$(e),o=e.slider.hardMax?e.__workerSliderMax:void 0,s=-10;if(n<s&&(s=n),r<s&&(s=r),o<s&&(s=o),i){var a=_.constrainSliderValueLikeEvaluator({target:s,hardMin:void 0,hardMax:o,step:i});s=a<=s?a:a-i}return s}function X(e){if(e.slider.hardMax)return isFinite(e.__workerSliderMax)?e.__workerSliderMax:NaN;var t=e.controller.isDegreeMode(),n=p.default(e.slider.max,t),r=Q(e),i=$(e),o=e.slider.hardMin?e.__workerSliderMin:void 0,s=10;if(n>s&&(s=n),r>s&&(s=r),o>s&&(s=o),i){var a=_.constrainSliderValueLikeEvaluator({target:s,hardMin:o,hardMax:void 0,step:i});s=a>=s?a:a+i}return s}function $(e){return e.__workerSliderStep}function Q(e){return e.latex!==e.__workerSliderLatex?Ee(e.latex):isFinite(e.__workerSliderValue)?e.__workerSliderValue:NaN}function Z(e,t){return!!e.formula.viz_valids&&!!e.formula.viz_valids[t]}function J(e,t){return e.vizProps[t]}function ee(e,t,n){var r;e.vizProps=o.__assign({},e.vizProps,(r={},r[t]=n,r))}function te(e){return!!e.__workerNeedsDotplotXMode}function ne(e){return!!e.__workerSliderMinValid}function re(e){return!!e.__workerSliderMaxValid}function ie(e){return!!e.__workerSliderStepValid}function oe(e){return isFinite(e.__workerSampledDomainMin)?e.__workerSampledDomainMin:isFinite(e.__workerDomainMin)?e.__workerDomainMin:NaN}function se(e){return isFinite(e.__workerSampledDomainMax)?e.__workerSampledDomainMax:isFinite(e.__workerDomainMax)?e.__workerDomainMax:NaN}function ae(e){return!!e.__workerDomainMinValid}function le(e){return!!e.__workerDomainMaxValid}function ce(e,t){var n=e.cachedViewState;if(t.stripDefaults&&""===e.parametricDomain.min&&""===e.parametricDomain.max||(n=o.__assign({},n,{domain:{min:""===e.parametricDomain.min?"0":e.parametricDomain.min,max:""===e.parametricDomain.max?"1":e.parametricDomain.max}})),t.stripDefaults)return S.stripDefaults(n);if(void 0===n.points||void 0===n.lines||void 0===n.fill){var r=f.default(n);return void 0===r.points&&delete r.points,void 0===r.lines&&delete r.lines,void 0===r.fill&&delete r.fill,r}return n}function ue(e){var t=e.cachedViewState;t&&t.folderId===e.folderId&&t.color===e.color&&t.latex===e.latex&&t.parametricDomain===e.parametricDomain&&t.polarDomain===e.polarDomain&&t.showLabel===e.showLabel&&t.cdf===e.cdf&&t.vizProps===e.vizProps&&t.label===e.label&&t.hidden===e.hidden&&t.secret===e.secret&&t.fill===e.fill&&t.fillOpacity===e.fillOpacity&&t.points===e.points&&t.lines===e.lines&&t.lineStyle===e.lineStyle&&t.pointStyle===e.pointStyle&&t.dragMode===e.dragMode&&t.labelSize===e.labelSize&&t.labelOrientation===e.labelOrientation&&t.verticalLabel===e.verticalLabel&&t.interactiveLabel===e.interactiveLabel&&t.residualVariable===e.residualVariable&&t.regressionParameters===e.regressionParameters&&t.isLogModeRegression===e.isLogModeRegression&&t.displayEvaluationAsFraction===e.displayEvaluationAsFraction&&t.slider===e.slider||(e.cachedViewState={type:e.type,id:e.id,folderId:e.folderId,color:e.color,latex:e.latex,parametricDomain:e.parametricDomain,polarDomain:e.polarDomain,showLabel:e.showLabel,cdf:e.cdf,vizProps:e.vizProps,label:e.label,hidden:e.hidden,secret:e.secret,points:e.points,lines:e.lines,lineStyle:e.lineStyle,pointStyle:e.pointStyle,fill:e.fill,fillOpacity:e.fillOpacity,dragMode:e.dragMode,labelSize:e.labelSize,labelOrientation:e.labelOrientation,verticalLabel:e.verticalLabel,interactiveLabel:e.interactiveLabel,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,displayEvaluationAsFraction:e.displayEvaluationAsFraction,slider:e.slider})}function de(e,t){t&&_e(e),e.draggingOnGraphpaper=t}function pe(e){var t=e.memoizedUndoRedoStateParams,n=e.cachedViewState,r=e.preTransientState;if(!t||t.viewState!==n||t.preTransientState!==r){e.memoizedUndoRedoStateParams={viewState:n,preTransientState:r};var i;i=r?o.__assign({},n,{latex:r.latex,slider:o.__assign({},n.slider,r.slider)}):o.__assign({},n),delete i.regressionParameters,delete i.residualVariable,e.cachedUndoRedoState=i}}function he(e,t){var n=f.default(S.inflateDefaults(e));return o.__assign({},n,m.DEFAULTS(t),{loading:!0,labelDropdownOpen:!1,formula:{error:void 0},missingVariables:[],error:void 0,unresolved:!1,color:n.color||t.getNextColor(),fill:n.fill,points:n.points,lines:n.lines,pointStyle:n.pointStyle,lineStyle:n.lineStyle,displayEvaluationAsFraction:n.displayEvaluationAsFraction,shouldGraph:void 0,sliderDragging:void 0,sliderAnimationTargetValue:void 0,draggingOnGraphpaper:!1,cachedUndoRedoState:void 0,cachedParsableState:void 0,cachedViewState:void 0,cachedDisplayLatex:{storedLatex:"",valueLatex:""}})}function fe(e){var t=y.getParentFolderModel(e),n=!(!t||!t.hidden),r=e.cachedViewState,i=e.index,o=e.showLabel&&!n,s=e.shouldGraph,a=e.slider.hardMin?e.slider.min:"",l=e.slider.hardMax?e.slider.max:"",c=e.slider.step,u=e.memoizedParsableStateParams;if(!u||u.viewState!==r||u.index!==i||u.showLabel!==o||u.shouldGraph!==s||u.polarDomainMin!==e.polarDomain.min||u.polarDomainMax!==e.polarDomain.max||u.parametricDomainMin!==e.parametricDomain.min||u.parametricDomainMax!==e.parametricDomain.max||u.sliderMin!==a||u.sliderMax!==l||u.sliderStep!==c){e.memoizedParsableStateParams={viewState:r,index:i,polarDomainMin:e.polarDomain.min,polarDomainMax:e.polarDomain.max,parametricDomainMin:e.parametricDomain.min,parametricDomainMax:e.parametricDomain.max,sliderMin:a,sliderMax:l,sliderStep:c,showLabel:o,shouldGraph:s};var d=S.computeParsableState(r);d.index=i,d.showLabel=o,d.shouldGraph=s,e.cachedParsableState=d}}function ge(e,t){t(e.latex),e.residualVariable&&t(e.residualVariable)}function me(e){var t=e.sliderExists&&(e.slider.isPlaying||e.sliderDragging);e.draggingOnGraphpaper||t?e.preTransientState||(e.preTransientState={latex:e.latex,slider:{min:e.slider.min,max:e.slider.max,playDirection:e.slider.playDirection}}):delete e.preTransientState,m.updateIsHiddenFromUI(e),U(e),O(e),ue(e),pe(e),fe(e),z(e)}function ye(e,t){g.copyProperties({from:t,to:e,props:{id:!1,type:!1,color:!0,folderId:!0,latex:!0,polarDomain:!0,parametricDomain:!0,showLabel:!0,label:!0,cdf:!0,vizProps:!0,hidden:!0,secret:!0,points:!0,lines:!0,lineStyle:!0,pointStyle:!0,fill:!0,fillOpacity:!0,dragMode:!0,labelSize:!0,labelOrientation:!0,verticalLabel:!0,interactiveLabel:!0,residualVariable:!0,regressionParameters:!0,isLogModeRegression:!0,displayEvaluationAsFraction:!0,slider:!0}})}function ve(e,t){t?xe(e,{hardMin:!0,min:t}):xe(e,{hardMin:!1,min:"-10"})}function be(e,t){t?xe(e,{hardMax:!0,max:t}):xe(e,{hardMax:!1,max:"10"})}function xe(e,t){e.slider=o.__assign({},e.slider,t)}function we(e,t){if(e&&e.sliderExists){e.slider.isPlaying!==t&&(xe(e,{isPlaying:t}),t&&(_e(e),e.sliderAnimationTargetValue=Q(e)))}}function _e(e){if(!e.slider.hardMin){var t=w.default(Y(e));t!==e.slider.min&&xe(e,{min:t})}if(!e.slider.hardMax){var n=w.default(X(e));n!==e.slider.max&&xe(e,{max:n})}}function Ee(e){var t=n.parse(e);if("Assignment"!==t.type)return NaN;if("Constant"!==t._expression.type)return NaN;if(!i.validLHS(t._symbol))return NaN;if(r[t._symbol])return NaN;var o=t._expression.asValue();return"number"==typeof o?o:NaN}function Se(e,t){var n=Ee(t);if(isFinite(n)){var r=_.determineWhichLimitsAreCompatibleWithValue({target:n,step:$(e),hardMin:e.slider.hardMin?Y(e):void 0,hardMax:e.slider.hardMax?X(e):void 0});r.min||xe(e,{hardMin:!1,min:"-10"}),r.max||xe(e,{hardMax:!1,max:"10"}),r.step||xe(e,{step:""})}e.latex=t}function Me(e,t){xe(e,{loopMode:t,playDirection:1}),e.sliderAnimationTargetValue=Y(e)}function ke(e,t){t&&_e(e),e.sliderDragging=t}function Ie(e,t){xe(e,{step:t})}function Ce(e,t){xe(e,{animationPeriod:t})}function Te(e){return e.displayEvaluationAsFraction}function Pe(e,t){e.displayEvaluationAsFraction=t}function De(e,t){e.label=t}function Ae(e,t){e.showLabel=t}function Le(e,t){e.polarDomain=o.__assign({},e.polarDomain,{min:t})}function Oe(e,t){e.parametricDomain=o.__assign({},e.parametricDomain,{min:t})}function Fe(e,t){e.polarDomain=o.__assign({},e.polarDomain,{max:t})}function qe(e,t){e.parametricDomain=o.__assign({},e.parametricDomain,{max:t})}function Ne(e,t){e.isLogModeRegression=t}function Re(e,t){e.color=t}function Be(e,t){e.fill=t}function je(e,t){e.fillOpacity!==t&&(e.fillOpacity=t)}function Ve(e,t){e.labelDropdownOpen=t}function Ue(e,t){e.dragMode!==t&&(e.dragMode=t,t!==s.DragMode.NONE&&(e.pointStyle=a.PointStyle.POINT))}function ze(e,t){e.points=t}function Ge(e,t){e.pointStyle!==t&&(e.pointStyle=t,t!==a.PointStyle.POINT&&(e.dragMode=s.DragMode.NONE))}function He(e,t){e.lines=t}function Ke(e,t){e.lineStyle!==t&&(e.lineStyle=t)}function We(e,t){e.labelSize=t}function Ye(e,t){e.labelOrientation=t}function Xe(e,t){e.verticalLabel=t}function $e(e,t){e.interactiveLabel=t}function Qe(e,t){e.hidden=t,!t&&Ze(e)&&(e.lines=e.points=e.fill=void 0)}function Ze(e){var t=e.points,n=e.lines,r=e.fill,i=b.getReconciledExpressionProps(e.formula.expression_type,{points:t,lines:n,fill:r});return!i.points&&!i.lines&&!i.fill}function Je(e){return st(e)||at(e)}function et(e){return e.polarDomain.min}function tt(e){return e.polarDomain.max}function nt(e){return e.parametricDomain.min}function rt(e){return e.parametricDomain.max}function it(e){return!!e.sliderExists}function ot(e){return e.formula.expression_type===b.POLYGON}function st(e){return e.formula.expression_type===b.PARAMETRIC}function at(e){return e.formula.expression_type===b.POLAR}function lt(e){return e.formula.expression_type===b.SINGLE_POINT}function ct(e){return e.formula.expression_type===b.POINT_LIST}function ut(e){return e.formula.expression_type===b.POINT_LIST||e.formula.expression_type===b.SINGLE_POINT}function dt(e){var t=xt(e);return!(!t||"visualization"!==t.type||"boxplot"!==t.symbol)}function pt(e){var t=xt(e);return!(!t||"visualization"!==t.type||"dotplot"!==t.symbol)}function ht(e){var t=xt(e);return!(!t||"visualization"!==t.type||"histogram"!==t.symbol)}function ft(e){return dt(e)||pt(e)||ht(e)}function gt(e){return e.formula.expression_type===b.TTEST}function mt(e){return e.formula.expression_type===b.STATS}function yt(e){return!!xt(e)}function vt(e){var t=xt(e);return!(!t||"distribution"!==t.type)}function bt(e){var t=e.formula;return!!t&&!!t.is_discrete_distribution}function xt(e){if(e.controller.areDistributionsEnabled()&&e.latex)return e.cachedParseToplevelFunction&&e.cachedParseToplevelFunction.latex===e.latex||(e.cachedParseToplevelFunction={latex:e.latex,spec:M.parseToplevelFunction(e.latex)}),e.cachedParseToplevelFunction.spec}function wt(e){return _t(e)&&vt(e)}function _t(e){return!!e.formula.expression_type}function Et(e){return!!e.formula.is_concrete_list}function St(e){return!!wt(e)&&(!Et(e)&&e.cdf.show)}function Mt(e){return e.cdf.min}function kt(e){return e.cdf.max}function It(e){var t=e.formula.cdf_min_default;return t===-1/0?"-\\infty":isFinite(t)?t+"":"-\\infty"}function Ct(e){var t=e.formula.cdf_max_default;return t===1/0?"\\infty":isFinite(t)?t+"":"\\infty"}function Tt(e,t){e.cdf=o.__assign({},e.cdf,{show:t})}function Pt(e,t){e.cdf=o.__assign({},e.cdf,{min:t})}function Dt(e,t){e.cdf=o.__assign({},e.cdf,{max:t})}function At(e){return!1!==e.__workerCDFMinValid}function Lt(e){return!1!==e.__workerCDFMaxValid}function Ot(e){return isFinite(e.__workerCDFEvaluation)?e.__workerCDFEvaluation:0}function Ft(e){e.showLabel=S.DEFAULTS.showLabel,e.label=S.DEFAULTS.label,e.hidden=S.DEFAULTS.hidden,e.dragMode=S.DEFAULTS.dragMode,e.fill=S.DEFAULTS.fill,e.fillOpacity=S.DEFAULTS.fillOpacity,e.points=S.DEFAULTS.points,e.pointStyle=S.DEFAULTS.pointStyle,e.lines=S.DEFAULTS.lines,e.lineStyle=S.DEFAULTS.lineStyle,e.polarDomain=S.DEFAULTS.polarDomain,e.parametricDomain=S.DEFAULTS.parametricDomain,e.slider=S.SLIDER_DEFAULTS,e.latex="",e.labelSize=l.LabelSize.MEDIUM,e.labelOrientation=c.LabelOrientation.DEFAULT,e.displayEvaluationAsFraction=S.DEFAULTS.displayEvaluationAsFraction,e.verticalLabel=!1,e.interactiveLabel=!1,e.cdf=S.DEFAULTS.cdf,e.vizProps=S.DEFAULTS.vizProps}Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationLabelOptions={smallCutoff:1e-6,bigCutoff:1e9,digits:12},t.isRationalizableConstant=k,t.isGraphable=I,t.shouldShowEvaluation=C,t.getEvaluationValue=T,t.getTTestResults=P,t.getStatsResults=D,t.computeNewSliderLatex=A,t.isEmpty=L,t.updateReconciledDragMode=O,t.adjustSliderByMovablePoint=N,t.adjustSliderByKeyboard=R,t.adjustSliderByDraggingThumb=B,t.tickSliderStep=j,t.onFormulaUpdate=V,t.computeShouldGraph=U,t.updateDisplayLatex=z,t.getDisplayLatex=G,t.getDisplaySliderMin=K,t.getDisplaySliderMax=W,t.getSliderMin=Y,t.getSliderMax=X,t.getSliderStep=$,t.getSliderValue=Q,t.isVizPropValid=Z,t.getVizPropLatex=J,t.setVizProp=ee,t.needsDotplotXMode=te,t.isSliderMinValid=ne,t.isSliderMaxValid=re,t.isSliderStepValid=ie,t.getDomainMin=oe,t.getDomainMax=se,t.isDomainMinValid=ae,t.isDomainMaxValid=le,t.getState=ce,t.updateCachedViewState=ue,t.setIsDraggingOnGrapher=de,t.updateCachedUndoRedoState=pe,t.initModel=he,t.updateCachedParsableState=fe,t.eachLatex=ge,t.onControllerUpdate=me,t.restoreState=ye,t.setSliderMin=ve,t.setSliderMax=be,t.setSliderIsPlaying=we,t.commitSliderSoftLimits=_e,t.extractSliderValueFromLatex=Ee,t.setLatex=Se,t.setSliderLoopMode=Me,t.setSliderDragging=ke,t.setSliderStep=Ie,t.setSliderAnimationPeriod=Ce,t.shouldEvaluationDisplayAsFraction=Te,t.setEvaluationAsFraction=Pe,t.setLabel=De,t.setShowLabel=Ae,t.setPolarDomainMin=Le,t.setParametricDomainMin=Oe,t.setPolarDomainMax=Fe,t.setParametricDomainMax=qe,t.setLogMode=Ne,t.setColor=Re,t.setFill=Be,t.setFillOpacity=je,t.setLabelDropdownOpen=Ve,t.setDragMode=Ue,t.setPoints=ze,t.setPointStyle=Ge,t.setLines=He,t.setLineStyle=Ke,t.setLabelSize=We,t.setLabelOrientation=Ye,t.setVerticalLabel=Xe,t.setInteractiveLabel=$e,t.setHidden=Qe,t.areAllVisibilityPropsOff=Ze,t.hasDomain=Je,t.getPolarDomainMin=et,t.getPolarDomainMax=tt,t.getParametricDomainMin=nt,t.getParametricDomainMax=rt,t.hasSlider=it,t.isPolygon=ot,t.isParametric=st,t.isPolar=at,t.isSinglePoint=lt,t.isPointList=ct,t.isPointOrPointList=ut,t.isBoxPlot=dt,t.isDotPlot=pt,t.isHistogram=ht,t.isVisualization=ft,t.isTTest=gt,t.isStats=mt,t.isToplevelFunction=yt,t.isToplevelDistribution=vt,t.isDiscreteDistribution=bt,t.parseToplevelFunction=xt,t.shouldShowCDFCheckbox=wt,t.isPrimaryLatexValid=_t,t.isListValuedDistribution=Et,t.shouldShowCDFFooter=St,t.getCDFMin=Mt,t.getCDFMax=kt,t.getCDFMinPlaceholder=It,t.getCDFMaxPlaceholder=Ct,t.setShowCDF=Tt,t.setCDFMin=Pt,t.setCDFMax=Dt,t.isCDFMinValid=At,t.isCDFMaxValid=Lt,t.getCDFEvaluation=Ot,t.blankOutExpressionAfterClearingLatex=Ft}),define("graphing-calc/json/folder",["require","exports","tslib","lib/default-spec"],function(e,t,n,r){"use strict";function i(e){return n.__assign({},t.DEFAULTS,e)}function o(e){return r.stripDefaults(t.DEFAULTS,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS={folderId:"",collapsed:!1,hidden:!1,secret:!1,title:""},t.inflateDefaults=i,t.stripDefaults=o}),define("graphing-calc/models/folder",["require","exports","tslib","lib/deepCopy","lib/copy-properties","./abstract-item","./list","../json/folder"],function(e,t,n,r,i,o,s,a){"use strict";function l(e,t){var n=e.cachedViewState;return t.stripDefaults?a.stripDefaults(n):n}function c(e){e.cachedViewState={type:e.type,id:e.id,folderId:e.folderId,title:e.title,hidden:e.hidden,collapsed:e.collapsed,secret:e.secret}}function u(e){e.cachedUndoRedoState=e.cachedViewState}function d(e,t){var i=r.default(a.inflateDefaults(e));return n.__assign({},i,o.DEFAULTS(t),{cachedUndoRedoState:{},cachedViewState:{}})}function p(e){f(e),o.updateIsHiddenFromUI(e),c(e),u(e)}function h(e,t){i.copyProperties({from:t,to:e,props:{id:!1,type:!1,folderId:!0,hidden:!0,secret:!0,collapsed:!0,title:!0}})}function f(e){var t=e.controller,n=t.getSelectedItem();e.collapsed?n&&n.folderId===e.id?(e.selectedHiddenChild=n,s.setSelected(t.getListModel(),e)):n!==e&&(e.selectedHiddenChild=void 0):(n===e&&e.selectedHiddenChild&&s.setSelected(t.getListModel(),e.selectedHiddenChild),e.selectedHiddenChild=void 0)}function g(e,t){e.collapsed=t}function m(e,t){e.title=t}function y(e,t){e.hidden=t}Object.defineProperty(t,"__esModule",{value:!0}),t.getState=l,t.updateCachedViewState=c,t.updateCachedUndoRedoState=u,t.initModel=d,t.onControllerUpdate=p,t.restoreState=h,t.updateSelectedHiddenChild=f,t.setCollapsed=g,t.setTitle=m,t.setHidden=y}),define("graphing-calc/json/text",["require","exports","tslib","lib/default-spec"],function(e,t,n,r){"use strict";function i(e){return n.__assign({},t.DEFAULTS,e)}function o(e){return r.stripDefaults(t.DEFAULTS,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS={folderId:"",text:"",secret:!1},t.inflateDefaults=i,t.stripDefaults=o}),define("graphing-calc/models/text",["require","exports","tslib","./abstract-item","lib/deepCopy","lib/copy-properties","../json/text"],function(e,t,n,r,i,o,s){"use strict";function a(e,t){e.text=t}function l(e,t){var o=i.default(s.inflateDefaults(e))
;return n.__assign({},o,r.DEFAULTS(t),{cachedUndoRedoState:{},cachedViewState:{}})}function c(e){r.updateIsHiddenFromUI(e),p(e),h(e)}function u(e,t){o.copyProperties({from:t,to:e,props:{id:!1,type:!1,folderId:!0,text:!0,secret:!0}})}function d(e,t){var n=e.cachedViewState;return t.stripDefaults?s.stripDefaults(n):n}function p(e){e.cachedViewState={type:e.type,id:e.id,folderId:e.folderId,text:e.text,secret:e.secret}}function h(e){e.cachedUndoRedoState=e.cachedViewState}Object.defineProperty(t,"__esModule",{value:!0}),t.setText=a,t.initModel=l,t.onControllerUpdate=c,t.restoreState=u,t.getState=d,t.updateCachedViewState=p,t.updateCachedUndoRedoState=h}),define("graphing-calc/models/helper-expression",["require","exports","math/evaluationstate","tslib","underscore"],function(e,t,n,r,i){"use strict";function o(e){return r.__assign({},e,{formula:n.default(),cachedParsableState:{type:"statement",id:e.id,latex:e.latex,shouldGraph:!1}})}function s(e,t,n){t.formula=n;var r,o=t.proxy,s={numericValue:o.numericValue,listValue:o.listValue};n.zero_values&&1===n.zero_values.length&&(r=n.zero_values[0].val),o.numericValue=i.isNumber(r)?r:NaN,o.listValue=i.isArray(r)?r.slice(0):void 0,i.isEqual(o.numericValue,s.numericValue)||e.runAfterDispatch(function(){o.notifyPropertyChange("numericValue")}),i.isEqual(o.listValue,s.listValue)||e.runAfterDispatch(function(){o.notifyPropertyChange("listValue")})}Object.defineProperty(t,"__esModule",{value:!0}),t.init=o,t.onFormulaUpdate=s}),define("graphing-calc/json/image",["require","exports","tslib","lib/default-spec"],function(e,t,n,r){"use strict";function i(e){return n.__assign({},t.DEFAULTS,e)}function o(e){return r.stripDefaults(t.DEFAULTS,e)}function s(e){return{type:"image",id:e.id,center:e.center,angle:e.angle,width:e.width,height:e.height,opacity:e.opacity,guid:"",index:0,color:"",shouldGraph:e.hidden,showPoints:!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS={folderId:"",hidden:!1,secret:!1,center:"\\left(0,0\\right)",angle:"0",width:"10",height:"10",opacity:"1",foreground:!1,name:""},t.inflateDefaults=i,t.stripDefaults=o,t.computeParsableState=s}),define("graphing-calc/models/image",["require","exports","tslib","lib/color-helpers","./abstract-item","lib/deepCopy","lib/copy-properties","./list","jquery","../json/image"],function(e,t,n,r,i,o,s,a,l,c){"use strict";function u(e,t){e.hidden=t}function d(e,t){e.secret=t}function p(e,t,n){e[t]=n}function h(e,t){return e[t]}function f(e,t){e.name=t}function g(e,t){e.opacity=t}function m(e,t){e.foreground=t}function y(e,t){e.image_url=t}function v(e){var t=c.computeParsableState(e);t.color=e.color,t.index=e.index,t.guid=e.guid,t.shouldGraph=e.shouldGraph,t.showPoints=e.showPoints,e.cachedParsableState=t}function b(e){e.draggingOnGraphpaper?e.preTransientState||(e.preTransientState={center:e.center,angle:e.angle,width:e.width,height:e.height,opacity:e.opacity}):delete e.preTransientState,i.updateIsHiddenFromUI(e);var t=a.getParentFolderModel(e);e.shouldGraph=(!t||!t.hidden)&&!e.hidden,e.showPoints=e.shouldGraph&&a.isItemSelected(e)&&"loaded"===e.loadStatus,E(e),M(e),v(e)}function x(e,t){e.formula=t,e.missingVariables=e.formula.variables||[],e.computed_x=e.formula.dimensions.x,e.computed_y=e.formula.dimensions.y,e.computed_radian_angle=e.formula.dimensions.radianAngle,e.computed_height=e.formula.dimensions.height,e.computed_width=e.formula.dimensions.width,e.computed_opacity=e.formula.dimensions.opacity;var n={center:e.controller.t("Invalid center. Try, for example, (0,0)."),angle:e.controller.t("Invalid angle. Try using any number."),width:e.controller.t("Invalid width. Try using any number."),height:e.controller.t("Invalid height. Try using any number."),opacity:e.controller.t("Invalid opacity. Try using any number.")},r=[];for(var i in e.formula.errorMap)e.formula.errorMap[i]&&r.push(n[i]);e.error=r[0],e.inputErrors={center:!!e.formula.errorMap.center,width:!!e.formula.errorMap.width,height:!!e.formula.errorMap.height,angle:!!e.formula.errorMap.angle,opacity:!!e.formula.errorMap.opacity}}function w(e,t){return!!e.inputErrors&&e.inputErrors[t]}function _(e,t){var n=e.cachedViewState;return t.stripDefaults?c.stripDefaults(n):n}function E(e){e.cachedViewState={type:e.type,id:e.id,folderId:e.folderId,image_url:e.image_url,name:e.name,hidden:e.hidden,height:e.height,width:e.width,center:e.center,angle:e.angle,opacity:e.opacity,foreground:e.foreground,secret:e.secret}}function S(e,t){e.draggingOnGraphpaper=t}function M(e){var t=e.cachedViewState;e.preTransientState&&(t=n.__assign({},t,e.preTransientState)),e.cachedUndoRedoState=t}function k(e,t,n,r){l(e).on("load",n).on("error",r),/^data:/.test(t)||(e.crossOrigin="anonymous"),e.src=t}function I(e,t){function s(){u.controller.dispatch({type:"image-load-success",id:u.id})}function a(){u.controller.dispatch({type:"image-load-error",id:u.id})}var l=o.default(c.inflateDefaults(e)),u=n.__assign({},l,i.DEFAULTS(t),{color:r.colors.BLUE,loadStatus:"loading",failures:0,imageObj:new Image,shouldGraph:void 0,showPoints:void 0,error:void 0,formula:void 0,missingVariables:[],computed_x:void 0,computed_y:void 0,computed_width:void 0,computed_height:void 0,computed_radian_angle:void 0,computed_opacity:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoState:{}});return k(u.imageObj,u.image_url,s,a),u}function C(e,t){s.copyProperties({from:t,to:e,props:{id:!1,type:!1,image_url:!1,name:!0,folderId:!0,hidden:!0,secret:!0,center:!0,opacity:!0,angle:!0,width:!0,height:!0,foreground:!0}})}function T(e,t){for(var n={errors:[],tokens:[]},r=0;r<t.length;r++){var i=t[r];i.type.match("image/*")?n.tokens.push(P(e,i)):n.errors.push(e.t('The file "__file__" is not an image',{file:i.name}))}return n}function P(e,t){var n=""+L++;return e.getGraphSettings().config.imageUploadCallback(t,function(r,i){setTimeout(function(){if(r)e.dispatch({type:"image-upload-error",token:n,error:r});else{var o=new Image;k(o,i,function(){var r=o.width,s=o.height,a=Math.max(r,s)/Math.min(r,s);r<s?(s=10,r=Math.round(10*s/a)/10):(r=10,s=Math.round(10*r/a)/10),e.dispatch({type:"image-upload-success",token:n,url:i,width:r+"",height:s+"",name:t.name})},function(){e.dispatch({type:"image-upload-error",token:n,error:""})})}})}),n}function D(e,t){e.loadStatus=t,"loaded"===t&&(e.failures=0),"failed"===t&&(e.failures+=1)}function A(e){e.imageObj.src=e.imageObj.src,D(e,"loading")}Object.defineProperty(t,"__esModule",{value:!0}),t.setHidden=u,t.setSecret=d,t.setMQAttribute=p,t.getMQAttribute=h,t.setName=f,t.setOpacity=g,t.setForeground=m,t.setImageURL=y,t.updateCachedParsableState=v,t.onControllerUpdate=b,t.onFormulaUpdate=x,t.hasInputError=w,t.getState=_,t.updateCachedViewState=E,t.setIsDraggingOnGrapher=S,t.updateCachedUndoRedoState=M,t.initModel=I,t.restoreState=C,t.uploadImages=T;var L=0;t.uploadImageAndGenerateToken=P,t.setLoadStatus=D,t.retryLoading=A}),define("graphing-calc/models/list",["require","exports","lib/color-distance","./abstract-item","./expression","./folder","./table","./text","./helper-expression","./image","graphing/graphmode","lib/color-helpers","underscore","lib/deepCopy"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){"use strict";function f(e){return{controller:e,__itemModelArray:[],__itemIdToModel:{},__helperIdToModel:{},drawOrder:[],colorIdx:0,expressionAnalysis:{},nextDisplayIndex:1}}function g(e){for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if("image"===n.type&&"loading"===n.loadStatus)return!0}return!1}function m(e){var t=p.filter(p.values(e.controller.getColors()),function(e){return e!=d.colors.ORANGE}),n=t[e.colorIdx];return e.colorIdx=(e.colorIdx+1)%t.length,n}function y(e,t){return e.__itemModelArray[t]}function v(e){for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if(M(n))return n}}function b(e){for(var t=e.__itemModelArray.length-1;t>=0;t--){var n=e.__itemModelArray[t];if(M(n))return n}}function x(e,t){var n;do{if(-1===--t)return;n=y(e,t)}while(n&&!M(n));return n}function w(e,t){var n,r=N(e);do{if(++t===r)return;n=y(e,t)}while(n&&!M(n));return n}function _(e){if(e.folderId){var t=e.controller.getListModel(),n=A(t,e.folderId);if(n&&"folder"===n.type)return n}}function E(e,t){var n=A(e,t);if(!n||"folder"!==n.type)return 0;for(var r=0,i=e.__itemModelArray.length,o=n.index+1;o<i&&e.__itemModelArray[o].folderId===t;o++)r+=1;return r}function S(e){if(!e)return!1;if(e.secret)return!0;var t=_(e);return!(!t||!t.secret)}function M(e){return!k(e)}function k(e){if(!e)return!0;if(e.controller.isItemBeingDragged(e.id))return!1;if(!e.controller.canAdministerSecretFolders()&&S(e))return!0;var t=_(e);return!(!t||!t.collapsed)}function I(e){return e.__itemModelArray}function C(e){return p.values(e.__helperIdToModel)}function T(e,t){for(var n=0;n<e.__itemModelArray.length;n++){var r=e.__itemModelArray[n];switch(r.type){case"expression":i.eachLatex(r,t);break;case"table":s.eachLatex(r,t);break;case"image":case"folder":case"text":break;default:return r}}}function P(e){var t=[];T(e,function(e){if(-1===e.indexOf("~")&&-1===e.indexOf("\\sim"))for(var n=/_(\d)|_\{(?:\s|\\space)*(\d+)(?:\s|\\space)*\}/g;;){var r=n.exec(e);if(!r)break;t.push(parseInt(r[1]||r[2],10))}}),t.sort(function(e,t){return e-t});for(var n=1,r=0;r<t.length;r++)t[r]===n&&n++;return n}function D(e){var t=[];p.each(e.__itemModelArray,function(e){"table"===e.type?p.each(e.columnModels,function(e){t.push(e.id)}):t.push(e.id)}),e.drawOrder=t}function A(e,t){return e.__itemIdToModel[t]}function L(e,t){return e.__helperIdToModel[t]}function O(e,t){var n=l.init(t);e.__helperIdToModel[n.id]=n}function F(e){for(var t=!e.controller.canAdministerSecretFolders(),n=1,r=1,i=0;i<e.__itemModelArray.length;i++){var o=e.__itemModelArray[i];o.index=i,o.displayIndex=n,S(o)&&(o.secretIndex=r,r+=1),t&&S(o)||(n+=1)}e.nextDisplayIndex=n}function q(e){e.__itemModelArray=[],e.__itemIdToModel={},e.__helperIdToModel={}}function N(e){return e.__itemModelArray.length}function R(e){return 1===e.nextDisplayIndex}function B(e){for(var t=[],n=0;n<e.__itemModelArray.length;n++){var r=e.__itemModelArray[n];"expression"===r.type&&r.sliderExists&&t.push(r)}return t}function j(e){return e.selectedItem}function V(e){return{list:e.__itemModelArray.map(function(e){return e.cachedUndoRedoState})}}function U(e,t){return{list:e.__itemModelArray.map(function(e){switch(e.type){case"expression":return i.getState(e,t);case"image":return c.getState(e,t);case"table":return s.getState(e,t);case"folder":return o.getState(e,t);case"text":return a.getState(e,t);default:return e}})}}function z(e){for(var t=0,n=/^[0-9]+$/,r=e.list.length-1;r>=0;r--){var i=e.list[r],o=i.id;if(n.test(o)){var s=parseInt(o,10);s>t&&(t=s)}if("table"===i.type&&i.columns)for(var a=i.columns.length-1;a>=0;a--)if(o=i.columns[a].id,n.test(o)){var s=parseInt(o,10);s>t&&(t=s)}}return t}function G(e,t,r){r||(r={});var i,o;for(e.colorIdx=0,q(e),e.expressionAnalysis={},i=0;i<t.list.length;i++){if(o=H(e,t.list[i]),r.remapColors&&"color"in o&&o.color){var s=p.values(e.controller.getColors());p.contains(s,o.color)||(o.color=n.closestColor(o.color,s))}e.__itemModelArray.push(o),e.__itemIdToModel[o.id]=o}if(F(e),1===e.nextDisplayIndex){Z(e,H(e,{type:"expression",id:e.controller.generateId(),color:e.controller.getNextColor()}),e.__itemModelArray.length)}}function H(e,t){switch(t.type){case"expression":return i.initModel(t,e.controller);case"table":return s.initModel(t,e.controller);case"image":return c.initModel(t,e.controller);case"folder":return o.initModel(t,e.controller);case"text":return a.initModel(t,e.controller);default:return t}}function K(e,t){var n,r,l=e.__itemIdToModel;for(e.__itemModelArray=[],e.__itemIdToModel={},n=0;n<t.list.length;n++){var u=t.list[n];if((r=l[u.id])&&r.type===u.type)switch(r.type){case"expression":if(u.type!==r.type)throw new Error("invalid restoration");i.restoreState(r,u);break;case"table":if(u.type!==r.type)throw new Error("invalid restoration");s.restoreState(r,u);break;case"image":if(u.type!==r.type)throw new Error("invalid restoration");c.restoreState(r,u);break;case"folder":if(u.type!==r.type)throw new Error("invalid restoration");o.restoreState(r,u);break;case"text":if(u.type!==r.type)throw new Error("invalid restoration");a.restoreState(r,u);break;default:return r}else r=H(e,u);e.__itemModelArray.push(r),e.__itemIdToModel[r.id]=r}F(e)}function W(e,t,n){var r=n[0]&&n[0].tableId,i=A(e,r||t);if(i){var o;switch(i.type){case"expression":var a=!1;i.__workerNeedsDotplotXMode=!1;for(var l=0;l<n.length;l++){var c=n[l];"resolved"in c&&!c.resolved&&(a=!0),c.boundingBox&&(o||(o=[]),o.push(c.boundingBox)),c.needsDotplotXMode&&(i.__workerNeedsDotplotXMode=!0)}i.unresolved=a,i.boundingBoxes=o;for(var d=1/0,p=-1/0,h=0,f=n;h<f.length;h++){var c=f[h];if(c.graphMode===u.POLAR){var g=c.sampledDomain;g&&(d=Math.min(d,g.min),p=Math.max(p,g.max))}}return isFinite(d)&&(i.__workerSampledDomainMin=d),void(isFinite(p)&&(i.__workerSampledDomainMax=p));case"table":for(var l=0;l<n.length;l++){var c=n[l];c.boundingBox&&(o||(o=[]),o.push(c.boundingBox))}return void(o&&s.setColumnBoundingBoxes(i,t,o));default:return}}}function Y(e,t){var n,r,o,a=h.default(e.expressionAnalysis);for(n in t)if(t.hasOwnProperty(n)){o=t[n],r=A(e,n);var u={isGraphable:!!o.is_graphable,isError:!!o.error,errorMessage:o.error?e.controller.unpack(o.error):void 0};if(r)switch(r.type){case"expression":if(i.onFormulaUpdate(r,o),o.zero_values&&1===o.zero_values.length){var d=o.zero_values[0].val;p.isNumber(d)&&(u.evaluation={type:"Number",value:d},u.evaluationDisplayed=!0),p.isArray(d)&&d.every(p.isNumber)&&(u.evaluation={type:"ListOfNumber",value:d.slice()},u.evaluationDisplayed=!0)}else o.hasOwnProperty("constant_value")&&p.isNumber(o.constant_value)&&(u.evaluation={type:"Number",value:o.constant_value},u.evaluationDisplayed=!1);break;case"image":c.onFormulaUpdate(r,o);break;case"table":s.onFormulaUpdate(r,o);break;case"folder":case"text":break;default:var f=r;return f}else{var g=L(e,n);if(!g)continue;l.onFormulaUpdate(e.controller,g,o)}a[n]=u}e.expressionAnalysis=a}function X(e,t){e.selectedItem=t}function $(e){for(var t="",n=0,i=e.__itemModelArray;n<i.length;n++){var o=i[n];"folder"===o.type?(t=o.id,""!==o.folderId&&r.setFolderId(o,"")):""===o.folderId?t="":o.folderId!==t&&(r.setFolderId(o,""),t="")}}function Q(e,t,n,r){if(t!==n){var i=e.__itemModelArray.splice(t,r);t<n&&(n=n-r+1),e.__itemModelArray.splice.apply(e.__itemModelArray,[n,0].concat(i)),F(e)}}function Z(e,t,n){var r=String(t.id);if(e.__itemIdToModel.hasOwnProperty(r))throw Error("Item with id '"+r+"' is already in list");e.__itemIdToModel[r]=t,e.__itemModelArray.splice(n,0,t),F(e)}function J(e,t){Z(e,t,N(e))}function ee(e,t){var n=e.__itemModelArray[t];if("folder"===n.type){for(var r=0,i=n.index+1;i<e.__itemModelArray.length;i++){var o=e.__itemModelArray[i];if(o.folderId!==n.id)break;r+=1,ie(o)&&X(e,void 0),delete e.__itemIdToModel[o.id]}e.__itemModelArray.splice(t,1+r)}else e.__itemModelArray.splice(t,1);ie(n)&&X(e,void 0),delete e.__itemIdToModel[n.id],delete e.expressionAnalysis[n.id],F(e)}function te(e,t){var n=A(e,t);n&&ee(e,n.index)}function ne(e){var t=j(e);if(!t)return!1;var n=x(e,t.index);return!!n&&(X(e,n),n.index===N(e)-1&&"expression"===t.type&&i.isEmpty(t)&&ee(e,n.index),!0)}function re(e){var t=j(e);if(!t)return!1;var n=w(e,t.index);return!!n&&(X(e,n),!0)}function ie(e){return e.controller.getListModel().selectedItem===e}function oe(e,t){e.dragState=t}Object.defineProperty(t,"__esModule",{value:!0}),t.init=f,t.areAnyImagesLoading=g,t.getNextColor=m,t.getItemByIndex=y,t.getFirstSelectableItem=v,t.getLastSelectableItem=b,t.findPrevSelectableItem=x,t.findNextSelectableItem=w,t.getParentFolderModel=_,t.getNumberOfItemsInFolder=E,t.isItemSecret=S,t.isItemSelectable=M,t.isItemHiddenFromUI=k,t.getAllItemModels=I,t.getAllHelperItemModels=C,t.eachLatex=T,t.findAvailableColumnSubscript=P,t.updateDrawOrder=D,t.getItemById=A,t.getHelperExpressionById=L,t.addHelperExpression=O,t.reindex=F,t.removeAllItems=q,t.getItemCount=N,t.hasNoVisibleExpressions=R,t.getAllModelsWithSliders=B,t.getSelected=j,t.getUndoRedoState=V,t.getState=U,t.getLargestIntegerId=z,t.setListState=G,t.modelFromSpec=H,t.restoreListState=K,t.onGraphComputed=W,t.onEvaluatorFormulaUpdates=Y,t.setSelected=X,t.verifyFolderIntegrity=$,t.moveItemsTo=Q,t.insertItemAtIndex=Z,t.insertItemAtEnd=J,t.removeItemAtIndex=ee,t.removeItemById=te,t.selectPrevItem=ne,t.selectNextItem=re,t.isItemSelected=ie,t.setDragState=oe}),define("graphing-calc/models/abstract-item",["require","exports","./list"],function(e,t,n){"use strict";function r(){return"abstract_item_"+c++}function i(e){return{guid:r(),controller:e,index:-1,displayIndex:-1,secretIndex:-1,isHiddenFromUI:!0,renderShell:!0}}function o(e,t){e.secret=t}function s(e,t){e.folderId=t}function a(e){e.isHiddenFromUI=n.isItemHiddenFromUI(e)}function l(e){return e.isHiddenFromUI?"none":e.renderShell?"shell":"render"}Object.defineProperty(t,"__esModule",{value:!0});var c=0;t.getGUID=r,t.DEFAULTS=i,t.setSecret=o,t.setFolderId=s,t.updateIsHiddenFromUI=a,t.getDisplayState=l}),define("graphing-calc/json/table",["require","exports","tslib","lib/default-spec","expressions/styles","graphing/dragmode"],function(e,t,n,r,i,o){"use strict";function s(e){var r=n.__assign({},t.DEFAULTS,e);return r.columns=r.columns.map(function(e){return n.__assign({},t.COLUMN_DEFAULTS,e)}),r}function a(e){return e=n.__assign({},e,{columns:e.columns.map(function(e){return r.stripDefaults(t.COLUMN_DEFAULTS,e)})}),r.stripDefaults(t.DEFAULTS,e)}function l(e){return{type:"table",id:e.id,columns:e.columns.map(function(t){return n.__assign({},t,{tableId:e.id})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS={folderId:"",secret:!1,columns:[]},t.COLUMN_DEFAULTS={latex:"",color:"",hidden:!1,values:[],points:!0,lines:!1,dragMode:o.DragMode.NONE,pointStyle:i.PointStyle.POINT,lineStyle:i.LineStyle.SOLID},t.inflateDefaults=s,t.stripDefaults=a,t.computeParsableState=l}),define("graphing-calc/models/table",["require","exports","math/rational-arithmetic-sequence","tslib","expressions/styles","graphing/dragmode","./abstract-item","underscore","graphing/label","lib/evaluate-single-expression","math/distance","lib/deepCopy","lib/copy-properties","graphing-calc/models/list","../json/table","../json/table","../json/table"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m){"use strict";function y(e,t,n,r){r.row=e.rowModels[t],r.row.cells.splice(n,0,r)}function v(e,t,n){e.rowModels[t].cells.splice(n,1)}function b(e){return isFinite(e)?l.truncatedLatexLabel(e,{digits:8,bigCutoff:1e6,smallCutoff:.001}):"\\mathrm{undefined}"}function x(e,t,n){var r=e.columnModels[t];r.error=n.error,r.discrete=n.discrete,r.disabled=n.dependent,r.draggable=!n.error&&!n.dependent,r.packedErrors=[],r.computedValues=[];for(var i=n.values,o=i.length-1;o>=0;o--){var s=i[o];r.computedValues[o]="number"==typeof s?b(s):"",r.packedErrors[o]=s&&s.msg?s:void 0}}function w(e){var t=Q(e);if(t){var n=_(e);if(!n)return void(e.isExpanded||oe(e,!0));t.row>=n.min&&t.row<n.max&&oe(e,!0)}}function _(e){if(!e.isExpanded){var t=e.rowModels.length;if(!(t<30))return{min:8,max:t-5}}}function E(e,t){var n=e.columnModels[t];return{values:e.columns[t].values.slice(),dragMode:n.dragMode,hidden:n.hidden,id:n.id,color:n.color,points:n.points,lines:n.lines,pointStyle:n.pointStyle,lineStyle:n.lineStyle,latex:n.latex}}function S(){return"table_guid_"+he++}function M(){return{guid:S(),type:"cell",row:void 0,column:void 0}}function k(e){return{type:"row",index:e,guid:S(),cells:[]}}function I(e,t,n,r){var i=e.columnModels[t];i.cells.splice(n,0,r),r.column=i,e.columns[i.index].values.splice(n,0,"")}function C(e,t,n){var r=e.columnModels[t];r.cells.splice(n,1),e.columns[r.index].values.splice(n,1)}function T(e,t,n){var i=r.__assign({},n,{type:"header",guid:S(),index:t,error:void 0,table:e,color:n.color||e.controller.getNextColor(),packedErrors:[],computedValues:[],cells:void 0,row:void 0,discrete:void 0,shouldGraph:void 0,disabled:void 0,draggable:void 0});return i.cells=i.values.map(function(){var e=M();return e.column=i,e}),delete i.values,0===t&&(i.hidden=!0),i}function P(e){e.draggingOnGraphpaper?e.preTransientState||(e.preTransientState={columns:V(e,{stripDefaults:!1}).columns}):delete e.preTransientState,s.updateIsHiddenFromUI(e);var t=h.getParentFolderModel(e),n=t&&t.hidden;a.each(e.columnModels,function(e){e.shouldGraph=!n&&!e.hidden}),U(e),G(e),R(e)}function D(e,t){e.formula=t;var n,r=e.formula.column_data,i=e.columnModels[0].cells.length,o=0;for(n=0;n<r.length;n++){var s=r[n].values.length;s>o&&(o=s)}for(n=o-i;n>0;n--)A(e,i),i++;for(n=0;n<r.length;n++)x(e,n,r[n]);var a=e.columnModels[e.columnModels.length-1];a.disabled=!0,a.error=void 0}function A(e,t){var n=k(t+1);e.rowModels.splice(t+1,0,n);for(var r=t+1;r<e.rowModels.length;r++)e.rowModels[r].index=r;for(r=0;r<e.columnModels.length;r++){var i=M();I(e,r,t,i),y(e,t+1,r,i)}}function L(e,t){var n=_(e);n&&t===n.max-1&&oe(e,!0);for(var r=0;r<e.columnModels.length;r++)C(e,r,t);for(e.rowModels.splice(t+1,1),r=t+1;r<e.rowModels.length;r++)e.rowModels[r].index=r}function O(e,t,n){var i=r.__assign({},f.COLUMN_DEFAULTS,n,{values:e.columns[0].values.map(function(){return""})}),o=T(e,t,i);e.columnModels.splice(t,0,o),e.columns.splice(t,0,i);for(var s=t+1;s<e.columnModels.length;s++)e.columnModels[s].index=s;for(y(e,0,t,o),s=1;s<e.rowModels.length;s++)y(e,s,t,o.cells[s-1])}function F(e,t){e.columnModels.splice(t,1);for(var n=t;n<e.columnModels.length;n++)e.columnModels[n].index=n;for(n=0;n<e.rowModels.length;n++)v(e,n,t)}function q(e,t){var r,i=e.columnModels.length,o=[];for(r=0;r<i;r++)o.push("");var s=e.columns[0].values;if(t>1){var a=e.controller.isDegreeMode(),l=c.default(s[0],a),d=c.default(s[1],a);if(isFinite(l)&&isFinite(d)){var p=n(l,d);if(p){var h=p.nstart,f=h/p.lcm;for(r=0;r<t;r++){var g=c.default(s[r],a);if(!u.approx(g,f))return o;h+=p.nstep,f=h/p.lcm}o[0]=(""+l).length<8&&(""+d).length<8?""+f:"\\frac{"+h+"}{"+p.lcm+"}"}}}return o}function N(e,t){for(var n=0;n<e.columnModels.length;n++){t(e.columnModels[n].latex);for(var r=e.columns[n],i=0;i<r.values.length;i++)r.values[i]&&t(r.values[i])}}function R(e){for(var t=m.computeParsableState({type:"table",id:e.id,secret:e.secret,folderId:e.folderId,columns:e.columnModels.map(function(t){return E(e,t.index)})}),n=0;n<t.columns.length;n++)t.columns[n].hidden=!e.columnModels[n].shouldGraph;e.cachedParsableState=t}function B(e,t){return e=d.default(e),e.push(r.__assign({},f.COLUMN_DEFAULTS,{id:t,values:e[0].values.map(function(){return""})})),e.forEach(function(e){e.values.push("")}),e}function j(e){return e=d.default(e),e.pop(),e.forEach(function(e){e.values.pop()}),e}function V(e,t){var n=r.__assign({},e.cachedViewState,{columns:j(e.cachedViewState.columns)});return t.stripDefaults?g.stripDefaults(n):n}function U(e){var t=e.columnModels.map(function(t,n){return E(e,n)});e.cachedViewState={id:e.id,type:e.type,folderId:e.folderId,columns:t,secret:e.secret}}function z(e,t){e.draggingOnGraphpaper=t}function G(e){var t=r.__assign({},e.cachedViewState,{columns:j(e.cachedViewState.columns)});e.preTransientState&&(t=r.__assign({},t,e.preTransientState)),e.cachedUndoRedoState=t}function H(e,t){if(e.columnModels.length-1!==t.length)return{type:"start-fresh"};if(e.columnModels[0].cells.length-1!==t[0].values.length)return{type:"start-fresh"};for(var n=-1,r=t.length-1;r>=0;r--){var i=e.columns[r],o=t[r];if(i.id!==o.id)return{type:"start-fresh"};for(var s=i.values,a=o.values,l=a.length-1;l>=0;l--)if(s[l]!==a[l]&&(-1===n&&(n=l),n!==l))return{type:"start-fresh"}}return-1===n?{type:"none"}:{type:"edit-row",rowIndex:n}}function K(e,t){var n=H(e,t.columns);if(p.copyProperties({from:t,to:e,props:{id:!1,type:!1,columns:!1,folderId:!0,secret:!0}}),"start-fresh"===n.type)e.columns=B(t.columns,e.controller.generateId()),Y(e);else{switch(n.type){case"none":break;case"edit-row":for(var r=t.columns.length-1;r>=0;r--){ue(e,{column:r,row:n.rowIndex+1},t.columns[r].values[n.rowIndex])}break;default:return n}for(var i=0;i<t.columns.length;i++)p.copyProperties({from:t.columns[i],to:e.columnModels[i],props:{id:!1,values:!1,color:!0,latex:!0,hidden:!0,points:!0,lines:!0,dragMode:!0,lineStyle:!0,pointStyle:!0}})}}function W(e,t){var n=d.default(g.inflateDefaults(e)),i=r.__assign({},n,s.DEFAULTS(t),{columnModels:void 0,rowModels:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoState:{},isExpanded:!1});i.columns=B(i.columns,t.generateId());var o,a=0;for(o=0;o<i.columns.length;o++)i.columns[o].values||(i.columns[o].values=[]),i.columns[o].values.length>a&&(a=i.columns[o].values.length);for(o=0;o<i.columns.length;o++)for(var l=a-i.columns[o].values.length;l>0;l--)i.columns[o].values.push("");return Y(i),i}function Y(e){e.columnModels=e.columns.map(function(t,n){return T(e,n,t)}),e.rowModels=[k(0)];for(var t=0;t<e.columnModels.length;t++)y(e,0,t,e.columnModels[t]);for(var t=0;t<e.columnModels[0].cells.length;t++){var n=k(t+1);e.rowModels.push(n);for(var r=0;r<e.columnModels.length;r++)y(e,t+1,r,e.columnModels[r].cells[t])}}function X(e,t,n){for(var r=[],s=Math.min(t.length,fe.length),a=0;a<s;a++)r.push({id:n.generateId(),latex:l.identifierToLatex(fe[a]+"_"+e),values:t[a],color:n.getNextColor(),hidden:!1,points:!0,lines:!1,dragMode:o.DragMode.NONE,pointStyle:i.PointStyle.POINT,lineStyle:i.LineStyle.SOLID});return{id:n.generateId(),type:"table",folderId:"",secret:!1,columns:r}}function $(e,t){var n=V(e,{stripDefaults:!1});if(!n.columns||!t.columns)return t;for(var r=0;r<t.columns.length;r++){var i=n.columns[r],o=t.columns[r];if(i)for(var s in i)i.hasOwnProperty(s)&&(o.hasOwnProperty(s)||(o[s]=i[s]))}return t}function Q(e){var t=e.controller.getFocusLocation();return t&&"table"===t.type&&t.id===e.id?t.location:void 0}function Z(e,t){for(var n=0;n<e.columnModels.length;n++){var r=e.columnModels[n];if(r.id===t)return r}throw new Error("could not find ColumnModel with id: "+t)}function J(e,t,n){var r=Z(e,t);r.points=n,n||(r.dragMode=o.DragMode.NONE)}function ee(e,t,n){Z(e,t).pointStyle=n}function te(e,t,n){Z(e,t).lines=n}function ne(e,t,n){Z(e,t).lineStyle=n}function re(e,t,n){var r=Z(e,t);r.dragMode=n,n===o.DragMode.NONE||r.points||(r.points=!0)}function ie(e,t,n){Z(e,t).color=n}function oe(e,t){e.isExpanded=t}function se(e,t,n){Z(e,t).hidden=n,n&&le(e)}function ae(e,t,n){Z(e,t).boundingBoxes=n,le(e)}function le(e){var t=[];e.columnModels.forEach(function(e){e.boundingBoxes&&!e.hidden&&(t=t.concat(e.boundingBoxes))}),e.boundingBoxes=t}function ce(e,t){var n=Z(e,t);return!n.points&&!n.lines}function ue(e,t,n){if(0===t.row){return Z(e,e.columnModels[t.column].id).latex=n,void(t.column>=e.columnModels.length-1&&O(e,t.column+1,{id:e.controller.generateId(),latex:"",color:e.controller.getNextColor()}))}var r=e.columnModels[t.column];e.columns[r.index].values[t.row-1]=n,""!==n&&t.row>=e.columnModels[0].cells.length&&A(e,t.row)}function de(e,t){return t.row<e.rowModels.length&&t.column<e.columnModels.length}function pe(e){if(e.values)for(var t=0,n=e.values;t<n.length;t++)if(""!==n[t])return!1;if(e.computedValues)for(var r=0,i=e.computedValues;r<i.length;r++)if(""!==i[r])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.insertCellToRow=y,t.removeCellFromRow=v,t.formatValueForDisplay=b,t.setColumnComputedValues=x,t.updateIsCollapsedByFocusLocation=w,t.getCollapsedRange=_,t.getColumnState=E;var he=0;t.getGUID=S,t.makeCell=M,t.makeRow=k,t.insertCellToColumn=I,t.removeCellFromColumn=C,t.makeColumn=T,t.onControllerUpdate=P,t.onFormulaUpdate=D,t.insertBlankRow=A,t.removeRow=L,t.insertBlankColumn=O,t.removeColumn=F,t.getRowAutoFillValues=q,t.eachLatex=N,t.updateCachedParsableState=R,t.addBlankRowAndColumn=B,t.stripBlankRowAndColumn=j,t.getState=V,t.updateCachedViewState=U,t.setIsDraggingOnGrapher=z,t.updateCachedUndoRedoState=G,t.computeTableStructureMutation=H,t.restoreState=K,t.initModel=W,t.buildEntireColumnStructure=Y;var fe=["x","y","z","u","v","w"];t.makeTableState=X,t.cloneTableAndExtendWithProperties=$,t.getSelectedCell=Q,t.getColumnModel=Z,t.setColumnPoints=J,t.setColumnPointStyle=ee,t.setColumnLines=te,t.setColumnLineStyle=ne,t.setColumnDragMode=re,t.setColumnColor=ie,t.setExpanded=oe,t.setColumnHidden=se,t.setColumnBoundingBoxes=ae,t.mergeBoundingBoxes=le,t.shouldHideColumn=ce,t.setCellLatex=ue,t.doesCellExist=de,t.isColumnEmpty=pe}),define("main/propagate_selection",["require","graphing-calc/models/table"],function(e){function t(e){var t=e&&e.id;if(e&&"table"===e.type){var n=r.getSelectedCell(e);if(n){var i=e.columnModels[n.column];t=i?i.id:void 0}else t=void 0}if(e&&"folder"===e.type){var o=e.selectedHiddenChild;t=o?o.id:void 0}return t}function n(e,n,r,i){var o=e.getSelectedItem(),s=t(o);if(s!==i){n.select(s);var a={};void 0!==s&&(a[s]=!0),r.setIntersectIds(a),r.updateIntersections(s)}return s}var r=e("graphing-calc/models/table");return{getSelectedId:t,propagateSelection:n}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("flux",[],t):"object"==typeof exports?exports.Flux=t():e.Flux=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports.Dispatcher=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=n(2),o=function(){function e(){r(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||i(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||i(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(this._callbacks[n]||i(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&i(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=r}])}),define("keys",["require"],function(e){return new function(){var e={8:this.BACKSPACE="Backspace",9:this.TAB="Tab",13:this.ENTER="Enter",16:this.SHIFT="Shift",17:this.CONTROL="Control",18:this.ALT="Alt",20:this.CAPSLOCK="CapsLock",27:this.ESCAPE="Esc",32:this.SPACEBAR="Space",33:this.PAGEUP="PageUp",34:this.PAGEDOWN="PageDown",35:this.END="End",36:this.HOME="Home",37:this.LEFT="Left",38:this.UP="Up",39:this.RIGHT="Right",
40:this.DOWN="Down",46:this.DELETE="Del"},t={UIKeyInputUpArrow:this.UP,UIKeyInputDownArrow:this.DOWN,UIKeyInputLeftArrow:this.LEFT,UIKeyInputRightArrow:this.RIGHT,UIKeyInputEscape:this.ESCAPE,UIKeyInputPageUp:this.PAGEUP,UIKeyInputPageDown:this.PAGEDOWN};this.isUndo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&90==e.which&&!e.shiftKey},this.isRedo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&(89==e.which||90==e.which&&e.shiftKey)},this.isSelectAll=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&65==e.which},this.isBacktick=function(e){return!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||192!=e.which)},this.isHelp=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&191==e.which},this.lookup=function(n){return e[n.which]||t[n.key]},this.lookupChar=function(e){return String.fromCharCode(e.which)}}}),define("loadcss!touchtracking",function(){}),define("touchtracking",["require","jquery","ipad.ghostevents","keys","loadcss!./touchtracking"],function(e){function t(e,t){var r=q?{passive:!1}:void 0;document.addEventListener(e,function(e){t(n.event.fix(e))},r)}var n=e("jquery"),r=e("ipad.ghostevents"),i=e("keys");e("loadcss!./touchtracking"),void 0==window._touchtracking_id_counter&&(window._touchtracking_id_counter=0),window._touchtracking_id_counter+=1;var o="touchtracking_id_"+window._touchtracking_id_counter,s=function(e){n(e).addClass("dcg-tap-container"),n(e).addClass(o)},a=function(e){n(e).addClass("dcg-no-touchtracking")};r.evtInScope=function(e){return E(e.target)},r.isGhostEvent=function(e){return!window.PointerEvent&&(!(u!==l&&u!==c&&!k())&&(e.target!==m&&((!e.target||!n.contains(e.target,m))&&(!m||!n.contains(m,e.target)))))};var l=1,c=4,u=0,d={},p={},h=[],f=0,g=null,m=null,y=null,v=[],b=function(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t},x=function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];if(t.push(i),n(i).is(".dcg-tap-container, .dcg-no-touchtracking"))return n(i).is(".dcg-tap-container."+o)?t:[]}return[]},w=function(e,t){m=null,u=e,h=b(u===l?t.originalEvent.touches[0].target:t.target),n(x(h)).addClass("dcg-depressed").each(function(){var e=n(this);S(e)&&e.addClass("dcg-focus-by-tap")}),n(h).each(function(){var e=n(this);e.data({originalScrollTop:e.scrollTop(),originalScrollLeft:e.scrollLeft()})}),p={}},_=function(e){return e.is("input, textarea, select")||e.hasClass("dcg-mathquill-input-span")},E=function(e){return!!n(e).closest(".dcg-tap-container, .dcg-no-touchtracking").is(".dcg-tap-container."+o)},S=function(e){return 3!==u&&!_(e)&&E(e)},M=function(e){m=null,n(".dcg-depressed").removeClass("dcg-depressed");var t=n(document.activeElement);if(S(t))try{t.blur()}catch(e){}if(n(".dcg-focus-by-tap").removeClass("dcg-focus-by-tap"),n(h).each(function(){var e=n(this),t=e.data("originalScrollTop")-e.scrollTop(),r=e.data("originalScrollLeft")-e.scrollLeft();(t||r)&&(p.scroll=!0)}),1===p["dcg-tapstart"]&&1===p["dcg-tapend"]&&!p["dcg-tapcancel"]&&!p.scroll){var r="mouse"===e.device?e.clientX:e.originalEvent.changedTouches[0].clientX,i="mouse"===e.device?e.clientY:e.originalEvent.changedTouches[0].clientY;if(e&&!e.device&&0===r&&0===i){var o=e.target.getBoundingClientRect();r=(o.left+o.right)/2,i=(o.top+o.bottom)/2,e.device="keyboard"}for(var s=!1,a=0;a<h.length&&!s;a++){var d,y=n(h[a]);if("function"==typeof y[0].getBoundingClientRect&&(d=y[0].getBoundingClientRect()),"true"===y.attr("tapboundary")&&(s=!0),d){if(r<d.left||i<d.top)continue;if(r>d.right)continue;if(i>d.bottom)continue}m=y[0],C("dcg-tap",e,m);break}}u!==l&&u!==c||(g=setTimeout(function(){g=null,f=(new Date).getTime()},1e3)),h=[],u=0},k=function(){return g||(new Date).getTime()-f<500},I=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push({identifier:r.identifier,x:r.pageX,y:r.pageY,screenX:r.screenX,screenY:r.screenY,pageX:r.pageX,pageY:r.pageY,clientX:r.clientX,clientY:r.clientY})}return t},C=function(e,t,r){if("dcg-tapstart"===e)d[t.identifier]={type:e,pageX:t.originalEvent.changedTouches[0].pageX,pageY:t.originalEvent.changedTouches[0].pageY};else if("dcg-tapmove"===e){var i=t.originalEvent.changedTouches[0],o=d[t.identifier];if(o&&i.pageX===o.pageX&&i.pageY===o.pageY)return;if((u===l||u===c)&&o&&"dcg-tapstart"===o.type&&Math.abs(o.pageX-i.pageX)+Math.abs(o.pageY-i.pageY)<2)return;d[t.identifier]={type:e,pageX:t.originalEvent.changedTouches[0].pageX,pageY:t.originalEvent.changedTouches[0].pageY}}void 0===p[e.toLowerCase()]?p[e.toLowerCase()]=1:p[e.toLowerCase()]++;var s=n.event.fix(t.originalEvent);s.type=e,s.device=u===l||u===c?"touch":3===u?"keyboard":"mouse",s.touches=I(t.originalEvent.touches),s.changedTouches=I(t.originalEvent.changedTouches),s.target=r||t.target;var a="keyboard"!==s.device&&p["dcg-longhold"]>0;s.wasLongheld=function(){return a},s.preventTap=function(){p["dcg-tapcancel"]=1},clearTimeout(y),"dcg-tapstart"===s.type&&"keyboard"!==s.device&&1===s.touches.length&&(y=setTimeout(function(){C("dcg-longhold",t,r)},500)),n(s.target).trigger(s)},T=function(e){var t=h,r=!!h.length,i=n(".dcg-tap-container."+o+" .dcg-hovered"),s=n.makeArray(i.filter(function(){return E(this)})),a=[],l=[],c=[];x(b(e)).forEach(function(e){r&&-1===t.indexOf(e)||(-1===s.indexOf(e)&&c.push(e),a.push(e))});for(var u=0;u<s.length;u++)e=s[u],-1===a.indexOf(e)&&l.push(e);n(l).removeClass("dcg-hovered").trigger("tipsyhide"),n(c).addClass("dcg-hovered").trigger("tipsyshow")},P=function(e){for(var t=0;t<v.length;t++)if(v[t].pointerId===e)return!0;return!1},D=function(e){for(var t=0;t<v.length;t++)if(v[t].pointerId===e)return v.splice(t,1)[0]},A=function(e){0===u&&w(c,e),T(null),v.push(e.originalEvent),e.originalEvent.identifier=e.originalEvent.pointerId,e.originalEvent.touches=v,e.originalEvent.changedTouches=[e.originalEvent],C("dcg-tapstart",e)},L=function(e){D(e.originalEvent.pointerId),e.originalEvent.identifier=e.originalEvent.pointerId,e.originalEvent.touches=v,e.originalEvent.changedTouches=[e.originalEvent],C("dcg-tapcancel",e),0===v.length&&M(e)},O=function(e){D(e.originalEvent.pointerId),e.originalEvent.identifier=e.originalEvent.pointerId,e.originalEvent.touches=v,e.originalEvent.changedTouches=[e.originalEvent],C("dcg-tapend",e),0===v.length&&M(e)},F=function(e){return"touch"===e.originalEvent.pointerType||2===e.originalEvent.pointerType};n(document).on("pointerdown MSPointerDown",function(e){2!==u&&u!==l&&F(e)&&(P(e.originalEvent.pointerId)||A(e))}),n(document).on("pointermove MSPointerMove",function(e){2!==u&&u!==l&&F(e)&&(P(e.originalEvent.pointerId)||A(e),D(e.originalEvent.pointerId),v.push(e.originalEvent),e.originalEvent.identifier=e.originalEvent.pointerId,e.originalEvent.touches=v,e.originalEvent.changedTouches=[e.originalEvent],C("dcg-tapmove",e))}),n(document).on("pointercancel MSPointerCancel",function(e){if(u===c&&F(e)&&P(e.originalEvent.pointerId)){L(e);for(var t;t=v.pop();){var e=n.Event(t,{originalEvent:t});L(e)}}}),n(document).on("pointerup MSPointerUp",function(e){if(u===c&&F(e)&&P(e.originalEvent.pointerId)){O(e);for(var t;t=v.pop();){var e=n.Event(t,{originalEvent:t});O(e)}}});var q=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",function(){},t),window.removeEventListener("test",function(){},t)}catch(e){}return e}();return t("touchstart",function(e){2!==u&&u!==c&&(0===u&&w(l,e),T(null),C("dcg-tapstart",e))}),t("touchmove",function(e){u===l&&C("dcg-tapmove",e)}),t("touchcancel",function(e){u===l&&(C("dcg-tapcancel",e),0===e.originalEvent.touches.length&&M(e))}),t("touchend",function(e){u===l&&(C("dcg-tapend",e),0===e.originalEvent.touches.length&&M(e))}),n(document).on("mousedown",function(e){if(1!==e.button&&2!==e.button){if(u===l||u===c||k())return void(!n(e.target).is("input, textarea, select")&&E(e.target)&&e.preventDefault());w(2,e),e.originalEvent.touches=[e],e.originalEvent.changedTouches=[e],C("dcg-tapstart",e)}}),n(document).ready(function(){n(document).on("mousedown",function(e){var t=!!n(e.target).closest(".dcg-do-not-blur").length,r=!!n(e.target).closest(".dcg-do-blur").length;if(t&&!r&&E(e.target)){e.preventDefault();try{var i=window.getSelection();if(1===i.rangeCount){var o=i.getRangeAt(0);o.startContainer===o.endContainer&&n(o.startContainer).closest(".dcg-text-selectable").length&&i.removeAllRanges()}}catch(e){}}})}),n(document).on("mouseleave",function(e){0===u&&(k()||T(null))}),n(document).on("mousemove",function(e){1!==e.button&&2!==e.button&&u!==l&&u!==c&&(k()||(T(e.target),e.originalEvent.touches=[e],e.originalEvent.changedTouches=[e],C("dcg-tapmove",e)))}),n(document).on("mouseup",function(e){1!==e.button&&2!==e.button&&2===u&&(e.originalEvent.touches=[],e.originalEvent.changedTouches=[e],C("dcg-tapend",e),M(e))}),n(document).on("keydown",function(e){if((i.lookup(e)===i.ENTER||i.lookup(e)===i.SPACEBAR)&&E(e.target)&&3!==u){if(n(e.target).is('a:not([ontap]), button, input, textarea, select, [contenteditable="true"]'))return;e.preventDefault(),w(3,e),e.originalEvent.touches=[e],e.originalEvent.changedTouches=[e],C("dcg-tapstart",e)}}),n(document).on("keyup",function(e){i.lookup(e)!==i.ENTER&&i.lookup(e)!==i.SPACEBAR||!E(e.target)||3===u&&(e.originalEvent.touches=[],e.originalEvent.changedTouches=[e],C("dcg-tapend",e),M(e))}),{monitor:s,ignore:a,isTapActive:function(){return 0!==u},elIsFocusable:_}}),define("lib/conditional_blur",["require","exports","touchtracking","jquery"],function(e,t,n,r){"use strict";function i(){if(document.activeElement){var e=r(document.activeElement);n.elIsFocusable(e)&&r(document.activeElement).blur()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}),define("lib/state-stack",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){void 0===e&&(e=100),this.clear(),this._sizeLimit=e}return e.prototype.clear=function(){this._stack=[],this._stackPointer=-1},e.prototype.getState=function(){return this._stack[this._stackPointer]},e.prototype.serializeForBugsnag=function(){function e(e){try{return JSON.stringify(e,null,2)}catch(e){return"[[could not jsonify]]"}}return{currentState:e(this._stack[this._stackPointer]),undoState:e(this._stack[this._stackPointer-1]),redoState:e(this._stack[this._stackPointer+1])}},e.prototype.addState=function(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.push(e),this._stack.length>this._sizeLimit&&this._stack.shift(),this._stackPointer=this._stack.length-1},e.prototype.replaceState=function(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),0===this._stack.length?(this._stack.push(e),this._stackPointer=0):this._stack[this._stackPointer]=e},e.prototype.canUndo=function(){return this._stackPointer>0},e.prototype.canRedo=function(){return this._stackPointer<this._stack.length-1},e.prototype.undo=function(){this.canUndo()&&(this._stackPointer-=1)},e.prototype.redo=function(){this.canRedo()&&(this._stackPointer+=1)},e}();t.default=n}),define("graphing/viewport",["require","exports"],function(e,t){"use strict";function n(e,t){return e*(1-1e-8)+1e-8*t>e&&t-e>1e-300&&t-e<1e300}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){void 0===e&&(e=-10),void 0===t&&(t=10),void 0===n&&(n=-10),void 0===r&&(r=10),this.xmin=e,this.xmax=t,this.ymin=n,this.ymax=r}return e.fromObject=function(t){return new e(t.xmin,t.xmax,t.ymin,t.ymax)},e.prototype.toObject=function(){return{xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax}},e.prototype.equals=function(e){return this.xmin===e.xmin&&(this.ymin===e.ymin&&(this.xmax===e.xmax&&this.ymax===e.ymax))},e.prototype.isXValid=function(){return n(this.xmin,this.xmax)},e.prototype.isYValid=function(){return n(this.ymin,this.ymax)},e.prototype.isValid=function(){return this.isXValid()&&this.isYValid()},e.prototype.isSquare=function(e){return Math.abs(e.height-e.width*this.aspectRatio())<1},e.prototype.aspectRatio=function(){return(this.ymax-this.ymin)/(this.xmax-this.xmin)},e.prototype.squareXAxis=function(t){var n=this.xmax-this.xmin,r=this.ymax-this.ymin,i=this.xmin+n/2,o=r/t.height*t.width;return new e(i-o/2,i+o/2,this.ymin,this.ymax)},e.prototype.squareYAxis=function(t){var n=this.xmax-this.xmin,r=this.ymax-this.ymin,i=this.ymin+r/2,o=n/t.width*t.height;return new e(this.xmin,this.xmax,i-o/2,i+o/2)},e.prototype.squareCrop=function(e){return this.aspectRatio()>e.height/e.width?this.squareYAxis(e):this.squareXAxis(e)},e.prototype.polarDiameter=function(){var e=Math.abs(this.xmax),t=Math.abs(this.xmin),n=Math.abs(this.ymax),r=Math.abs(this.ymin);return 1.5*Math.max(e,t,n,r)},e.prototype.largestR=function(){return Math.sqrt(Math.pow(Math.max(-this.xmin,this.xmax),2)+Math.pow(Math.max(-this.ymin,this.ymax),2))},e.prototype.smallestR=function(){return this.xmin<=0&&this.xmax>=0&&this.ymin<=0&&this.ymax>=0?0:this.xmin<=0&&this.xmax>=0?Math.min(Math.abs(this.ymin),Math.abs(this.ymax)):this.ymin<=0&&this.ymax>=0?Math.min(Math.abs(this.xmin),Math.abs(this.xmax)):Math.sqrt(Math.pow(Math.max(this.xmin,-this.xmax),2)+Math.pow(Math.max(this.ymin,-this.ymax),2))},e}();t.Viewport=r}),define("migrations/0",["require"],function(e){function t(e){if(e.type){if(l.hasOwnProperty(e.type))return e.type;throw new Error("Invalid item type: '"+e.type+"'.")}return void 0!==e.text?"text":void 0!==e.columns||void 0!==e.headings?"table":"expression"}function n(e){return e.replace(/\\(total|length|mean|median|quantile|stdev|stddev|stdDev|stdevp|stddevp|stdDevP|var|variance|cov|corr|ceil|floor|round|abs|mod|lcm|mcm|mcd|nCr|nPr|signum|sign|arcsinh|arccosh|arctanh|arccsch|arcsech|arccoth|arccsc|arcsec|arccot)/g,"\\operatorname{$1}")}function r(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]="latex"===r?n(e[r]):"values"===r?e[r].map(n):e[r]);return t}function i(e){var i,o=t(e),s={};switch(o){case"expression":for(i in e)e.hasOwnProperty(i)&&(s[i]="latex"===i?n(e[i]):e[i]);return s.type=o,s;case"table":for(i in e)e.hasOwnProperty(i)&&(s[i]="columns"===i?e[i].map(r):e[i]);return s.type=o,s;case"image":for(i in e)e.hasOwnProperty(i)&&(s[i]="width"===i||"height"===i||"x"===i||"y"===i?n(e[i]):e[i]);return s.type=o,s;case"text":case"folder":for(i in e)e.hasOwnProperty(i)&&(s[i]=e[i]);return s.type=o,s}}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"xAxisArrows"!==n&&"yAxisArrows"!==n&&(t[n]=e[n]);return t.xAxisArrowMode=c[e.xAxisArrows||"none"],t.yAxisArrowMode=c[e.yAxisArrows||"none"],t}function s(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=o(e.graph),t.expressions={list:e.expressions.list.map(i)},t.version=0,t}var a={NONE:"NONE",POSITIVE:"POSITIVE",BOTH:"BOTH"},l={expression:!0,table:!0,image:!0,folder:!0,text:!0},c={none:a.NONE,both:a.BOTH,positive:a.POSITIVE};return s}),define("migrations/1",["require"],function(e){function t(e){return e.replace(/\\(sech|csch)/g,"\\operatorname{$1}")}function n(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="latex"===r?t(e[r]):"values"===r?e[r].map(t):e[r]);return n}function r(e){var r,i=e.type,o={};switch(i){case"expression":for(r in e)e.hasOwnProperty(r)&&(o[r]="latex"===r?t(e[r]):e[r]);return o;case"table":for(r in e)e.hasOwnProperty(r)&&(o[r]="columns"===r?e[r].map(n):e[r]);return o;case"image":for(r in e)e.hasOwnProperty(r)&&(o[r]="width"===r||"height"===r||"x"===r||"y"===r?t(e[r]):e[r]);return o;case"text":case"folder":for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o;default:throw new Error("Unexpected expression type: "+i)}}function i(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(r)},t.version=o,t}var o=1;return i}),define("migrations/2",["require","expressions/colors"],function(e){function t(e){switch(e){case a:return s.RED;case l:return s.BLUE;case c:return s.GREEN;case u:return s.PURPLE;case d:return s.ORANGE;case p:return s.BLACK;default:return e}}function n(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="color"===r?t(e[r]):e[r]);return n}function r(e){var r,i=e.type,o={};switch(i){case"expression":for(r in e)e.hasOwnProperty(r)&&(o[r]="color"===r?t(e[r]):e[r]);return o;case"table":for(r in e)e.hasOwnProperty(r)&&(o[r]="columns"===r?e[r].map(n):e[r]);return o;case"image":case"text":case"folder":for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o;default:throw new Error("Unexpected expression type: "+i)}}function i(e){if(e.version>1)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(r)},t.version=o,t}var o=2,s=e("expressions/colors"),a="#C0504D",l="#4F81BD",c="#9BBB59",u="#8064A2",d="#F79646",p="#000000";return i}),define("migrations/3",["require"],function(e){function t(e){if("string"==typeof e)return e;if(void 0===e)return"";var t=e+"";return t=t.replace(/1e\+?([-\d]+)/,"10^{$1}"),t=t.replace(/([-\d\.]+)e\+?([-\d]+)/,"$1\\cdot 10^{$2}")}function n(e){var n,r=e.type,i={};switch(r){case"expression":for(n in e)e.hasOwnProperty(n)&&(i[n]="sliderMax"===n||"sliderMin"===n||"sliderInterval"===n?t(e[n]):"domain"===n?{max:t(e[n].max),min:t(e[n].min)}:e[n]);return i.hasOwnProperty("sliderMin")&&void 0===i.sliderInterval&&(i.sliderInterval=""),i;case"image":case"table":case"text":case"folder":for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i;default:throw new Error("Unexpected expression type: "+r)}}function r(e){if(e.version>2)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(n)},t.version=i,t}var i=3;return r}),define("migrations/4",["require"],function(e){function t(e){switch(e){case"point":return"POINT";case"cross":return"CROSS";case"open":return"OPEN";case"normal":return"SOLID";case"dashed":return"DASHED";case"dotted":return"DOTTED";default:return e}}function n(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="style"===r?t(e[r]):e[r]);return n}function r(e){var r,i=e.type,o={};switch(i){case"expression":for(r in e)e.hasOwnProperty(r)&&(o[r]="style"===r?t(e[r]):e[r]);return o;case"table":for(r in e)e.hasOwnProperty(r)&&(o[r]="columns"===r?e[r].map(n):e[r]);return o;case"image":case"text":case"folder":for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o;default:throw new Error("Unexpected expression type: "+i)}}function i(e){if(3!==e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(r)},t.version=o,t}var o=4;return i}),define("migrations/5",["require"],function(e){function t(e){var t,n={};for(var r in e)if(e.hasOwnProperty(r))switch(t=e[r],r){case"showAxes":n.showXAxis=t,n.showYAxis=t;break;case"showLabels":n.xAxisNumbers=t,n.yAxisNumbers=t,n.polarNumbers=t;break;case"labelXMode":n.xAxisStep="pi"===t?Math.PI:0;break;case"labelYMode":n.yAxisStep="pi"===t?Math.PI:0;break;default:n[r]=t}return n}function n(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"showPoints"!==n&&"showLine"!==n&&(t[n]=e[n]);return void 0===e.showPoints&&void 0===e.showLine||(e.showPoints&&e.showLine?t.columnMode="POINTS_AND_LINES":e.showPoints?t.columnMode="POINTS":e.showLine?t.columnMode="LINES":(t.hidden=!0,t.columnMode="POINTS")),t}function r(e){var t,r=e.type,i={};switch(r){case"expression":void 0===e.hidden?e.hasOwnProperty("graphed")?i.hidden=!e.graphed:e.hasOwnProperty("userRequestedGraphing")?i.hidden="never"===e.userRequestedGraphing:i.hidden=!1:i.hidden=e.hidden;for(t in e)e.hasOwnProperty(t)&&"graphed"!==t&&"userRequestedGraphing"!==t&&"hidden"!==t&&"slider"!==t&&("color"!==t?"style"!==t?"sliderInterval"!==t?i[t]=e[t]:i.sliderInterval="undefined"===e.sliderInterval?"":e.sliderInterval:i.style="normal"===e.style?"SOLID":e.style:"object"==typeof e.color?i.color=e.color.value:i.color=e.color);return i;case"table":if(e.headings||e.columns){var o=e.headings?e.headings:e.columns;if(i.columns=o.map(n),e.rows)for(var s=0;s<i.columns.length;s++){var a=i.columns[s];a.values=[];for(var l=0;l<e.rows.length;l++)a.values.push(e.rows[l][s])}}for(t in e)e.hasOwnProperty(t)&&"rows"!==t&&"headings"!==t&&"columns"!==t&&(i[t]=e[t]);return i;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i;default:throw new Error("Unexpected expression type: "+r)}}function i(e){if(4!==e.version)throw new Error("Unexpected version: "+e.version);var n={};return n.graph=t(e.graph),n.expressions={list:e.expressions.list.map(r)},n.version=o,n}var o=5;return i}),define("migrations/6",["require","lib/deepCopy","underscore","math/sliders","lib/evaluate-single-expression"],function(e){function t(e){return!(e.length<2)&&("`"===e[0]&&"`"===e[e.length-1])}function n(e){if(t(e))return{raw:e,parts:[e]};for(var n,r=["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\{[a-zA-Z0-9]+\\}"],i="({"+r.join("})|({")+"})",o=new RegExp(i,"g"),s=[],a=0,l=0;n=o.exec(e);){l=n.index,l>a&&s.push(e.substr(a,l-a));var c=n[0],u=c.replace(/[{}\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");s.push({symbol:u,str:c}),a=n.index+c.length}return a<e.length&&s.push(e.substr(a)),{raw:e,parts:s}}function r(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&"style"!==n)if("values"===n&&(t[n]=e[n].map(function(e){return e?""+e:""})),"columnMode"!==n||e.hasOwnProperty("points")||e.hasOwnProperty("lines"))t[n]=e[n];else switch(e[n]){case"LINES":t.points=!1,t.lines=!0;break;case"POINTS_AND_LINES":t.points=!0,t.lines=!0;break;default:t.points=!0,t.lines=!1}return t.hasOwnProperty("pointStyle")||(t.pointStyle="POINT"),t.hasOwnProperty("lineStyle")||(t.lineStyle="SOLID"),t.id=""+t.id,t}function i(e){var t=n(e),r="";return u.each(t.parts,function(e){r+="object"==typeof e&&e.str?"$"+e.str:e}),r}function o(e,t){var n=e.latex.split("=");if(2===n.length){var r=p(n[1]);if(isFinite(r)){var i=e.slider.hardMin?p(e.slider.min||"-10",t):void 0,o=e.slider.hardMax?p(e.slider.max||"10",t):void 0,s=e.slider.step?p(e.slider.step,t):void 0,a=d.determineWhichLimitsAreCompatibleWithValue({target:r,step:s,hardMin:i,hardMax:o});a.min||(delete e.slider.hardMin,delete e.slider.min),a.max||(delete e.slider.hardMax,delete e.slider.max),a.step||delete e.slider.step}}}function s(e,t,n,s){var a,l=e.type,c={};switch(l){case"folder":for(a in e)e.hasOwnProperty(a)&&("memberIds"===a||(c[a]=e[a]));break;case"expression":for(a in e)if(e.hasOwnProperty(a))if("style"!==a||e.hasOwnProperty("pointStyle")||e.hasOwnProperty("lineStyle"))f.hasOwnProperty(a)?(c.slider=c.slider||{},c.slider[f[a]]=e[a]):c[a]=e[a],e.label&&(c.label=i(e.label));else{var d=e[a];u.contains(["POINT","OPEN","CROSS"],d)?(c.pointStyle=d,c.lineStyle="SOLID"):u.contains(["SOLID","DASHED","DOTTED"],d)?(c.pointStyle="POINT",c.lineStyle=d):(c.pointStyle="POINT",c.lineStyle="SOLID")}c.latex&&c.slider&&!c.slider.isPlaying&&o(c,s),c.hasOwnProperty("fillOpacity")||(c.fillOpacity=.4),!1===c.label&&(c.label=""),c.labelSize||(c.labelSize="medium"),c.labelOrientation||(c.labelOrientation="default"),c.verticalLabel||(c.verticalLabel=!1),c.interactiveLabel||(c.interactiveLabel=!1);break;case"image":for(a in e)e.hasOwnProperty(a)&&"x"!==a&&"y"!==a&&(c[a]=e[a]);c.center="\\left("+(e.x||"0")+","+(e.y||"0")+"\\right)",c.angle=e.angle||"0",c.foreground=!!c.foreground;break;case"text":for(a in e)e.hasOwnProperty(a)&&(c[a]=e[a]);break;case"table":for(a in e)e.hasOwnProperty(a)&&(c[a]="columns"===a?e[a].map(r):e[a]);break;default:throw new Error("Unexpected expression type: "+l)}if(c.id=""+c.id,"folder"===e.type)t.folderId=c.id,t.memberIds=e.memberIds,c.folderId="";else{var p=n[c.id];t.memberIds&&t.memberIds[p]?c.folderId=t.folderId:(c.folderId="",t.folderId=void 0,t.memberIds=void 0)}return c}function a(e){for(var t=0,n=/^[0-9]+$/,r=e.length-1;r>=0;r--){var i,o=e[r],s=o.id;if(n.test(s)&&(i=parseInt(s,10))>t&&(t=i),"table"===o.type&&o.columns)for(var a=o.columns.length-1;a>=0;a--)s=o.columns[a].id,n.test(s)&&(i=parseInt(s,10))>t&&(t=i)}return t+1}function l(e){if(5!==e.version)throw new Error("Unexpected version: "+e.version);var t=!(!e.graph||!e.graph.degreeMode),n=e.expressions.list,r=-1,i={},o={},l={},u={};return u.graph=e.graph,u.expressions={list:n.map(function(e){return i[e.id]?(-1===r&&(r=a(n)),o[r]=e.id,e=c(e),e.id=r+"",r+=1):o[e.id]=e.id,i[e.id]=!0,s(e,l,o,t)})},u.version=h,u}var c=e("lib/deepCopy").default,u=e("underscore"),d=e("math/sliders"),p=e("lib/evaluate-single-expression").default,h=6,f={sliderMin:"min",sliderMax:"max",sliderInterval:"step",sliderHardMin:"hardMin",sliderHardMax:"hardMax",sliderAnimationPeriod:"animationPeriod",sliderLoopMode:"loopMode",sliderPlayDirection:"playDirection",sliderIsPlaying:"isPlaying"};return l}),define("main/validate-state",["require","exports","lib/deepCopy"],function(e,t,n){"use strict";function r(e){"number"==typeof e.min&&(e.min=""+e.min),"number"==typeof e.max&&(e.max=""+e.max),"number"==typeof e.step&&(e.step=""+e.step)}function i(e){e.slider&&r(e.slider),"string"!=typeof e.id&&(e.id=""+e.id)}function o(e){for(var t,n,r=a(e)+1,o={},s=0,l=e;s<l.length;s++){var c=l[s];if(i(c),"folder"===c.type)t=c.id,o[c.id]&&(c.id=""+r,r+=1),n=c.id,o[c.id]=!0;else{if(void 0!==t&&c.folderId===t?c.folderId=n:(c.folderId&&(c.folderId=""),t=void 0,n=void 0),"table"===c.type)for(var u=0,d=c.columns;u<d.length;u++){var p=d[u];o[p.id]&&(p.id=""+r,r+=1),o[p.id]=!0}o[c.id]&&(c.id=""+r,r+=1),o[c.id]=!0}}}function s(e,t){var n=parseFloat(t);return n!==Math.floor(n)?e:Math.max(e,n)}function a(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];if(t=s(t,i.id),"table"===i.type)for(var o=0,a=i.columns;o<a.length;o++){var l=a[o];s(t,l.id)}}return t}function l(e){var t=n.default(e);return o(t.expressions.list),t}Object.defineProperty(t,"__esModule",{value:!0}),t.validateState=l}),define("migrations/back-migration",["require","exports","tslib"],function(e,t,n){"use strict";function r(e){if(8!==e.version)throw new Error("Unexpected version: "+e.version);var t=e.expressions.list.map(function(e){if("image"===e.type&&e.hasOwnProperty("opacity")){var t=n.__assign({},e);t.stringOpacity=e.opacity;var r=+e.opacity;return isNaN(r)||r>=1||r<=0?delete t.opacity:t.opacity=r,t}return e});return{version:7,graph:e.graph,expressions:{list:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define("migrations/7",["require","exports","tslib"],function(e,t,n){"use strict";function r(e){if(6!==e.version)throw new Error("Unexpected version: "+e.version);var t=e.expressions.list.map(function(e){if("expression"===e.type&&e.domain){var t=n.__assign({},e,{parametricDomain:{min:e.domain.min,max:e.domain.max}});return delete t.domain,t}return e});return{version:7,graph:e.graph,expressions:{list:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define("migrations/8",["require","exports","tslib"],function(e,t,n){"use strict";function r(e){if(7!==e.version)throw new Error("Unexpected version: "+e.version);var t=e.expressions.list.map(function(e){if("image"===e.type){var t=n.__assign({},e,{opacity:""});return e.hasOwnProperty("stringOpacity")?t.opacity=e.stringOpacity:e.hasOwnProperty("opacity")?t.opacity=e.opacity+"":delete t.opacity,delete t.stringOpacity,t}return e});return{version:8,graph:e.graph,expressions:{list:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define("main/migrate_state",["require","exports","migrations/0","migrations/1","migrations/2","migrations/3","migrations/4","migrations/5","migrations/6","lib/console","main/validate-state","../migrations/back-migration","../migrations/7","../migrations/8"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){"use strict";function f(e){if(e.version>t.currentVersion)return c.warn("Loading saved state with version "+e.version+" but last known version is "+t.currentVersion+". States saved in a newer version of the calculator may not load correctly in an older version of the calculator."),u.validateState(e);if(e.hasOwnProperty("version")&&!m[e.version])return c.warn("State has invalid version "+e.version+". If a version is present, it should be a non-negative integer less than or equal to "+t.currentVersion+"."),u.validateState(e);for(e.hasOwnProperty("version")||(e=m[0](e));e.version<t.currentVersion;)e=m[e.version+1](e);return u.validateState(e)}function g(e){return d.default(f(e))}Object.defineProperty(t,"__esModule",{value:!0});var m=[n,r,i,o,s,a,l,p.default,h.default];t.persistedVersion=7,t.currentVersion=8,t.migrateToLatest=f,t.migrateToPersisted=g}),define("graphing-calc/models/focus",["require","exports","./expression","./list"],function(e,t,n,r){"use strict";function i(e,t,n){o(e,s(e,t,n))}function o(e,t){if(e.focusLocation=t,t&&"settings"!==t.type){var i=e.getItemModel(t.id);r.setSelected(e.getListModel(),i),i&&"expression"===i.type&&n.setSliderIsPlaying(i,!1)}}function s(e,t,n){var r=e.getItemModel(t);if(r)switch(r.type){case"expression":case"folder":case"text":return{type:r.type,id:t};case"table":var i={row:1,column:0};return n&&("cell"===n.location?i={row:n.row,column:n.column}:"end"===n?i={row:r.columnModels[0].cells.length,column:0}:"start"===n&&(i={row:0,column:0})),{type:r.type,id:t,location:i};case"image":return{type:r.type,id:t,location:"name"};default:return r}}function a(e){var t=e.getSelectedItem();if(t&&"expression"===t.type)return void i(e,t.id);if(!t||"table"!==t.type||!e.focusLocation){for(var n=e.getFirstFullyVisibleItem();n&&"expression"!==n.type;)n=e.getItemModelByIndex(n.index+1);if(n)return void i(e,n.id);var o=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()});r.insertItemAtEnd(e.getListModel(),o),i(e,o.id)}}function l(e){var t=e.focusLocation;if(t&&"settings"!==t.type)return e.getItemModel(t.id)}function c(e,t,n){o(e,{type:"table",id:t,location:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.moveFocusToItem=i,t.setFocusLocation=o,t.computeFocusLocationForItem=s,t.addFocusForKeypad=a,t.getFocusedItem=l,t.focusTableCell=c}),define("graphing-calc/actions/keyboard",["require","exports","browser","lib/conditional_blur","../models/table","../models/focus","../models/list","../models/abstract-item"],function(e,t,n,r,i,o,s,a){"use strict";function l(e,t,n){var r=e.getItemModel(t);if(r&&"table"===r.type){var s=r,a=i.getSelectedCell(s),l=a?a.row:-1,f=a?a.column:-1,g=s.columnModels,m=g[0].cells.length,y=g.length,v=function(n,r){-1===n?c(e):n>m?u(e):(-1===r?(r=y-1,n--):r===y&&(n++,r=0),o.focusTableCell(e,t,{row:n,column:r}))},b=function(n){m>2&&i.removeRow(s,l-1),o.focusTableCell(e,t,{row:n,column:f})},x=function(n){0===f||y<=2||(i.removeColumn(s,f),o.focusTableCell(e,t,{row:l,column:n}))};switch(n){case"Left":v(l,f-1);break;case"Right":v(l,f+1);break;case"Up":v(l-1,f);break;case"Down":v(l+1,f);break;case"Enter":if(l>=m)return h(e);if(f>0)return v(l+1,f);if(l===m-1){var w=i.getRowAutoFillValues(s,l);i.insertBlankRow(s,l);for(var _=0;_<w.length;_++)i.setCellLatex(s,{row:l+1,column:_},w[_]);return void o.focusTableCell(e,t,{row:l+1,column:f})}i.insertBlankRow(s,l),o.focusTableCell(e,t,{row:l+1,column:f});break;case"Backspace":0===l?0===f?d(e):f===y-1||1===f&&3===y?v(0,f-1):x(f-1):0!==f?v(l,f-1):l===m?v(l-1,f):b(l-1);break;case"Delete":0===l?0===f?p(e):f<y-1&&x(f):l>=m||b(l)}}}function c(e){var t=e.getSelectedItem();t&&(e.inAudioTraceMode()||0!==t.index&&(s.selectPrevItem(e.getListModel()),(t=e.getSelectedItem())&&o.moveFocusToItem(e,t.id,"end")))}function u(e){if(!e.inAudioTraceMode()){if(!s.selectNextItem(e.getListModel())){var t=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()});s.insertItemAtEnd(e.getListModel(),t),s.setSelected(e.getListModel(),t)}var n=e.getSelectedItem();n&&o.moveFocusToItem(e,n.id,"start")}}function d(e){var t=e.getSelectedItem();if(t&&(1!==e.getItemCount()||"expression"!==t.type)){var r="text"===t.type,i=s.getParentFolderModel(t);if(i){var l=e.getNumberOfItemsInFolder(i.id);if(t.index===i.index+l)return void a.setFolderId(t,"")}if(f(e),r&&n.IS_IPAD&&n.IS_IN_IFRAME)return void s.setSelected(e.getListModel(),void 0);t=e.getSelectedItem(),t&&o.moveFocusToItem(e,t.id,"end")}}function p(e){var t=e.getSelectedItem();t&&(1===e.getItemCount()&&"expression"===t.type||(g(e),
(t=e.getSelectedItem())&&o.moveFocusToItem(e,t.id,"start")))}function h(e){var t=e.getSelectedItem();if(t){if("text"===t.type&&n.IS_IPAD&&n.IS_IN_IFRAME)return r.default(),void s.setSelected(e.getListModel(),void 0);if(("expression"===t.type||"image"===t.type)&&t.missingVariables.length)return e.createSlidersForItem(t.id,t.missingVariables.concat(""));var i=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()}),l=t.index+1;"folder"===t.type&&t.collapsed&&(l+=e.getNumberOfItemsInFolder(t.id)),s.insertItemAtIndex(e.getListModel(),i,l),s.setSelected(e.getListModel(),i),"folder"!==t.type||t.collapsed?t.folderId&&a.setFolderId(i,t.folderId):a.setFolderId(i,t.id),t=e.getSelectedItem(),t&&o.moveFocusToItem(e,t.id)}}function f(e){var t=e.getSelectedItem(),n=e.getListModel();if(t){var r=s.findPrevSelectableItem(n,t.index);if(e._removeExpressionSynchronously(t),!r){var i=s.getFirstSelectableItem(n);i&&(r=i)}s.setSelected(n,r)}}function g(e){var t=e.getSelectedItem(),n=e.getListModel();if(t){var r=s.findNextSelectableItem(n,t.index);if(e._removeExpressionSynchronously(t),!r){var i=s.getLastSelectableItem(n);i&&(r=i)}s.setSelected(n,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.navigateTableByKey=l,t.onUpPressed=c,t.onDownPressed=u,t.onBackspacePressed=d,t.onDeletePressed=p,t.onEnterPressed=h,t.upwardDeleteSelectedExpression=f,t.downwardDeleteSelectedExpression=g}),define("main/expression-zoom-helpers",["require","exports","lib/deepCopy"],function(e,t,n){"use strict";function r(e){switch(e){case"histogram":case"dotplot":return 12;case"boxplot":return 40}return 1/0}function i(e){return"boxplot"===e||"dotplot"===e||"histogram"==e}function o(e){return"boxplot"===e?3:.5}function s(e,t){if("dotplot"===e.type||"histogram"===e.type){var n=Math.max(1,e.xmax-e.xmin),r=80*n/(e.binWidth?e.binWidth:1),i=.5*(t.screen.width-r)/r;return Math.max(.2,i)}return.5}function a(e){e=n.default(e);return e.xmax<0&&e.xmin<0&&e.xmax/(e.xmin-e.xmax)<1.2&&(e.xmax=0),e.xmax>0&&e.xmin>0&&e.xmin/(e.xmax-e.xmin)<1.2&&(e.xmin=0),e.ymax<0&&e.ymin<0&&e.ymax/(e.ymin-e.ymax)<1.2&&(e.ymax=0),e.ymax>0&&e.ymin>0&&e.ymin/(e.ymax-e.ymin)<1.2&&(e.ymin=0),e}function l(e,t){var n,a,l,c,u=e.type,d=s(e,t),p=o(u);e.xmin===e.xmax&&(e.xmin-=.5,e.xmax+=.5),e.ymin===e.ymax&&(e.ymin-=.5,e.ymax+=.5);var h=e.xmax-e.xmin;n=e.xmin-d*h,a=e.xmax+d*h;var f=e.ymax-e.ymin;if(l=e.ymin-p*f,c=e.ymax+p*f,i(u)){var g=t.screen.height/t.screen.width,m=(a-n)*g;if(m>e.ymax-e.ymin&&m<r(u)*(e.ymax-e.ymin)){var y=.5*(e.ymax+e.ymin);c=y+.5*m,l=y-.5*m}}return{xmin:n,xmax:a,ymin:l,ymax:c}}function c(e,t){var n=u(e,t);if(!n)return!1;var r=t.mapx(n.xmin),i=t.mapx(n.xmax),o=t.mapy(n.ymin),s=t.mapy(n.ymax);return!(Math.abs(r)<=10&&Math.abs(s)<=10&&Math.abs(i-t.screen.width)<=10&&Math.abs(o-t.screen.height)<=10)}function u(e,t){for(var n=1/0,r=-1/0,i=1/0,o=-1/0,s=0,c=e.length,u=0;u<c;u++){var d=a(e[u]);if(isFinite(d.xmax-d.xmin)&&isFinite(d.ymax-d.ymin)){var p=l(d,t);p.xmin<n&&(n=p.xmin),p.xmax>r&&(r=p.xmax),p.ymin<i&&(i=p.ymin),p.ymax>o&&(o=p.ymax)}else s+=1}if(s!==c)return{xmin:n,xmax:r,ymin:i,ymax:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.conditionalExpandViewport=a,t.padViewport=l,t.shouldExpressionZoomFit=c,t.getRecommendedViewportForExpression=u}),define("main/layout-model",["require","exports","browser"],function(e,t,n){"use strict";function r(e){return{keypadMinimized:!n.IS_TOUCH_DEVICE,keypadLayout:"mainNumbers",keypadFunctionsTab:"trig",keypadFunctionsOpen:!1,graphSettingsOpen:!1,addExpressionOpen:!1,expressionsVisible:!!e.expressions,inEditListMode:!1,isFileDraggedOver:!1,expressionsHiddenTime:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLayoutModel=r}),define("main/settings-view-model",["require","exports","tslib","graphing/label"],function(e,t,n,r){"use strict";function i(e,t){var n=r.value(e,t),i="";if(n.mantissa)i=n.mantissa.split("×").join("\\cdot")+"^{"+n.superscript+"}";else{var o=n.string.split("/");i=2===o.length?"-"===o[0][0]?"-\\frac{"+o[0].slice(1)+"}{"+o[1]+"}":"\\frac{"+o[0]+"}{"+o[1]+"}":n.string}return i=i.replace(/π/,"\\pi")}function o(e){return{xmin:i(e.xmin,e.xmax-e.xmin),xmax:i(e.xmax,e.xmax-e.xmin),ymin:i(e.ymin,e.ymax-e.ymin),ymax:i(e.ymax,e.ymax-e.ymin)}}function s(e,t){return 0===e?"":i(e,t)}function a(e,t,r){var i=o(e);return n.__assign({},i,{xstep:s(t,e.xmax-e.xmin),ystep:s(r,e.ymax-e.ymin)})}function l(){return{limitLatex:{xmin:"",xmax:"",xstep:"",ymin:"",ymax:"",ystep:""},focusOnOpen:!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatLatex=i,t.formatViewport=o,t.formatStep=s,t.limitLatex=a,t.defaultSettingsViewModel=l}),define("expressions/list_move_controller",["require","exports","graphing/dragmode","lib/number-to-latex","graphing/label","lib/rounding","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/list","graphing-calc/models/image"],function(e,t,n,r,i,o,s,a,l,c){"use strict";function u(e,t,r){if(r.tableInfo){l.setSelected(t,void 0);var i=e.getItemModel(r.tableInfo.tableId);if(!i||"table"!==i.type)return;a.setIsDraggingOnGrapher(i,!0)}else{var o=e.getItemModel(r.sketch.id);if(!o||"expression"!==o.type&&"image"!==o.type)return;if("image"!==o.type&&l.setSelected(t,void 0),!o.formula||!o.formula.move_strategy)return;for(var u=o.formula.move_strategy,d=0;d<u.length;d++)if("updateCoordinate"===u[d].type)"image"===o.type?c.setIsDraggingOnGrapher(o,!0):"expression"===o.type&&s.setIsDraggingOnGrapher(o,!0);else if("updateSlider"===u[d].type){var p=e.getItemModel(u[d].id);if(!p||"expression"!==p.type)continue;var h;if((h="expression"===o.type?o.reconciledDragMode:void 0)===n.DragMode.NONE||0===d&&h===n.DragMode.Y||1===d&&h===n.DragMode.X)continue;s.setSliderDragging(p,!0)}}}function d(e,t){if(t.tableInfo){var n=e.getItemModel(t.tableInfo.tableId);if(!n||"table"!==n.type)return;return void a.setIsDraggingOnGrapher(n,!1)}var r=e.getItemModel(t.sketch.id);if(r&&("expression"===r.type||"image"===r.type)&&r.formula&&r.formula.move_strategy)for(var i=r.formula.move_strategy,o=0;o<i.length;o++)if("image"===r.type?c.setIsDraggingOnGrapher(r,!1):"expression"===r.type&&s.setIsDraggingOnGrapher(r,!1),"updateSlider"===i[o].type){var l=e.getItemModel(i[o].id);l&&"expression"===l.type&&s.setSliderDragging(l,!1)}}function p(e,t,n,i){var s=t.tableInfo.tableId,l=t.tableInfo.rowIndex,c=t.tableInfo.columnId,u=t.tableInfo.dragX,d=t.tableInfo.dragY,p=e.getItemModel(s);if(p&&"table"===p.type&&a.getColumnModel(p,c)){var f=i.closestPointOnScreen(n),g=i.pixelsToMath.mapRect(h(f,.5)),m={x:r.default(o.shortestDecimalBetween(g.left,g.right)),y:r.default(o.shortestDecimalBetween(g.top,g.bottom))};if(u&&a.setCellLatex(p,{row:l+1,column:0},m.x),d){var y=a.getColumnModel(p,c).index;a.setCellLatex(p,{row:l+1,column:y},m.y)}}}function h(e,t){return{left:e.x-t,right:e.x+t,top:e.y+t,bottom:e.y-t}}function f(e,t,n){var s;s=e.assignment?i.identifierToLatex(e.assignment)+"=":"";var a=o.shortestDecimalBetween(t[0].min,t[0].max),l=o.shortestDecimalBetween(t[1].min,t[1].max),c="updateCoordinate"===e.move_strategy[0].type&&g(0,n),u="updateCoordinate"===e.move_strategy[1].type&&g(1,n);return s+"\\left("+(c?r.default(a):e.move_strategy[0].inputString)+","+(u?r.default(l):e.move_strategy[1].inputString)+"\\right)"}function g(e,t){switch(t){case n.DragMode.X:return 0===e;case n.DragMode.Y:return 1===e;case n.DragMode.XY:return!0;default:return!1}}function m(e,t,n){if(0===n[0]&&0===n[1])return{x:t.x,y:t.y,width:e.width,height:e.height};var r=Math.cos(e.radianAngle),i=Math.sin(e.radianAngle),o=t.x-e.x,s=t.y-e.y;if(0===n[0])return{x:e.x,y:e.y,width:e.width,height:2*n[1]*(r*s+i*o)};if(0===n[1])return{x:e.x,y:e.y,width:2*n[0]*(r*o-i*s),height:e.height};var a=2*(e.width*n[0]*(r*o-i*s)+e.height*n[1]*(i*o+r*s))/(e.width*e.width+e.height*e.height);return{x:e.x,y:e.y,width:a*e.width,height:a*e.height}}function y(e,t,n){for(var r=[{x:t.left,y:t.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom}],i=["x","y","width","height"],o={x:1/0,y:1/0,width:1/0,height:1/0},s={x:-1/0,y:-1/0,width:-1/0,height:-1/0},a=0,l=r;a<l.length;a++)for(var c=l[a],u=m(e,c,n),d=0,p=i;d<p.length;d++){var h=p[d];o[h]=Math.min(o[h],u[h]),s[h]=Math.max(s[h],u[h])}return{min:o,max:s}}function v(e,t,n,i,a){var l=t.formula;if(!l||!l.move_strategy)return!1;var u=l.dimensions,d=n.scaleFactor,p=0!==d[0]&&0!==d[1],f=a.closestPointOnScreen(i),g=a.pixelsToMath.mapRect(h(f,p?.05:.5)),m=y(u,g,d),v=a.mathToPixels.mapRect({left:u.x-.5*u.width,right:u.x+.5*u.width,top:u.y-.5*u.height,bottom:u.y+.5*u.height}),b=Math.abs(v.right-v.left),x=Math.abs(v.bottom-v.top),w=a.mathToPixels.mapRect({left:m.min.x-.5*m.min.width,right:m.min.x+.5*m.min.width,top:m.min.y-.5*m.min.height,bottom:m.min.y+.5*m.min.height}),_=Math.abs(w.right-w.left),E=Math.abs(w.bottom-w.top);if(_<b&&_<1||E<x&&E<1)return!1;for(var S=["width","height","x","y"],M=!1,k=0;k<S.length;k++){var I=S[k],C=l.move_strategy[k];switch(C.type){case"updateCoordinate":var T=o.shortestDecimalBetween(m.min[I],m.max[I]),P=r.default(T);switch(I){case"width":case"height":c.setMQAttribute(t,I,P);break;case"x":if("updateCoordinate"===l.move_strategy[3].type){var D=o.shortestDecimalBetween(m.min.y,m.max.y),A=r.default(D),L="\\left("+P+","+A+"\\right)";c.setMQAttribute(t,"center",L)}else{var L="\\left("+P+","+l.move_strategy[3].inputString+"\\right)";c.setMQAttribute(t,"center",L)}break;case"y":if("updateCoordinate"!==l.move_strategy[2].type){var L="\\left("+l.move_strategy[2].inputString+","+P+"\\right)";c.setMQAttribute(t,"center",L)}break;default:return I}M=!0;break;case"updateSlider":var O=e.getItemModel(C.id);if(!O||"expression"!==O.type)continue;var F=C.coefficients[0],q=C.coefficients[1],N=q*m.min[I]+F,R=q*m.max[I]+F,B=o.shortestDecimalBetween(N,R),j=O.latex;s.adjustSliderByMovablePoint(O,B),O.latex!==j&&(M=!0)}}return M}function b(e,t,r,i,a){var l=t.formula;if(!l||!l.move_strategy)return!1;var c=t.reconciledDragMode||n.DragMode.NONE,u=!1,d=i.closestPointOnScreen(r),p=i.pixelsToMath.mapRect(h(d,.5)),m=[{min:p.left,max:p.right},{min:p.top,max:p.bottom}];"updateCoordinate"!==l.move_strategy[0].type&&"updateCoordinate"!==l.move_strategy[1].type||(s.setLatex(t,f(l,m,c)),u=!0);for(var y=0;y<2;y++){var v=l.move_strategy[y];if("updateSlider"===v.type&&g(y,c)){var b=e.getItemModel(v.id);if(b&&"expression"===b.type){var x=v.coefficients[0],w=v.coefficients[1],_=b.latex,E=a&&a[y];if(E)s.adjustSliderByKeyboard(b,E);else{var S=o.shortestDecimalBetween(w*m[y].min+x,w*m[y].max+x);s.adjustSliderByMovablePoint(b,S)}b.latex!==_&&(u=!0)}}}return u}function x(e,t,n,r,i){if(t.tableInfo)return p(e,t,n,r),!0;var o=e.getItemModel(t.sketch.id);return!!o&&("image"===o.type?v(e,o,t,n,r):"expression"===o.type&&b(e,o,n,r,i))}Object.defineProperty(t,"__esModule",{value:!0}),t.onStartMovingPoint=u,t.onStopMovingPoint=d,t.onMovePoint=x}),define("main/blank_state",["require","exports","main/migrate_state"],function(e,t,n){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_STATE={version:8,graph:{viewport:{xmin:-10,ymin:-13.25,xmax:10,ymax:13.25}},expressions:{list:[{id:"1",type:"expression"}]}},t.BLANK_STATE.version!==n.currentVersion)throw new Error("Blank state version is "+t.BLANK_STATE.version+", but latest migration version is "+n.currentVersion+". The blank state should be migrated to the latest version.");t.default=t.BLANK_STATE}),define("submodules/dcgview/src/attr-event-handler",[],function(){function e(e,t){if(null!==t&&void 0!==t){if("string"!=typeof e)throw new Error("Must pass a string for an EventHandler name");if("function"!=typeof t)throw new Error("Must pass a function for an EventHandler callback");return{bindings:{onMount:function(n){n[e.toLowerCase()]=function(e){e&&t.apply(this,arguments)}}}}}}return e}),define("submodules/dcgview/src/const",["require"],function(e){function t(e){var t=function(){return e};return t.isDCGViewConst=!0,t}function n(e){return!("function"!=typeof e||!e.isDCGViewConst)}return{isConst:n,makeConst:t}}),define("submodules/dcgview/src/attr",["require"],function(e){function t(e,t,n){void 0===n?e.removeAttribute(t):e.setAttribute(t,n+"")}return{update:t}}),define("submodules/dcgview/src/attr-generic",["require","./const","./attr"],function(e){function t(e,t){var i,o=t();return n.isConst(t)||(i={onUpdate:function(n){var i=t();i!==o&&(o=i,r.update(n,e,i))}}),{value:o,bindings:i}}var n=e("./const"),r=e("./attr");return t}),define("submodules/dcgview/src/is-event-handler",[],function(){function e(e){return"o"===e[0]&&"n"===e[1]&&e[2].toUpperCase()===e[2]}return e}),define("submodules/dcgview/src/custom-attributes",["require"],function(e){function t(e,t){i[e]=t}function n(e){return i.hasOwnProperty(e)}function r(e,t){return(0,i[e])(t)}var i={};return{isCustomAttribute:n,add:t,parse:r}}),define("submodules/dcgview/src/bindings",["require"],function(e){function t(e,t,n){var r=e._bindings[t];r?r.push(n):e._bindings[t]=[n]}function n(e,t){var n=e._bindings[t];if(n)for(var r=n.length,i=0;i<r;i++)n[i]()}return{add:t,invoke:n}}),define("submodules/dcgview/src/bind-attrs",["require","./attr-event-handler","./attr-generic","./is-event-handler","./custom-attributes","./bindings"],function(e){function t(e,t,n){var r=n.bindings;if(r)for(var i in r){var o=r[i];i in c&&(o=o.bind(null,t)),l.add(e,i,o)}}function n(e,t){if("function"!=typeof t)throw new Error('The "'+e+'" attr must be a function. It is: '+JSON.stringify(t));return a.isCustomAttribute(e)?a.parse(e,t):s(e)?i(e,t):o(e,t)}function r(e,r,i){if(r)for(var o in r){var s=n(o,r[o]);if(s){var a=s.value;void 0!==a&&i.setAttribute(o,a),s.bindings&&t(e,i,s)}}}var i=e("./attr-event-handler"),o=e("./attr-generic"),s=e("./is-event-handler"),a=e("./custom-attributes"),l=e("./bindings"),c={onMount:!0,didMount:!0,willUnmount:!0,willUpdate:!0,onUpdate:!0,didUpdate:!0};return r}),define("submodules/dcgview/src/bind-text",["require","./bindings"],function(e){function t(){i=!0}function n(e,t,n){if("function"!=typeof n)throw new Error("bindText expects a function");var o=n();void 0!==o&&null!==o||(o="");var s=document.createTextNode(o);if(i){var a=document.createElement("span");a.appendChild(s),t.appendChild(a)}else t.appendChild(s);r.add(e,"onUpdate",function(){var e=n();void 0!==e&&null!==e||(e=""),o!==e&&(s.nodeValue=e,o=e)})}var r=e("./bindings"),i=!1;return{bindText:n,enableSpanWrapping:t}}),define("submodules/dcgview/src/warnings",["require"],function(e){function t(e){i.push(e)}function n(e){var t=i;i=[];for(var n=0;n<t.length;n++){var r=t[n];r!==e&&i.push(r)}}function r(e){try{throw new Error(e)}catch(e){console.warn(e);for(var t=0;t<i.length;t++)i[t](e)}}var i=[];return{warn:r,addWarningHandler:t,removeWarningHandler:n}}),define("submodules/dcgview/src/dcg-element",["require","./bind-attrs","./bind-text","./const","./warnings"],function(e){function t(e,t){var n=document.createTextNode(t);e.appendChild(n)}function n(e,t,n){this.tagName=e,this.attrs=t,this.children=n}var r=e("./bind-attrs"),i=e("./bind-text").bindText,o=e("./const"),s=e("./warnings");return n.prototype._isDCGElement=!0,n.prototype.renderToDocFrag=function(e,n){if(this._domNode)throw new Error("Cannot remount a DCGElement");var a=this.children,l=document.createElement(this.tagName);this._domNode=l,r(n,this.attrs,l),e.appendChild(l);for(var c=a.length,u=0;u<c;u++){var d=a[u];d._isDCGElement?d.renderToDocFrag(l,n):o.isConst(d)?t(l,d()):"function"==typeof d?i(n,l,d):(s.warn("Text should be a const or a getter: "+JSON.stringify(d)),t(l,d))}},n}),define("submodules/dcgview/src/create-element",["require","./dcg-element"],function(e){function t(e,n){if(null!==e&&void 0!==e)if(Array.isArray(e))for(var r=0;r<e.length;r++)t(e[r],n);else n.push(e)}function n(e,n){for(var i=[],o=arguments.length-1,s=2;s<=o;s++)t(arguments[s],i);if("string"==typeof e)return new r(e,n,i);if(e&&e._isDCGViewClass)return new e(n,i);throw new Error("createElement expects a String or DCGViewClass")}var r=e("./dcg-element");return n}),define("submodules/dcgview/src/mounting",["require","./bindings"],function(e){function t(){for(var e=this._element;e._isDCGView;)e=e._element;return e._domNode}function n(e,t){if(t&&t._childViews.push(this),this.__generatedHTMLBefore)throw new Error("Cannot remount a DCGView");this.__generatedHTMLBefore=!0,this._element.renderToDocFrag(e,this)}function r(e,t,n){if(!e||!e._isDCGViewClass)throw new Error("Must pass a DCGView class to be mounted");if(!t||1!==t.nodeType)throw new Error("Must pass an HTMLElement for the node");if(t._mountedDCGView)throw new Error("This node is already mounted by a view");var r=new e(n),i=document.createDocumentFragment();return r.renderToDocFrag(i),t.innerHTML="",o(r),t._mountedDCGView=r,t.appendChild(i),s(r),a(r),r}function i(e){var t=e._mountedDCGView;if(!t)throw new Error("This node is not mounted by a DCGView");l(t),e.innerHTML="",delete e._mountedDCGView,c(t),u(t)}function o(e){e.willMount&&e.willMount(),p.invoke(e,"willMount"),e._childViews.forEach(o)}function s(e){e._isMounted=!0,e.onMount&&e.onMount(),p.invoke(e,"onMount"),e._childViews.forEach(s)}function a(e){e.didMount&&e.didMount(),p.invoke(e,"didMount"),e._childViews.forEach(a)}function l(e){e.willUnmount&&e.willUnmount(),p.invoke(e,"willUnmount"),e._childViews.forEach(l)}function c(e){e._isMounted=!1,e._childViews.forEach(c),p.invoke(e,"onUnmount"),e.onUnmount&&e.onUnmount()}function u(e){e._childViews.forEach(u),p.invoke(e,"didUnmount"),e.didUnmount&&e.didUnmount()}function d(e,t){var n=document.createDocumentFragment();return e.renderToDocFrag(n,t),n.firstChild}var p=e("./bindings");return{renderToDocFrag:n,findRootNode:t,createNodeForView:d,willMount:o,onMount:s,didMount:a,willUnmount:l,onUnmount:c,didUnmount:u,mountToNode:r,unmountFromNode:i}}),define("submodules/dcgview/src/update",["require","./bindings","./warnings"],function(e){function t(){if(!this._isMounted)return r.warn("Trying to update view that is not mounted. Ignoring update.");if(!this.shouldUpdate||this.shouldUpdate()){if(this.willUpdate&&this.willUpdate(),n.invoke(this,"willUpdate"),n.invoke(this,"onUpdate"),this.onUpdate&&this.onUpdate(),this.overrideChildUpdates)this.overrideChildUpdates();else for(var e=this._childViews,t=e.length,i=0;i<t;i++)e[i].update();n.invoke(this,"didUpdate"),this.didUpdate&&this.didUpdate()}}var n=e("./bindings"),r=e("./warnings");return{update:t}}),define("submodules/dcgview/src/spread",["require"],function(e){function t(e){var t=arguments.length;if(t<2)return e;for(var n=1;n<t;n++)for(var r=arguments[n],i=Object.keys(r),o=i.length,s=0;s<o;s++){var a=i[s];e[a]=r[a]}return e}return t}),define("submodules/dcgview/src/create-class",["require","./create-element","./mounting","./update","./const","./spread"],function(e){function t(e){if(!e)throw new Error("must pass a spec to DCGView.createClass");if("function"!=typeof e.template)throw new Error("must pass a template function to DCGView.createClass");var t=function(e,t){this._setupProps(e,t),this.init&&this.init(),this._callTemplate()};t.prototype._setupProps=function(e,t){if(this.p={},e){for(var n in e){var r=e[n];if("function"!=typeof r)throw new Error('The "'+n+'" prop must be a function. It is: '+JSON.stringify(r));Object.defineProperty(this.p,n,{get:r})}this.props=e}else this.props={};this.children=t,this._childViews=[],this._bindings={}},t.prototype._callTemplate=function(){if(this._element=this.template(),!this._element||!this._element._isDCGElement)throw new Error("template() must return a DCGElement")},t.prototype.bindFn=function(e){return e.bind(this)},t.prototype.findRootNode=r.findRootNode,t.prototype.renderToDocFrag=r.renderToDocFrag,t.prototype.const=o.makeConst,t.prototype.spread=s,t.prototype.createElement=n,t.prototype.update=i.update;for(var a in e)if(e.hasOwnProperty(a)){if(t.prototype.hasOwnProperty(a))throw new Error("Cannot override the "+a+"() method");t.prototype[a]=e[a]}return t._isDCGViewClass=!0,t.prototype._isDCGView=!0,t.prototype._isDCGElement=!0,t}var n=e("./create-element"),r=e("./mounting"),i=e("./update"),o=e("./const"),s=e("./spread");return t}),define("submodules/dcgview/src/attr-style",["require","./const","./attr"],function(e){function t(e){var t=e(),n=typeof t;if("string"===n)return t;if(!n||"object"!==n)throw new Error("Unsupported type returned from style getter: "+n);var r="";for(var i in t){var o=t[i];t.hasOwnProperty(i)&&null!==o&&void 0!==o&&(r?r+=";"+i+":"+o:r=i+":"+o)}return r}function n(e){var n,o=t(e);return r.isConst(e)||(n={onUpdate:function(n){var r=t(e);o!==r&&(i.update(n,"style",r),o=r)}}),{value:o,bindings:n}}var r=e("./const"),i=e("./attr");return n}),define("submodules/dcgview/src/attr-class",["require","./const"],function(e){function t(e){var t=e(),n=typeof t;if("string"===n)return t;if(!n||"object"!==n)throw new Error("Unsupported type returned from class getter: "+n);var r="";for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];o&&(r?r+=" "+i:r=i)}return r}function n(e,t,n){for(var r=[],i=e.className.replace(o,"").split(s),a=t.replace(o,"").split(s),l={},c=a.length-1;c>=0;c--)l[a[c]]=!0;var u=i.length;for(c=0;c<u;c++){var d=i[c];l.hasOwnProperty(d)||r.push(d)}return n?r.length?n+" "+r.join(" "):n:r.join(" ")}function r(e){var r,o=t(e);return i.isConst(e)||(r={onUpdate:function(r){var i=t(e);o!==i&&(r.className===o?(r.className=i,o=i):(r.className=n(r,o,i),o=i))}}),{value:o,bindings:r}}var i=e("./const"),o=/^\s+|\s+$/g,s=/\s+/;return r}),define("submodules/dcgview/src/attr-lifecycle",["require","./const"],function(e){function t(e){return function(t){if("function"!=typeof t)throw new Error("The "+e+" attribute expects a function for the value");if(n.isConst(t))throw new Error("The "+e+" attribute does not expect a const for the value");var r={bindings:{}};return r.bindings[e]=t,r}}var n=e("./const");return t}),define("submodules/dcgview/src/longest-subsequence",["require"],function(e){return function(e){var t,n,r=e.length,i=new Array(r),o=new Array(r+1),s=0;for(n=0;n<r;n++){if(e[o[s]]<e[n])t=s+1;else{for(var a=1,l=s-1;a<=l;){var c=Math.ceil((a+l)/2);e[o[c]]<e[n]?a=c+1:l=c-1}t=a}i[n]=o[t-1],o[t]=n,t>s&&(s=t)}var u=new Array(s),d=o[s];for(n=s-1;n>=0;n--)u[n]=e[d],d=i[d];return u}}),define("submodules/dcgview/src/compute-key-mutations",["require","./longest-subsequence"],function(e){function t(e,t){var r,i,o={},s=[],a=[];for(r=0;r<t.length;r++)i=t[r],o[i]=r;for(r=0;r<e.length;r++)i=e[r],void 0===o[i]&&s.push(i);var l=[];for(r=0;r<e.length;r++){i=e[r];var c=o[i];void 0!==c&&l.push(c)}var u=n(l),d={};for(r=0;r<u.length;r++)i=t[u[r]],d[i]=!0;for(r=t.length-1;r>=0;r--)i=t[r],d[i]||a.push({key:i,beforeKey:t[r+1]});return{removes:s,inserts:a}}var n=e("./longest-subsequence");return t}),define("submodules/dcgview/src/for",["require","./create-class","./compute-key-mutations","./const","./mounting"],function(e){var t=e("./create-class"),n=e("./compute-key-mutations"),r=e("./const"),i=e("./mounting"),o=t({template:function(){return this.children[0]}});return t({_isDCGFor:!0,getKeys:function(){this._keyToItem={};var e=this.props.each();if(!Array.isArray(e))throw new Error("<For each={}> must return an array");var t=this.props.key?e.map(this.props.key):e.slice(0);if(!this._chosenKeyType&&t.length&&(this._chosenKeyType=typeof t[0],"string"!==this._chosenKeyType&&"number"!==this._chosenKeyType))throw new Error("The key: "+JSON.stringify(t[0])+" is not a string or number");for(var n=0;n<t.length;n++){var r=t[n];if(typeof r!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(r)+" is not a "+this._chosenKeyType);if(r in this._keyToItem)throw new Error("The key: "+JSON.stringify(r)+" is not unique");this._keyToItem[r]=e[n]}return t},createViewForKey:function(e){var t=this._keyToItem[e],n=this._viewFunction.call(this,t,e),r=n;return r._isDCGView||(r=this.createElement(o,null,n)),this._keyToView[e]=r,r},template:function(){if(this._keyToView={},"function"!=typeof this.props.each)throw new Error("<For each={}> must be a function");if(1!==this.children.length)throw new Error("<For> expects a single child. You passed "+this.children.length);var e=this.children[0];if(!e||!e._isDCGElement)throw new Error("<For> expects the root node to be a DCGElement. You passed "+JSON.stringify(e));if(e._isDCGView)throw new Error("<For> expects the root node to not be a DCGView. Pass in something like <div> or <span>");if(1!==e.children.length)throw new Error("<For> expects a root node with a single child. You passed "+e.children.length);if(this._viewFunction=e.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<For> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var t=JSON.stringify(this._viewFunction);throw new Error("<For> expects a function that constructs a DCGElement. You passed "+t)}if(r.isConst(this._viewFunction))throw new Error("<For> expects a function that constructs a DCGElement. You passed a constant");this._keys=this.getKeys();for(var n=[],i=0;i<this._keys.length;i++){var o=this._keys[i];n.push(this.createViewForKey(o))}return e.children=n,e},detachAllRemovedViews:function(){for(var e,t=this._childViews,n=0,r=t.length,i=0;i<r;i++)e=t[i],e._will_be_unmounted_?n++:t[i-n]=e;t.splice(r-n,n)},overrideChildUpdates:function(){var e=this._keys,t=this.getKeys();this._keys=t;var r,o,s,a,l,c,u=this.findRootNode(),d=n(e,t),p=[];for(r=d.removes.length-1;r>=0;r--)c=d.removes[r],p.push(this._keyToView[c]);for(p.forEach(i.willUnmount),r=0;r<d.removes.length;r++)c=d.removes[r],o=this._keyToView[c],delete this._keyToView[c],o._will_be_unmounted_=!0,u.removeChild(o.findRootNode());p.length>0&&this.detachAllRemovedViews(),p.forEach(i.onUnmount),p.forEach(i.didUnmount);var h=[];for(r=d.inserts.length-1;r>=0;r--)(c=d.inserts[r].key)in this._keyToView||(o=this.createViewForKey(c),h.push(o),i.createNodeForView(o,this));for(h.forEach(i.willMount),r=0;r<d.inserts.length;r++)l=d.inserts[r],s=this._keyToView[l.key].findRootNode(),a=void 0!==l.beforeKey?this._keyToView[l.beforeKey].findRootNode():null,u.insertBefore(s,a);h.forEach(i.onMount),h.forEach(i.didMount);var f=this._childViews,g=f.length-h.length;for(r=0;r<g;r++)f[r].update()}})}),define("submodules/dcgview/src/switch",["require","./create-class","./const","./mounting"],function(e){var t=e("./create-class"),n=e("./const"),r=e("./mounting"),i=t({template:function(){return this.children[0]}});return t({_isDCGSwitch:!0,updateKey:function(){this._key=this.props.key()},createView:function(){var e=this._viewFunction(this._key);return null!==e&&void 0!==e||(e=this.createElement("div",{style:this.const("display: none")})),this.createElement(i,null,e)},template:function(){if(this._key=void 0,"function"!=typeof this.props.key)throw new Error("<Switch key={}> must be a function");if(1!==this.children.length)throw new Error("<Switch> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<Switch> expects a function that constructs a DCGElement. You passed "+e)}if(n.isConst(this._viewFunction))throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a constant");return this.updateKey(),this.createView()},overrideChildUpdates:function(){var e=this._key;if(this.updateKey(),e===this._key)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),r.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),r.onUnmount(this._element),r.didUnmount(this._element),this._element=this.createView();var i=r.createNodeForView(this._element,this);r.willMount(this._element),n.parentNode.insertBefore(i,n),n.parentNode.removeChild(n),r.onMount(this._element),r.didMount(this._element)}}})}),define("submodules/dcgview/src/switch-union",["require","./create-class","./mounting","./create-element"],function(e){function t(e,t,n){return o(a,{getCase:function(){var n=t();return e?n&&n[e]:n},buildChildView:function(e){var r=n[e];if(r)return r(t)}})}function n(e,n){return"string"==typeof e?t.bind(this,e,n):t(void 0,e,n)}var r=e("./create-class"),i=e("./mounting"),o=e("./create-element"),s=r({template:function(){return this.children[0]}}),a=r({_isDCGSwitchUnion:!0,updateCase:function(){this._case=this.props.getCase()},createView:function(){var e=this.props.buildChildView(this._case);return null!==e&&void 0!==e||(e=this.createElement("div",{style:this.const("display: none")})),this.createElement(s,null,e)},template:function(){return this._case=void 0,this.updateCase(),this.createView()},overrideChildUpdates:function(){var e=this._case;if(this.updateCase(),e===this._case)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),i.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),i.onUnmount(this._element),i.didUnmount(this._element),this._element=this.createView();var r=i.createNodeForView(this._element,this);i.willMount(this._element),n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),i.onMount(this._element),i.didMount(this._element)}}});return n}),define("submodules/dcgview/src/if",["require","./create-class","./const","./switch"],function(e){var t=e("./create-class"),n=e("./const"),r=e("./switch");return t({_isDCGIf:!0,template:function(){if("function"!=typeof this.props.predicate)throw new Error("<If predicate={}> must be a function");if(1!==this.children.length)throw new Error("<If> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<If> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<If> expects a function that constructs a DCGElement. You passed "+e)}if(n.isConst(this._viewFunction))throw new Error("<If> expects a function that constructs a DCGElement. You passed a constant");var t=function(){return!!this.props.predicate()}.bind(this),i=function(e){if(e)return this._viewFunction()}.bind(this);return this.createElement(r,{key:t},i)}})}),define("submodules/dcgview/src/if-defined",["require","./create-class","./mounting","./create-element"],function(e){function t(e,t){return i(s,{isDefined:function(){return null!=e()},buildChildView:function(){return t(e)}})}var n=e("./create-class"),r=e("./mounting"),i=e("./create-element"),o=n({template:function(){return this.children[0]}}),s=n({_isDCGIfDefined:!0,updateIsDefined:function(){this._isDefined=this.props.isDefined()},createView:function(){var e;return this._isDefined&&(e=this.props.buildChildView()),null!==e&&void 0!==e||(e=this.createElement("div",{style:this.const("display: none")})),this.createElement(o,null,e)},template:function(){return this._isDefined=void 0,this.updateIsDefined(),this.createView()},overrideChildUpdates:function(){var e=this._isDefined;if(this.updateIsDefined(),e===this._isDefined)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),r.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),r.onUnmount(this._element),r.didUnmount(this._element),this._element=this.createView();var i=r.createNodeForView(this._element,this);r.willMount(this._element),n.parentNode.insertBefore(i,n),n.parentNode.removeChild(n),r.onMount(this._element),r.didMount(this._element)}}});return t}),define("submodules/dcgview/src/if-else",["require","./switch-union"],function(e){function t(e,t){return n(function(){return e()?"true":"false"},t)}var n=e("./switch-union");return t}),define("submodules/dcgview/src/textarea",["require","./create-class","./spread"],function(e){
var t=e("./create-class"),n=e("./spread");return t({computeValue:function(){var e=this.props.value();return null===e||void 0===e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Textarea> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Textarea> expects an "onInput={}" prop');var e=n({},this.props,{onInput:function(e){this.props.onInput(e.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.disabled&&(e.disabled=function(){return!!this.props.disabled()||void 0}.bind(this)),delete e.value,this.createElement("textarea",e,this.const(this.computeValue()))},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})}),define("submodules/dcgview/src/input",["require","./create-class","./spread"],function(e){var t=e("./create-class"),n=e("./spread");return t({computeValue:function(){var e=this.props.value();return null===e||void 0===e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Input> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Input> expects an "onInput={}" prop');var e=n({},this.props,{value:this.const(this.computeValue()),onInput:function(e){this.props.onInput(e.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.disabled&&(e.disabled=function(){return!!this.props.disabled()||void 0}.bind(this)),this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})}),define("submodules/dcgview/src/checkbox",["require","./create-class","./spread"],function(e){var t=e("./create-class"),n=e("./spread");return t({computeChecked:function(){return!!this.props.checked()},template:function(){if(!this.props.checked)throw new Error('<Checkbox> expects a "checked={}" prop');if(!this.props.onChange)throw new Error('<Checkbox> expects an "onChange={}" prop');var e=n({},this.props,{type:this.const("checkbox"),checked:this.const(this.computeChecked()?"checked":void 0),onChange:function(e){this.props.onChange(e.target.checked),this._isMounted&&this.update()}.bind(this)});return this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeChecked();this.rootDOM.checked!==e&&(this.rootDOM.checked=e)}})}),define("submodules/dcgview/src/components",["require","./for","./switch","./switch-union","./if","./if-defined","./if-else","./textarea","./input","./checkbox"],function(e){return{For:e("./for"),Switch:e("./switch"),SwitchUnion:e("./switch-union"),If:e("./if"),IfDefined:e("./if-defined"),IfElse:e("./if-else"),Textarea:e("./textarea"),Input:e("./input"),Checkbox:e("./checkbox")}}),define("submodules/dcgview/src/class",["require","./create-class"],function(e){return e("./create-class")({template:function(){}})}),define("submodules/dcgview/src/dcg-view",["require","./create-element","./create-class","./mounting","./spread","./const","./custom-attributes","./attr-style","./attr-class","./attr-lifecycle","./components","./warnings","./bind-text","./class"],function(e){var t=e("./create-element"),n=e("./create-class"),r=e("./mounting"),i=e("./spread"),o=e("./const"),s=e("./custom-attributes"),a=e("./attr-style"),l=e("./attr-class"),c=e("./attr-lifecycle"),u=e("./components"),d=e("./warnings"),p=e("./bind-text").enableSpanWrapping,h=e("./class"),f={createElement:t,createClass:n,mountToNode:r.mountToNode,unmountFromNode:r.unmountFromNode,spread:i,const:o.makeConst,addCustomAttribute:s.add,Components:u,addWarningHandler:d.addWarningHandler,removeWarningHandler:d.removeWarningHandler,enableSpanWrapping:p,Class:h};return f.addCustomAttribute("style",a),f.addCustomAttribute("class",l),f.addCustomAttribute("willMount",c("willMount")),f.addCustomAttribute("onMount",c("onMount")),f.addCustomAttribute("didMount",c("didMount")),f.addCustomAttribute("willUnmount",c("willUnmount")),f.addCustomAttribute("onUnmount",c("onUnmount")),f.addCustomAttribute("didUnmount",c("didUnmount")),f.addCustomAttribute("willUpdate",c("willUpdate")),f.addCustomAttribute("onUpdate",c("onUpdate")),f.addCustomAttribute("didUpdate",c("didUpdate")),f}),define("submodules/dcgview/dcgview",["require","./src/dcg-view"],function(e){return e("./src/dcg-view")}),define("loadcss!dcgview-shim",function(){}),function(){define("dcgview",["require","jquery","underscore","submodules/dcgview/dcgview","submodules/dcgview/src/const","bugsnag","loadcss!dcgview-shim"],function(e){var t,n,r,i,o,s;return t=e("jquery"),o=e("underscore"),i=e("submodules/dcgview/dcgview"),r=e("submodules/dcgview/src/const"),n=e("bugsnag"),e("loadcss!dcgview-shim"),i.addWarningHandler(function(e){return n.notify(e)}),s=[],i.onUrlChange=function(e){return s.push(e)},i.addCustomAttribute("href",function(e){var n;return n={value:""+e(),bindings:{onMount:function(n){var r;if(!t(n).is("a")&&!t(n).is("use"))throw new Error("Cannot have an href on a non-link element.");return r=!1,t(n).on("dcg-tap",function(t){var n;if(!t.metaKey&&(r=!1,n=e(),o.any(s.map(function(e){return e(n,t)}))))return r=!0}),t(n).on("click",function(e){if(r)return r=!1,e.preventDefault()})}}},r.isConst(e)||(n.bindings.onUpdate=function(t){return t.setAttribute("href",e())}),n}),i.addCustomAttribute("onTap",function(e){return{value:"",bindings:{onMount:function(n){return t(n).on("dcg-tap",e)}}}}),i.addCustomAttribute("ignoreRealClick",function(e){return{bindings:{onMount:function(n){return t(n).on("click",function(t){if(e())return t.preventDefault()})}}}}),i.addCustomAttribute("onTapStart",function(e){return{bindings:{onMount:function(n){return t(n).on("dcg-tapstart",e)}}}}),i.addCustomAttribute("onTapMove",function(e){return{bindings:{onMount:function(n){return t(n).on("dcg-tapmove",e)}}}}),i.addCustomAttribute("onTapEnd",function(e){return{bindings:{onMount:function(n){return t(n).on("dcg-tapend",e)}}}}),i.addCustomAttribute("onLongHold",function(e){return{bindings:{onMount:function(n){return t(n).on("dcg-longhold",e)}}}}),i.addCustomAttribute("manageFocus",function(e){return void 0===e()?{}:{bindings:{onMount:function(t){return e().shouldBeFocused()&&t.focus(),t.onfocus=function(){if(!e().shouldBeFocused())return e().onFocusedChanged(!0)},t.onblur=function(){if(e().shouldBeFocused())return e().onFocusedChanged(!1)}},onUpdate:function(t){var n,r;return r=e().shouldBeFocused(),n=document.activeElement===t,r&&!n?t.focus():n&&!r?t.blur():void 0},willUnmount:function(e){return delete e.onfocus,delete e.onblur}}}}),i})}.call(this),define("vendor/mathquill",["require","exports","toplevel/mathquill","mathquill"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MQ=n.getInterface(1).config(r)}),define("loadcss!dcgview-helpers/static-mathquill-view",function(){}),define("dcgview-helpers/static-mathquill-view",["require","exports","tslib","dcgview","vendor/mathquill","jquery","lib/conditional_blur","loadcss!./static-mathquill-view"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return 1===this.children.length?this.children[0]:r.createElement("div",{didMount:function(t){return e.didMountMathquill(t)}})},t.prototype.didMount=function(){1===this.children.length&&this.didMountMathquill(this.findRootNode())},t.prototype.didMountMathquill=function(e){this.staticMath=i.MQ.StaticMath(e),o(e).off(".mathquill").addClass("dcg-static-mathquill-view").on("dcg-tapstart",function(){s.default()}),this.updateMathquill()},t.prototype.didUpdate=function(){this.updateMathquill()},t.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex()},t.prototype.updateMathquillLatex=function(){if(this.staticMath){var e=this.props.latex();this.lastLatex!==e&&(this.staticMath.latex(e),this.lastLatex=e,this.props.onReflow&&this.props.onReflow())}},t.prototype.updateMathquillAria=function(){if(this.staticMath&&this.props.getAriaLabel){var e=this.props.getAriaLabel();e!==this.staticMath.getAriaLabel()&&this.staticMath.setAriaLabel(e)}},t}(r.Class);t.default=a}),define("loadcss!dcgview-helpers/mathquill-view",function(){}),define("dcgview-helpers/mathquill-view",["require","exports","tslib","keys","browser","dcgview","vendor/mathquill","jquery","./static-mathquill-view","loadcss!./mathquill-view"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=o.Components.If,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastLatexProp="",t.wasFocusedLastUpdate=!1,t}return n.__extends(t,e),t.prototype.template=function(){var e=this;return 1===this.children.length?this.children[0]:o.createElement("div",{class:o.const("dcg-mq-container")},o.createElement(c,{predicate:function(){return e.getPlaceholder().trim().length>0}},function(){return o.createElement("span",{class:o.const("dcg-mq-placeholder")},o.createElement(l.default,{latex:function(){return e.getPlaceholder()}}))}),o.createElement("div",{class:function(){return{"dcg-math-field":!0,"dcg-invalid":e.props.hasError(),"dcg-focus":e.props.isFocused()}},didMount:function(t){return e.didMountMathquill(t)},"data-dcg-label":function(){return e.props.dataLabelAttributeValue?e.props.dataLabelAttributeValue():void 0}}))},t.prototype.didMount=function(){1===this.children.length&&this.didMountMathquill(this.findRootNode())},t.prototype.willUnmount=function(){this.$mathField.off(".view"),this.mathField=void 0},t.prototype.getPlaceholder=function(){return this.props.placeholder?this.props.isFocused()?"":this.props.latex()?"":this.props.placeholder():""},t.prototype.didMountMathquill=function(e){var t=this,o=n.__assign({},this.props.config(),{handlers:{reflow:function(e){t.props.onReflow&&t.mathField&&t.props.onReflow(e)}},onCut:function(){t.mathField&&t.props.onUserChangedLatex(t.mathField.latex())},onPaste:function(){t.mathField&&t.props.onUserChangedLatex(t.mathField.latex())},overrideTypedText:function(e){t.mathField&&t.viewCanAcceptText(e)&&(t.props.onUserTypedText?t.props.onUserTypedText(e):(t.mathField.typedText(e),t.props.onUserChangedLatex(t.mathField.latex())))},overrideKeystroke:function(e,n){if("Backspace"===e&&n.preventDefault(),t.mathField){if("Spacebar"===e&&t.props.disableSpace&&t.props.disableSpace())return n.preventDefault();if(n.originalEvent){var i=r.lookup(n.originalEvent);if("Up"===i||"Down"===i||"Left"===i||"Right"===i||"Esc"===i){var o=[];n.ctrlKey&&o.push("Ctrl"),n.metaKey&&o.push("Meta"),n.altKey&&o.push("Alt"),n.shiftKey&&o.push("Shift"),o.length?(o.push(i),e=o.join("-")):e=i}}t.props.onUserPressedKey?t.props.onUserPressedKey(e,n):(t.mathField.keystroke(e,n),t.props.onUserChangedLatex(t.mathField.latex()))}}});this.$mathField=a(e),this.mathField=s.MQ.MathField(e,o),e._mqMathFieldInstance=this.mathField,e._mqViewInstance=this,this.$mathField.on("focusin.view focusout.view",function(){return t.onFocusEvent()}).on("paste.view",function(e){return t.onPasteEvent(e)}),(i.IS_IOS||i.IS_ANDROID)&&this.$mathField.on("keypress.view",function(e){return t.onKeypressEvent(e)}),this.hookupMQTapTouch(),this.updateMathquill()},t.prototype.didUpdate=function(){this.updateMathquill()},t.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex(),this.updateMathquillFocused(),this.updateMathquillPostLabel()},t.prototype.onFocusEvent=function(){var e=this.isFocused();e!==this.shouldBeFocused()&&this.props.onFocusedChanged(e)},t.prototype.onPasteEvent=function(e){var t="",n=window.clipboardData,r=e.originalEvent;return n&&n.getData?t=n.getData("Text"):r&&r.clipboardData&&r.clipboardData.getData&&(t=r.clipboardData.getData("text/plain")),this.viewCanAcceptText(t)},t.prototype.viewCanAcceptText=function(e){return t.canAcceptText(this.mathField,this.props.capExpressionSize(),e)},t.canAcceptText=function(e,t,n){return!!e&&(!t||e.latex().length+n.length<=100)},t.prototype.onKeypressEvent=function(e){if(e.stopPropagation(),e.preventDefault(),this.mathField){var t=r.lookupChar(e.originalEvent);t&&this.viewCanAcceptText(t)&&(this.props.onUserTypedText?this.props.onUserTypedText(t):(this.mathField.typedText(t),this.props.onUserChangedLatex(this.mathField.latex())))}},t.prototype.hookupMQTapTouch=function(){var e=this;this.$mathField.on("dcg-tap.view",function(t){if("touch"===t.device&&e.mathField){var n=t.originalEvent.changedTouches[0];e.mathField.clickAt(n.clientX,n.clientY,n.target),e.mathField.focus();var r=void 0;setTimeout(function(){r=Date.now()},0),e.mathField.ignoreNextMousedown(function(){return void 0===r||Date.now()-r<500})}})},t.prototype.updateMathquillAria=function(){if(this.mathField){var e=this.props.getAriaLabel();e!==this.mathField.getAriaLabel()&&this.mathField.setAriaLabel(e)}},t.prototype.updateMathquillPostLabel=function(){this.mathField&&this.mathField.setAriaPostLabel(this.props.getAriaPostLabel(),this.props.hasError()?5e3:1e3)},t.prototype.updateMathquillLatex=function(){var e=this.props.latex();this.mathField&&this.lastLatexProp!==e&&(this.props.capExpressionSize()&&e.length>100||(this.lastLatexProp=e,this.mathField.latex()!==e&&this.mathField.latex(e)))},t.prototype.updateMathquillFocused=function(){if(this.mathField){var e=this.isFocused(),t=this.shouldBeFocused();t&&t!==this.wasFocusedLastUpdate&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.mathField.select(),this.wasFocusedLastUpdate=t,e!==t&&(t?this.mathField.focus():this.mathField.blur())}},t.prototype.isFocused=function(){return!(!document.activeElement||!a(document.activeElement).closest(this.$mathField).length)},t.prototype.shouldBeFocused=function(){return this.props.isFocused()},t.getFocusedMathquill=function(){if(document.activeElement){var e=a(document.activeElement).closest(".dcg-mq-editable-field")[0];return e?e._mqMathFieldInstance:void 0}},t.getMQViewInstance=function(e){var t=e.el();return t?t._mqViewInstance:void 0},t.applyArrowKeyAndReturnIfWasAtBounds=function(e,t,n){var r=a(e.el()),i=r.find(".dcg-mq-selection"),o=1===i.length&&i.parent().parent()[0]===r[0]&&1===i.parent().children().length;if(("Up"===t||"Down"===t)&&o)return e.keystroke(t,n),!0;var s=r.find(".dcg-mq-cursor")[0];if(!s)return e.keystroke(t,n),!1;var l=s.previousSibling||s.parentElement;return e.keystroke(t,n),l===(s.previousSibling||s.parentElement)},t.simulateKeypress=function(e,n){var r=t.getMQViewInstance(e);r&&(r.props.onUserPressedKey?r.props.onUserPressedKey(n):(e.keystroke(n),r.props.onUserChangedLatex(e.latex())))},t.simulateUserChangedLatex=function(e){var n=t.getMQViewInstance(e);n&&n.mathField&&n.props.onUserChangedLatex(n.mathField.latex())},t.handleKeystrokeAndDecideIfSpecialEvent=function(e,n,r){return"Enter"===n||("Delete"===n&&""===e.latex()||("Backspace"===n&&""===e.latex()||("Up"===n?t.applyArrowKeyAndReturnIfWasAtBounds(e,n,r):"Down"===n?t.applyArrowKeyAndReturnIfWasAtBounds(e,n,r):"Left"===n?t.applyArrowKeyAndReturnIfWasAtBounds(e,n,r):"Right"===n?t.applyArrowKeyAndReturnIfWasAtBounds(e,n,r):(e.keystroke(n,r),!1))))},t}(o.Class);t.default=u}),define("expressions/measure-expressions",["require","exports","jquery"],function(e,t,n){"use strict";function r(e){for(var t=[],n=e.getAllItemModels(),r=0,i=n;r<i.length;r++){var o=i[r],s=e.getItemRootNodeById(o.id);s&&t.push(s)}return t}function i(e){for(var t=e.getAllItemModels(),n=t.length-1;n>=0;n--){var r=t[n];if(r.dcgView)return r.id}}function o(e,t){for(var n=r(e),i=0,o=n.length-1;i<=o;){var s=i+Math.floor((o-i)/2),a=n[s],l=a.getBoundingClientRect();if(l.top>t)o=s-1;else{if(!(l.bottom<t))return a;i=s+1}}}function s(e,t){for(var n,i=r(e),o=0,s=i.length-1;o<=s;){var a=o+Math.floor((s-o)/2),l=i[a];l.getBoundingClientRect().top>t?(s=a-1,n=l):o=a+1}return n}function a(e,t){var r=f(e);if(r){if(t){var i=e.getItemRootNodeById(t);if(i){var s=i.getBoundingClientRect();if(s.height>0&&s.top<=r.top&&s.bottom>=r.top)return t}}var a=o(e,r.top);if(a)return n(a).attr("expr-id")}}function l(e,t){var r=f(e);if(r){var s=i(e);if(s){if(t){var a=e.getItemRootNodeById(t);if(a){var l=a.getBoundingClientRect();if(l.height>0&&l.top<=r.bottom&&l.bottom>=r.bottom)return t;if(t===s&&l.bottom<=r.bottom)return t}}var c=o(e,r.bottom);return c&&n(c).attr("expr-id")||s}}}function c(e){var t=f(e);if(t){var r=s(e,t.top-2);if(r)return n(r).attr("expr-id")}}function u(e,t){var n=f(e);if(!n)return!1;var r=e.getItemRootNodeById(t);if(!r)return!1;var i=r.getBoundingClientRect();return i.bottom>n.top&&i.top<n.bottom}function d(e){return e.find$(".dcg-exppanel")[0]}function p(e){var t=d(e);if(t)return n(t)}function h(e){var t=e.find$(".dcg-exppanel-outer")[0];if(t)return t.getBoundingClientRect()}function f(e){var t=d(e);if(t)return t.getBoundingClientRect()}function g(e){var t=d(e);if(t){var n=t.getBoundingClientRect(),r=t.scrollTop;return n.top-r}}function m(e){var t=e.find$(".dcg-expressionlist");if(1===t.length)return t.height()}function y(e){var t=p(e);return t?t.find(".dcg-drag-container").height():0}Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstPartiallyVisibleItemId=a,t.getLastPartiallyVisibleItemId=l,t.getFirstFullyVisibleItemId=c,t.isItemPartiallyVisible=u,t.getExppanelElt=d,t.getExppanelSelector=p,t.getOuterExppanelRect=h,t.getExppanelRect=f,t.getExppanelScrolledTop=g,t.getExpListHeight=m,t.getDragContainerHeight=y}),define("animation-frame-src",["require"],function(e){var t=0,n=function(e,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=window.setTimeout(function(){e(r+i)},i);return t=r+i,o};return window.requestAnimationFrame&&window.cancelAnimationFrame?{requestAnimationFrame:window.requestAnimationFrame.bind(window),cancelAnimationFrame:window.cancelAnimationFrame.bind(window)}:{requestAnimationFrame:n,cancelAnimationFrame:window.clearTimeout.bind(window)}}),define("lib/animation-frame",["require","exports","animation-frame-src"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestAnimationFrame=n.requestAnimationFrame,t.cancelAnimationFrame=n.cancelAnimationFrame}),define("jquery.handleevent",["require","jquery"],function(e){var t=e("jquery");t.Event.prototype.wasHandled=function(e){e=e||"_*_";var n=this.originalEvent,r=n&&n.handledBy;if(r&&r[e])return!0;if("_*_"!==e)return!1;var i=t(this.target).closest("[handleEvent]");return!(!i.length||i[0]===this.currentTarget)&&"false"!==i.attr("handleEvent")},t.Event.prototype.handle=function(e){e=e||"_*_";var t=this.originalEvent;if(t){var n=t.handledBy;n||(n=t.handledBy={}),n[e]=!0}}}),define("expressions/dragdrop_expressions",["require","exports","tslib","jquery","expressions/measure-expressions","lib/animation-frame","jquery.handleevent"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.active=!1,this.controller=e;var t=i.getExppanelSelector(e);t&&(this.$exppanel=t)}return e.prototype.startDragging=function(e){this.active=!0,this.mouseY=e,this.setupEventListeners()},e.prototype.applyDrag=function(){var e=this.controller.getListModel(),t=e.dragState;if(t){this.scheduleUpdateScroll();var r=this.measureDOM(t);if(r){var i=r.floatingPreviewRect,o=this.controller.getItemModel(t.firstItemId);if(o){for(var s=o.index,a=0,l=r.visibleRects;a<l.length;a++){var c=l[a],u=c.id,d=c.rect;if(u!==o.id){var p=this.controller.getItemModel(u);if(!p)return;if(p.index<o.index){if(i.top<d.top+d.height/2){s=p.index;break}}else i.bottom>d.top+d.height/2&&(s=p.index,"folder"===p.type&&p.collapsed&&(s+=this.controller.getNumberOfItemsInFolder(p.id)))}}var h,f;s>o.index?(h=s,f=s+1):s<o.index?(h=s-1,f=s):(h=s-1,f=s+1);var g=this.controller.getItemModelByIndex(h),m=this.controller.getItemModelByIndex(f),y="",v="";g&&(y="folder"===g.type?g.id:g.folderId),m&&(v="folder"===m.type?m.id:m.folderId);var b="";return y&&(v===y?"folder"===o.type?s=o.index:b=y:"folder"!==o.type&&this.isPreviewTopContainedInFolder(r,y)&&(b=y)),{dragState:n.__assign({},r.dragState),newIndex:s,folderId:b}}}}},e.prototype.measureDOM=function(e){var t=i.getExppanelScrolledTop(this.controller),r=i.getExpListHeight(this.controller);if(void 0!==t&&void 0!==r){var o=i.getDragContainerHeight(this.controller),s=e.mouseY-e.grabOffset+2,a=s-t;a=Math.max(a,-o/2),a=Math.min(a,r-o);var l={top:s,bottom:s+o,height:o},c=this.controller.findFirstPartiallyVisibleItem(),u=this.controller.findLastPartiallyVisibleItem();if(c&&u){for(var d=[],p=c.index;p<=u.index;p++){var h=this.controller.getItemModelByIndex(p);if(h){var f=this.controller.getItemRootNodeById(h.id);if(f&&h.id!==e.firstItemId){var g=f.getBoundingClientRect();d.push({id:h.id,rect:g})}}}if(0!==d.length)return{dragState:n.__assign({},e,{itemTop:a}),floatingPreviewRect:l,visibleRects:d}}}},e.prototype.isPreviewTopContainedInFolder=function(e,t){for(var n=e.visibleRects,r=e.floatingPreviewRect,i=0,o=n;i<o.length;i++){var s=o[i],a=s.id,l=s.rect;if(l.top<=r.top&&l.bottom>=r.top){var c=this.controller.getItemModel(a);if(!c)return!1;if("folder"===c.type&&c.id===t)return!0;if(c.folderId===t)return!0}}return!1},e.prototype.scheduleUpdateScroll=function(){var e=this;this.updateScrollScheduled||(this.updateScrollScheduled=!0,o.requestAnimationFrame(function(){e.updateScroll(),e.updateScrollScheduled=!1}))},e.prototype.stop=function(){this.active=!1,this.tearDownEventListeners(),this.controller.dispatch({type:"stop-dragdrop"})},e.prototype.setupEventListeners=function(){var e=this;r(document).on("dcg-tapmove.dragdrop",function(t){e.mouseY=t.changedTouches[0].clientY,e.controller.dispatch({type:"update-dragdrop",mouseY:e.mouseY})}),r(document).on("dcg-tapend.dragdrop",function(t){e.stop(),t.handle("dragdrop")})},e.prototype.tearDownEventListeners=function(){r(document).off(".dragdrop")},e.prototype.updateScroll=function(){if(this.active){var e=this.$exppanel[0].getBoundingClientRect(),t=0;t=Math.min(t,this.mouseY-e.top),t=Math.max(t,this.mouseY-e.bottom+30),t=t*e.height/900,t&&this.$exppanel.scrollTop(this.$exppanel.scrollTop()+t)}},e}();t.default=s}),define("keypad/mq-commands",["require","exports"],function(e,t){"use strict";function n(e,t){r[t](e)}Object.defineProperty(t,"__esModule",{value:!0});var r={loga:function(e){e.write("\\log_{}"),e.typedText("("),e.keystroke("Left"),e.keystroke("Down")},nthroot:function(e){e.write("\\sqrt[]{}"),e.keystroke("Left"),e.keystroke("Left")},ddx:function(e){e.write("\\frac{d}{dx}")},arcsin:function(e){e.write("sin^{-1}"),e.typedText("(")},arccos:function(e){e.write("cos^{-1}"),e.typedText("(")},arctan:function(e){e.write("tan^{-1}"),e.typedText("(")},arcsec:function(e){e.write("sec^{-1}"),e.typedText("(")},arccsc:function(e){e.write("csc^{-1}"),e.typedText("(")},arccot:function(e){e.write("cot^{-1}"),e.typedText("(")},"A^T":function(e){e.typedText("^T"),e.keystroke("Right")},"A^-1":function(e){e.typedText("^-1"),e.keystroke("Right")},"A^2":function(e){e.typedText("^2"),e.keystroke("Right")},"a^2":function(e){e.typedText("^2"),e.keystroke("Right")},"a^3":function(e){e.typedText("^3"),e.keystroke("Right")}};t.execute=n}),define("main/controller",["require","exports","main/propagate_selection","tslib","scroll_helpers","browser","graphing/label","underscore","lib/i18n","flux","expressions/opacity","graphing/dragmode","expressions/styles","lib/conditional_blur","lib/deepCopy","lib/number-to-latex","lib/state-stack","graphing/viewport","main/migrate_state","lib/color-helpers","graphing-calc/models/expression","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/image","graphing-calc/models/folder","graphing-calc/models/text","graphing-calc/models/list","graphing-calc/models/abstract-item","graphing-calc/models/focus","graphing-calc/actions/keyboard","main/expression-zoom-helpers","lib/evaluate-single-expression","./layout-model","./settings-view-model","jquery","bugsnag","expressions/list_move_controller","./blank_state","dcgview-helpers/mathquill-view","expressions/measure-expressions","expressions/dragdrop_expressions","keypad/mq-commands"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m,y,v,b,x,w,_,E,S,M,k,I,C,T,P,D,A,L,O,F,q,N,R,B,j,V){"use strict";function U(e){return e?r.__assign({},e,{wasCompleteSetState:void 0,layoutModel:void 0,settingsViewModel:void 0}):e}function z(e,t){return a.isEqual(U(e),U(t))}Object.defineProperty(t,"__esModule",{value:!0});var G=function(){function e(e){var t=this;this.__nextItemId=0,this.__pendingImageUploads={},this.nextSubscription=0,this.subscriptions={},this._queuedCallbacks=[],this._hasUnsavedChanges=!1,this.shouldScrollSelectedItemIntoViewAfterDispatch=!1,this.lastParsableObjects={},this.toastData={},this.t=function(e,n){var r=t.graphSettings.config.language;return l.t(e,n,r)},this.unpack=function(e){var n=t.graphSettings.config.language;return l.unpack(e,n)},this.dispatch=function(e){if("blur-focus-location"===e.type&&t.dispatcher.isDispatching())return void t.runAfterDispatch(function(){t.dispatch(e)});if("set-focus-location"===e.type&&t.dispatcher.isDispatching())return void t.runAfterDispatch(function(){t.dispatch(e)});"tick"===e.type||("process-graph-data"===e.type?F.leaveBreadcrumb("dispatch::"+t.bugsnagContext,{type:e.type}):F.leaveBreadcrumb("dispatch::"+t.bugsnagContext,e)),t.dispatcher.isDispatching()&&F.leaveBreadcrumb("dispatch-in-dispatch::"+t.bugsnagContext,{type:e.type}),t.dispatcher.dispatch(e),t.onEventsEmitted&&t.onEventsEmitted(t.enqueuedEvents);for(var n;n=t._queuedCallbacks.shift();)n()},this.updateViews=function(){for(var e in t.subscriptions)t.subscriptions[e]()},this.bugsnagContext="",this.inPrintMode=!1,this.stateStack=new m.default,this.isCurrentlyDoingSetState=!1,this.graphSettings=e,this.listModel=k.init(this),this.layoutModel=A.defaultLayoutModel(this.graphSettings.config),this.layoutMeasurements={width:0,height:0},this.settingsViewModel=L.defaultSettingsViewModel(),this.addExpressionViewModel={focusOnOpen:!1},this.imageRetryState={lastAttemptTime:0,attempts:0},this.setupDispatcher()}return e.prototype.hasUnsavedChanges=function(){return this._hasUnsavedChanges},e.prototype.hasVisibleAndUndoableToast=function(){return"function"==typeof this.toastData.undoCallback},e.prototype.getToastData=function(){return this.toastData},e.prototype.toastUndo=function(){"function"==typeof this.toastData.undoCallback&&(this.toastData.undoCallback(),this.dispatch({type:"toast/close"}))},e.prototype.runAfterDispatch=function(e){this.dispatcher.isDispatching()?this._queuedCallbacks.push(e):e()},e.prototype.enqueueEvent=function(e){this.enqueuedEvents[e]=!0},e.prototype.setupDispatcher=function(){var e=this;this.dispatcher=new c.Dispatcher,this.dispatcher.register(function(t){var n=e.getSelectedItem(),r=e.getFocusLocation();e.shouldScrollSelectedItemIntoViewAfterDispatch=!1;var i;e.enqueuedEvents={change:!1,graphReset:!1,clearUnsavedChanges:!1,openDrawer:!1,userMovedPoint:!1},e.isCurrentlyDoingSetState=!1,e.handleDispatchedAction(t),e.updateTheComputedWorld(),e.updateRenderShellsBeforePaint(),e.retryLoadingFailedImage(),"undo"===t.type||"redo"===t.type||e.isDragDropActive()||e.commitUndoRedoSynchronously(t.type),e.requestParseForAllItems(),e.isCurrentlyDoingSetState=!1,e.enqueuedEvents.change&&e.grapher&&e.grapher.markLabelsDirty(),e.enqueuedEvents.clearUnsavedChanges?e._hasUnsavedChanges=!1:e.enqueuedEvents.change&&(e._hasUnsavedChanges=!0);var o=e.getSelectedItem();o?n&&n.guid===o.guid||(e.shouldScrollSelectedItemIntoViewAfterDispatch=!0):e.shouldScrollSelectedItemIntoViewAfterDispatch=!1;var s=e.getFocusLocation();if(s&&!a.isEqual(s,r)){e.getFocusedItem()==o&&(e.shouldScrollSelectedItemIntoViewAfterDispatch=!0)}r&&n&&"table"===n.type&&"table"===r.type&&(!s||"table"!==s.type||r.id!==s.id)&&n.isExpanded&&(_.setExpanded(n,!1),s||(i=n)),s&&o&&"table"===o.type&&_.updateIsCollapsedByFocusLocation(o),e.updateViews(),i?e.scrollItemIntoView(i):e.shouldScrollSelectedItemIntoViewAfterDispatch&&e.scrollSelectedItemIntoView(),e.updateRenderShellsAfterPaint(),e.updateDragDrop()})},e.prototype.handleDispatchedAction=function(e){var t=this;switch(e.type){case"api-method-called":break;case"undo":this.undo();break;case"redo":this.redo();break;case"clear-undoredo-history":this.clearUndoRedoHistory();break;case"on-special-key-pressed":"Enter"===e.key?T.onEnterPressed(this):"Up"===e.key?T.onUpPressed(this):"Down"===e.key?T.onDownPressed(this):"Backspace"===e.key?T.onBackspacePressed(this):"Delete"===e.key&&T.onDeletePressed(this);break;case"select-previous-expression":k.selectPrevItem(this.listModel);break;case"select-next-expression":k.selectNextItem(this.listModel);break;case"upward-delete-selected-expression":T.upwardDeleteSelectedExpression(this);break;case"downward-delete-selected-expression":T.downwardDeleteSelectedExpression(this);break;case"table-show-more-rows":var n=this.getItemModel(e.id);if(!n||"table"!==n.type)return;var i=_.getCollapsedRange(n);if(!i)return;k.setSelected(this.listModel,n),_.setExpanded(n,!0),C.setFocusLocation(this,{type:"table",id:n.id,location:{row:i.min,column:0}});break;case"navigate-table-by-key":T.navigateTableByKey(this,e.id,e.key);break;case"delete-item-and-animate-out":this._deleteItemAndAnimateOut(e.id);break;case"expression-zoom-fit":this._expressionZoomFit(e.id);break;case"finish-deleting-item-after-animation":this._finishDeletingItemAfterAnimation(e.id);break;case"set-expression-properties-from-api":this._setExpressionPropertiesFromAPI(e.id,e.properties);break;case"add-item-to-end-from-api":this._addItemToEndFromAPI(this.createItemModel(e.state));break;case"duplicate-expression":var o=this.getItemModel(e.id);if(!o||"expression"!==o.type)return;var a=w.getState(o,{stripDefaults:!1}),l=this.createItemModel(r.__assign({},a,{id:this.generateId()}));this._toplevelInsertItemAt(o.index+1,l,!1,o.folderId);break;case"insert-item-at-index":var c=this.createItemModel(e.state);this._toplevelInsertItemAt(e.index,c,e.focus,e.folderId);break;case"new-expression-at-end":var c=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});this.setEditListMode(!1),k.insertItemAtEnd(this.listModel,c),C.moveFocusToItem(this,c.id);break;case"new-expression":var c=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});this.setEditListMode(!1),this._toplevelNewItemAtSelection(c,{shouldFocus:!0}),this._closeAddExpression();break;case"new-text":var c=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelNewItemAtSelection(c,{shouldFocus:!0}),this._closeAddExpression();break;case"new-folder":var c=this.createItemModel({type:"folder",id:this.generateId()});this._toplevelNewItemAtSelection(c,{shouldFocus:!0}),this._closeAddExpression();break;case"new-images":this._uploadImagesAndWaitForThemToLoad(e.files),this._closeAddExpression();break;case"new-table":var c=this._createTableItem();this._toplevelNewItemAtSelection(c,{shouldFocus:!0}),this._closeAddExpression();break;case"paste-table":this._pasteTable(e.data);break;case"insert-several-expressions":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this._insertSeveralExpressions(e.expressions);break;case"append-number-list":this._appendNumberList(e.latex);break;case"remove-item-by-id":k.removeItemById(this.listModel,e.id);break;case"replace-item-at-index":var c=this.createItemModel(e.state);this._toplevelReplaceItemAt(e.index,c,e.focus);break;case"create-sliders-for-item":this.createSlidersForItem(e.id,e.variables);break;case"start-dragdrop":var n=this.getItemModel(e.id);if(!n)return;var u=this.getItemRootNodeById(n.id);if(!u)return;var p=u.getBoundingClientRect();k.setSelected(this.listModel,void 0);var h=e.grabY-p.top,f=!1,g=1;"folder"===n.type&&(g+=this.getNumberOfItemsInFolder(n.id),n.collapsed||(f=!0,S.setCollapsed(n,!0))),k.setDragState(this.listModel,{firstItemId:n.id,numberOfItems:g,expandFolder:f,grabOffset:h,mouseY:e.mouseY,itemTop:0}),this.dragdrop_expressions.startDragging(e.mouseY);break
;case"update-dragdrop":var m=this.listModel.dragState;if(!m)return;k.setDragState(this.listModel,r.__assign({},m,{mouseY:e.mouseY}));break;case"stop-dragdrop":var m=this.listModel.dragState;if(!m)return;var y=this.getItemModel(m.firstItemId);if(!y)return;k.setSelected(this.listModel,y),"folder"===y.type&&m.expandFolder&&S.setCollapsed(y,!1),k.setDragState(this.listModel,void 0);break;case"set-selected-id":var c=this.getItemModel(e.id);k.setSelected(this.listModel,c);break;case"set-selected-index":var c=this.getItemModelByIndex(e.index);k.setSelected(this.listModel,c);break;case"set-none-selected":k.setSelected(this.listModel,void 0);break;case"set-focus-location":var v=e.location?e.location.type:"";"expression"!==v&&"text"!==v&&"folder"!==v&&"table"!==v||(this.layoutModel=r.__assign({},this.layoutModel,{inEditListMode:!1})),C.setFocusLocation(this,e.location);break;case"move-focus-to-item":C.moveFocusToItem(this,e.id,e.where);break;case"blur-focus-location":this.isFocusLocationFocused(e.location)&&C.setFocusLocation(this,void 0);break;case"set-folder-collapsed":var n=this.getItemModel(e.id);if(!n||"folder"!==n.type)return;S.setCollapsed(n,e.isCollapsed);break;case"set-item-secret":var c=this.getItemModel(e.id);if(!c)return;I.setSecret(c,e.isSecret);break;case"set-tablecolumn-color":var n=this.getItemModel(e.tableId);if(!n||"table"!==n.type)return;_.setColumnColor(n,e.columnId,e.color);break;case"set-show-cdf":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setShowCDF(n,e.showCDF);break;case"set-cdf-min":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setCDFMin(n,e.latex);break;case"set-cdf-max":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setCDFMax(n,e.latex);break;case"toggle-item-hidden":this._toggleItemHidden(e.id);break;case"toggle-tablecolumn-hidden":this._toggleTableColumnHidden(e.tableId,e.columnId);break;case"toggle-fraction-evaluation":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;var b=w.shouldEvaluationDisplayAsFraction(n);w.setEvaluationAsFraction(n,!b);break;case"set-item-label":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setLabel(n,e.label);break;case"set-item-showlabel":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setShowLabel(n,e.showLabel),e.showLabel||w.setInteractiveLabel(n,!1);break;case"set-item-color":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setColor(n,e.color);break;case"set-item-fill":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setFill(n,e.fill),this._setItemHidden(n.id,w.areAllVisibilityPropsOff(n));break;case"set-image-opacity":var n=this.getItemModel(e.id);if(!n||"image"!==n.type)return;E.setOpacity(n,e.opacity),this._setItemHidden(n.id,!1);break;case"set-image-in-foreground":var n=this.getItemModel(e.id);if(!n||"image"!==n.type)return;E.setForeground(n,e.foreground);break;case"image-upload-error":this.__pendingImageUploads[e.token]&&(delete this.__pendingImageUploads[e.token],this._showToast({message:this.t("Image upload failed.")}));break;case"image-upload-success":if(this.__pendingImageUploads[e.token]){delete this.__pendingImageUploads[e.token];var x=this.createItemModel({type:"image",id:this.generateId(),width:e.width,height:e.height,image_url:e.url,name:e.name});this._toplevelNewItemAtSelection(x,{shouldFocus:!1})}this.isUploadingImages()||(this.toastData={});break;case"image-load-success":var x=this.getItemModel(e.id);if(!x||"image"!==x.type)return;E.setLoadStatus(x,"loaded"),this.imageRetryState={lastAttemptTime:0,attempts:0};break;case"image-load-error":var x=this.getItemModel(e.id);if(!x||"image"!==x.type)return;E.setLoadStatus(x,"failed");break;case"image-retry-loading":var x=this.getItemModel(e.id);if(!x||"image"!==x.type)return;E.retryLoading(x);break;case"set-item-dragmode":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setDragMode(n,e.dragMode),e.dragMode!==d.DragMode.NONE&&this._setItemHidden(e.id,!1);break;case"set-tablecolumn-dragmode":var n=this.getItemModel(e.tableId);if(!n||"table"!==n.type)return;_.setColumnDragMode(n,e.columnId,e.dragMode),e.dragMode!==d.DragMode.NONE&&this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-points":var n=this.getItemModel(e.tableId);if(!n||"table"!==n.type)return;_.setColumnPoints(n,e.columnId,e.bool),this._setTableColumnHidden(e.tableId,e.columnId,_.shouldHideColumn(n,e.columnId));break;case"set-tablecolumn-lines":var n=this.getItemModel(e.tableId);if(!n||"table"!==n.type)return;_.setColumnLines(n,e.columnId,e.bool),this._setTableColumnHidden(e.tableId,e.columnId,_.shouldHideColumn(n,e.columnId));break;case"set-tablecolumn-linestyle":var n=this.getItemModel(e.tableId);if(!n||"table"!==n.type)return;_.setColumnLineStyle(n,e.columnId,e.lineStyle),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-pointstyle":var n=this.getItemModel(e.tableId);if(!n||"table"!==n.type)return;_.setColumnPointStyle(n,e.columnId,e.pointStyle),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-item-points":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setPoints(n,e.points),this._setItemHidden(e.id,w.areAllVisibilityPropsOff(n)),e.points||n.dragMode===d.DragMode.NONE||w.setDragMode(n,d.DragMode.NONE);break;case"set-item-pointstyle":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setPointStyle(n,e.pointStyle),this._setItemHidden(e.id,!1);break;case"set-item-lines":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setLines(n,e.lines),this._setItemHidden(e.id,w.areAllVisibilityPropsOff(n));break;case"set-item-linestyle":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setLineStyle(n,e.lineStyle),this._setItemHidden(e.id,!1);break;case"set-item-label-dropdown-open":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setLabelDropdownOpen(n,e.open);break;case"set-item-fillopacity":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setFillOpacity(n,e.fillOpacity),this._setItemHidden(e.id,!1);break;case"set-item-labelSize":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setLabelSize(n,e.labelSize);break;case"set-item-label-orientation":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setLabelOrientation(n,e.labelOrientation);break;case"set-item-vertical-label":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setVerticalLabel(n,e.verticalLabel);break;case"set-item-interactive-label":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setInteractiveLabel(n,e.interactiveLabel);break;case"plot-residuals":var c=this.getItemModel(e.id);if(!c||"expression"!==c.type)return;var P=c.formula.regression,D=P.residualSuggestionId;if(!D)return;var A=this.getItemModel(D);if(!A)return;_.insertBlankColumn(A,A.columnModels.length-1,{id:this.generateId(),latex:s.identifierToLatex(P.residualVariable),color:this.getNextColor()});break;case"toggle-logmode":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;var L=n.isLogModeRegression;w.setLogMode(n,!L);break;case"set-item-latex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var c=this.getItemModel(e.id);if(!c||"expression"!==c.type)return;var O=e.latex;if('"'===O&&this.areNotesEnabled()){var F=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelReplaceItemAt(c.index,F,!0)}else if(""===O)w.blankOutExpressionAfterClearingLatex(c);else if("folder"===O&&this.areFoldersEnabled()){var N=this.createItemModel({id:this.generateId(),type:"folder"});this._toplevelReplaceItemAt(c.index,N,!0)}else if("table"===O){var B=this._createTableItem();this._toplevelReplaceItemAt(c.index,B,!0)}else"betchacant"===O?this.runAfterDispatch(function(){t.triggerBetchacant&&t.triggerBetchacant()}):w.setLatex(c,O);break;case"set-visualization-prop":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setVizProp(n,e.prop,e.latex);break;case"set-folder-title":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"folder"!==n.type)return;S.setTitle(n,e.title);break;case"set-image-mq-attribute":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"image"!==n.type)return;E.setMQAttribute(n,e.attribute,e.latex);break;case"set-image-name":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"image"!==n.type)return;E.setName(n,e.name);break;case"set-graph-settings":for(var j in e)"type"!==j&&this.graphSettings.setProperty(j,e[j]);break;case"set-polar-domain-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setPolarDomainMin(n,e.latex);break;case"set-polar-domain-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setPolarDomainMax(n,e.latex);break;case"set-parametric-domain-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setParametricDomainMin(n,e.latex);break;case"set-parametric-domain-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setParametricDomainMax(n,e.latex);break;case"set-note-text":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"text"!==n.type)return;M.setText(n,e.text);break;case"set-edit-list-mode":this.setEditListMode(e.isEditListMode),k.setSelected(this.listModel,void 0);break;case"set-tablecell-latex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.tableId);if(!n||"table"!==n.type)return;_.setCellLatex(n,e.cell,e.latex);break;case"set-state":this.externalSetState(e.state,e.opts);break;case"set-blank":this.externalSetState(this.getBlankState(),e.opts);break;case"clear-unsaved-changes":this.enqueueEvent("clearUnsavedChanges");break;case"reset-graph":var U=this.getState();this.externalSetState(this.graphSettings.defaultState,{}),this._showToast({message:this.t("Graph reset."),undoCallback:function(){return t.dispatch({type:"set-state",state:U,opts:{}})}}),this.enqueueEvent("graphReset");break;case"clear-graph":if(this.triggerClearGraph)return void this.runAfterDispatch(function(){return t.triggerClearGraph()});var z=this.getState();this.externalSetState(this.getBlankState(),{});var y=this.getItemModelByIndex(0);y&&C.moveFocusToItem(this,y.id,"end"),this._showToast({message:this.t("Graph cleared."),undoCallback:function(){return t.dispatch({type:"set-state",state:z,opts:{}})}}),this.enqueueEvent("graphReset");break;case"on-evaluator-changes":k.onEvaluatorFormulaUpdates(this.listModel,e.changes);break;case"process-graph-data":var G;for(G in e.graphData.addedGraphs){var H=e.graphData.addedGraphs[G];this.grapher&&this.grapher.updateSketch(G,H),k.onGraphComputed(this.listModel,G,H)}for(G in e.graphData.removedGraphs)this.grapher&&this.grapher.hide(G);for(G in e.graphData.intersections)this.grapher&&this.grapher.updateIntersections(G,e.graphData.intersections[G]);this.grapher&&this.grapher.poiController.handleTraceUpdate();break;case"add-helper-expression":k.addHelperExpression(this.listModel,e.state);break;case"tick":this._tick(e.time);break;case"adjust-slider-by-keyboard":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.adjustSliderByKeyboard(n,e.adjustment);break;case"adjust-slider-by-dragging-thumb":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.adjustSliderByDraggingThumb(n,e.target);break;case"set-slider-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setSliderMin(n,e.latex);break;case"set-slider-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setSliderMax(n,e.latex);break;case"set-slider-steplatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setSliderStep(n,e.latex);break;case"set-slider-dragging":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setSliderDragging(n,e.dragging);break;case"set-slider-isplaying":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setSliderIsPlaying(n,e.isPlaying);break;case"set-slider-loopmode":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setSliderLoopMode(n,e.loopMode);break;case"set-slider-animationperiod":var n=this.getItemModel(e.id);if(!n||"expression"!==n.type)return;w.setSliderAnimationPeriod(n,e.animationPeriod);break;case"show-expressions-list":this._showExpressions();break;case"hide-expressions-list":this._hideExpressions();break;case"open-drawer":this.enqueueEvent("openDrawer");break;case"resize-exp-list":this._setExpListWidth(e.expListWidth);break;case"toast/show":this._showToast(e.toast);break;case"toast/close":var K=this.toastData.onHide;K&&this.runAfterDispatch(K),this.toastData={};break;case"toast/undo":var W=this.toastData.undoCallback;W&&this.runAfterDispatch(W),this.toastData={};break;case"toast/learn-more":var Y=this.toastData.undoCallback;Y&&this.runAfterDispatch(Y),this.toastData={};break;case"start-moving-point":q.onStartMovingPoint(this,this.listModel,e.pointInfo);break;case"stop-moving-point":q.onStopMovingPoint(this,e.pointInfo);break;case"on-move-point":q.onMovePoint(this,e.pointInfo,e.screenPt,e.projection,e.keyboardDirection)&&this.enqueueEvent("userMovedPoint");break;case"commit-user-requested-viewport":this._commitUserRequestedViewport(e.viewport);break;case"set-viewport":this._setAxisLimitLatex("xmin",e.viewport.xmin+""),this._setAxisLimitLatex("xmax",e.viewport.xmax+""),this._setAxisLimitLatex("ymin",e.viewport.ymin+""),this._setAxisLimitLatex("ymax",e.viewport.ymax+"");break;case"set-axis-limit-latex":this._setAxisLimitLatex(e.limit,e.latex);break;case"toggle-graph-settings":this.layoutModel=r.__assign({},this.layoutModel,{graphSettingsOpen:!this.layoutModel.graphSettingsOpen}),this.settingsViewModel=r.__assign({},this.settingsViewModel,{focusOnOpen:e.focusOnOpen}),e.focusOnOpen&&C.setFocusLocation(this,void 0);break;case"close-graph-settings":this.layoutModel=r.__assign({},this.layoutModel,{graphSettingsOpen:!1});break;case"toggle-add-expression":this.layoutModel=r.__assign({},this.layoutModel,{addExpressionOpen:!this.layoutModel.addExpressionOpen}),this.addExpressionViewModel=r.__assign({},this.addExpressionViewModel,{focusOnOpen:e.focusOnOpen}),e.focusOnOpen&&C.setFocusLocation(this,void 0);break;case"close-add-expression":this._closeAddExpression();break;case"ui/container-resized":this.layoutMeasurements={width:e.size.width,height:e.size.height},this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;break;case"enter-printmode":this.inPrintMode=!0;break;case"exit-printmode":this.inPrintMode=!1;break;case"keypad/set-layout":this.layoutModel=r.__assign({},this.layoutModel,{keypadLayout:e.layout,keypadFunctionsOpen:!1});break;case"keypad/set-functions-tab":this.layoutModel=r.__assign({},this.layoutModel,{keypadFunctionsTab:e.tab});break;case"keypad/set-minimized":this.layoutModel=r.__assign({},this.layoutModel,{keypadMinimized:e.minimized,keypadLayout:"mainNumbers"}),this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this.needsFakeKeypad()||C.addFocusForKeypad(this);break;case"keypad/type-text":this.layoutModel=r.__assign({},this.layoutModel,{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var n=R.default.getFocusedMathquill();n&&R.default.canAcceptText(n,!!t.getGraphSettings().config.capExpressionSize,e.text)&&(n.typedText(e.text),R.default.simulateUserChangedLatex(n))});break;case"keypad/press-key":this.layoutModel=r.__assign({},this.layoutModel,{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var t=R.default.getFocusedMathquill();t&&R.default.simulateKeypress(t,e.key)});break;case"keypad/custom-command":this.layoutModel=r.__assign({},this.layoutModel,{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var t=R.default.getFocusedMathquill();t&&(V.execute(t,e.command),R.default.simulateUserChangedLatex(t))});break;case"keypad/shift":"capitalLetters"===this.getKeypadLayout()?this.layoutModel=r.__assign({},this.layoutModel,{keypadLayout:"letters",keypadFunctionsOpen:!1}):this.layoutModel=r.__assign({},this.layoutModel,{keypadLayout:"capitalLetters",keypadFunctionsOpen:!1});break;case"keypad/123":this.layoutModel=r.__assign({},this.layoutModel,{keypadLayout:"mainNumbers",keypadFunctionsOpen:!1});break;case"keypad/abc":this.isQwertyKeyboardEnabled()?this.layoutModel=r.__assign({},this.layoutModel,{keypadLayout:"letters",keypadFunctionsOpen:!1}):this.layoutModel=r.__assign({},this.layoutModel,{keypadLayout:"noQwertyLetters",keypadFunctionsOpen:!1});break;case"keypad/functions":this.layoutModel=r.__assign({},this.layoutModel,{keypadFunctionsOpen:!this.isKeypadFunctionsPopoverOpen()});break;case"open-on-web":this._openOnWeb();break;case"file-is-dragged-over":this.layoutModel=r.__assign({},this.layoutModel,{isFileDraggedOver:!0});break;case"file-is-not-dragged-over":this.layoutModel=r.__assign({},this.layoutModel,{isFileDraggedOver:!1});break;case"zoom":this.grapher.viewportController.zoom(e.direction);break;default:return e}},e.prototype.setEditListMode=function(e){this.layoutModel=r.__assign({},this.layoutModel,{inEditListMode:e})},e.prototype._createTableItem=function(){var e=k.findAvailableColumnSubscript(this.listModel),t=_.makeTableState(e,[[""],[""]],this);return this.createItemModel(t)},e.prototype._populateSettingsViewLimitLatex=function(){this.grapher&&(this.settingsViewModel=r.__assign({},this.settingsViewModel,{limitLatex:L.limitLatex(this.grapher.getCurrentViewport(),this.getGraphSettings().xAxisStep,this.getGraphSettings().yAxisStep)}))},e.prototype.getSettingsViewModel=function(){return this.settingsViewModel},e.prototype.getListModel=function(){return this.listModel},e.prototype.hasBackgroundColor=function(){return"#ffffff"!==this.getBackgroundColor()},e.prototype.getBackgroundColor=function(){return this.getGraphSettings().getBackgroundColor()},e.prototype.getTextColor=function(){return this.getGraphSettings().getTextColor()},e.prototype.getPillboxBackgroundColor=function(){return b.shadeColor(this.getBackgroundColor(),-.07)},e.prototype.getAddExpressionViewModel=function(){return this.addExpressionViewModel},e.prototype.subToChanges=function(e){var t=this,n=this.nextSubscription;return this.nextSubscription+=1,this.subscriptions[n]=e,function(){delete t.subscriptions[n]}},e.prototype.updateTheComputedWorld=function(){var e=this;k.reindex(this.listModel),k.updateDrawOrder(this.listModel),this.grapher&&this.grapher.setSketchOrder(this.listModel.drawOrder);for(var t=0,n=this.getAllItemModels();t<n.length;t++){var i=n[t];switch(i.type){case"expression":w.onControllerUpdate(i);break;case"image":E.onControllerUpdate(i);break;case"table":_.onControllerUpdate(i);break;case"folder":S.onControllerUpdate(i);break;case"text":M.onControllerUpdate(i);break;default:return i}}this.isCurrentFocusLocationValid()||C.setFocusLocation(this,void 0);var o=this.getSelectedItem();o&&!this.getItemModel(o.id)&&k.setSelected(this.listModel,void 0),this.layoutModel.graphSettingsOpen||this._populateSettingsViewLimitLatex(),this.propagateSelection(),this.isKeypadOpen()||(this.layoutModel=r.__assign({},this.layoutModel,{keypadFunctionsOpen:!1})),this.runAfterDispatch(function(){e.grapher&&e.grapher.audioGraph.checkIfSelectedItemChanged(o?o.id:void 0),e.grapher&&e.focusLocation&&e.grapher.audioGraph.exitAudioTrace()})},e.prototype.propagateSelection=function(){this.grapher&&this.evaluator&&(this.__lastSelectedId=n.propagateSelection(this,this.grapher,this.evaluator,this.__lastSelectedId))},e.prototype.areParsableObjectsEqual=function(e,t){return e===t||a.isEqual(r.__assign({},e,{regressionParameters:void 0}),r.__assign({},t,{regressionParameters:void 0}))},e.prototype.requestParseForAllItems=function(){this.isCurrentlyDoingSetState&&this.evaluator.clearStatementsAndStartCompleteState();for(var e={},t=this.lastParsableObjects,n=0,r=this.getAllItemModels();n<r.length;n++){var i=r[n];switch(i.type){case"expression":case"image":case"table":e[i.id]=i.cachedParsableState;break;case"folder":case"text":break;default:return i}}for(var o=0,s=k.getAllHelperItemModels(this.listModel);o<s.length;o++){var i=s[o];e[i.id]=i.cachedParsableState}for(var l in e){var c=e[l],u=t[l];if("image"===c.type&&(!u||c.type!==u.type||c.guid!==u.guid)&&this.grapher){var i=this.getItemModel(l);i&&"image"===i.type&&this.grapher.addGraphImage(i)}this.areParsableObjectsEqual(c,u)||(this.grapher&&"statement"===c.type&&""===c.latex&&this.grapher.removeGraphSketch(c.id),this.evaluator.addStatement(c))}for(var l in t){var u=t[l],c=e[l];if("image"!==u.type||c&&c.type===u.type&&c.guid===u.guid||this.grapher&&this.grapher.removeGraphImage(l),!c&&(this.evaluator.removeStatement(l),"table"===u.type))for(var d=0,p=u.columns;d<p.length;d++){var h=p[d];this.evaluator.removeStatement(h.id)}}if(this.grapher){var f=this.grapher.getProjection(),g={viewport:f.viewport.toObject(),screen:f.screen};a.isEqual(g,this.lastViewState)||(this.evaluator.setViewState(g),this.lastViewState=g)}this.evaluator.tick(),this.lastParsableObjects=e},e.prototype.setEvaluator=function(e){this.evaluator=e},e.prototype.setGrapher=function(e){this.grapher=e},e.prototype.shouldExpressionZoomFit=function(e){return("expression"===e.type||"table"===e.type)&&(!("expression"===e.type&&(e.error||!e.shouldGraph))&&(!(!e.boundingBoxes||!e.boundingBoxes.length)&&P.shouldExpressionZoomFit(e.boundingBoxes,this.grapher.viewportController.getProjection())))},e.prototype.setBugsnagContext=function(e){this.bugsnagContext=e},e.prototype.getItemRootNodeById=function(e){var t=this.getItemModel(e);return t&&t.dcgView?t.dcgView.findRootNode():void 0},e.prototype.getItemSelectorById=function(e){var t=this.getItemRootNodeById(e);return t?O(t):void 0},e.prototype.generateId=function(){var e=this.__nextItemId;return this.__nextItemId+=1,e+""},e.prototype.getNextColor=function(){return k.getNextColor(this.listModel)},e.prototype.getNextDisplayIndex=function(){return this.listModel.nextDisplayIndex},e.prototype._clearPendingImageUploads=function(){this.__pendingImageUploads={}},e.prototype.isUploadingImages=function(){return Object.keys(this.__pendingImageUploads).length>0},e.prototype.getExpressionAnalysis=function(){return this.listModel.expressionAnalysis},e.prototype.createItemModel=function(e){return k.modelFromSpec(this.listModel,e)},e.prototype.getItemModel=function(e){return k.getItemById(this.listModel,e)},e.prototype.getItemModelByIndex=function(e){return k.getItemByIndex(this.listModel,e)},e.prototype.getItemCount=function(){return k.getItemCount(this.listModel)},e.prototype.isItemSecret=function(e){var t=this.getItemModel(e);return!!t&&k.isItemSecret(t)},e.prototype.isItemSelected=function(e){var t=this.getItemModel(e);return!!t&&k.isItemSelected(t)},e.prototype.isItemSelectable=function(e){var t=this.getItemModel(e);return!!t&&k.isItemSelectable(t)},e.prototype.getAllItemModels=function(){return k.getAllItemModels(this.listModel)},e.prototype.getAllModelsWithSliders=function(){return k.getAllModelsWithSliders(this.listModel)},e.prototype.getGraphSettings=function(){return this.graphSettings},e.prototype.getAudioGraph=function(){return void 0!==this.grapher?this.grapher.audioGraph:void 0},e.prototype.inAudioTraceMode=function(){var e=this.getAudioGraph();return!(!e||!e.audioTraceActive)},e.prototype.expressionsAreFullWidth=function(){return this.isNarrow()||!1===this.graphSettings.config.graphpaper},e.prototype.getExpListWidthString=function(){return this.expressionsAreFullWidth()?"100%":this.rootElt?this._getExpListWidth()+"px":"0"},e.prototype.getExpListWidth=function(){return this.rootElt?this._getExpListWidth():0},e.prototype.findFirstPartiallyVisibleItem=function(){var e=B.getFirstPartiallyVisibleItemId(this,this._previousFirstPartiallyVisibleId);return this._previousFirstPartiallyVisibleId=e,e?this.getItemModel(e):void 0},e.prototype.findLastPartiallyVisibleItem=function(){var e=B.getLastPartiallyVisibleItemId(this,this._previousLastPartiallyVisibleId);return this._previousLastPartiallyVisibleId=e,e?this.getItemModel(e):void 0},e.prototype.updateRenderShellsBeforePaint=function(){if(this.inPrintMode)for(var e=0,t=this.getAllItemModels();e<t.length;e++){var n=t[e];n.renderShell=!1}else{for(var r=0,i=this.getAllItemModels();r<i.length;r++){var n=i[r];n.isHiddenFromUI&&(n.renderShell=!0)}var o=this.getSelectedItem();o&&(o.renderShell=!1)}},e.prototype.updateRenderShellsAfterPaint=function(){if(this.inPrintMode)for(var e=0,t=this.getAllItemModels();e<t.length;e++){var n=t[e];n.renderShell=!1}else if(this.rootElt&&this.isListVisible()){for(var r=void 0,i=void 0,o=0,s=this.getAllItemModels();o<s.length;o++){var n=s[o];n.renderShell||(r||(r=n),i=n)}var a=this.findFirstPartiallyVisibleItem(),l=this.findLastPartiallyVisibleItem();if(a&&l)for(var c=a.index;c<=l.index;c++){var u=this.getItemModelByIndex(c);u&&!u.isHiddenFromUI&&u.renderShell&&(u.renderShell=!1)}if(a&&l&&r&&i)for(var c=r.index;c<=i.index;c++)if(c<a.index||c>l.index){var u=this.getItemModelByIndex(c);if(u&&!u.isHiddenFromUI&&!u.renderShell){u.renderShell=!0;var d=this.getItemRootNodeById(u.id);if(d){var p=d.getBoundingClientRect().height;p>0&&(u.cachedRenderHeight=p)}}}var h=this.getSelectedItem();h&&(h.renderShell=!1)}},e.prototype.updateDragDrop=function(){var e=this.listModel.dragState;if(e){var t=this.getItemModel(e.firstItemId);if(t){var n=this.dragdrop_expressions.applyDrag();n&&(k.setDragState(this.listModel,n.dragState),I.setFolderId(t,n.folderId),t.index!==n.newIndex&&k.moveItemsTo(this.listModel,t.index,n.newIndex,e.numberOfItems),k.verifyFolderIntegrity(this.listModel))}}},e.prototype.isSelectedItemPartiallyVisible=function(){var e=this.getSelectedItem();return!(!e||!B.isItemPartiallyVisible(this,e.id))},e.prototype._tick=function(e){var t=this;if(void 0!==this._lastTickTime){var n=e-this._lastTickTime;this.getAllItemModels().forEach(function(e){"expression"===e.type&&e.sliderExists&&e.slider.isPlaying&&w.tickSliderStep(e,n)})}this.runAfterDispatch(function(){t.grapher&&t.grapher.tick(e)}),this._lastTickTime=e},e.prototype.areAnyImagesLoading=function(){return k.areAnyImagesLoading(this.listModel)},e.prototype._commitUserRequestedViewport=function(e){this.grapher&&this.grapher.setUserRequestedViewport(e)},e.prototype._setAxisLimitLatex=function(e,t){var n,i;this.settingsViewModel=r.__assign({},this.settingsViewModel,{limitLatex:r.__assign({},this.settingsViewModel.limitLatex,(n={},n[e]=t,n))});var o=""===t&&("xstep"===e||"ystep"===e),s=o?0:D.default(t,this.graphSettings.degreeMode);switch(e){case"xstep":if(s<0||!isFinite(s))return;this.graphSettings.setProperty("xAxisStep",s);break;case"ystep":if(s<0||!isFinite(s))return;this.graphSettings.setProperty("yAxisStep",s);break;case"xmin":case"xmax":case"ymin":case"ymax":if(!this.grapher)return;var a=this.grapher.viewportController.getViewport(),l="xmin";"xmin"===e&&(l="xmax"),"ymax"===e&&(l="ymin"),"ymin"===e&&(l="ymax");var c=D.default(this.settingsViewModel.limitLatex[l],this.graphSettings.degreeMode),u=y.Viewport.fromObject(r.__assign({},a.toObject(),(i={},i[e]=s,i[l]=c,i)));if(!u.isValid())return;this.grapher.viewportController.setViewport(u);var d="xmin"===e||"xmax"===e?"x":"y";this.graphSettings.setProperty("lastChangedAxis",d);var p=u.isSquare(this.grapher.getProjection().screen);this.graphSettings.setProperty("squareAxes",p)}var h=this.grapher.viewportController.getViewport().toObject();this._commitUserRequestedViewport(h)},e.prototype.canUserAddExpressions=function(){return!!this.graphSettings.config.expressions},e.prototype.areNotesEnabled=function(){return!!this.graphSettings.config.notes},e.prototype.areLinksEnabled=function(){return!!this.graphSettings.config.links},e.prototype.areImagesEnabled=function(){var e=window.FileReader,t=o.IS_IPAD&&o.IOS_VERSION&&8===o.IOS_VERSION[0]&&0===o.IOS_VERSION[1]&&0===o.IOS_VERSION[2];return!(!this.graphSettings.config.images||!e||t)},e.prototype.areFoldersEnabled=function(){return!!this.graphSettings.config.folders},e.prototype.isDecimalToFractionEnabled=function(){return!!this.graphSettings.config.decimalToFraction},e.prototype.areFunctionsRestricted=function(){return!!this.graphSettings.config.restrictedFunctions},e.prototype.isQwertyKeyboardEnabled=function(){return!!this.graphSettings.config.qwertyKeyboard},e.prototype.canEditOnWeb=function(){return!!this.graphSettings.config.editOnWeb},e.prototype.hasTransparentBackground=function(){return!!this.graphSettings.config.transparentBackground},e.prototype.shouldAudioTraceReverseExpressions=function(){return!!this.graphSettings.config.audioTraceReverseExpressions},e.prototype.hasDefaultState=function(){return!!this.graphSettings.defaultState},e.prototype.getDefaultStateViewport=function(){var e=this.graphSettings.defaultState;if(e&&e.graph)return e.graph.viewport},e.prototype.getColors=function(){return this.graphSettings.config.colors},e.prototype.getImageOpacities=function(){return["0.2","0.4","0.6","0.8","1"]},e.prototype.getUIDragModes=function(){return[d.DragMode.X,d.DragMode.Y,d.DragMode.XY]},e.prototype.getNumberOfItemsInFolder=function(e){return k.getNumberOfItemsInFolder(this.listModel,e)},e.prototype.getEnabledDragModesForItem=function(e){var t=this.getItemModel(e);if(!t||"expression"!==t.type)return[];var n=t.formula,r=[];if(!n.move_strategy)return r;var i="none"!==n.move_strategy[0].type,o="none"!==n.move_strategy[1].type,s=i&&o;return i&&r.push(d.DragMode.X),o&&r.push(d.DragMode.Y),s&&r.push(d.DragMode.XY),r},e.prototype.shouldShowEvaluationForItem=function(e){var t=this.getItemModel(e);return!!t&&("expression"===t.type&&w.shouldShowEvaluation(t))},e.prototype.getEvaluationValueForItem=function(e){var t=this.getItemModel(e);return t?"expression"!==t.type?NaN:w.getEvaluationValue(t):NaN},e.prototype.canDisplayEvaluationForItemAsFraction=function(e){if(!this.isDecimalToFractionEnabled())return!1;var t=this.getItemModel(e);if(!t)return!1;if("expression"!==t.type)return!1;if(w.isGraphable(t))return!1;var n=this.getEvaluationValueForItem(e);return!Array.isArray(n)&&s.canDisplayAsFraction(n)},e.prototype.shouldEvaluationForItemDisplayAsFraction=function(e){if(!this.isDecimalToFractionEnabled())return!1;var t=this.getItemModel(e);return!!t&&("expression"===t.type&&w.shouldEvaluationDisplayAsFraction(t))},e.prototype.getEvaluationLabelOptionsForItem=function(e){return r.__assign({},x.EvaluationLabelOptions,{displayAsFraction:this.shouldEvaluationForItemDisplayAsFraction(e)})},e.prototype.getPointStyles=function(){return[p.PointStyle.POINT,p.PointStyle.OPEN,p.PointStyle.CROSS]},e.prototype.getLineStyles=function(){return[p.LineStyle.SOLID,p.LineStyle.DASHED,p.LineStyle.DOTTED]},e.prototype.getOpacities=function(){return[u.LOW,u.DEFAULT,u.HIGH]},e.prototype.isInEditListMode=function(){return this.layoutModel.inEditListMode},e.prototype.canAdministerSecretFolders=function(){return this.graphSettings.config.administerSecretFolders},e.prototype.canUseAdvancedStyling=function(){return this.graphSettings.config.advancedStyling},e.prototype.isDegreeMode=function(){return this.graphSettings.degreeMode},e.prototype.isGraphSettingsOpen=function(){return this.layoutModel.graphSettingsOpen},e.prototype.isAddExpressionOpen=function(){return this.layoutModel.addExpressionOpen},e.prototype.shouldRenderList=function(){if(this.layoutModel.expressionsVisible)return!0;var e=this.layoutModel.expressionsHiddenTime;return void 0!==e&&Date.now()-e<=500},e.prototype.isListVisible=function(){return this.layoutModel.expressionsVisible},e.prototype.isGrapherEnabled=function(){
return!1!==this.graphSettings.config.graphpaper},e.prototype.isListEnabled=function(){return!1!==this.graphSettings.config.expressions},e.prototype.areDistributionsEnabled=function(){return!0===this.graphSettings.config.distributions},e.prototype.needsFakeKeypad=function(){var e=this.getFocusLocation();if(!e)return!1;switch(e.type){case"settings":case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":return!0;case"table":var t=e.location;if(0===t.row)return!0;var n=this.getItemModel(e.id);if(!n||"table"!==n.type)return!1;var r=n.columnModels[t.column];return!!r&&!r.disabled;case"image":return"name"!==e.location;case"text":case"folder":case"slider-thumb":return!1;default:return e}},e.prototype.getBrandingMode=function(){return this.getEditLink()?"static-edit-link":this.getGraphSettings().config.editOnWeb?"edit-link":"powered-by"},e.prototype.getEditLink=function(){return window.iframeEmbedBrandingLink},e.prototype._expressionZoomFit=function(e){var t=this.getItemModel(e);if(t&&("expression"===t.type||"table"===t.type)&&t.boundingBoxes&&t.boundingBoxes.length){var n=P.getRecommendedViewportForExpression(t.boundingBoxes,this.grapher.viewportController.getProjection());n&&this.grapher.viewportController.zoomCustom(n)}},e.prototype._deleteItemAndAnimateOut=function(e){var t=this,n=this.getItemSelectorById(e);n&&(n.css({transition:"0.2s",opacity:"0",transform:"scale(.1, .1)"}),setTimeout(function(){t.dispatch({type:"finish-deleting-item-after-animation",id:e})},200))},e.prototype._finishDeletingItemAfterAnimation=function(e){var t=this.getItemModel(e);if(t){var n=this.getItemSelectorById(e),r=n&&document.activeElement&&O(document.activeElement).closest(n).length>0,i=k.findPrevSelectableItem(this.listModel,t.index);if(this._removeExpressionSynchronously(t),r){if(!i){var o=k.getFirstSelectableItem(this.listModel);o&&(i=o)}i&&C.moveFocusToItem(this,i.id,"end")}}},e.prototype._removeExpressionSynchronously=function(e){if(k.removeItemAtIndex(this.listModel,e.index),k.hasNoVisibleExpressions(this.listModel)){var t=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});k.insertItemAtEnd(this.listModel,t)}},e.prototype.setRootElt=function(e){this.rootElt=e,this.dragdrop_expressions=new j.default(this)},e.prototype._hideExpressions=function(){this.graphSettings.config.expressions&&(k.setSelected(this.listModel,void 0),this.layoutModel=r.__assign({},this.layoutModel,{expressionsVisible:!1,expressionsHiddenTime:Date.now()}),h.default())},e.prototype._showExpressions=function(){this.graphSettings.config.expressions&&(this.layoutModel=r.__assign({},this.layoutModel,{expressionsVisible:!0}),h.default())},e.prototype._showToast=function(e){var t=this;if(this.toastData=e,this.toastData.hasOwnProperty("undoCallback")&&!o.IS_MOBILE){var n=o.IS_APPLE?" Press CMD+Z to undo.":" Press CTRL+Z to undo.";this.toastData.message+=n}clearTimeout(this._hideToastTimeout);var r="number"==typeof e.hideAfter?e.hideAfter:6e3;r>0&&(this._hideToastTimeout=setTimeout(function(){t.dispatch({type:"toast/close",onHide:t.toastData.onHide})},r))},e.prototype._setExpressionPropertiesFromAPI=function(e,t){var n=this.getItemModel(e);if(n)if("table"===n.type&&t.columns){t=f.default(t);var r=_.cloneTableAndExtendWithProperties(n,t),i=k.modelFromSpec(this.listModel,r);this._toplevelReplaceItemAt(n.index,i,!1)}else{var o=this.getItemModel(e);if(!o)return;for(var s in t)if(t.hasOwnProperty(s))switch(s){case"slider":if("expression"!==o.type)continue;var a=t[s];a.hasOwnProperty("min")&&w.setSliderMin(o,a.min),a.hasOwnProperty("max")&&w.setSliderMax(o,a.max),a.hasOwnProperty("step")&&w.setSliderStep(o,a.step);break;case"polarDomain":if("expression"!==o.type)continue;w.setPolarDomainMin(o,g.default(t.polarDomain.min)),w.setPolarDomainMax(o,g.default(t.polarDomain.max));break;case"parametricDomain":if("expression"!==o.type)continue;w.setParametricDomainMin(o,g.default(t.parametricDomain.min)),w.setParametricDomainMax(o,g.default(t.parametricDomain.max));break;case"hidden":this._setItemHidden(e,t.hidden);break;case"secret":I.setSecret(o,t.secret);break;case"color":if("expression"!==o.type)continue;w.setColor(o,t.color);break;case"dragMode":if("expression"!==o.type)continue;w.setDragMode(o,t.dragMode);break;case"label":if("expression"!==o.type)continue;w.setLabel(o,t.label);break;case"showLabel":if("expression"!==o.type)continue;w.setShowLabel(o,t.showLabel);break;case"labelSize":if("expression"!==o.type)continue;w.setLabelSize(o,t.labelSize);break;case"labelOrientation":if("expression"!==o.type)continue;w.setLabelOrientation(o,t.labelOrientation);break;case"verticalLabel":if("expression"!==o.type)continue;w.setVerticalLabel(o,t.verticalLabel);break;case"latex":if("expression"!==o.type)continue;w.setLatex(o,t.latex);break;case"points":if("expression"!==o.type)continue;w.setPoints(o,!!t.points);break;case"lines":if("expression"!==o.type)continue;w.setLines(o,!!t.lines);break;case"pointStyle":if("expression"!==o.type)continue;w.setPointStyle(o,t.pointStyle);break;case"lineStyle":if("expression"!==o.type)continue;w.setLineStyle(o,t.lineStyle);break;case"fill":if("expression"!==o.type)continue;w.setFill(o,t.fill);break;case"fillOpacity":if("expression"!==o.type)continue;w.setFillOpacity(o,t.fillOpacity);break;case"id":case"type":case"domain":break;default:throw new Error("trying to call setProperty for: "+s)}}},e.prototype._isParentFolderHidden=function(e){var t=this.getItemModel(e);if(!t)return!1;var n=k.getParentFolderModel(t);return!!n&&n.hidden},e.prototype._toggleItemHidden=function(e){if(this._isParentFolderHidden(e))this._setItemHidden(e,!1);else{var t=this.getItemModel(e);if(!t)return;switch(t.type){case"expression":case"image":case"folder":this._setItemHidden(e,!t.hidden);break;case"table":case"text":break;default:return t}}},e.prototype._toggleTableColumnHidden=function(e,t){if(this._isParentFolderHidden(e))this._setTableColumnHidden(e,t,!1);else{var n=this.getItemModel(e);if(!n||"table"!==n.type)return;var r=_.getColumnModel(n,t);this._setTableColumnHidden(e,t,!r.hidden)}},e.prototype._setTableColumnHidden=function(e,t,n){var r=this.getItemModel(e);if(r&&"table"===r.type){var i=_.shouldHideColumn(r,t);!n&&this._isParentFolderHidden(e)&&this._setItemHidden(r.folderId,!1),_.setColumnHidden(r,t,n),!n&&i&&_.setColumnPoints(r,t,!0)}},e.prototype._setItemHidden=function(e,t){var n=this.getItemModel(e);if(n)switch(!t&&this._isParentFolderHidden(n.id)&&this._setItemHidden(n.folderId,!1),n.type){case"expression":w.setHidden(n,t);break;case"folder":S.setHidden(n,t);break;case"image":E.setHidden(n,t);break;case"table":case"text":break;default:return n}},e.prototype._addItemToEndFromAPI=function(e){var t=k.getLastSelectableItem(this.listModel);!e.secret&&t&&"expression"===t.type&&""===t.latex&&k.removeItemAtIndex(this.listModel,t.index),k.insertItemAtEnd(this.listModel,e)},e.prototype._toplevelInsertItemAt=function(e,t,n,r){var i=t;k.insertItemAtIndex(this.listModel,i,e),r&&I.setFolderId(i,r),n&&C.moveFocusToItem(this,i.id)},e.prototype._toplevelNewItemAtSelection=function(e,t){var n=this.getSelectedItem();if(n){var r="expression"===n.type&&!n.latex;if(r&&!n.folderId&&("expression"!==e.type||e.latex))return this._toplevelReplaceItemAt(n.index,e,t.shouldFocus);if(r&&n.folderId&&"expression"!==e.type&&"folder"!==e.type)return this._toplevelReplaceItemAt(n.index,e,t.shouldFocus);if(!n.folderId&&"folder"!==n.type){return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,void 0)}if(n.folderId&&"folder"!==e.type)return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,n.folderId);if("folder"===n.type&&!n.collapsed&&"folder"!==e.type)return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,n.id)}var i=this.getFirstFullyVisibleItem();for(i&&"folder"===i.type&&(i=this.getItemModelByIndex(i.index+1));i&&i.folderId;)i=this.getItemModelByIndex(i.index+1);var o=i?i.index:this.getItemCount();return this._toplevelInsertItemAt(o,e,t.shouldFocus,void 0)},e.prototype.getFirstFullyVisibleItem=function(){var e=B.getFirstFullyVisibleItemId(this);if(e)return k.getItemById(this.listModel,e)},e.prototype.find$=function(e){return O(this.rootElt).find(e)},e.prototype.getExppanelSelectorOrThrow=function(){var e=B.getExppanelElt(this);if(e)return O(e);throw new Error("expected to find $exppanel but could not")},e.prototype.scrollItemIntoView=function(e){if(this.rootElt&&this.isListVisible()){var t=this.getItemSelectorById(e.id),n=B.getExppanelSelector(this);if(t&&n){if("table"===e.type){var r=t.find(".dcg-row .dcg-selected");if(1===r.length)return void i.scrollVisible(r,n,60)}i.scrollVisible(t,n,90)}}},e.prototype.scrollSelectedItemIntoView=function(){var e=this.getSelectedItem();e&&this.scrollItemIntoView(e)},e.prototype._pasteTable=function(e){var t=this,n=k.findAvailableColumnSubscript(this.listModel),r=_.makeTableState(n,e,this),i=this.createItemModel(r);this._toplevelNewItemAtSelection(i,{shouldFocus:!0}),this._closeAddExpression();var o=this.grapher.viewportController.getViewport(),s=a.map(e[0],function(e){return parseFloat(e)}),l=a.map(e[1],function(e){return parseFloat(e)}),c={xmin:a.min(s),xmax:a.max(s),ymin:a.min(l),ymax:a.max(l),type:"table"};if(isFinite(c.xmin)&&isFinite(c.xmax)&&isFinite(c.ymin)&&isFinite(c.ymax)&&(c.xmax>o.xmax||c.xmin<o.xmin||c.ymax>o.ymax||c.ymin<o.ymin)){var u=P.getRecommendedViewportForExpression([c],o);if(u){var d=new y.Viewport(u.xmin,u.xmax,u.ymin,u.ymax);this.grapher.viewportController.setViewport(d),this._showToast({message:this.t("We zoomed to fit your data."),undoCallback:function(){t.dispatch({type:"undo"})}})}}},e.prototype._insertSeveralExpressions=function(e){for(var t=0;t<e.length;t++){var n=void 0;n=this.createItemModel(e[t]),this._toplevelNewItemAtSelection(n,{shouldFocus:!0})}},e.prototype._appendNumberList=function(e){var t=this.getSelectedItem();if(t&&"expression"===t.type){var n=t.latex,r=this.createItemModel({type:"expression",id:this.generateId(),latex:n+e});return this._toplevelReplaceItemAt(t.index,r,!0)}},e.prototype._openOnWeb=function(){var e=this;this.runAfterDispatch(function(){var t=JSON.stringify(e.getState()),n=e.grapher.screenshot({width:100,height:100}),r=e.getGraphSettings().config.crossOriginSaveTest,i=r?"/":"https://www.desmos.com/",o=i+"api/v1/calculator/cross_origin_save",s=O('<input type="text" name="calc_state" />').val(t),a=O('<input type="text" name="thumb_data" />').val(n),l=O('<form target="_blank" method="POST" style="display:none;"></form>').attr("action",o).append(O('<input type="text" name="is_open_on_web" value="true" />')).append(O('<input type="text" name="my_graphs" value="false" />')).append(O('<input type="text" name="is_update" value="false" />')).append(s).append(a);O(e.rootElt).append(l),l.submit().remove()})},e.prototype.notifyBugsnagAboutMissingSelectedItem=function(e,t){var n=k.getSelected(this.listModel),r="";try{r=n?JSON.stringify(n.cachedUndoRedoState,null,2):"undefined"}catch(e){r="[[could not stringify]]"}var i="";try{if(n){var o={id:n.id,index:n.index,displayIndex:n.index,secretIndex:n.secretIndex,guid:n.guid,renderShell:n.renderShell,isHiddenFromUI:n.isHiddenFromUI,hasDCGView:!!n.dcgView,cachedRenderHeight:n.cachedRenderHeight};i=JSON.stringify(o,null,2)}else i="undefined"}catch(e){i="[[could not stringify]]"}var s="";try{s=JSON.stringify(k.getUndoRedoState(this.listModel),null,2)}catch(e){s="[[could not stringify]]"}F.notify("ReplaceItemAtError: no item at index",{metaData:{index:e,shouldFocus:t,selectedModelJSON:i,selectedItemJSON:r,listStateJSON:s}})},e.prototype._toplevelReplaceItemAt=function(e,t,n){var r=t,i=this.getItemModelByIndex(e);i||this.notifyBugsnagAboutMissingSelectedItem(e,n);var o=i.folderId;k.removeItemAtIndex(this.listModel,e),k.insertItemAtIndex(this.listModel,r,e),o&&I.setFolderId(r,o),n&&C.moveFocusToItem(this,r.id)},e.prototype.createSlidersForItem=function(e,t){var n=this,r=this.getItemModel(e);if(r){for(var i=r.folderId,o=r.index+1,a=t.map(function(e){var t=e?s.identifierToLatex(e)+"=1":"";return{type:"expression",id:n.generateId(),latex:t,color:n.getNextColor(),hidden:!!t}}),l=a.length-1;l>=0;l--){var c=this.createItemModel(a[l]);k.insertItemAtIndex(this.listModel,c,o),i&&I.setFolderId(c,i)}var u=a[a.length-1];""===u.latex?C.moveFocusToItem(this,u.id):C.setFocusLocation(this,void 0)}},e.prototype._uploadImagesAndWaitForThemToLoad=function(e){var t=this;if(!e||0===e.length)return void this._showToast({message:this.t("You did not select a file")});var n=E.uploadImages(this,e),r=n.errors[0];r&&this._showToast({message:r});for(var i=0,o=n.tokens;i<o.length;i++){var s=o[i];this.__pendingImageUploads[s]=!0}this.isUploadingImages()&&this._showToast({message:this.t("Uploading images..."),onHide:function(){t._clearPendingImageUploads()}})},e.prototype.getImageToRetry=function(){for(var e,t=0,n=this.getAllItemModels();t<n.length;t++){var r=n[t];"image"===r.type&&"failed"===r.loadStatus&&(!e||e.failures>r.failures)&&(e=r)}return e},e.prototype.retryLoadingFailedImage=function(){var e=Date.now(),t=e-this.imageRetryState.lastAttemptTime,n=1e3*Math.pow(2,this.imageRetryState.attempts);if(!(this.imageRetryState.attempts>0&&t<n)){var r=this.getImageToRetry();r&&(E.retryLoading(r),this.imageRetryState={lastAttemptTime:e,attempts:this.imageRetryState.attempts+1})}},e.prototype.getSelectedItem=function(){return k.getSelected(this.listModel)},e.prototype.getFocusedItem=function(){return C.getFocusedItem(this)},e.prototype.getFocusLocation=function(){return this.focusLocation},e.prototype.isFocusLocationFocused=function(e){var t=this.focusLocation,n=e;return!(!t||!n)&&a.isEqual(t,n)},e.prototype.isCurrentFocusLocationValid=function(){var e=this.focusLocation;if(!e)return!0;if("settings"===e.type)return this.isGraphSettingsOpen();var t=this.getItemModel(e.id);if(!t)return!1;if(!this.isItemSelected(e.id))return!1;switch(e.type){case"domain-limit":return"expression"===t.type&&!!w.hasDomain(t);case"slider-thumb":case"slider-limit":return"expression"===t.type&&!!w.hasSlider(t);case"visualization-prop":return"expression"===t.type&&!!w.isVisualization(t);case"distribution-param":if("expression"!==t.type)return!1;var n=w.parseToplevelFunction(t);return!!n&&e.location in n.values;case"cdf-limit":return"expression"===t.type&&w.shouldShowCDFFooter(t);case"image":return"image"===t.type;case"folder":return"folder"===t.type;case"text":return"text"===t.type;case"expression":return"expression"===t.type;case"table":return"table"===t.type&&!!_.doesCellExist(t,e.location);default:return e}},e.prototype.isDragDropActive=function(){return!!this.listModel.dragState},e.prototype.isItemBeingDragged=function(e){var t=this.listModel.dragState;return!(!t||t.firstItemId!==e)},e.prototype.getDraggedItemId=function(){var e=this.listModel.dragState;return e&&e.firstItemId},e.prototype.getRawDragState=function(){return this.listModel.dragState},e.prototype.initStateStack=function(){this.stateStack=new m.default,this.stateStack.addState(this.getUndoRedoState())},e.prototype.getUndoRedoState=function(){return{layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:k.getUndoRedoState(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}},e.prototype.getState=function(e){var t={stripDefaults:!0};e&&e.hasOwnProperty("stripDefaults")&&(t.stripDefaults=!!e.stripDefaults);var n={version:v.currentVersion,graph:this.grapher.getState(t),expressions:k.getState(this.listModel,t)};return e&&e.avoidBackMigration?f.default(n):v.migrateToPersisted(f.default(n))},e.prototype.getBlankState=function(){return this.graphSettings.config.clearIntoDegreeMode?r.__assign({},N.default,{graph:r.__assign({},N.default.graph,{degreeMode:!0})}):N.default},e.prototype.externalSetState=function(e,t){this._clearPendingImageUploads(),t||(t={}),e||(e=this.getBlankState()),"string"==typeof e&&(e=JSON.parse(e)),e&&(e=v.migrateToLatest(e));var n=this.layoutModel;this.setState(e,t),this.layoutModel=r.__assign({},A.defaultLayoutModel(this.graphSettings.config),{keypadMinimized:n.keypadMinimized,keypadLayout:n.keypadLayout,keypadFunctionsTab:n.keypadFunctionsTab,keypadFunctionsOpen:n.keypadFunctionsOpen,expressionsVisible:!!this.graphSettings.config.expressions&&(this.isListVisible()||!!t.forceExpressionsOpen)}),this.settingsViewModel=L.defaultSettingsViewModel(),C.setFocusLocation(this,void 0),this.enqueueEvent("clearUnsavedChanges")},e.prototype.setState=function(e,t){if(this.lastParsableObjects={},this.lastViewState=void 0,this.isCurrentlyDoingSetState=!0,"graph"in e&&this.grapher&&this.grapher.setGrapherState(e.graph),"expressions"in e){k.setSelected(this.listModel,void 0);var n=k.getLargestIntegerId(e.expressions);n>=this.__nextItemId&&(this.__nextItemId=n+1),k.setListState(this.listModel,e.expressions,t||{})}e.layoutModel&&(this.layoutModel=e.layoutModel),e.settingsViewModel&&(this.settingsViewModel=e.settingsViewModel),t&&t.allowUndo||this.clearUndoRedoHistory()},e.prototype.updateToState=function(e){"graph"in e&&this.grapher&&this.grapher.setGrapherState(e.graph,{doNotClear:!0}),"expressions"in e&&k.restoreListState(this.listModel,e.expressions),e.layoutModel&&(this.layoutModel=e.layoutModel),e.settingsViewModel&&(this.settingsViewModel=e.settingsViewModel)},e.prototype.commitUndoRedoSynchronously=function(e){var t=this.getUndoRedoState();z(this.stateStack.getState(),t)||(this.stateStack.addState(t),this.enqueueEvent("change"))},e.prototype.undo=function(){if(this.canUndo()){this.stateStack.undo();var e=this.stateStack.getState();e.wasCompleteSetState?this.setState(e,{allowUndo:!0}):this.updateToState(e),this.enqueueEvent("change")}},e.prototype.redo=function(){if(this.canRedo()){this.stateStack.redo();var e=this.stateStack.getState();e.wasCompleteSetState?this.setState(e,{allowUndo:!0}):this.updateToState(e),this.enqueueEvent("change")}},e.prototype.clearUndoRedoHistory=function(){this.stateStack.clear()},e.prototype.canUndo=function(){return this.stateStack.canUndo()},e.prototype.canRedo=function(){return this.stateStack.canRedo()},e.prototype._closeAddExpression=function(){this.layoutModel=r.__assign({},this.layoutModel,{addExpressionOpen:!1})},e.prototype.doesDOMHaveSize=function(){return this.layoutMeasurements.width>0&&this.layoutMeasurements.height>0},e.prototype._getExpListWidth=function(){var e;if(void 0!==this.userSpecifiedExpListWidth)e=Math.max(280,Math.min(this.layoutMeasurements.width-200,this.userSpecifiedExpListWidth));else{if(!(e=this.layoutMeasurements.width))return 356;var t=.2*e+160;e=Math.min(500,Math.max(280,t))}var n=this.layoutMeasurements.width-this.layoutMeasurements.height;return Math.abs(n-e)<=10?n:e},e.prototype._setExpListWidth=function(e){this.userSpecifiedExpListWidth!==e&&(this.userSpecifiedExpListWidth=e)},e.prototype.getKeypadHeight=function(){return this.computeMajorLayout().keypad.height},e.prototype.isKeypadOpen=function(){var e=this.layoutModel.keypadMinimized&&!this.isNarrow();return this.needsFakeKeypad()&&!e},e.prototype.isKeypadFunctionsPopoverOpen=function(){return!!this.layoutModel.keypadFunctionsOpen},e.prototype.getKeypadLayout=function(){return this.layoutModel.keypadLayout},e.prototype.isLetterKeypadOpen=function(){var e=this.getKeypadLayout();return this.isKeypadOpen()&&("letters"===e||"noQwertyLetters"===e||"capitalLetters"===e)},e.prototype.getKeypadFunctionsTab=function(){return this.layoutModel.keypadFunctionsTab},e.prototype.isFileDraggedOver=function(){return this.layoutModel.isFileDraggedOver},e.prototype.computeMajorLayout=function(){var e=this.layoutMeasurements.width,t=this.layoutMeasurements.height,n=this.isNarrow(),r=this.isListVisible(),i=this.isKeypadOpen(),o=!this.isGrapherEnabled(),s=!this.isListEnabled(),a={left:0,top:0,width:0,height:0},l={left:0,top:0,width:0,height:0},c={left:0,top:t,width:e,height:168};return s?(l.width=e,l.height=t):o?(a.width=e,a.height=t):r?n?(a.width=e,a.height=Math.round(.58*t),a.top=t-a.height,l.width=e,l.height=t-a.height):(a.width=this.getExpListWidth(),a.height=t,l.left=a.width,l.width=e-l.left,l.height=t):r||(n?(a.width=e,a.height=Math.round(.58*t),a.top=t,l.width=e,l.height=t):(a.width=this.getExpListWidth(),a.height=t,a.left=-a.width,l.width=e,l.height=t)),i&&(c.top-=c.height,s||(a.height-=c.height)),{list:a,grapher:l,keypad:c}},e.prototype.isNarrow=function(){return this.layoutMeasurements.width<450},e}();t.default=G}),define("lib/aria",["require","exports","jquery"],function(e,t,n){"use strict";function r(e){s.push(e)}function i(e){void 0!==e&&r(e),void 0!==o&&s.length>0&&o.empty().text(s.join(" ").replace(/ +(?= )/g,"")),s.length=0}Object.defineProperty(t,"__esModule",{value:!0});var o,s=[];t.queue=r,t.alert=i,n(document).ready(function(){var e=".dcg-aria-alert";0===n(e).length&&n("body").append("<p aria-live='assertive' aria-atomic='true' aria-relevant='all' class='dcg-aria-alert'></p>"),o=n(e)})}),define("main/instancehotkeys",["require","exports","keys","lib/aria","jquery","graphing-calc/models/expression"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.controller=e}return e.prototype.handleKeydown=function(e){var t=this;if(n.isUndo(e))e.stopPropagation(),e.preventDefault(),this.controller.hasVisibleAndUndoableToast()?this.controller.toastUndo():this.controller.dispatch({type:"undo"});else if(n.isRedo(e))e.stopPropagation(),e.preventDefault(),this.controller.dispatch({type:"redo"});else if(e.ctrlKey&&(e.altKey||e.metaKey)&&!e.shiftKey){if("E"===n.lookupChar(e)){e.preventDefault(),e.stopPropagation(),this.controller.getSelectedItem()||this.controller.dispatch({type:"set-selected-index",index:0});var s=this.controller.getSelectedItem();s?(r.alert(this.controller.t("Expression list")),this.controller.dispatch({type:"move-focus-to-item",id:s.id})):r.alert(this.controller.t("Unable to focus expression list"))}else if("X"===n.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()?(r.alert(this.controller.t("Add expression")),this.controller.dispatch({type:"new-expression"})):r.alert(this.controller.t("Unable to add expression"));else if("O"===n.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()&&this.controller.areNotesEnabled()?(r.alert(this.controller.t("Add note")),this.controller.dispatch({type:"new-text"})):r.alert(this.controller.t("Unable to add note"));else if("F"===n.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()&&this.controller.areFoldersEnabled()?(r.alert(this.controller.t("Add folder")),this.controller.dispatch({type:"new-folder"})):r.alert(this.controller.t("Unable to add folder"));else if("I"===n.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()&&this.controller.areImagesEnabled()?(r.alert(this.controller.t("Add image")),this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:!1}),this.controller.find$(".dcg-action-newimage input[type=file]").click()):r.alert(this.controller.t("Unable to add image"));else if("T"===n.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()?(r.alert(this.controller.t("Add table")),this.controller.dispatch({type:"new-table"})):r.alert(this.controller.t("Unable to add table"));else if("G"===n.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:!0});else if("P"===n.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.focusElement(this.controller.find$(".dcg-tabbable-point").filter("[tabindex=0]").first(),this.controller.t("No interactive points on screen"));else if("Z"===n.lookupChar(e)){var a=this.controller.getSelectedItem();a&&a.id&&this.controller.dispatch({type:"expression-zoom-fit",id:a.id})}}else if((e.altKey||e.metaKey)&&!e.ctrlKey&&e.shiftKey&&"F"===n.lookupChar(e)&&this.controller.isDecimalToFractionEnabled()){var l=this.controller.getSelectedItem();l&&"expression"===l.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-fraction-evaluation",id:l.id}),this.controller.runAfterDispatch(function(){o.shouldEvaluationDisplayAsFraction(l)?r.alert(t.controller.t("Show as Fraction")):r.alert(t.controller.t("Show as Decimal"))}))}else e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||n.lookup(e)!==n.BACKSPACE||document.activeElement&&i(document.activeElement).is('input, textarea, [role="textbox"]')||e.preventDefault()},e.prototype.focusElement=function(e,t){e.length?e.focus():t&&r.alert(t)},e}();t.default=s}),define("lib/defocus-mobile",["require","exports","jquery","touchtracking"],function(e,t,n,r){"use strict";function i(){if(document.activeElement){var e=n(document.activeElement);r.elIsFocusable(e)&&n("<input />").prependTo("body").focus().attr({readonly:"readonly",disabled:"true"}).blur().remove()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}),define("ipad.scrollfix",["require","jquery"],function(e){var t=e("jquery"),n=!1,r=function(){i(document),n=!0},i=function(e){n||t(e).bind("touchstart",function(e){var n=t(e.target),r=0,i=null;if(!n.closest("[disablescroll]").length)for(;0===r&&n.length&&void 0!==n[0].tagName;){var o=n.css("overflow"),s=n.css("overflow-y");if("hidden"!==o&&"visible"!==o&&"hidden"!==s&&"hidden"!==s){var a=n.scrollTop();0!==a&&(r=2),n.scrollTop(a+1),n.scrollTop()!==a&&(r|=1,n.scrollTop(a))}n=n.parent()}if(0!==r){i=[];for(var l=e.originalEvent.touches,c=0;c<l.length;c++){var u={};for(var d in l[c])l[c].hasOwnProperty(d)&&(u[d]=l[c][d]);i.push(u)}}t(document).on("touchmove.scrollfix",function(e){if(i){var t=i[0],n=e.originalEvent.touches[0],o=n.screenY-t.screenY;o>0&&!(2&r)?r=0:o<0&&!(1&r)&&(r=0),o&&(i=null)}0===r&&e.preventDefault()}),t(document).on("touchend.scrollfix",function(){t(document).off(".scrollfix")})})};return{limitScrollOnElement:i,limitScrollOnDocument:r}}),define("expressions/abstract-item-view",["require","exports","tslib","dcgview","jquery.handleevent"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this._isFirstRender=!0,this._isDragCopy=this.props.isDragCopy()},t.prototype.onItemViewMounted=function(){this._isDragCopy||(this.model.dcgView=this),this._isFirstRender=!1},t.prototype.onItemViewUnmounted=function(){this._isDragCopy||(this.model.dcgView=void 0)},t.prototype.isFirstRender=function(){return this._isFirstRender},t.prototype.onMouseSelect=function(e){"dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id}))},t.prototype.onDelete=function(){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.id})},t.prototype.onDragPending=function(e){this.props.onDragPending(e)},t}(r.Class);t.default=i}),define("expressions/abstract_icon_view",["require","exports","tslib","keys","jquery","dcgview"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=0,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.guid="options-menu-view"+ ++s,this.controller=this.props.controller()},t.prototype.positionOptionsMenu=function(){var e=this.controller.getExppanelSelectorOrThrow(),t=i(this.rootElt),n=t.offset(),r=i(this.optionsMenu.findRootNode()),o={top:n.top-e.closest(".dcg-container").offset().top,left:n.left-e.closest(".dcg-container").offset().left};r.css({position:"absolute",top:o.top+"px",left:o.left+"px",display:"block"})},t.prototype.toggleOptions=function(){var e=this;if(this.optionsShown)return void this.hideOptions();this.optionsShown=!0,this.optionsMenu=this.createOptionsMenuView(),this.positionOptionsMenu(),setTimeout(function(){if(e.optionsShown){e.controller.getExppanelSelectorOrThrow().on("scroll."+e.guid,function(){e.hideOptions()})}},0),i(document).on("keydown."+this.guid,function(t){r.lookup(t)===r.ESCAPE&&e.hideOptions()}),i(document).on("dcg-tapstart."+this.guid,function(t){i(t.target).closest(".dcg-options-menu").length||i(t.target).closest(e.rootElt).length||e.hideOptions()})},t.prototype.hideOptions=function(){if(this.optionsShown||this.optionsMenu){this.optionsShown=!1,i(document).off("dcg-tapstart."+this.guid),i(document).off("keydown."+this.guid);if(this.controller.getExppanelSelectorOrThrow().off("scroll."+this.guid),this.optionsMenu){try{o.unmountFromNode(this.getOptionsMenuContainerSelector()[0])}catch(e){}this.optionsMenu=null}}},t.prototype.getOptionsMenuContainerSelector=function(){return this.controller.getExppanelSelectorOrThrow().closest(".dcg-container").find(".dcg-options-menu-container")},t.prototype.didUnmount=function(){this.hideOptions()},t.prototype.didUpdate=function(){this.optionsMenu&&this.optionsMenu.update()},t}(o.Class);t.default=a}),define("loadcss!expressions/circular-icon-view",function(){}),define("expressions/circular-icon-view",["require","exports","tslib","dcgview","loadcss!./circular-icon-view"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r.Components.If,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("span",{class:function(){var t;return t={"dcg-do-not-blur":!0,"dcg-circular-icon":!0,"dcg-thick-outline":e.isThickOutline(),"dcg-white-icon":!!e.props.whiteIcon&&e.props.whiteIcon(),"dcg-hidden":e.isHidden(),"dcg-semi-transparent":e.props.semiTransparent&&e.props.semiTransparent(),"dcg-colored-icon":!e.isThickOutline()&&!e.isHidden()&&!e.hasBackgroundImage(),"dcg-has-background-image":e.hasBackgroundImage()},t[e.iconModifier()]=e.iconModifier().length>0,t},style:function(){return{background:e.getBackgroundColor()}}},r.createElement(i,{predicate:this.bindFn(this.hasBackgroundImage)},function(){return r.createElement("span",{class:r.const("dcg-background-image"),style:function(){return{"background-image":e.props.backgroundImage&&e.props.backgroundImage(),opacity:e.props.backgroundOpacity&&e.props.backgroundOpacity()}}})}),r.createElement(i,{predicate:function(){return!!e.backgroundIcon()}},function(){return r.createElement("i",{class:function(){var t;return t={},t[e.backgroundIcon()]=!0,t["dcg-layered-icon"]=!0,t},style:function(){return{opacity:e.backgroundOpacity()}}})}),r.createElement(i,{predicate:function(){return!!e.primaryIcon()}},function(){return r.createElement("i",{class:function(){var t;return t={},t[e.primaryIcon()]=!0,t["dcg-layered-icon"]=!0,t},style:function(){return{color:e.props.foregroundColor&&e.props.foregroundColor()}}})}))},t.prototype.iconModifier=function(){if(!this.props.iconModifier)return"";switch(this.props.iconModifier()){case"medium":return"dcg-modifier-size-medium";case"large":return"dcg-modifier-size-large";case"small":return"dcg-modifier-size-small";case"rotated":return"dcg-modifier-rotated";case"none":return""}},t.prototype.getBackgroundColor=function(){if(!this.isHidden()&&this.props.backgroundColor)return this.props.backgroundColor()},t.prototype.isHidden=function(){return"hidden"===this.props.iconType()},t.prototype.isThickOutline=function(){var e=this.props.iconType();return"folder"===e||"pause"===e||"play"===e||"fraction"===e},t.prototype.hasBackgroundImage=function(){return!!this.props.backgroundImage&&!this.isHidden()&&!!this.props.backgroundImage()},t.prototype.primaryIcon=function(){var e=this.props.iconType();switch(e){case"folder":return"dcg-icon-folder";case"pause":return"dcg-icon-pause";case"play":return"dcg-icon-play";case"polygon-dashed":case"polygon-dashed-filled":return"dcg-icon-polygon-dashed";case"polygon-dotted":
case"polygon-dotted-filled":return"dcg-icon-polygon-dotted";case"polygon-default":case"polygon-default-filled":return"dcg-icon-polygon-solid";case"graph-dashed":case"parametric-dashed-filled":return"dcg-icon-parametric-dashed";case"graph-dotted":case"parametric-dotted-filled":return"dcg-icon-parametric-dotted";case"graph-default":case"parametric-default-filled":return"dcg-icon-parametric-solid";case"movable-vertical":return"dcg-icon-move-vertical";case"movable-both":return"dcg-icon-move";case"movable-horizontal":return"dcg-icon-move-horizontal";case"point-open":return"dcg-icon-open";case"point-cross":return"dcg-icon-cross";case"point-default":return"dcg-icon-point";case"table-points":case"table-points-and-lines":return"dcg-icon-points";case"table-lines":return"dcg-icon-lines-solid";case"shaded-inequality":case"inequality":return"dcg-icon-shaded-inequality-dash";case"check":return"dcg-icon-check";case"none":case"background":case"hidden":case"polygon-none-filled":case"parametric-none-filled":return"";case"fraction":return"dcg-icon-fraction";case"boxplot":return"dcg-icon-boxplot";case"dotplot-cross":return"dcg-icon-dotplot-cross";case"dotplot-default":return"dcg-icon-dotplot-default";case"dotplot-open":return"dcg-icon-dotplot-open";case"histogram":return"dcg-icon-histogram";case"unfilled-distribution":case"filled-distribution":return"dcg-icon-distribution";default:return e}},t.prototype.backgroundOpacity=function(){var e=this.backgroundIcon();return"dcg-icon-polygon-filled"===e||"dcg-icon-parametric-filled"===e||"dcg-icon-shaded-inequality-shade2"===e||"dcg-icon-distribution-fill"===e||"dcg-icon-histogram-fill"===e?.5:1},t.prototype.backgroundIcon=function(){var e=this.props.iconType();return"filled-distribution"===e?"dcg-icon-distribution-fill":"histogram"===e?"dcg-icon-histogram-fill":"polygon-dashed-filled"===e||"polygon-dotted-filled"===e||"polygon-default-filled"===e||"polygon-none-filled"===e?"dcg-icon-polygon-filled":"parametric-dashed-filled"===e||"parametric-dotted-filled"===e||"parametric-default-filled"===e||"parametric-none-filled"===e?"dcg-icon-parametric-filled":"table-points-and-lines"===e?"dcg-icon-lines-solid":"shaded-inequality"===e?"dcg-icon-shaded-inequality-shade2":""},t}(r.Class);t.CircularIconView=o}),define("loadcss!expressions/color-menu",function(){}),define("expressions/color-menu",["require","exports","tslib","dcgview","underscore","lib/color-helpers","./circular-icon-view","loadcss!./color-menu"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components,l=a.For,c=a.If,u=a.Input,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),r.createElement("div",null,r.createElement(l,{each:function(){return i.values(e.controller.getColors())}},r.createElement("div",{class:r.const("dcg-color-menu dcg-do-not-blur"),role:r.const("complementary"),"aria-label":function(){return e.controller.t("Color Menu")}},function(t){return r.createElement("span",{class:r.const("dcg-color-option"),handleevent:r.const("true"),role:r.const("button"),tabindex:r.const(0),"aria-label":e.const(t),onTap:function(){return e.props.onColorSelected(t)}},r.createElement(s.CircularIconView,{iconType:function(){return e.props.selectedColor()===t?"check":"none"},backgroundColor:function(){return t}}))})),r.createElement(c,{predicate:function(){return e.controller.canUseAdvancedStyling()}},function(){return r.createElement("div",{class:r.const("dcg-advanced-color-styling")},r.const("Hex:"),r.createElement(u,{class:function(){return{"dcg-error":!o.isValidHexColor(e.props.selectedColor())}},value:e.props.selectedColor,onInput:function(t){e.props.onColorSelected(t)}}))}))},t}(r.Class);t.default=d}),define("loadcss!expressions/toggle-view",function(){}),define("expressions/toggle-view",["require","exports","tslib","dcgview","loadcss!./toggle-view"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-toggle-view":!0,"dcg-toggled":e.props.toggled()}},role:r.const("checkbox"),tabindex:r.const("0"),toggled:function(){return e.props.toggled()},onTap:this.bindFn(this.props.onChange)},r.createElement("div",{class:r.const("dcg-toggle-switch")}))},t}(r.Class);t.default=i}),define("loadcss!dcgview-helpers/checkbox",function(){}),define("dcgview-helpers/checkbox",["require","exports","tslib","dcgview","jquery","loadcss!./checkbox"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-component-checkbox":!0,"dcg-checked":e.props.checked(),"dcg-disabled":e.props.disabled&&e.props.disabled(),"dcg-small":e.props.small&&e.props.small(),"dcg-green":e.props.green&&e.props.green()}},onTap:this.bindFn(this.onChange)},r.createElement("span",{tabindex:r.const(0),class:r.const("dcg-checkbox"),role:r.const("checkbox"),"aria-label":this.props.ariaLabel,"aria-disabled":function(){return e.props.disabled&&e.props.disabled()},"aria-checked":this.props.checked},r.createElement("i",{class:r.const("dcg-icon-check"),"aria-hidden":r.const("true")})),r.createElement("span",{class:r.const("dcg-checkbox-children")},this.children))},t.prototype.onChange=function(e){e.target&&i(e.target).attr("href")||this.props.disabled&&this.props.disabled()||this.props.onChange(!this.props.checked())},t}(r.Class);t.Checkbox=o}),define("expressions/expression_options_view",["require","exports","tslib","dcgview","underscore","graphing/dragmode","./color-menu","math/expression-types","graphing-calc/models/expression","expressions/styles","expressions/toggle-view","dcgview-helpers/checkbox","./circular-icon-view"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=r.Components,f=h.For,g=h.If,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:function(){return{"dcg-exp-options-menu":!0,"dcg-options-menu":!0,"dcg-colors-only":0===e.sections().length}}},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-options-menu-column-left")},r.createElement(g,{predicate:function(){return e.sections().indexOf("pointStyles")>=0}},function(){return r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section dcg-styles-section")},r.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":e.hasNextSection("pointStyles")}}},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return e.shouldPreventPointsToggle()?e.controller.t("Style"):e.controller.t("Points")}),r.createElement(g,{predicate:function(){return!e.shouldPreventPointsToggle()}},function(){return r.createElement(u.default,{toggled:function(){return e.getDisplayProps().points},onChange:e.bindFn(e.onTogglePoints)})}),r.createElement(g,{predicate:function(){return e.getDisplayProps().points||e.shouldPreventPointsToggle()}},function(){return r.createElement(f,{each:e.bindFn(e.getValidPointStyles)},r.createElement("div",{class:r.const("dcg-style-icons")},function(t){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return e.onPointStyleSelected(t)}},r.createElement(p.CircularIconView,{backgroundColor:function(){return e.model.color},semiTransparent:function(){return e.model.pointStyle!==t},iconType:function(){return"CROSS"===t?"point-cross":"OPEN"===t?"point-open":"point-default"}}))}))})))}),r.createElement(g,{predicate:function(){return e.sections().indexOf("pointSizes")>=0}},function(){return r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section dcg-sizes-section")},r.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":e.hasNextSection("pointSizes")}}},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return e.controller.t("Size")}),r.createElement(f,{each:e.bindFn(e.getValidPointSizes)},r.createElement("div",{class:r.const("dcg-style-icons")},function(t){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return e.onDotplotPointSizeSelected(t)}},r.createElement(p.CircularIconView,{backgroundColor:function(){return e.model.color},semiTransparent:function(){return e.model.vizProps.dotplotSize!==t},iconType:function(){return"CROSS"===e.model.pointStyle?"point-cross":"OPEN"===e.model.pointStyle?"point-open":"point-default"},iconModifier:function(){return"medium"===t?"medium":"large"===t?"large":"small"}}))}))))}),r.createElement(g,{predicate:function(){return e.sections().indexOf("lineStyles")>=0}},function(){return r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section dcg-lines-menu")},r.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":e.hasNextSection("lineStyles")}}},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return e.shouldShowLinesToggle()?e.controller.t("Lines"):e.controller.t("Style")}),r.createElement(g,{predicate:function(){return e.shouldShowLinesToggle()}},function(){return r.createElement(u.default,{toggled:function(){return e.getDisplayProps().lines},onChange:e.bindFn(e.onToggleLines)})}),r.createElement(g,{predicate:function(){return e.shouldShowLineStyles()}},function(){return r.createElement(f,{each:e.bindFn(e.getValidLineStyles)},r.createElement("div",{class:r.const("dcg-style-icons")},function(t){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return e.onLineStyleSelected(t)}},r.createElement(p.CircularIconView,{backgroundColor:function(){return e.model.color},semiTransparent:function(){return e.model.lineStyle!==t},iconType:function(){return"DOTTED"===t?"graph-dotted":"DASHED"===t?"graph-dashed":"graph-default"}}))}))}),r.createElement(g,{predicate:function(){return e.shouldShowLineStyles()&&e.controller.canUseAdvancedStyling()&&(e.model.lineStyle===c.LineStyle.SOLID||e.model.lineStyle===c.LineStyle.SINGLE_PIXEL)}},function(){return r.createElement("div",null,r.createElement(d.Checkbox,{checked:function(){return e.model.lineStyle===c.LineStyle.SINGLE_PIXEL},onChange:function(t){e.onLineStyleSelected(t?c.LineStyle.SINGLE_PIXEL:c.LineStyle.SOLID)},ariaLabel:function(){return e.controller.t("1px wide")}},function(){return e.controller.t("1px wide")}))})))}),r.createElement(g,{predicate:function(){return e.sections().indexOf("dragModes")>=0}},function(){return r.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":e.hasNextSection("dragModes")}}},r.createElement("div",{class:r.const("dcg-drag-menu")},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return e.controller.t("Drag")}),r.createElement(u.default,{toggled:function(){return e.model.reconciledDragMode!==o.DragMode.NONE},onChange:e.bindFn(e.onToggleDrag)}),r.createElement(g,{predicate:function(){return e.model.reconciledDragMode!==o.DragMode.NONE}},function(){return r.createElement(f,{each:function(){return e.getUIDragModes()}},r.createElement("div",{class:r.const("dcg-style-icons")},function(t){return r.createElement("div",{class:function(){return{"dcg-style-icon-container":!0,"dcg-disabled":e.isDisabled(t)}},onTap:function(){return e.onDragModeSelected(t)}},r.createElement(p.CircularIconView,{backgroundColor:function(){return e.isDisabled(t)?"#bbb":e.model.color},semiTransparent:function(){return e.model.reconciledDragMode!==t},iconType:function(){return"X"===t?"movable-horizontal":"Y"===t?"movable-vertical":"movable-both"}}))}))})))}),r.createElement(g,{predicate:function(){return e.sections().indexOf("isFillable")>=0}},function(){return r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section")},r.createElement("div",{class:r.const("dcg-styles-menu")},r.createElement(d.Checkbox,{checked:function(){return e.getDisplayProps().fill},onChange:e.bindFn(e.onToggleFill),ariaLabel:function(){return e.controller.t("Fill")}},function(){return e.controller.t("Fill")})))})),r.createElement("div",{class:r.const("dcg-options-menu-column-right")},r.createElement("div",{class:r.const("dcg-colors-div dcg-options-menu-section")},r.createElement("div",{class:r.const("dcg-title")},function(){return e.controller.t("Color")}),r.createElement(s.default,{controller:function(){return e.props.controller()},selectedColor:function(){return e.model.color},onColorSelected:this.bindFn(this.onColorSelected)}))))},t.prototype.hasNextSection=function(e){var t=this.sections();return t.indexOf(e)<t.length-1},t.prototype.sections=function(){if(l.isToplevelDistribution(this.model))return[];var e=[];return this.getValidPointStyles().length>0&&e.push("pointStyles"),this.shouldShowDotplotPointSizes()&&e.push("pointSizes"),this.getValidLineStyles().length>0&&!l.isSinglePoint(this.model)&&e.push("lineStyles"),this.getUIDragModes().length>0&&e.push("dragModes"),(l.isPolygon(this.model)||l.isParametric(this.model))&&e.push("isFillable"),e},t.prototype.getValidPointStyles=function(){return l.isPointOrPointList(this.model)||l.isDotPlot(this.model)?[c.PointStyle.POINT,c.PointStyle.OPEN,c.PointStyle.CROSS]:[]},t.prototype.getValidPointSizes=function(){return l.isDotPlot(this.model)?["small","medium","large"]:[]},t.prototype.shouldShowDotplotPointSizes=function(){return this.getValidPointSizes().length>0},t.prototype.getUIDragModes=function(){return this.model.formula.move_strategy?[o.DragMode.X,o.DragMode.Y,o.DragMode.XY]:[]},t.prototype.getValidLineStyles=function(){return l.isVisualization(this.model)?[]:this.model.formula.is_inequality||l.isSinglePoint(this.model)?[]:[c.LineStyle.SOLID,c.LineStyle.DASHED,c.LineStyle.DOTTED]},t.prototype.shouldPreventPointsToggle=function(){return l.isSinglePoint(this.model)||l.isDotPlot(this.model)},t.prototype.onToggleFill=function(){this.controller.dispatch({type:"set-item-fill",id:this.id,fill:!this.getDisplayProps().fill})},t.prototype.onColorSelected=function(e){this.controller.dispatch({type:"set-item-color",id:this.id,color:e})},t.prototype.shouldShowLinesToggle=function(){return l.isPointOrPointList(this.model)||l.isParametric(this.model)||l.isPolygon(this.model)},t.prototype.shouldShowLineStyles=function(){return this.getDisplayProps().lines||!this.shouldShowLinesToggle()},t.prototype.onTogglePoints=function(){this.controller.dispatch({type:"set-item-points",id:this.id,points:!this.getDisplayProps().points})},t.prototype.onPointStyleSelected=function(e){this.model.pointStyle!==e&&this.controller.dispatch({type:"set-item-pointstyle",id:this.id,pointStyle:e})},t.prototype.onDotplotPointSizeSelected=function(e){this.model.vizProps.dotplotSize!==e&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:"dotplotSize",latex:e})},t.prototype.onToggleLines=function(){this.controller.dispatch({type:"set-item-lines",id:this.id,lines:!this.getDisplayProps().lines})},t.prototype.onLineStyleSelected=function(e){this.model.lineStyle!==e&&this.controller.dispatch({type:"set-item-linestyle",id:this.id,lineStyle:e})},t.prototype.isDisabled=function(e){var t=this.controller.getEnabledDragModesForItem(this.id);return!i.contains(t,e)},t.prototype.getDragMode=function(){return this.model.reconciledDragMode||this.model.dragMode},t.prototype.getDisplayProps=function(){var e=this.model,t=e.points,n=e.lines,r=e.fill;return a.getReconciledExpressionProps(this.model.formula.expression_type,{points:t,lines:n,fill:r})},t.prototype.onToggleDrag=function(){var e=this.model.reconciledDragMode!==o.DragMode.NONE?o.DragMode.NONE:o.DragMode.XY;this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:e})},t.prototype.onDragModeSelected=function(e){this.isDisabled(e)||this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:e})},t}(r.Class);t.default=m}),define("loadcss!lib/tooltip",function(){}),define("lib/tooltip",["require","exports","tslib","keys","dcgview","jquery","underscore","loadcss!./tooltip"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-tooltip-positioning-container"),style:function(){return{top:e.props.hitAreaRect().top+"px",left:e.props.hitAreaRect().left+"px",width:e.props.hitAreaRect().width+"px",height:e.props.hitAreaRect().height+"px"}}},i.createElement("div",{class:i.const("dcg-tooltip-message-container"),style:this.bindFn(this.getMessageStyle)},i.createElement("div",{class:i.const("dcg-tooltip-message"),style:function(){return{background:e.getBackgroundColor(),cursor:e.props.isStickyAndNotStuck()?"pointer":"default"}}},this.props.tooltip)),i.createElement("div",{class:i.const("dcg-tooltip-arrow"),style:this.bindFn(this.getArrowStyle)}))},t.prototype.getArrowStyle=function(){var e=this.props.gravity();switch(e){case"s":case"sw":case"se":return{top:"100%",left:"50%",border:"5px solid transparent","border-color":"transparent transparent "+this.getBackgroundColor()+" transparent","margin-top":"-5px","margin-left":"-5px"};case"n":case"nw":case"ne":return{bottom:"100%",left:"50%",border:"5px solid transparent","border-color":this.getBackgroundColor()+" transparent transparent transparent","margin-bottom":"-5px","margin-left":"-5px"};case"e":return{top:"50%",left:"100%",border:"5px solid transparent","border-color":"transparent "+this.getBackgroundColor()+" transparent transparent","margin-left":"-5px","margin-top":"-5px"};case"w":return{top:"50%",right:"100%",border:"5px solid transparent","border-color":"transparent transparent transparent "+this.getBackgroundColor(),"margin-right":"-5px","margin-top":"-5px"};default:return e}},t.prototype.getBackgroundColor=function(){return this.props.isStickyAndNotStuck()?"#666":"#000"},t.prototype.getMessageStyle=function(){var e=this.props.hitAreaRect(),t=this.props.gravity(),n=this.props.offset().left||0;switch(t){case"s":return{top:"100%",transform:"translate(-50%, 0)",left:.5*e.width+n+"px","margin-top":"5px","text-align":"center"};case"sw":return{top:"100%",right:-n+"px","margin-top":"5px","text-align":"right"};case"se":return{top:"100%",left:n+"px","margin-top":"5px","text-align":"left"};case"n":return{bottom:"100%",transform:"translate(-50%, 0)",left:.5*e.width+n+"px","margin-bottom":"5px","text-align":"center"};case"nw":return{bottom:"100%",right:-n+"px","margin-bottom":"5px","text-align":"right"};case"ne":return{bottom:"100%",left:n+"px","margin-bottom":"5px","text-align":"left"};case"e":return{transform:"translate(0, -50%)",left:"100%",top:.5*e.height+"px","margin-left":5+n+"px","text-align":"left"};case"w":return{transform:"translate(0, -50%)",right:"100%",top:.5*e.height+"px","margin-right":5-n+"px","text-align":"right"};default:return t}},t}(i.Class),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.uuid=s.uniqueId(),this.isMounted=!0},t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-tooltip-hit-area-container"),handleevent:i.const("true"),didMount:function(t){e.hitAreaNode=t,e.setupEventListeners(e.hitAreaNode)},onTap:function(){if(e.isStuck)return e.clearTimeouts(),void e.hideTooltip();e.isSticky()?(e.showTooltip(),e.stickTooltip()):e.hideTooltip()}},this.children)},t.prototype.didUpdate=function(){this.updateTooltip()},t.prototype.updateTooltip=function(){if(this.wrapperRef){var e=this.hitAreaNode.getBoundingClientRect(),t=this.wrapperRef.elt.getBoundingClientRect(),n=this.wrapperRef,r=n.originalTop,i=n.originalLeft,o=e.top-t.top,s=e.left-t.left;Math.abs(o-r)>3||Math.abs(s-i)>3?this.hideTooltip():this.wrapperRef.view.update()}},t.prototype.setupEventListeners=function(e){var t=this;o(e).on("tipsyshow",function(n){n.target===e&&(t.props.disabled&&t.props.disabled()||(t.clearTimeouts(),t.showTooltipTimeout=setTimeout(t.bindFn(t.showTooltip),500)))}).on("tipsyhide",function(n){n.target!==e||t.isStuck||(t.clearTimeouts(),t.hideTooltipTimeout=setTimeout(t.bindFn(t.hideTooltip),150))})},t.prototype.willUnmount=function(){this.clearTimeouts(),this.isMounted=!1,this.hideTooltip()},t.prototype.stickTooltip=function(){var e=this;this.isMounted&&this.wrapperRef&&(this.isStuck||(o(document).on("mousedown.dcg-tooltip-"+this.uuid+" touchstart.dcg-tooltip-"+this.uuid+" pointerdown.dcg-tooltip-"+this.uuid,function(t){e.wrapperRef&&(o(t.target).closest(e.hitAreaNode).length||o(t.target).closest(e.wrapperRef.elt).length||e.hideTooltip())}),this.isStuck=!0,this.updateTooltip()))},t.prototype.clearTimeouts=function(){clearTimeout(this.showTooltipTimeout),clearTimeout(this.hideTooltipTimeout)},t.prototype.showTooltip=function(){var e=this;if(this.isMounted&&!this.wrapperRef){var t=this.hitAreaNode.getBoundingClientRect(),n=document.createElement("div");n.className="dcg-tooltip-mount-pt";o(this.hitAreaNode).closest(".dcg-tap-container")[0].appendChild(n);var s=n.getBoundingClientRect(),l=t.left-s.left,c=t.top-s.top,u={tooltip:this.props.tooltip,isStickyAndNotStuck:function(){return e.isSticky()&&!e.isStuck},offset:function(){return e.props.offset?e.props.offset():{}},gravity:function(){return e.props.gravity?e.props.gravity():"s"},hitAreaRect:function(){return{top:c||0,left:l||0,width:t.width||0,height:t.height||0}}};this.setupEventListeners(n),o(n).on("dcg-tap",function(){e.isSticky()&&e.stickTooltip()});var d=i.mountToNode(a,n,u);o(document).on("keydown.dcg-tooltip-"+this.uuid,function(t){r.lookup(t)===r.ESCAPE&&e.hideTooltip()});var p=function(){return e.updateTooltip()};window.addEventListener("scroll",p,!0),this.wrapperRef={elt:n,view:d,originalLeft:l,originalTop:c,onScroll:p}}},t.prototype.hideTooltip=function(){this.clearTimeouts(),this.wrapperRef&&(this.isStuck=!1,o(document).off(".dcg-tooltip-"+this.uuid),window.removeEventListener("scroll",this.wrapperRef.onScroll,!0),i.unmountFromNode(this.wrapperRef.elt),this.wrapperRef.elt.parentNode&&this.wrapperRef.elt.parentNode.removeChild(this.wrapperRef.elt),this.wrapperRef=void 0)},t.prototype.isSticky=function(){return!!this.props.sticky&&this.props.sticky()},t}(i.Class);t.Tooltip=l}),define("loadcss!dcgview-helpers/tooltipped-error",function(){}),define("dcgview-helpers/tooltipped-error",["require","exports","tslib","dcgview","lib/tooltip","loadcss!./tooltipped-error"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(i.Tooltip,{tooltip:this.props.error,sticky:this.const(!0),gravity:this.props.gravity},r.createElement("div",{class:function(){return{"dcg-tooltipped-error":!0,"dcg-white":e.props.isWhite&&e.props.isWhite(),"dcg-small":e.props.size&&"small"===e.props.size()}}},r.createElement("i",{class:r.const("dcg-icon-error")})))},t}(r.Class);t.TooltippedError=o}),define("expressions/play-pause-icon-view",["require","exports","tslib","dcgview","lib/aria","./circular-icon-view","jquery.handleevent"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-circular-icon-container"),"aria-label":this.bindFn(this.getAriaLabel),role:r.const("button"),tabindex:r.const("0"),onTap:this.bindFn(this.toggleSliderIsPlaying)},r.createElement(o.CircularIconView,{iconType:function(){return e.props.model().slider.isPlaying?"pause":"play"},whiteIcon:function(){return e.props.controller().isItemSelected(e.props.model().id)||e.props.controller().isItemBeingDragged(e.props.model().id)}}))},t.prototype.getAriaLabel=function(){if(!this.props.model().sliderExists)return"";var e=this.props.model().dependent;return e?this.props.model().slider.isPlaying?this.props.controller().t("Pause __variable__ Animation",{variable:e}):this.props.controller().t("Play __variable__ Animation",{variable:e}):""},t.prototype.toggleSliderIsPlaying=function(){var e=this.props.model();if(e.sliderExists){this.props.controller().dispatch({type:"set-slider-isplaying",id:e.id,isPlaying:!e.slider.isPlaying});var t="",n=e.dependent;t=e.slider.isPlaying?this.props.controller().t("__variable__ playing",{variable:n}):this.props.controller().t("__variable__ paused",{variable:n}),i.alert(t)}},t}(r.Class);t.PlayPauseIconView=s}),define("expressions/expression-icon-view",["require","exports","tslib","dcgview","./abstract_icon_view","graphing/dragmode","expressions/styles","math/comparators","./expression_options_view","math/expression-types","graphing-calc/models/expression","../dcgview-helpers/tooltipped-error","./play-pause-icon-view","./circular-icon-view","jquery.handleevent"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=r.Components.SwitchUnion,g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.model=this.props.model()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-expression-icon-container")},f(this.bindFn(this.getIconMode),{error:function(){return r.createElement(d.TooltippedError,{error:function(){return e.controller.unpack(e.model.error)},isWhite:function(){return e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)},gravity:e.const("se")})},none:function(){return r.createElement("span",null)},slider:function(){return r.createElement(p.PlayPauseIconView,{controller:e.props.controller,model:e.props.model})},icon:function(){return r.createElement("div",{class:r.const("dcg-circular-icon-container"),role:r.const("button"),tabindex:function(){return e.isFraction()?0:-1},"aria-label":function(){if(e.isFraction())return u.shouldEvaluationDisplayAsFraction(e.model)?e.controller.t("Displaying as fraction. Press Enter to display as Decimal"):e.controller.t("Displaying as decimal. Press Enter to display as Fraction")},onTap:function(t){if(!t.wasHandled("dragdrop")&&!t.wasLongheld())return e.optionsShown?e.toggleOptions():e.controller.isInEditListMode()&&!e.isFraction()?e.toggleOptions():e.isFraction()?e.onToggleFractionDisplay():void e.toggleGraphShown()},didMount:function(t){return e.rootElt=t},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.isFraction()||e.toggleOptions()}},r.createElement(h.CircularIconView,{iconType:e.bindFn(e.getIconType),backgroundColor:e.bindFn(e.getBackgroundColor),whiteIcon:e.bindFn(e.isSelected),foregroundColor:e.bindFn(e.getForegroundColor),iconModifier:e.bindFn(e.getIconModifier)}))}}))},t.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},t.prototype.isFraction=function(){return this.controller.canDisplayEvaluationForItemAsFraction(this.model.id)},t.prototype.getIconMode=function(){return this.hasError()?"error":this.controller.getGraphSettings().config.graphpaper?this.model.isGraphable&&!this.model.loading?"icon":this.hasSlider()?"slider":this.isFraction()?"icon":"none":"none"},t.prototype.createOptionsMenuView=function(){var e=this.getOptionsMenuContainerSelector();return r.mountToNode(l.default,e[0],{controller:this.props.controller,model:this.props.model})},t.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id})},t.prototype.hasError=function(){return!!this.model.error&&!u.isEmpty(this.model)},t.prototype.hasSlider=function(){return!!this.model.sliderExists},t.prototype.getDisplayProps=function(){var e=this.model,t=e.points,n=e.lines,r=e.fill;return c.getReconciledExpressionProps(this.model.formula.expression_type,{points:t,lines:n,fill:r})},t.prototype.getBackgroundColor=function(){if(!this.isFraction())return this.model.color;var e=this.isSelected();return this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?e?"#fff":"#000":""},t.prototype.getForegroundColor=function(){if(!this.isFraction())return"";var e=this.isSelected();return e!==this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?"#fff":e?"#6399cb":"#000"},t.prototype.onToggleFractionDisplay=function(){this.controller.dispatch({type:"toggle-fraction-evaluation",id:this.model.id})},t.prototype.getIconModifier=function(){return u.isBoxPlot(this.model)&&"y"===u.getVizPropLatex(this.model,"alignedAxis")?"rotated":"none"},t.prototype.getIconType=function(){if(this.isFraction())return"fraction";if(!this.model.shouldGraph)return"hidden";if(this.controller.isInEditListMode())return"none";var e=this.model.pointStyle,t=this.model.lineStyle,n=this.getDisplayProps(),r=this.model.formula;if(u.isBoxPlot(this.model))return"boxplot";if(u.isDotPlot(this.model)){if("POINT"===this.model.pointStyle)return"dotplot-default";if("CROSS"===this.model.pointStyle)return"dotplot-cross";if("OPEN"===this.model.pointStyle)return"dotplot-open"}if(u.isHistogram(this.model))return"histogram";if(u.isToplevelDistribution(this.model))return u.shouldShowCDFFooter(this.model)?"filled-distribution":"unfilled-distribution";if(this.model.reconciledDragMode===o.DragMode.X)return"movable-horizontal";if(this.model.reconciledDragMode===o.DragMode.Y)return"movable-vertical";if(this.model.reconciledDragMode===o.DragMode.XY)return"movable-both";if(u.isPointOrPointList(this.model))return u.isSinglePoint(this.model)?e===s.PointStyle.OPEN?"point-open":e===s.PointStyle.CROSS?"point-cross":"point-default":n.lines&&n.points?"table-points-and-lines":n.lines?"table-lines":"table-points";var i=this.getDisplayProps().fill;if(u.isPolygon(this.model))return i?n.lines?t===s.LineStyle.DASHED?"polygon-dashed-filled":t===s.LineStyle.DOTTED?"polygon-dotted-filled":"polygon-default-filled":"polygon-none-filled":n.lines?t===s.LineStyle.DASHED?"polygon-dashed":t===s.LineStyle.DOTTED?"polygon-dotted":"polygon-default":"none";if(u.isParametric(this.model))return i?n.lines?t===s.LineStyle.DASHED?"parametric-dashed-filled":t===s.LineStyle.DOTTED?"parametric-dotted-filled":"parametric-default-filled":"parametric-none-filled":n.lines?t===s.LineStyle.DASHED?"graph-dashed":t===s.LineStyle.DOTTED?"graph-dotted":"graph-default":"none";var l=r.operator,c=0!==a.table[l].direction,d=!1===a.table[l].inclusive;return r.is_shade_between?"shaded-inequality":!d&&c?"shaded-inequality":d&&!c?"inequality":d&&c?"shaded-inequality":t===s.LineStyle.DASHED?"graph-dashed":t===s.LineStyle.DOTTED?"graph-dotted":"graph-default"},t}(i.default);t.default=g}),define("loadcss!expressions/evaluation-view",function(){}),define("expressions/evaluation-view",["require","exports","tslib","dcgview","graphing/label","dcgview-helpers/static-mathquill-view","loadcss!./evaluation-view"],function(e,t,n,r,i,o){"use strict";function s(e,t){return i.numericLabel(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components,l=a.If,c=a.SwitchUnion,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-evaluation-container")
},r.createElement("div",{class:function(){return{"dcg-evaluation":!0,"dcg-do-blur":!0,"dcg-hidden":e.props.controller().isInEditListMode()}},handleEvent:r.const("true"),tabindex:function(){return e.props.focusable()?"0":"-1"}},r.createElement("div",{class:r.const("dcg-evaluation-label-container"),onTap:this.bindFn(this.onSelectEvaluation)},r.createElement(l,{predicate:function(){return!!e.props.dependent()}},function(){return r.createElement(o.default,{latex:function(){return i.identifierToLatex(e.props.dependent())}},r.createElement("span",null))}),r.createElement("span",{class:r.const("dcg-equals")},r.createElement(o.default,{latex:this.const("=")}))),r.createElement("span",{class:r.const("dcg-text-selectable dcg-evaluation-html"),didMount:this.bindFn(this.didMountEvaluation)},c(function(){return e.getEvaluationType()},{list:function(){return r.createElement("span",null,function(){return e.controller.t("__count__ element list",{count:e.props.val().length})})},fraction:function(){return r.createElement(o.default,{latex:function(){return i.truncatedLatexLabel(e.props.val(),e.getLabelOptions())}})},undefined:function(){return r.createElement("span",null,r.const("undefined"))},scientific:function(){return r.createElement(o.default,{latex:function(){return e.getNumberLabel().mantissa+"\\times10^{"+e.getNumberLabel().exponent+"}"}})},decimal:function(){return r.createElement(o.default,{latex:function(){return e.getNumberLabel().value}})}}))),r.createElement("div",{class:r.const("dcg-clear")}))},t.prototype.getNumberLabel=function(){return s(this.props.val(),this.getLabelOptions())},t.prototype.getEvaluationType=function(){var e=this.props.val();return Array.isArray(e)?"list":this.getNumberLabel().type},t.prototype.getLabelOptions=function(){return this.props.controller().getEvaluationLabelOptionsForItem(this.props.id())},t.prototype.didMountEvaluation=function(e){this.evaluationNode=e},t.prototype.onSelectEvaluation=function(){var e=document.createRange();e.selectNodeContents(this.evaluationNode),window.getSelection().removeAllRanges(),window.getSelection().addRange(e)},t}(r.Class);t.default=u}),define("expressions/unresolved_view",["require","exports","tslib","dcgview"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),r.createElement("div",{class:r.const("dcg-unresolved")},r.createElement("i",{class:r.const("dcg-icon-error")}),r.const(" "),function(){return e.controller.t("This equation contains fine detail that has not been fully resolved.")},r.createElement("a",{href:r.const("http://support.desmos.com/entries/29577773-Unresolved-Detail-In-Plotted-Functions"),target:r.const("_blank")},function(){return e.controller.t("Learn more.")}))},t}(r.Class);t.default=i}),define("loadcss!domain",function(){}),define("expressions/domain_view",["require","exports","tslib","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","graphing/label","bugsnag","loadcss!domain"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-domain dcg-do-blur"),handleEvent:r.const("true")},r.createElement("div",{class:r.const("dcg-display-domain dcg-do-blur"),handleEvent:r.const("true")},r.createElement("div",{class:r.const("dcg-editable-mathquill-container")},r.createElement(o.default,{latex:function(){return e.getMinLatex()},placeholder:function(){return a.value(s.getDomainMin(e.model)).string},isFocused:function(){return"min"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return e.controller.t("domain Minimum: ")},getAriaPostLabel:this.const(""),hasError:function(){return!s.isDomainMinValid(e.model)},onUserPressedKey:function(t,n){e.handlePressedKey("min",t,n)},onUserChangedLatex:function(t){return e.dispatchMinLatexIfChanged(t)},onFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},dataLabelAttributeValue:this.const("domain-min")}),r.createElement("span",{class:r.const("dcg-interval-interior")},r.createElement(i.default,{latex:function(){return e.getDomainVariableLatex()}},r.createElement("span",null))),r.createElement(o.default,{latex:function(){return e.getMaxLatex()},placeholder:function(){return a.value(s.getDomainMax(e.model)).string},isFocused:function(){return"max"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return e.controller.t("domain Maximum: ")},getAriaPostLabel:this.const(""),hasError:function(){return!s.isDomainMaxValid(e.model)},onUserPressedKey:function(t,n){e.handlePressedKey("max",t,n)},onUserChangedLatex:function(t){return e.dispatchMaxLatexIfChanged(t)},onFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},dataLabelAttributeValue:this.const("domain-max")}))))},t.prototype.handlePressedKey=function(e,t,n){if("Esc"===t)return void this.controller.dispatch({type:"set-focus-location",location:void 0});if("Enter"===t)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var r=o.default.getFocusedMathquill();if(r){if("Left"===t||"Right"===t||"Down"===t||"Up"===t){return void(o.default.applyArrowKeyAndReturnIfWasAtBounds(r,t,n)&&("Left"===t?"max"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"min"}}):"Right"===t?"min"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"max"}}):"Down"===t?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):"Up"===t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}})))}r.keystroke(t,n),"min"===e?this.dispatchMinLatexIfChanged(r.latex()):"max"===e&&this.dispatchMaxLatexIfChanged(r.latex())}},t.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"domain-limit",id:this.id,location:e}})},t.prototype.dispatchMinLatexIfChanged=function(e){if(this.getMinLatex()!==e){var t=this.getDomainType();if("unknown"===t)return void l.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:s.getState(this.model,{stripDefaults:!0})}});this.controller.dispatch("polar"===t?{type:"set-polar-domain-minlatex",id:this.id,latex:e}:{type:"set-parametric-domain-minlatex",id:this.id,latex:e})}},t.prototype.dispatchMaxLatexIfChanged=function(e){if(this.getMaxLatex()!==e){var t=this.getDomainType();if("unknown"===t)return void l.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:s.getState(this.model,{stripDefaults:!0})}});this.controller.dispatch("polar"===t?{type:"set-polar-domain-maxlatex",id:this.id,latex:e}:{type:"set-parametric-domain-maxlatex",id:this.id,latex:e})}},t.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"domain-limit"===e.type&&e.id===this.id)return e.location},t.prototype.getMinLatex=function(){switch(this.getDomainType()){case"parametric":return s.getParametricDomainMin(this.model);case"polar":return s.getPolarDomainMin(this.model);default:return""}},t.prototype.getMaxLatex=function(){switch(this.getDomainType()){case"parametric":return s.getParametricDomainMax(this.model);case"polar":return s.getPolarDomainMax(this.model);default:return""}},t.prototype.getDomainVariableLatex=function(){switch(this.getDomainType()){case"parametric":return"\\le t \\le";case"polar":return"\\le \\theta \\le";default:return""}},t.prototype.getDomainType=function(){return s.isPolar(this.model)?"polar":s.isParametric(this.model)?"parametric":"unknown"},t}(r.Class);t.default=c}),define("loadcss!regression",function(){}),define("expressions/regression_view",["require","exports","tslib","dcgview","graphing/label","dcgview-helpers/static-mathquill-view","loadcss!regression"],function(e,t,n,r,i,o){"use strict";function s(e,t){return i.truncatedLatexLabel(e.parameters[t],{zeroCutoff:1e-15,digits:6,smallCutoff:1e-6,bigCutoff:1e9})}function a(e,t){return i.truncatedLatexLabel(e.statistics[t],{zeroCutoff:1e-15,digits:4,smallCutoff:1e-6,bigCutoff:1e9})}Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components,c=l.If,u=l.For,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement(c,{predicate:this.bindFn(this.getRegression)},function(){return r.createElement("div",{class:r.const("dcg-regression-container")},r.createElement("div",{class:r.const("dcg-handle-event"),handleEvent:r.const("true")},r.createElement(c,{predicate:e.bindFn(e.getShouldSuggestLogMode)},function(){return r.createElement("div",{class:r.const("dcg-log-mode-toggle")},r.createElement("div",{class:function(){return{"dcg-action-log-mode-toggle":!0,"dcg-toggled-on":e.getIsLogModeRegression()}},onTap:e.bindFn(e.onTapLogMode)},r.createElement("span",{class:r.const("dcg-log-mode-checkbox"),role:r.const("checkbox"),"aria-checked":function(){return e.getIsLogModeRegression()},tabindex:r.const("0"),"aria-label":function(){return e.controller.t("Log Mode")}},r.createElement("i",{class:r.const("dcg-icon-check")})),function(){return e.controller.t("Log Mode")}),r.createElement("a",{"aria-label":function(){return e.controller.t("Log Mode Help")},class:r.const("dcg-log-mode-toggle-help"),target:r.const("_blank"),href:r.const("http://support.desmos.com/hc/en-us/articles/204349605")},r.createElement("i",{class:r.const("dcg-icon-question-sign")})))}),r.createElement("div",{class:r.const("dcg-statistics"),role:r.const("group"),"aria-label":function(){return e.controller.t("Statistics")}},r.createElement("div",{class:r.const("dcg-expression-footer-title")},function(){return e.controller.t("Statistics")},r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("RMSE")}},function(){return r.createElement("a",{class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:r.const("http://support.desmos.com/entries/60176149-What-is-RMSE-"),"aria-label":function(){return e.controller.t("What is RMSE?")}},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))}),r.createElement(c,{predicate:function(){return e.getRegression().statistics.Rsquared<0}},function(){return r.createElement("a",{"aria-label":function(){return e.controller.t("Why am I seeing a negative R Squared value?")},class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:r.const("http://support.desmos.com/entries/60460125-Why-am-I-seeing-a-negative-R-2-value-")},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))})),r.createElement("div",{class:r.const("dcg-statistics-values")},r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("Rsquared")}},function(){return r.createElement("div",null,r.createElement(o.default,{latex:function(){return"R^2="+a(e.getRegression(),"Rsquared")}},r.createElement("span",{tabindex:r.const("0")})))}),r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("rsquared")}},function(){return r.createElement("div",null,r.createElement(o.default,{latex:function(){return"r^2="+a(e.getRegression(),"rsquared")}},r.createElement("span",{tabindex:r.const("0")})))}),r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("r")}},function(){return r.createElement("div",null,r.createElement(o.default,{latex:function(){return"r="+a(e.getRegression(),"r")}},r.createElement("span",{class:r.const("dcg-r-value"),tabindex:r.const("0")})))}),r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("RMSE")}},function(){return r.createElement("div",null,r.createElement(o.default,{latex:function(){return"\\operatorname{RMSE}="+a(e.getRegression(),"RMSE")}},r.createElement("span",{tabindex:r.const("0")})))}))),r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.controller.t("Residuals")},class:r.const("dcg-residuals")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},function(){return e.controller.t("Residuals")}),r.createElement(o.default,{latex:e.bindFn(e.getResidualVariable)},r.createElement("span",{class:r.const("dcg-residuals-variable"),tabindex:r.const("0")})),r.createElement("div",{class:function(){return{"dcg-residual-suggestion":!0,"dcg-action-plot-residual":!0,"dcg-btn":!0,"dcg-btn-light-gray":!0,"dcg-visible":e.getResidualSuggestionVisible()}},"aria-hidden":function(){return!e.getResidualSuggestionVisible()},role:r.const("button"),tabindex:function(){return e.getResidualSuggestionVisible()?"0":void 0},onTap:e.bindFn(e.onTapResidualsSuggestion)},function(){return e.controller.t("plot")})),r.createElement(c,{predicate:function(){return Object.keys(e.getRegression().parameters).length>0}},function(){return r.createElement("div",{class:r.const("dcg-parameters-container")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},function(){return e.controller.t("Parameters")}),r.createElement(u,{each:function(){return Object.keys(e.getRegression().parameters)}},r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.controller.t("Parameters")},class:r.const("dcg-parameters")},function(t){return r.createElement(o.default,{latex:function(){return t+"="+s(e.getRegression(),t)}},r.createElement("span",{class:r.const("dcg-parameter"),tabindex:r.const("0")}))})))}),r.createElement("div",{class:r.const("dcg-clear")})))})},t.prototype.onTapResidualsSuggestion=function(){this.controller.dispatch({type:"plot-residuals",id:this.id})},t.prototype.onTapLogMode=function(){this.controller.dispatch({type:"toggle-logmode",id:this.id})},t.prototype.getRegression=function(){return this.model.formula.regression},t.prototype.getResidualVariable=function(){return this.getRegression().residualVariable||""},t.prototype.getResidualSuggestionVisible=function(){return void 0!==this.getRegression().residualSuggestionId},t.prototype.getShouldSuggestLogMode=function(){return!!this.getRegression().shouldSuggestLogMode},t.prototype.getIsLogModeRegression=function(){return!!this.model.isLogModeRegression},t}(r.Class);t.default=d,t.getRoundedParam=s,t.getRoundedStat=a}),function(){define("dcgview-helpers/dragdrop",["require","underscore","underscore_model","jquery","pjs","lib/animation-frame"],function(e){var t,n,r,i;return e("underscore"),i=e("underscore_model").UnderscoreModel,t=e("jquery"),r=e("pjs"),n=e("lib/animation-frame"),r(i,function(e,r){return{init:function(e){return this.options=null!=e?e:{},r.init.call(this),this.dragging=!1},_evt2pt:function(e){return{x:e.changedTouches[0].pageX-this._offsetPt.x,y:e.changedTouches[0].pageY-this._offsetPt.y}},_dispatch:function(e,t){var n;if(!this._destroyed)return n=this._evt2pt(t),this.triggerEvent(e,{x:n.x,y:n.y,dx:n.x-this._startPt.x,dy:n.y-this._startPt.y,evt:t})},destroy:function(){return t(document).off("."+this.guid),this._destroyed=!0},startDrag:function(e,r){if(null==r&&(r={}),!this.dragging)return t(document).on("dcg-tapmove."+this.guid,function(e){return function(t){if(t.originalEvent.preventDefault(),!e.options.doNotThrottle)return n.cancelAnimationFrame(e.frameThrottle),e.frameThrottle=n.requestAnimationFrame(function(){return e.doDrag(t)});e.doDrag(t)}}(this)),t(document).on("dcg-tapend."+this.guid+" dcg-tapcancel."+this.guid,function(e){return function(t){return e.endDrag(t)}}(this)),this._offsetPt={x:0,y:0},null!=r.origin&&(this._offsetPt={x:this._evt2pt(e).x-r.origin.x,y:this._evt2pt(e).y-r.origin.y}),this._startPt=this._evt2pt(e),this.setProperty("dragging",!0),this._dispatch("onGrab",e)},doDrag:function(e){if(this.dragging)return this._dispatch("onDrag",e)},endDrag:function(e){if(this.dragging)return t(document).off("."+this.guid),this.doDrag(e),this.setProperty("dragging",!1),this._dispatch("onDrop",e)}}})})}.call(this),define("loadcss!dcgview-helpers/slider",function(){}),define("dcgview-helpers/slider",["require","exports","./dragdrop","lib/rounding","tslib","keys","dcgview","jquery","lib/conditional_blur","loadcss!./slider"],function(e,t,n,r,i,o,s,a,l){"use strict";function c(e,t,n){return Math.min(Math.max(e,t),n)}Object.defineProperty(t,"__esModule",{value:!0});var u=s.Components.If,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this;return s.createElement("div",{class:function(){return{"dcg-slider-interior":!0,"dcg-disable-slider":e.shouldDisableSlider()}},didMount:this.bindFn(this.didMountRoot),onTapStart:this.bindFn(this.onStartDrag),style:s.const({"touch-action":"none"})},s.createElement("div",{class:s.const("dcg-track")},s.createElement("div",{class:s.const("dcg-ticks"),onMount:this.bindFn(this.didMountTickMarks)}),s.createElement("div",{class:s.const("dcg-graphic")})),s.createElement(u,{predicate:this.bindFn(this.shouldShowZeroMarker)},function(){return s.createElement("div",{class:s.const("dcg-zeroMarker"),style:function(){return{left:e.getZeroMarkerPercent()+"%"}}})}),s.createElement("div",{class:function(){return{"dcg-thumb":!0,"dcg-down":e.isDragging}},role:s.const("slider"),tabindex:s.const("0"),disablescroll:s.const("true"),style:function(){return{left:e.getThumbPercent()+"%"}},onKeyDown:this.bindFn(this.onKeyDown),"aria-label":this.props.ariaLabel,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.props.value,manageFocus:this.buildFocusManager()},s.createElement("div",{class:s.const("dcg-graphic")}),s.createElement("div",{class:s.const("dcg-center")})))},t.prototype.willUnmount=function(){this.dragDrop.destroy()},t.prototype.didMountRoot=function(e){var t=this;this.rootNode=e,this.dragDrop=n(),this.isMounted=!0,this.dragDrop.observeEvent("onDrop",function(){t.isDragging=!1,t.update(),t.props.onDrop&&t.props.onDrop()}),this.dragDrop.observeEvent("onGrab",function(){t.isDragging=!0,t.update(),t.props.onGrab&&t.props.onGrab()}),this.dragDrop.observeEvent("onDrag",function(e,n){t.props.onDragUpdate(t.valueFromPixels(n.x))})},t.prototype.didMountTickMarks=function(e){this.tickMarksNode=e,this.renderTickMarks()},t.prototype.didUpdate=function(){this.renderTickMarks()},t.prototype.shouldDisableSlider=function(){return this.props.min()===this.props.max()},t.prototype.renderTickMarks=function(){if(this.tickMarksNode){var e,t=this.props.step(),n=this.props.min(),r=this.props.max();if(e=void 0===t?0:100*t/(r-n),e<3&&(e=0),e>100&&(e=0),isNaN(e)&&(e=0),this.lastTickMarksPercent!==e){this.lastTickMarksPercent=e;var i="";if(e>0&&e<100)for(var o=e;o<100;o+=e)i+='<div class="dcg-tick" style="left:'+o+'%"></div>';this.tickMarksNode.innerHTML=i}}},t.prototype.shouldShowZeroMarker=function(){return this.props.min()<=0&&this.props.max()>=0},t.prototype.getZeroMarkerPercent=function(){var e=this.props.min();return 100*(0-e)/(this.props.max()-e)},t.prototype.getThumbPercent=function(){return 100*this.percentFromValue(this.props.value())},t.prototype.valueFromPixels=function(e){if(!this.isMounted)return 0;var t=this.props.min(),n=this.props.max(),i=this.rootNode.getBoundingClientRect().width,o=c(e/i,0,1),s=t+(n-t)*o,a=(n-t)/i;return r.shortestDecimalBetween(s-a,s+a)},t.prototype.percentFromValue=function(e){var t=this.props.min();return c((e-t)/(this.props.max()-t),0,1)},t.prototype.pixelsFromValue=function(e){if(!this.isMounted)return 0;var t=this.percentFromValue(e);return this.rootNode.getBoundingClientRect().width*t},t.prototype.onKeyDown=function(e){switch(o.lookup(e)){case o.UP:this.props.onUpPress&&(this.props.onUpPress(),e.preventDefault());break;case o.DOWN:this.props.onDownPress&&(this.props.onDownPress(),e.preventDefault());break;case o.ENTER:this.props.onEnterPress&&(this.props.onEnterPress(),e.preventDefault());break;case o.ESCAPE:document.activeElement&&a(document.activeElement).blur();break;case o.LEFT:this.props.onKeyboardUpdate("down"),e.preventDefault();break;case o.RIGHT:this.props.onKeyboardUpdate("up"),e.preventDefault();break;case o.PAGEDOWN:this.props.onKeyboardUpdate("bigdown"),e.preventDefault();break;case o.PAGEUP:this.props.onKeyboardUpdate("bigup"),e.preventDefault();break;case o.HOME:this.props.onKeyboardUpdate("min"),e.preventDefault();break;case o.END:this.props.onKeyboardUpdate("max"),e.preventDefault()}},t.prototype.onStartDrag=function(e){if("keyboard"!==e.device&&e.target){e.preventDefault(),l.default();var t={x:0,y:0};1===a(e.target).closest(".dcg-thumb").length?t.x=this.pixelsFromValue(this.props.value()):t.x=e.changedTouches[0].clientX-this.rootNode.getBoundingClientRect().left,this.dragDrop.startDrag(e,{origin:t})}},t.prototype.buildFocusManager=function(){return this.props.onFocusedChanged&&this.props.isFocused?this.const({shouldBeFocused:this.props.isFocused,onFocusedChanged:this.props.onFocusedChanged}):this.const(void 0)},t}(s.Class);t.default=d}),define("expressions/slider_limits_view",["require","exports","tslib","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","graphing/label"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-slider_menu dcg-do-blur"),handleEvent:r.const("true")},r.createElement("div",{class:r.const("dcg-editable-mathquill-container")},r.createElement(o.default,{latex:function(){return e.model.slider.hardMin?e.model.slider.min:""},isFocused:function(){return"min"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return e.controller.t("Slider Minimum: ")},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey("min",t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged("min",t)},onFocusedChanged:function(t){return e.handleFocusedChanged("min",t)}},r.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"min"===e.getFocusedInput(),"dcg-invalid":!s.isSliderMinValid(e.model)}},"data-dcg-limit":r.const("slidermin")})),r.createElement("span",{class:r.const("dcg-interval-interior")},r.createElement(i.default,{latex:this.bindFn(this.getDependentLatex)},r.createElement("span",null))),r.createElement(o.default,{latex:function(){return e.model.slider.hardMax?e.model.slider.max:""},isFocused:function(){return"max"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return e.controller.t("Slider Maximum: ")},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey("max",t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged("max",t)},onFocusedChanged:function(t){return e.handleFocusedChanged("max",t)}},r.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"max"===e.getFocusedInput(),"dcg-invalid":!s.isSliderMaxValid(e.model)}},"data-dcg-limit":r.const("slidermax")})),r.createElement("span",{class:r.const("dcg-slider-step-container")},r.createElement("span",{class:r.const("dcg-slider-step-label"),"aria-hidden":r.const("true")},function(){return e.controller.t("step:")}),r.createElement(o.default,{latex:function(){return e.model.slider.step},isFocused:function(){return"step"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return e.controller.t("Slider Step Size: ")},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey("step",t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged("step",t)},onFocusedChanged:function(t){return e.handleFocusedChanged("step",t)}},r.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"step"===e.getFocusedInput(),"dcg-invalid":!s.isSliderStepValid(e.model)}},"data-dcg-limit":r.const("sliderstep")})))))},t.prototype.handlePressedKey=function(e,t,n){if("Esc"===t||"Enter"===t)return void this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.id}});var r=o.default.getFocusedMathquill();if(r){if("Left"===t||"Right"===t||"Down"===t||"Up"===t){return void(o.default.applyArrowKeyAndReturnIfWasAtBounds(r,t,n)&&("Left"===t?"max"===e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"min"}}):"step"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}}):"Right"===t?"min"===e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}}):"max"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"step"}}):"Down"===t?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):"Up"===t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}})))}r.keystroke(t,n),this.handleLatexChanged(e,r.latex())}},t.prototype.handleLatexChanged=function(e,t){"min"===e?this.dispatchMinLatexIfChanged(t):"max"===e?this.dispatchMaxLatexIfChanged(t):"step"===e&&this.dispatchStepLatexIfChanged(t)},t.prototype.handleFocusedChanged=function(e,t){var n=this;t&&this.getFocusedInput()!==e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:e}}),t?clearTimeout(this.saveAfterBlurTimeout):this.saveAfterBlurTimeout=setTimeout(function(){clearTimeout(n.saveAfterBlurTimeout),n.getFocusedInput()===e&&n.controller.dispatch({type:"blur-focus-location",location:{type:"slider-limit",id:n.id,location:e}})},1)},t.prototype.dispatchMinLatexIfChanged=function(e){this.model.slider.min!==e&&this.controller.dispatch({type:"set-slider-minlatex",id:this.id,latex:e})},t.prototype.dispatchMaxLatexIfChanged=function(e){this.model.slider.max!==e&&this.controller.dispatch({type:"set-slider-maxlatex",id:this.id,latex:e})},t.prototype.dispatchStepLatexIfChanged=function(e){this.model.slider.step!==e&&this.controller.dispatch({type:"set-slider-steplatex",id:this.id,latex:e})},t.prototype.getDependentLatex=function(){var e=this.model.dependent||"";return" \\le "+a.identifierToLatex(e)+" \\le "},t.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"slider-limit"===e.type&&e.id===this.id)return e.location},t}(r.Class);t.default=l}),define("loadcss!expressions/slider-view",function(){}),define("expressions/slider_view",["require","exports","tslib","keys","dcgview","dcgview-helpers/slider","./slider_limits_view","dcgview-helpers/static-mathquill-view","graphing-calc/models/expression","loadcss!./slider-view"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=i.Components.If,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,i.createElement("span",{class:i.const("dcg-slider-container"),tapboundary:i.const("true"),onKeydown:function(t){"Tab"!==r.lookup(t)||t.altKey||t.metaKey||t.ctrlKey||(t.shiftKey&&e.isSliderThumbFocused()?(e.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:e.id,location:"step"}}),t.preventDefault(),t.stopPropagation()):!t.shiftKey&&e.isSliderStepFocused()&&(e.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:e.id}}),t.preventDefault(),t.stopPropagation()))}},i.createElement(c,{predicate:function(){return e.shouldShowSlider()}},function(){return i.createElement("div",{class:i.const("dcg-do-blur dcg-slider"),handleEvent:i.const("true")},i.createElement("div",{class:i.const("dcg-minLabel dcg-template-minlabelhtml"),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.t("Edit __variable__ Limits",{variable:'"'+e.model.dependent+'"'})},onTap:function(){return e.onEditLimit("min")}},i.createElement(a.default,{latex:function(){return l.getDisplaySliderMin(e.model)}})),i.createElement(o.default,{min:function(){return l.getSliderMin(e.model)},max:function(){return l.getSliderMax(e.model)},step:function(){return l.getSliderStep(e.model)},value:function(){return l.getSliderValue(e.model)},ariaLabel:function(){return'"'+e.model.dependent+'"'},onGrab:e.bindFn(e.onGrab),onDrop:e.bindFn(e.onDrop),onDragUpdate:e.bindFn(e.onDragUpdate),onKeyboardUpdate:e.bindFn(e.onKeyboardUpdate),onUpPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Up"})},onDownPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Down"})},onEnterPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})},isFocused:e.bindFn(e.isSliderThumbFocused),onFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:e.id}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"slider-thumb",id:e.id}})}}),i.createElement("div",{class:i.const("dcg-maxLabel dcg-template-maxlabelhtml"),onTap:function(){return e.onEditLimit("max")}},i.createElement(a.default,{latex:function(){return l.getDisplaySliderMax(e.model)}})))}),i.createElement(c,{predicate:function(){return e.shouldShowLimitInputs()}},function(){return i.createElement(s.default,{model:e.props.model,controller:e.props.controller})}))},t.prototype.onGrab=function(){this.dispatchIsDraggingIfChanged(!0)},t.prototype.onDrop=function(){this.controller.dispatch({type:"set-none-selected"}),this.dispatchIsPlayingIfChanged(!1),this.dispatchIsDraggingIfChanged(!1)},t.prototype.onKeyboardUpdate=function(e){this.controller.dispatch({type:"adjust-slider-by-keyboard",id:this.id,adjustment:e})},t.prototype.onDragUpdate=function(e){this.controller.dispatch({type:"adjust-slider-by-dragging-thumb",id:this.model.id,target:e})},t.prototype.onEditLimit=function(e){this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:e}})},t.prototype.dispatchIsPlayingIfChanged=function(e){this.model.slider.isPlaying!==e&&this.controller.dispatch({type:"set-slider-isplaying",id:this.id,isPlaying:e})},t.prototype.dispatchIsDraggingIfChanged=function(e){this.model.sliderDragging!==e&&this.controller.dispatch({type:"set-slider-dragging",id:this.id,dragging:e})},t.prototype.shouldShowLimitInputs=function(){if(this.controller.isInEditListMode())return!0
;if(!l.isSliderMinValid(this.model))return!0;if(!l.isSliderMaxValid(this.model))return!0;if(!l.isSliderStepValid(this.model))return!0;if(this.props.forceLimitInputsVisible())return!0;var e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type||e.id!==this.id)},t.prototype.shouldShowSlider=function(){return!this.shouldShowLimitInputs()},t.prototype.isSliderThumbFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"slider-thumb"!==e.type||e.id!==this.id)},t.prototype.isSliderStepFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type||e.id!==this.id||"step"!==e.location)},t}(i.Class);t.default=u}),define("loadcss!expressions/slider-speed-view",function(){}),define("expressions/slider_speed_view",["require","exports","expressions/slider_loop_modes","tslib","underscore","lib/aria","dcgview","graphing-calc/json/expression","loadcss!./slider-speed-view"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[.05,.1,.15,.2,.35,.5,.75,1,1.5,2,3.5,5,7.5,10,15,20],c=i.min(l),u=i.max(l),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return s.createElement("div",{class:s.const("dcg-slider-speed-container dcg-do-not-blur"),handleEvent:s.const("true")},s.createElement("span",{class:s.const("dcg-action-toggle-slider-loop-mode"),onTap:function(){return e.toggleLoopMode()},role:s.const("button"),"aria-label":function(){return e.getLoopModeAriaLabel()},"aria-hidden":function(){return e.isHidden()},tabindex:function(){return e.isHidden()?-1:0},loopMode:function(){return e.model.slider.loopMode}},s.createElement("span",{class:s.const("dcg-toggle-loop-mode-top")},s.createElement("i",{class:s.const("dcg-icon-bottom-arrow")})),s.createElement("span",{class:s.const("dcg-toggle-loop-mode-bottom")},s.createElement("i",{class:s.const("dcg-icon-bottom-arrow")}))),s.createElement("span",{class:function(){return{"dcg-action-slower":!0,"dcg-disabled":e.isSlowerDisabled()}},onTap:function(){return e.animateSlower()},role:s.const("button"),"aria-label":function(){return e.getSlowerAriaLabel()},"aria-hidden":function(){return e.isHidden()},tabindex:function(){return e.isHidden()?-1:0},"aria-disabled":function(){return e.isSlowerDisabled()}},s.const("«")),s.createElement("span",{class:s.const("dcg-variable-speed")},this.bindFn(this.computeSpeed),s.const("x")),s.createElement("span",{class:function(){return{"dcg-action-faster":!0,"dcg-disabled":e.isFasterDisabled()}},onTap:function(){return e.animateFaster()},role:s.const("button"),"aria-label":function(){return e.getFasterAriaLabel()},"aria-hidden":function(){return e.isHidden()},tabindex:function(){return e.isHidden()?-1:0},"aria-disabled":function(){return e.isFasterDisabled()}},s.const("»")))},t.prototype.computeSpeed=function(){var e=a.DEFAULT_SLIDER_PERIOD/this.model.slider.animationPeriod;return e=Number(e.toFixed(3))},t.prototype.isSlowerDisabled=function(){return c>=this.computeSpeed()},t.prototype.isFasterDisabled=function(){return u<=this.computeSpeed()},t.prototype.animateSlower=function(){var e=this.computeSpeed(),t=i.filter(l,function(t){return t<e});0!==t.length&&this.setPeriodFromSpeed(i.max(t))},t.prototype.animateFaster=function(){var e=this.computeSpeed(),t=i.filter(l,function(t){return t>e});0!==t.length&&this.setPeriodFromSpeed(i.min(t))},t.prototype.toggleLoopMode=function(){var e;e=this.model.slider.loopMode===n.LOOP_FORWARD_REVERSE?n.LOOP_FORWARD:n.LOOP_FORWARD_REVERSE,this.controller.dispatch({type:"set-slider-loopmode",id:this.model.id,loopMode:e})},t.prototype.setPeriodFromSpeed=function(e){var t=a.DEFAULT_SLIDER_PERIOD/e;this.controller.dispatch({type:"set-slider-animationperiod",id:this.model.id,animationPeriod:t}),o.alert(this.controller.t("Animating at __speed__x",{speed:e+""}))},t.prototype.isHidden=function(){return!this.model.slider.isPlaying},t.prototype.getSlowerAriaLabel=function(){this.controller.t("Animate __variable__ Slower",{variable:this.model.dependent})},t.prototype.getFasterAriaLabel=function(){this.controller.t("Animate __variable__ Faster",{variable:this.model.dependent})},t.prototype.getLoopModeAriaLabel=function(){return this.model.slider.loopMode===n.LOOP_FORWARD_REVERSE?this.controller.t("Loop __variable__ Forward and Reverse",{variable:this.model.dependent}):this.controller.t("Loop __variable__ Forward",{variable:this.model.dependent})},t}(s.Class);t.default=d}),define("loadcss!prompt-sliders",function(){}),define("expressions/promptslider_view",["require","exports","tslib","graphing/label","jquery","lib/aria","dcgview","loadcss!prompt-sliders"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s.Components,l=a.For,c=a.If,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return s.createElement("div",{class:s.const("dcg-create-sliders dcg-action-createslider"),handleEvent:s.const("true"),onTap:this.bindFn(this.onCreateSlider)},s.createElement("span",{class:s.const("dcg-msg")},function(){return e.controller.t("add slider:")}),s.createElement("span",{class:s.const("btns")},s.createElement(l,{each:function(){return e.model.missingVariables.slice(0,4)}},s.createElement("span",null,function(t){return s.createElement("div",{class:s.const("dcg-slider-btn-container"),var_name:e.const(t)},s.createElement("div",{role:s.const("button"),tabindex:s.const("0"),class:function(){return{"dcg-btn-slider":!0,"dcg-btn-blue":1===e.model.missingVariables.length,"dcg-btn-light-gray":1!==e.model.missingVariables.length}},didMount:function(e){e.innerHTML=r.identifierToHTML(t)}}))})),s.createElement(c,{predicate:function(){return e.model.missingVariables.length>1}},function(){return s.createElement("div",{class:s.const("dcg-slider-btn-container dcg-all")},s.createElement("div",{role:s.const("button"),tabindex:s.const("0"),class:s.const("dcg-btn-slider dcg-btn-blue")},function(){return e.controller.t("all")}))})))},t.prototype.onCreateSlider=function(e){if(this.controller.dispatch({type:"set-none-selected"}),e.target){var t=i(e.target).closest(".dcg-slider-btn-container");if(t.length){var n=!1;if(t.hasClass("dcg-all"))this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:this.model.missingVariables}),n=!0;else{var r=[t.attr("var_name")];this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:r}),n=1==this.model.missingVariables.length}if("keyboard"===e.device){var o=this.model.id,s=this.props.controller().getItemSelectorById(o);if(!s)return;n?this.controller.dispatch({type:"move-focus-to-item",id:o}):s.find(".dcg-btn-blue").focus()}}}},t.prototype.didMount=function(){var e=this;this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout),this.promptAlertTimeout=setTimeout(function(){for(var t=[],n=e.model.missingVariables,r=0;r<n.length;r++)t.push('"'+n[r]+'"');o.alert(e.controller.t("Add slider for __vars__",{vars:t.join(",")})),e.promptAlertTimeout=0},2e3)},t.prototype.didUnmount=function(){this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout)},t}(s.Class);t.default=u}),define("loadcss!expressions/label-dropdown-view",function(){}),define("expressions/label-dropdown-view",["require","exports","tslib","dcgview","main/label-sizes","graphing/dragmode","main/label-orientations","dcgview-helpers/checkbox","loadcss!./label-dropdown-view"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components,c=l.For,u=l.IfElse,d=l.If,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-label-dropdown-view dcg-popover dcg-left")},r.createElement("div",{class:r.const("dcg-arrow")}),r.createElement("div",{class:r.const("dcg-label-group-container")},r.createElement("div",{class:r.const("dcg-label-group")},r.createElement("div",{role:r.const("heading"),"aria-level":r.const(1),class:r.const("dcg-label-group-title")},function(){return e.controller.t("Label Position")}),r.createElement(c,{each:this.bindFn(this.getLabelOrientations)},r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.controller.t("Label Position")},class:r.const("dcg-label-options")},function(t){return r.createElement("a",{role:r.const("button"),tabindex:r.const(0),class:function(){return{"dcg-menu-option":!0,"dcg-label-position":!0,"dcg-menu-option-selected":e.isorientationSelected(t)}},"aria-pressed":function(){return e.isorientationSelected(t)},onTap:function(){return e.setorientation(t)},"aria-label":function(){return e.getOrientationText(t)}},r.createElement("span",{class:r.const("dcg-menu-option-icon")},r.createElement("i",{class:r.const("dcg-icon-position-arrows")}),r.createElement("span",{class:function(){var n;return n={"dcg-position-direction-icon":!0},n[e.getPositionIconClass(t)]=!0,n}},u(function(){return"default"===t},{true:function(){return r.createElement("div",{class:r.const("dcg-default-position")})},false:function(){return r.createElement("i",{class:r.const("dcg-icon-position-arrows-single")})}}))),r.createElement("span",{class:r.const("dcg-menu-option-label")},function(){return e.getOrientationText(t)}))}))),r.createElement("div",{class:r.const("dcg-label-group")},r.createElement("div",{class:r.const("dcg-label-group-title")},function(){return e.controller.t("Font Size")}),r.createElement(c,{each:this.bindFn(this.getLabelSizes)},r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.controller.t("Size")},class:r.const("dcg-label-options")},function(t){return r.createElement("a",{role:r.const("button"),tabindex:r.const(0),class:function(){var n;return n={"dcg-menu-option":!0,"dcg-menu-option-selected":e.isSizeSelected(t),"dcg-label-size":!0},n[e.getSizeClass(t)]=!0,n},"aria-pressed":function(){return e.isSizeSelected(t)},onTap:function(){return e.setLabelSize(t)},"aria-label":function(){return e.getSizeText(t)}},r.createElement("span",{class:r.const("dcg-menu-option-icon")},r.const("A")),r.createElement("span",{class:r.const("dcg-menu-option-label")},function(){return e.getSizeText(t)}))})),r.createElement("div",{class:r.const("dcg-label-group dcg-additional-group-in-column")},r.createElement("div",{class:r.const("dcg-label-group-title")},function(){return e.controller.t("Orientation")}),r.createElement(a.Checkbox,{checked:this.bindFn(this.getVerticalLabel),onChange:this.bindFn(this.setVerticalLabel),ariaLabel:this.const(this.controller.t("Vertical"))},function(){return e.controller.t("Vertical")})),r.createElement(d,{predicate:function(){return e.controller.canUseAdvancedStyling()&&e.shouldShowInteractiveLabelCheckbox()}},function(){return r.createElement("div",{class:r.const("dcg-label-group dcg-additional-group-in-column")},r.createElement("div",{class:r.const("dcg-label-group-title")},r.const("Hover Effects")),r.createElement(a.Checkbox,{checked:e.bindFn(e.getInteractiveLabel),onChange:e.bindFn(e.setInteractiveLabel),ariaLabel:e.const("Interactive Label")},r.const("Interactive")))}))))},t.prototype.getLabelOrientations=function(){return[s.LabelOrientation.DEFAULT,s.LabelOrientation.LEFT,s.LabelOrientation.RIGHT,s.LabelOrientation.ABOVE,s.LabelOrientation.BELOW]},t.prototype.getOrientationText=function(e){switch(e){case s.LabelOrientation.DEFAULT:return this.controller.t("Default");case s.LabelOrientation.LEFT:return this.controller.t("Left");case s.LabelOrientation.RIGHT:return this.controller.t("Right");case s.LabelOrientation.ABOVE:return this.controller.t("Above");case s.LabelOrientation.BELOW:return this.controller.t("Below");default:var t=e;throw new Error("Unexpected label orientation: "+t)}},t.prototype.getLabelSizes=function(){return[i.LabelSize.SMALL,i.LabelSize.MEDIUM,i.LabelSize.LARGE]},t.prototype.getSizeText=function(e){switch(e){case i.LabelSize.SMALL:return this.controller.t("Small");case i.LabelSize.LARGE:return this.controller.t("Large");case i.LabelSize.MEDIUM:return this.controller.t("Medium");default:var t=e;throw new Error("Unexpected label size: "+t)}},t.prototype.getSizeClass=function(e){switch(e){case i.LabelSize.SMALL:return"dcg-small-label";case i.LabelSize.LARGE:return"dcg-large-label";case i.LabelSize.MEDIUM:return"dcg-medium-label";default:var t=e;throw new Error("Unexpected label size: "+t)}},t.prototype.isSizeSelected=function(e){return this.model.labelSize===e},t.prototype.isorientationSelected=function(e){return this.model.labelOrientation===e},t.prototype.getPositionIconClass=function(e){switch(e){case s.LabelOrientation.ABOVE:return"dcg-position-icon-above";case s.LabelOrientation.BELOW:return"dcg-position-icon-below";case s.LabelOrientation.LEFT:return"dcg-position-icon-left";case s.LabelOrientation.RIGHT:return"dcg-position-icon-right";case s.LabelOrientation.DEFAULT:return"dcg-position-icon-default";default:var t=e;throw new Error("Unexpected label orientation: "+t)}},t.prototype.setorientation=function(e){this.controller.dispatch({type:"set-item-label-orientation",id:this.id,labelOrientation:e})},t.prototype.setVerticalLabel=function(e){this.controller.dispatch({type:"set-item-vertical-label",id:this.id,verticalLabel:e})},t.prototype.getVerticalLabel=function(){return!!this.model.verticalLabel},t.prototype.setInteractiveLabel=function(e){this.controller.dispatch({type:"set-item-interactive-label",id:this.id,interactiveLabel:e})},t.prototype.getInteractiveLabel=function(){return!!this.model.interactiveLabel},t.prototype.setLabelSize=function(e){this.controller.dispatch({type:"set-item-labelSize",id:this.id,labelSize:e})},t.prototype.getLabelSize=function(){return this.model.labelSize},t.prototype.shouldShowInteractiveLabelCheckbox=function(){return this.model.reconciledDragMode===o.DragMode.NONE},t}(r.Class);t.LabelDropdownView=p}),define("loadcss!expressions/label_view",function(){}),define("expressions/label_view",["require","exports","tslib","keys","dcgview","./label-dropdown-view","jquery","loadcss!./label_view"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i.Components,l=a.Input,c=a.If,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,i.createElement("div",{class:function(){return{"dcg-label-visible":e.getShowLabel(),"dcg-label-container":!0,"dcg-do-blur":!0}},tapboundary:i.const("true"),handleEvent:i.const("true")},i.createElement("span",{role:i.const("checkbox"),"aria-checked":this.bindFn(this.getShowLabel),tabindex:i.const("0"),class:function(){return{"dcg-checkbox":!0,"dcg-checkbox-checked":e.getShowLabel()}},"aria-label":function(){return e.controller.t("Label")},onTap:this.bindFn(this.onCheckboxInput)},i.createElement("span",{class:function(){return{"dcg-checkbox-box":!0,"dcg-checked":e.getShowLabel()}}},i.createElement("i",{class:i.const("dcg-icon-check")})),i.const(" "),i.createElement("span",{class:i.const("dcg-checkbox-label"),"aria-hidden":i.const("true")},function(){return e.controller.t("Label")})),i.createElement(l,{class:function(){return{"dcg-label-input":!0,"dcg-disabled-input":e.getIsDisabled()}},"aria-label":function(){return e.controller.t("Label Text")},"aria-disabled":this.bindFn(this.getIsDisabled),value:this.bindFn(this.getLabel),onInput:this.bindFn(this.onLabelInput)}),i.createElement("span",{class:function(){return{"dcg-dropdown-container":!0,"dcg-no-label":!e.getShowLabel()}},didMount:function(t){return e.$dropdownContainer=s(t)}},i.createElement("span",{class:i.const("dcg-dropdown-wrench-container"),role:i.const("button"),tabindex:i.const(0),"aria-label":function(){return e.controller.t("Label Settings")},onTap:this.bindFn(this.toggleDropdown),selected:this.bindFn(this.showLabelDropdown),"aria-expanded":this.bindFn(this.showLabelDropdown)},i.createElement("i",{class:i.const("dcg-icon-wrench")})),i.createElement(c,{predicate:this.bindFn(this.showLabelDropdown)},function(){return i.createElement(o.LabelDropdownView,{controller:e.props.controller,model:e.props.model})})))},t.prototype.showLabelDropdown=function(){return this.model.labelDropdownOpen},t.prototype.showDropdown=function(e){var t=this,n=s(e.target);s(document).on("mousedown.dcg-"+this.id+" touchstart.dcg-"+this.id+" pointerdown.dcg-"+this.id,function(e){t.showLabelDropdown()&&(s(e.target).closest(t.$dropdownContainer).length>0||t.hideDropdown())}),s(document).on("keydown.dcg-"+this.id,function(e){r.lookup(e)===r.ESCAPE&&(t.hideDropdown(),n.focus())}),this.controller.dispatch({type:"set-item-label-dropdown-open",id:this.id,open:!0})},t.prototype.hideDropdown=function(){s(document).off(".dcg-"+this.id),this.controller.dispatch({type:"set-item-label-dropdown-open",id:this.id,open:!1})},t.prototype.toggleDropdown=function(e){this.showLabelDropdown()?this.hideDropdown():this.showDropdown(e)},t.prototype.getLabel=function(){return this.model.label||""},t.prototype.getShowLabel=function(){return!!this.model.showLabel},t.prototype.getIsDisabled=function(){return 0===this.getLabel().length&&!this.getShowLabel()},t.prototype.onLabelInput=function(e){var t=e;this.controller.dispatch({type:"set-item-label",id:this.id,label:t}),this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!!t})},t.prototype.onCheckboxInput=function(){this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!this.getShowLabel()})},t}(i.Class);t.default=u}),define("loadcss!expressions/cdf-footer-view",function(){}),define("expressions/cdf-footer-view",["require","exports","tslib","dcgview","graphing-calc/models/expression","dcgview-helpers/mathquill-view","./evaluation-view","dcgview-helpers/checkbox","loadcss!./cdf-footer-view"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components.If,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.focusedValues={},t}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-cdf-footer-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(a.Checkbox,{checked:function(){return i.shouldShowCDFFooter(e.model)},disabled:function(){return i.isListValuedDistribution(e.model)},onChange:function(t){e.controller.dispatch({type:"set-show-cdf",id:e.model.id,showCDF:t})},ariaLabel:function(){return e.controller.t("Find Cumulative Probability (CDF)")}},function(){return e.controller.t("Find Cumulative Probability (CDF)")}),r.createElement(l,{predicate:function(){return i.shouldShowCDFFooter(e.model)}},function(){return r.createElement("div",null,r.createElement("span",{class:r.const("dcg-cdf-limit-name")},function(){return e.controller.t("Min:")}),r.createElement(o.default,{latex:function(){return i.getCDFMin(e.model)},hasError:function(){return!i.isCDFMinValid(e.model)},isFocused:function(){return e.isInputFocused("min")},onFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},config:e.const({}),getAriaLabel:function(){return e.controller.t("Min")},getAriaPostLabel:function(){return""},placeholder:function(){return i.getCDFMinPlaceholder(e.model)},onUserPressedKey:function(t,n){return e.handlePressedKey(t,n,"min")},onUserChangedLatex:e.bindFn(e.updateCDFMin),capExpressionSize:function(){return!!e.model.controller.getGraphSettings().config.capExpressionSize}}),r.createElement("span",{class:r.const("dcg-cdf-limit-name")},function(){return e.controller.t("Max:")}),r.createElement(o.default,{latex:function(){return i.getCDFMax(e.model)},hasError:function(){return!i.isCDFMaxValid(e.model)},isFocused:function(){return e.isInputFocused("max")},onFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},config:e.const({}),getAriaLabel:function(){return e.controller.t("Max")},getAriaPostLabel:function(){return""},placeholder:function(){return i.getCDFMaxPlaceholder(e.model)},onUserPressedKey:function(t,n){return e.handlePressedKey(t,n,"max")},onUserChangedLatex:e.bindFn(e.updateCDFMax),capExpressionSize:function(){return!!e.model.controller.getGraphSettings().config.capExpressionSize}}),r.createElement(l,{predicate:e.bindFn(e.showEvaluation)},function(){return r.createElement("div",{class:r.const("dcg-cdf-evaluation-container")},r.createElement(s.default,{val:function(){return i.getCDFEvaluation(e.model)},controller:e.props.controller,dependent:e.const(""),id:function(){return e.model.id},focusable:e.const(!0)}))}))}))},t.prototype.handlePressedKey=function(e,t,n){if("Esc"===e)return void this.controller.dispatch({type:"set-focus-location",location:void 0});if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var r=o.default.getFocusedMathquill();r&&(r.keystroke(e,t),"min"===n&&i.getCDFMin(this.model)!==r.latex()&&this.updateCDFMin(r.latex()),"max"===n&&i.getCDFMax(this.model)!==r.latex()&&this.updateCDFMax(r.latex()))},t.prototype.updateCDFMax=function(e){this.controller.dispatch({type:"set-cdf-max",id:this.model.id,latex:e})},t.prototype.updateCDFMin=function(e){this.controller.dispatch({type:"set-cdf-min",id:this.model.id,latex:e})},t.prototype.showEvaluation=function(){return!!i.isCDFMaxValid(this.model)&&!!i.isCDFMinValid(this.model)},t.prototype.isInputFocused=function(e){var t=this.controller.getFocusLocation();return!(!t||"cdf-limit"!==t.type||t.id!==this.id)&&t.location===e},t.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"cdf-limit",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"cdf-limit",id:this.id,location:e}})},t}(r.Class);t.default=c}),define("loadcss!expressions/parameter_suggestions_view",function(){}),define("expressions/parameters_suggestions_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","loadcss!./parameter_suggestions_view"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r.Components,s=o.If,a=o.For,l=o.SwitchUnion,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return l(this.bindFn(this.getSuggestionType),{list:function(){return r.createElement(a,{each:e.bindFn(e.getListOfParameters)},r.createElement("div",{class:r.const("dcg-parameter-suggestion-container")},function(t){return r.createElement("span",{class:r.const("dcg-parameter-name")},function(){return e.getParamName(t)},r.createElement(s,{predicate:function(){return e.shouldShowDefaultValue(t)}},function(){return r.createElement("span",{class:r.const("dcg-default-marker")},r.const("= "),function(){return e.getDefaultValue(t)})}))}))},individual:function(){return r.createElement("div",{class:r.const("dcg-parameter-suggestion-container")},e.bindFn(e.getMissingRequiredParamText))},none:function(){}})},t.prototype.getSuggestionType=function(){return this.getListOfParameters().length>1?"list":this.missingRequiredParam()?"individual":"none"},t.prototype.missingRequiredParam=function(){var e=i.parseToplevelFunction(this.model);if(e&&1===e.params.length){var t=e.params[0];if(!this.getDefaultValue(t)&&!this.getParameterExtractedValue(t))return t}},t.prototype.getMissingRequiredParamText=function(){var e=this.missingRequiredParam();return e?this.controller.t("Enter the __param__.",{param:this.getParamName(e)}):""},t.prototype.getDefaultValue=function(e){var t=i.parseToplevelFunction(this.model);if(!t||!t.params)return"";for(var n=0;n<t.params.length;n++)if(t.params[n]===e)return t.defaults[n]||"";return""},t.prototype.getParameterExtractedValue=function(e){var t=i.parseToplevelFunction(this.model);return t?t.values[e]||"":""},t.prototype.shouldShowDefaultValue=function(e){return!this.getParameterExtractedValue(e)&&!!this.getDefaultValue(e)},t.prototype.getListOfParameters=function(){var e=i.parseToplevelFunction(this.model);return e?e.params:[]},t.prototype.getParamName=function(e){switch(e){case"mean":return this.controller.t("Mean");case"stdev":return this.controller.t("Standard Deviation");case"dof":return this.controller.t("Degrees of Freedom");case"probsuccess":return this.controller.t("Success Probability");case"trials":return this.controller.t("Trials");case"data":return this.controller.t("Data Set");case"binwidth":return this.controller.t("Bin Width");case"height":case"offset":case"data":return e;default:return e}},t}(r.Class);t.ParametersSuggestionsView=c}),define("loadcss!expressions/distribution_parameters_view",function(){}),define("expressions/distribution_parameters_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","expressions/cdf-footer-view","./parameters_suggestions_view","loadcss!./distribution_parameters_view"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components.If,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-distribution-parameters-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(s.ParametersSuggestionsView,{model:this.props.model,controller:this.props.controller}),r.createElement(a,{predicate:function(){return i.shouldShowCDFCheckbox(e.model)}},function(){return r.createElement(o.default,{model:e.props.model,controller:e.props.controller})}))},t}(r.Class);t.default=l}),define("loadcss!expressions/visualization_parameters_view",function(){}),define("expressions/visualization_parameters_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","dcgview-helpers/mathquill-view","./parameters_suggestions_view","loadcss!./visualization_parameters_view"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components.For,l=r.Components,c=l.SwitchUnion,u=l.If,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-toggle-container")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},this.props.title,r.createElement(u,{predicate:function(){return!!e.props.helpLink}},function(){return r.createElement("a",{"aria-label":function(){return e.props.controller().t("Help")},class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:e.props.helpLink},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))})),r.createElement(a,{each:this.props.options,key:function(e){return e.name}},r.createElement("div",{class:r.const("dcg-toggle")},function(t){return r.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.isSelected(t.name)}},role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return e.props.title()+": "+t.displayName},"aria-pressed":function(){return e.isSelected(t.name)},onTap:function(){return e.props.controller().dispatch({type:"set-visualization-prop",id:e.props.model().id,prop:e.props.vizProp(),latex:t.name})}},function(){return t.displayName})})))},t.prototype.isSelected=function(e){return i.getVizPropLatex(this.props.model(),this.props.vizProp())===e},t}(r.Class),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-visualization-parameters-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(s.ParametersSuggestionsView,n.__assign({},this.props)),r.createElement("div",{class:r.const("dcg-smaller-font")},c(function(){return e.getVisualizationType()},{boxplot:function(){return r.createElement("div",null,r.createElement("div",{class:r.const("dcg-expression-footer-title")},function(){return e.controller.t("Display Properties")}),e.makeMQInput({prop:"axisOffset",default:"1",name:function(){return e.controller.t("Offset")}}),e.makeMQInput({prop:"breadth",default:"1",name:function(){return"y"===i.getVizPropLatex(e.model,"alignedAxis")?e.controller.t("Width"):e.controller.t("Height")}}))},dotplot:function(){return r.createElement(u,{predicate:function(){return i.needsDotplotXMode(e.model)}},function(){return r.createElement("div",{class:r.const("dcg-toggles-container")},r.createElement(d,n.__assign({},e.props,{vizProp:function(){return"dotplotXMode"},options:function(){return[{name:"exact",displayName:e.controller.t("Exact")},{name:"bin",displayName:e.controller.t("Binned")}]},title:function(){return e.controller.t("X Values")}})),r.createElement(d,n.__assign({},e.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:e.controller.t("Center")},{name:"left",displayName:e.controller.t("Left")}]},title:function(){return e.controller.t("Bin Alignment")}})))})},histogram:function(){return r.createElement("div",{class:r.const("dcg-toggles-container")},r.createElement(d,n.__assign({},e.props,{vizProp:function(){return"histogramMode"},options:function(){return[{name:"",displayName:e.controller.t("Count")},{name:"relative",displayName:e.controller.t("Relative")},{name:"density",displayName:e.controller.t("Density")}]},title:function(){return e.controller.t("Bar Heights")},helpLink:e.const("https://support.desmos.com/hc/en-us/articles/360022405991")})),r.createElement(d,n.__assign({},e.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:e.controller.t("Center")},{name:"left",displayName:e.controller.t("Left")}]},title:function(){return e.controller.t("Bin Alignment")}})))},none:function(){return r.createElement("span",null)}})))},t.prototype.makeMQInput=function(e){var t=this;return r.createElement("span",null,r.createElement("span",{class:r.const("dcg-parameter-name")},e.name,r.const(":")),r.createElement(o.default,{latex:function(){return i.getVizPropLatex(t.model,e.prop)},hasError:function(){return!i.isVizPropValid(t.model,e.prop)},isFocused:function(){return t.isInputFocused(e.prop)},onFocusedChanged:function(n){return t.handleFocusedChanged(e.prop,n)},placeholder:function(){return e.default},config:this.const({}),getAriaLabel:e.name,onUserPressedKey:function(n,r){return t.handlePressedKey(n,r,e.prop)},getAriaPostLabel:function(){return""},onUserChangedLatex:function(n){return t.handleLatexChanged(e.prop,n)},capExpressionSize:function(){return!!t.model.controller.getGraphSettings().config.capExpressionSize}}))},t.prototype.handlePressedKey=function(e,t,n){if("Esc"===e)return void this.controller.dispatch({type:"set-focus-location",location:void 0});if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var r=o.default.getFocusedMathquill();r&&(r.keystroke(e,t),this.handleLatexChanged(n,r.latex()))},t.prototype.isInputFocused=function(e){var t=this.controller.getFocusLocation()
;return!(!t||"visualization-prop"!==t.type||t.id!==this.id)&&t.location===e},t.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"visualization-prop",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"visualization-prop",id:this.id,location:e}})},t.prototype.handleLatexChanged=function(e,t){i.getVizPropLatex(this.model,e)!==t&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:e,latex:t})},t.prototype.getVisualizationType=function(){return i.isPrimaryLatexValid(this.model)?i.isBoxPlot(this.model)?"boxplot":i.isDotPlot(this.model)?"dotplot":i.isHistogram(this.model)?"histogram":"none":"none"},t}(r.Class);t.default=p}),define("loadcss!expressions/ttest_footer_view",function(){}),define("expressions/ttest_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","lib/number-to-latex","dcgview-helpers/static-mathquill-view","loadcss!./ttest_footer_view"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-ttest-footer-container dcg-do-blur"),handleEvent:r.const("true")},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Less than: "+e.getLessThan()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(s.default,{latex:this.const("<")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(s.default,{latex:function(){return e.getLessThan()}}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Greater than: "+e.getGreaterThan()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(s.default,{latex:this.const(">")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(s.default,{latex:function(){return e.getGreaterThan()}}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Not equal: "+e.getNotEqual()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(s.default,{latex:this.const("≠")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(s.default,{latex:function(){return e.getNotEqual()}})))))))},t.prototype.getLessThan=function(){var e=i.getTTestResults(this.model);return e?o.numberToStatsConfidenceLatex(e.lessThan,5):""},t.prototype.getGreaterThan=function(){var e=i.getTTestResults(this.model);return e?o.numberToStatsConfidenceLatex(e.greaterThan,5):""},t.prototype.getNotEqual=function(){var e=i.getTTestResults(this.model);return e?o.numberToStatsConfidenceLatex(e.notEqual,5):""},t}(r.Class);t.default=a}),define("loadcss!expressions/stats_footer_view",function(){}),define("expressions/stats_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","dcgview-helpers/static-mathquill-view","lib/number-to-latex","loadcss!./stats_footer_view"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-stats-footer-container dcg-do-blur"),handleEvent:r.const("true")},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Min: "+e.getMin()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Min")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{latex:this.bindFn(this.getMin)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Q1: "+e.getQ1()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Q1")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{latex:this.bindFn(this.getQ1)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Median: "+e.getMedian()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Median")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{latex:this.bindFn(this.getMedian)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Q3: "+e.getQ3()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Q3")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{latex:this.bindFn(this.getQ3)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Max: "+e.getMax()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Max")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{latex:this.bindFn(this.getMax)})))))))},t.prototype.getMin=function(){var e=i.getStatsResults(this.model);return e?s.numberToDecimalString(e.min):""},t.prototype.getQ1=function(){var e=i.getStatsResults(this.model);return e?s.numberToDecimalString(e.q1):""},t.prototype.getMedian=function(){var e=i.getStatsResults(this.model);return e?s.numberToDecimalString(e.median):""},t.prototype.getQ3=function(){var e=i.getStatsResults(this.model);return e?s.numberToDecimalString(e.q3):""},t.prototype.getMax=function(){var e=i.getStatsResults(this.model);return e?s.numberToDecimalString(e.max):""},t}(r.Class);t.default=a}),define("loadcss!expressions/expression-edit-actions",function(){}),define("expressions/expression-edit-actions",["require","exports","tslib","dcgview","lib/tooltip","graphing/dragmode","expressions/styles","graphing-calc/models/expression","loadcss!./expression-edit-actions"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement(l,{predicate:function(){return e.controller.isInEditListMode()}},function(){return r.createElement("span",{class:function(){return{"dcg-expression-edit-actions":!0,"dcg-limited-height":e.limitedHeight()}},style:function(){return{background:e.controller.getBackgroundColor()}}},r.createElement(l,{predicate:function(){return!e.controller.hasBackgroundColor()}},function(){return r.createElement("span",{class:r.const("dcg-graphic"),handleEvent:r.const("true ")})}),r.createElement(l,{predicate:e.bindFn(e.canConvertToTable)},function(){return r.createElement(i.Tooltip,{tooltip:function(){return e.controller.t("Convert to Table")},gravity:e.const("s")},r.createElement("span",{class:r.const("dcg-action-createtable dcg-exp-action-button"),handleEvent:r.const("true"),onTap:e.bindFn(e.onCreateTable)},r.createElement("i",{class:r.const("dcg-icon-table")})))}),r.createElement(l,{predicate:e.bindFn(e.canDuplicate)},function(){return r.createElement(i.Tooltip,{tooltip:function(){return e.controller.t("Duplicate")},gravity:e.const("s")},r.createElement("span",{class:r.const("dcg-duplicate-btn dcg-exp-action-button"),handleEvent:r.const("true"),onTap:e.bindFn(e.onDuplicateWithoutFocus)},r.createElement("i",{class:r.const("dcg-icon-duplicate")})))}),r.createElement(i.Tooltip,{tooltip:function(){return e.controller.t("Delete")},gravity:e.const("sw")},r.createElement("span",{class:r.const("dcg-delete-btn dcg-exp-action-button"),handleEvent:r.const("true"),onTap:e.bindFn(e.onDelete)},r.createElement("i",{class:r.const("dcg-icon-remove")}))))})},t.prototype.model=function(){return this.controller.getItemModel(this.props.id())},t.prototype.canConvertToTable=function(){var e=this.model();return!(!e||"expression"!==e.type||!e.isTableable)},t.prototype.canDuplicate=function(){var e=this.model();return!(!e||"expression"!==e.type||this.isSlider())},t.prototype.limitedHeight=function(){var e=this.model();return e&&("image"===e.type||this.isSlider())},t.prototype.isSlider=function(){var e=this.model();return e&&"expression"===e.type&&e.sliderExists},t.prototype.onCreateTable=function(){var e=this.model();if(e&&"expression"===e.type){var t=e.formula;if(e.isTableable){var n,r=t.table_info,i=e.index,l=[],c=[];if(r.values)for(n=0;n<r.values.length;n++){var u=r.values[n][0];l.push(isNaN(u)?"":u+"");var d=r.values[n][1];c.push(isNaN(d)?"":d+"")}else for(n=-2;n<=2;n++)l.push(n+""),c.push("");var p={id:this.controller.generateId(),type:"table",columns:[{id:this.controller.generateId(),latex:r.independent_variable,color:this.controller.getNextColor(),hidden:!1,values:l,points:!0,lines:!1,dragMode:o.DragMode.NONE,pointStyle:s.PointStyle.POINT,lineStyle:s.LineStyle.SOLID},{id:this.controller.generateId(),latex:r.dependent_column,color:e.color,hidden:!1,values:c,points:!0,lines:!(a.isPointOrPointList(e)||e.hidden),dragMode:o.DragMode.NONE,pointStyle:s.PointStyle.POINT,lineStyle:s.LineStyle.SOLID}]},h=this.controller;this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1}),r.by_reference?this.controller.dispatch({type:"insert-item-at-index",index:i+1,state:p,folderId:e.folderId,focus:!0}):this.controller.dispatch({type:"replace-item-at-index",index:i,state:p,focus:!0});var f=function(){h.dispatch({type:"undo"}),h.dispatch({type:"set-edit-list-mode",isEditListMode:!0})};this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Table created."),undoCallback:f}})}}},t.prototype.onDelete=function(){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.props.id()})},t.prototype.onDuplicateWithoutFocus=function(){this.controller.dispatch({type:"duplicate-expression",id:this.props.id()})},t}(r.Class);t.ExpressionEditActions=c}),define("loadcss!expressions/suggested-zoom-view",function(){}),define("expressions/suggested-zoom-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!./suggested-zoom-view"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r.Components.If,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return r.createElement(o,{predicate:function(){return e.controller.shouldExpressionZoomFit(e.model)}},function(){return r.createElement("div",{class:r.const("dcg-suggested-zoom-view dcg-do-blur"),handleEvent:r.const(!0)},r.createElement(i.Tooltip,{tooltip:e.bindFn(e.getZoomText),gravity:function(){return"e"}},r.createElement("i",{onTap:e.bindFn(e.onZoom),role:r.const("button"),"aria-label":e.bindFn(e.getZoomText),class:r.const("dcg-icon-zoom-fit")})))})},t.prototype.getZoomText=function(){return this.controller.t("Zoom Fit")},t.prototype.onZoom=function(){this.controller.dispatch({type:"expression-zoom-fit",id:this.model.id})},t}(r.Class);t.SuggestedZoomView=s}),define("loadcss!expressions/expression-footer",function(){}),define("expressions/expression_view",["require","exports","config","tslib","browser","./abstract-item-view","dcgview-helpers/mathquill-view","lib/conditional_blur","./expression-icon-view","./evaluation-view","expressions/unresolved_view","expressions/domain_view","expressions/regression_view","expressions/slider_view","expressions/slider_speed_view","expressions/promptslider_view","expressions/label_view","expressions/distribution_parameters_view","expressions/visualization_parameters_view","expressions/ttest_footer_view","expressions/stats_footer_view","graphing-calc/models/expression","graphing/label","./expression-edit-actions","./suggested-zoom-view","dcgview","jquery.handleevent","loadcss!./expression-footer"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m,y,v,b,x,w,_,E,S,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k=M.Components,I=k.If,C=k.SwitchUnion,T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted(),clearTimeout(this.dispatchBlurTimeout)},t.prototype.didUpdate=function(){this.wasMainLatexFocusedLastUpdate=this.isFocused()},t.prototype.template=function(){var e=this;return M.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-mathitem":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-isPlaying":e.isSliderPlaying(),"dcg-hasSlider":e.hasSlider(),"dcg-hasEvaluation":e.controller.shouldShowEvaluationForItem(e.id),"dcg-hasRegression":e.hasRegression(),"dcg-hasDomain":e.hasDomain()}},"expr-id":function(){return e.model.id}},M.createElement("div",{class:M.const("dcg-fade-container"),onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},M.createElement("div",{class:M.const("dcg-main")},M.createElement(s.default,{latex:function(){return w.getDisplayLatex(e.model)},getAriaLabel:this.bindFn(this.getAriaLabel),getAriaPostLabel:this.bindFn(this.getFormulaAria),isFocused:function(){return e.isFocused()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},config:this.const({}),hasError:this.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey(t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onFocusedChanged:function(t){return e.handleMQFocusedChanged(t)}},M.createElement("div",{class:M.const("dcg-expression-mathquill")}))),M.createElement("i",{class:M.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:M.const("true"),onTap:this.bindFn(this.onDelete)}),M.createElement(I,{predicate:this.bindFn(this.hasSlider)},function(){return M.createElement(f.default,{model:e.props.model,controller:e.props.controller})}),M.createElement(I,{predicate:this.bindFn(this.shouldShowFooter)},function(){return M.createElement("div",{class:e.getFooterClass()},C(function(){return e.getFooterType()},{none:function(){},regression:function(){return M.createElement(p.default,{model:e.props.model,controller:e.props.controller})},label:function(){return M.createElement(m.default,{model:e.props.model,controller:e.props.controller})},slider:function(){return M.createElement(h.default,{model:e.props.model,controller:e.props.controller,forceLimitInputsVisible:e.bindFn(e.shouldForceSliderLimitInputs)})},domain:function(){return M.createElement(d.default,{model:e.props.model,controller:e.props.controller})},evaluation:function(){return M.createElement(c.default,{id:function(){return e.props.model().id},dependent:function(){return e.model.dependent||""},val:function(){return e.controller.getEvaluationValueForItem(e.id)},controller:e.props.controller,focusable:e.const(!1)})},distribution:function(){return M.createElement(y.default,{model:e.props.model,controller:e.props.controller})},visualization:function(){return M.createElement(v.default,{model:e.props.model,controller:e.props.controller})},ttest:function(){return M.createElement(b.default,{model:e.props.model,controller:e.props.controller})},stats:function(){return M.createElement(x.default,{model:e.props.model,controller:e.props.controller})},unresolved:function(){return M.createElement(u.default,{controller:e.props.controller})}}),M.createElement(I,{predicate:e.bindFn(e.shouldShowSliderPrompt)},function(){return M.createElement(g.default,{model:e.props.model,controller:e.props.controller})}))})),M.createElement("span",{class:M.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:M.const("true"),tapboundary:M.const("true"),disablescroll:M.const("true"),style:M.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},M.createElement("span",{class:M.const("dcg-num")},function(){return e.model.displayIndex}),M.createElement("div",{class:M.const("dcg-tab-interior dcg-action-icon-mouse")},M.createElement(l.default,{model:this.props.model,controller:this.props.controller})),M.createElement(S.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),M.createElement(E.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.shouldShowFooter=function(){return!!this.shouldShowSliderPrompt()||"none"!==this.getFooterType()},t.prototype.getFooterType=function(){return this.hasRegression()?"regression":this.shouldShowLabelView()?"label":this.hasSlider()?"slider":this.hasDomain()?"domain":this.isTTest()?"ttest":this.isStats()?"stats":this.controller.shouldShowEvaluationForItem(this.id)?"evaluation":this.isToplevelDistribution()?"distribution":this.isVisualization()?"visualization":this.model.unresolved?"unresolved":"none"},t.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom"):this.const("dcg-expression-bottom dcg-fadein-bottom")},t.prototype.onCreateSliders=function(e){this.controller.dispatch({type:"create-sliders-for-item",id:this.id,variables:e})},t.prototype.shouldShowLabelView=function(){return n.get("labels")&&w.isPointOrPointList(this.model)},t.prototype.shouldShowSliderPrompt=function(){return this.model.missingVariables.length>0},t.prototype.hasRegression=function(){return!(!this.model.formula||!this.model.formula.is_regression)},t.prototype.hasDomain=function(){return w.hasDomain(this.model)},t.prototype.isToplevelDistribution=function(){return w.isToplevelDistribution(this.model)},t.prototype.isVisualization=function(){return w.isVisualization(this.model)},t.prototype.isTTest=function(){return w.isTTest(this.model)},t.prototype.isStats=function(){return w.isStats(this.model)},t.prototype.hasSlider=function(){return!!this.model.sliderExists},t.prototype.isSliderPlaying=function(){return!(!this.model.sliderExists||!this.model.slider.isPlaying)},t.prototype.getLabelOptions=function(){return this.controller.getEvaluationLabelOptionsForItem(this.model.id)},t.prototype.getAriaLabel=function(){if(this.shouldShowLabelView()){var e;e=this.model.label&&""!==this.model.label?this.model.label:this.controller.t("Label");return this.model.showLabel?e:this.controller.t("Hidden __label__",{label:e})}return this.controller.t("Expression __index__",{index:this.model.displayIndex})},t.prototype.getFormulaAria=function(){var e=this.model.formula,t="";if(!e)return t;if(w.isEmpty(this.model))return t;if(this.controller.shouldShowEvaluationForItem(this.id)){t="equals ";var n=e.zero_values&&e.zero_values.length?e.zero_values[0].val:e.constant_value;Array.isArray(n)?t+=n.length+" element list.":t+=_.truncatedAriaLabel(n,this.getLabelOptions())}else e.error&&!this.shouldShowSliderPrompt()?t=this.controller.unpack(e.error):w.isToplevelDistribution(this.model)?t=this.controller.t("is distribution. "):this.isTTest()&&(t=this.controller.t("is T test. To access statistics, press Tab."));if(this.model.shouldGraph&&(e.is_graphable||e.is_regression)){e.is_graphable&&e.is_regression?t+=this.controller.t("Has graph and regression. To access statistics, press Tab."):e.is_regression?t+=this.controller.t("Has regression. To access statistics, press Tab."):t+=this.controller.t("Has graph.");var r=this.controller.getAudioGraph();r&&r.agNavigator.canTrace(this.model)&&(i.IS_APPLE?t+=this.controller.t(" To audio trace, press OPTION+T."):t+=this.controller.t(" To audio trace, press ALT+T."))}return t},t.prototype.handlePressedKey=function(e,t){var n=s.default.getFocusedMathquill();if(n){if("Esc"===e)return a.default(),void(this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}}));if("Up"===e||"Down"===e){return s.default.applyArrowKeyAndReturnIfWasAtBounds(n,e,t)?this.controller.dispatch({type:"on-special-key-pressed",key:e}):void 0}if("Delete"===e||"Backspace"===e){if(w.isEmpty(this.model))return this.controller.dispatch({type:"on-special-key-pressed",key:e})}else if("Enter"===e)return t&&(t.preventDefault(),t.stopPropagation()),this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});n.keystroke(e,t),this.handleLatexChanged(n.latex())}},t.prototype.handleLatexChanged=function(e){e!==this.model.latex&&this.controller.dispatch({type:"set-item-latex",id:this.id,latex:e})},t.prototype.handleMQFocusedChanged=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"expression",id:this.id}})},t.prototype.shouldForceSliderLimitInputs=function(){return!!this.isFocused()||!this.isSliderThumbFocused()&&!!this.wasMainLatexFocusedLastUpdate},t.prototype.onMouseSelect=function(e){"keyboard"!==e.device&&("dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||this.controller.isInEditListMode()||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}})))},t.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!!e&&("expression"===e.type&&e.id===this.id)},t.prototype.isSliderThumbFocused=function(){var e=this.controller.getFocusLocation();return!!e&&("slider-thumb"===e.type&&e.id===this.id)},t}(o.default);t.default=T}),define("loadcss!expressions/smart_textarea",function(){}),define("expressions/smart_textarea",["require","exports","tslib","keys","browser","dcgview","jquery","lib/conditional_blur","jquery.handleevent","loadcss!./smart_textarea"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o.Components.Textarea,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-smart-textarea-container")},o.createElement("div",{class:o.const("dcg-displayTextarea dcg-fixed-width-element"),didMount:this.bindFn(this.didMountDisplay)}),o.createElement(l,{class:function(){return{"dcg-do-blur":!0,"dcg-fixed-width-element":!0,"dcg-smart-textarea":!0,"dcg-empty":!e.props.text()}},"aria-label":function(){return e.props.ariaLabel?e.props.ariaLabel():void 0},placeholder:this.props.placeholder,value:this.props.text,onInput:this.props.onInput,didMount:this.bindFn(this.didMountTextarea),onKeydown:this.bindFn(this.onKeydownEvent)}))},t.prototype.getDisplayTextHTML=function(){var e=this.props.text()||"";if(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),!this.props.showLinks())return e;var t=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e=e.replace(t,"<a href='$1' target ='_blank'>$1</a>")},t.prototype.willUnmount=function(){this.textareaNode=void 0},t.prototype.didMountDisplay=function(e){this.displayNode=e,s(e).on("touchend",function(e){e.preventDefault()}),s(e).on("dcg-tap dcg-tapstart","a",function(e){e.handle()}),this.renderDisplayText()},t.prototype.didMountTextarea=function(e){var t=this;this.textareaNode=e,s(e).on("dcg-tapstart",function(e){e.handle()}),s(e).on("focusin focusout",function(){return t.onFocusEvent()}),this.updateFocused()},t.prototype.didUpdate=function(){this.updateFocused(),this.renderDisplayText()},t.prototype.onFocusEvent=function(){if(this.textareaNode){var e=document.activeElement===this.textareaNode;this.shouldBeFocused()!==e&&this.props.onFocusChange(e)}},t.prototype.renderDisplayText=function(){if(this.displayNode){var e=this.getDisplayTextHTML();this.lastDisplayTextHTML!==e&&(this.lastDisplayTextHTML=e,this.displayNode.innerHTML=e)}},t.prototype.isFocused=function(){return document.activeElement===this.textareaNode},t.prototype.shouldBeFocused=function(){return this.props.shouldFocus()},t.prototype.updateFocused=function(){if(this.textareaNode){var e=this.isFocused(),t=this.shouldBeFocused();if(e!==t)if(t){if(i.IS_IPAD&&i.IS_IN_IFRAME)return;this.textareaNode.focus(),this.textareaNode.selectionStart=this.textareaNode.selectionEnd=this.textareaNode.value.length}else this.textareaNode.blur()}},t.prototype.onKeydownEvent=function(e){var t=this.textareaNode;if(t){var n=r.lookup(e);n!==r.ENTER||e.metaKey?n===r.ESCAPE?a.default():n===r.UP?0===t.selectionStart&&0===t.selectionEnd&&(e.preventDefault(),this.props.onSpecialKey("Up")):n===r.DOWN?t.selectionStart===t.value.length&&t.selectionEnd===t.value.length&&(e.preventDefault(),this.props.onSpecialKey("Down")):n===r.BACKSPACE?0===t.value.length&&(e.preventDefault(),this.props.onSpecialKey("Backspace")):n===r.DELETE&&0===t.value.length&&(e.preventDefault(),this.props.onSpecialKey("Delete")):(e.preventDefault(),this.props.onSpecialKey("Enter")),this.props.onKeydown&&this.props.onKeydown(e)}},t}(o.Class);t.default=c}),define("expressions/text_view",["require","exports","tslib","./abstract-item-view","./smart_textarea","dcgview","./expression-edit-actions","jquery.handleevent"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressiontext":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":!!e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id)}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},o.createElement("div",{class:o.const("dcg-fade-container")},o.createElement("div",{class:o.const("dcg-main")},o.createElement(i.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return e.model.text},placeholder:function(){return e.controller.t("Enter a note...")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey)})),o.createElement("i",{class:o.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:o.const("true"),onTap:this.bindFn(this.onDelete)})),o.createElement("span",{class:o.const("dcg-tab dcg-action-drag"),handleevent:o.const("true"),tapboundary:o.const("true"),disablescroll:o.const("true"),style:o.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},o.createElement("span",{class:o.const("dcg-num")},function(){return e.model.displayIndex}),o.createElement("div",{class:o.const("dcg-tab-interior")}),o.createElement("i",{class:o.const("dcg-icon-text")})),o.createElement(s.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.onInput=function(e){this.controller.dispatch({type:"set-note-text",id:this.id,text:e})},t.prototype.onFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"text",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"text",id:this.id}})},t.prototype.onSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},t.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"text"!==e.type||e.id!==this.id)},t}(r.default);t.default=a}),define("expressions/tables/table_column_menu_view",["require","exports","tslib","dcgview","expressions/color-menu","graphing/dragmode","expressions/styles","expressions/toggle-view","../circular-icon-view"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components,u=c.For,d=c.If,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.columnId=this.model.id,this.tableModel=this.model.table,this.tableId=this.tableModel.id,r.createElement("div",{class:r.const("dcg-table-column-menu dcg-options-menu")},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-options-menu-column-left")},r.createElement("div",{class:r.const("dcg-options-menu-section")},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return e.controller.t("Points")}),r.createElement(a.default,{toggled:function(){return e.model.points},onChange:function(){return e.onTogglePoints(!e.model.points)}}),r.createElement(d,{predicate:function(){return e.model.points}},function(){return r.createElement(u,{each:function(){return e.controller.getPointStyles()}},r.createElement("div",{class:r.const("dcg-style-icons")},function(t){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return e.onPointStyleSelected(t)}},r.createElement(l.CircularIconView,{backgroundColor:function(){return e.model.color},semiTransparent:function(){return e.model.pointStyle!==t},iconType:function(){return"CROSS"===t?"point-cross":"OPEN"===t?"point-open":"point-default"}}))}))})),r.createElement("div",{class:r.const("dcg-options-menu-section")},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return e.controller.t("Lines")}),r.createElement(a.default,{toggled:function(){return e.model.lines},onChange:function(){return e.onToggleLines(!e.model.lines)}}),r.createElement(d,{predicate:function(){return e.model.lines}},function(){return r.createElement("div",{class:r.const("dcg-line-options")},r.createElement(u,{each:function(){return e.controller.getLineStyles()}},r.createElement("div",{class:r.const("dcg-style-icons")},function(t){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return e.onLineStyleSelected(t)}},r.createElement(l.CircularIconView,{backgroundColor:function(){return e.model.color},semiTransparent:function(){return e.model.lineStyle!==t},iconType:function(){return"DOTTED"===t?"graph-dotted":"DASHED"===t?"graph-dashed":"graph-default"}}))})))})),r.createElement(d,{predicate:function(){return e.model.draggable}},function(){return r.createElement("div",{class:r.const("dcg-drag-div dcg-options-menu-section")},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return e.controller.t("Drag")}),r.createElement(a.default,{toggled:function(){return e.model.dragMode!==o.DragMode.NONE},onChange:function(){return e.onToggleDrag()}}),r.createElement(d,{predicate:function(){return e.model.dragMode!==o.DragMode.NONE}},function(){return r.createElement(u,{each:function(){return e.controller.getUIDragModes()}
},r.createElement("div",{class:r.const("dcg-style-icons")},function(t){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return e.onDragModeSelected(t)}},r.createElement(l.CircularIconView,{backgroundColor:function(){return e.model.color},semiTransparent:function(){return e.model.dragMode!==t},iconType:function(){return"X"===t?"movable-horizontal":"Y"===t?"movable-vertical":"movable-both"}}))}))}))})),r.createElement("div",{class:r.const("dcg-options-menu-column-right")},r.createElement("div",{class:r.const("dcg-colors-div dcg-options-menu-section")},r.createElement("div",{class:r.const("dcg-toggle-title")},function(){return e.controller.t("Color")}),r.createElement(i.default,{controller:function(){return e.props.controller()},selectedColor:function(){return e.model.color},onColorSelected:this.bindFn(this.onColorSelected)}))))},t.prototype.getPointStyleClass=function(e){switch(e){case s.PointStyle.CROSS:return"dcg-graph-CROSS";case s.PointStyle.OPEN:return"dcg-graph-OPEN";default:return"dcg-graph-POINT"}},t.prototype.getLineStyleClass=function(e){switch(e){case s.LineStyle.DASHED:return"dcg-graph-DASHED";case s.LineStyle.DOTTED:return"dcg-graph-DOTTED";default:return"dcg-graph-SOLID"}},t.prototype.onColorSelected=function(e){this.controller.dispatch({type:"set-tablecolumn-color",tableId:this.tableId,columnId:this.columnId,color:e})},t.prototype.onTogglePoints=function(e){this.controller.dispatch({type:"set-tablecolumn-points",tableId:this.tableId,columnId:this.columnId,bool:e})},t.prototype.onPointStyleSelected=function(e){this.controller.dispatch({type:"set-tablecolumn-pointstyle",tableId:this.tableId,columnId:this.columnId,pointStyle:e})},t.prototype.onToggleLines=function(e){this.controller.dispatch({type:"set-tablecolumn-lines",tableId:this.tableId,columnId:this.columnId,bool:e})},t.prototype.onLineStyleSelected=function(e){this.controller.dispatch({type:"set-tablecolumn-linestyle",tableId:this.tableId,columnId:this.columnId,lineStyle:e})},t.prototype.onToggleDrag=function(){var e=this.columnId,t=this.tableId,n=this.model.dragMode===o.DragMode.NONE?o.DragMode.XY:o.DragMode.NONE;this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:t,columnId:e,dragMode:n})},t.prototype.onDragModeSelected=function(e){var t=this.columnId,n=this.tableId;this.model.dragMode!==e&&this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:n,columnId:t,dragMode:e})},t}(r.Class);t.default=p}),define("expressions/tables/table_icon_view",["require","exports","tslib","dcgview","expressions/abstract_icon_view","./table_column_menu_view","dcgview-helpers/tooltipped-error","../circular-icon-view","jquery.handleevent"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components.SwitchUnion,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.model=this.props.model()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-table-icon-container")},l(this.bindFn(this.typeOfIcon),{error:function(){return r.createElement(s.TooltippedError,{error:function(){return e.controller.unpack(e.model.error)},gravity:e.const("se")})},none:function(){return r.createElement("span",null)},icon:function(){return r.createElement("div",{class:r.const("dcg-circular-icon-container"),role:r.const("button"),handleevent:r.const("true"),onTap:function(t){if(!t.wasHandled("dragdrop")&&!t.wasLongheld())return e.optionsShown?e.toggleOptions():e.controller.isInEditListMode()?e.toggleOptions():void e.toggleGraphShown()},didMount:function(t){return e.rootElt=t},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.toggleOptions()}},r.createElement(a.CircularIconView,{iconType:e.bindFn(e.getIcon),backgroundColor:function(){return e.model.color}}))}}))},t.prototype.didUpdate=function(){this.optionsMenu&&this.optionsMenu.update()},t.prototype.didMountRoot=function(e){this.rootElt=e},t.prototype.createOptionsMenuView=function(){var e=this.getOptionsMenuContainerSelector();return r.mountToNode(o.default,e[0],{controller:this.props.controller,model:this.props.model})},t.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-tablecolumn-hidden",tableId:this.model.table.id,columnId:this.model.id})},t.prototype.hasError=function(){return!!this.model.error},t.prototype.getIcon=function(){return this.model.shouldGraph?this.controller.isInEditListMode()?"none":this.model.points&&this.model.lines?"table-points-and-lines":this.model.points&&!this.model.lines?"table-points":!this.model.points&&this.model.lines?"table-lines":"none":"hidden"},t.prototype.typeOfIcon=function(){return""===this.model.latex?"none":this.controller.getGraphSettings().config.graphpaper?this.model.error?"error":0===this.model.index?"none":"icon":"none"},t}(i.default);t.default=c}),define("expressions/tables/header-view",["require","exports","tslib","browser","dcgview","./table_icon_view","dcgview-helpers/mathquill-view","underscore","graphing-calc/models/table","graphing/dragmode"],function(e,t,n,r,i,o,s,a,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=i.Components.If,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.table},t.prototype.isRightSide=function(){return this.lookupCellPosition().column>=this.table.columnModels.length-1},t.prototype.template=function(){var e=this;return i.createElement("div",{role:i.const("columnheader"),class:function(){return{"dcg-cell":!0,"dcg-table-header":!0,"dcg-do-not-blur":!0,"dcg-left":0===e.model.index,"dcg-right":e.isRightSide(),"dcg-selected":e.shouldFocus(),"dcg-error":!!e.model.error}},index:function(){return e.model.index},onTapStart:this.bindFn(this.focusThisCell)},i.createElement("div",{class:i.const("dcg-inner-border")}),i.createElement(u,{predicate:function(){return!e.isRightSide()}},function(){return i.createElement(o.default,{model:e.props.model,controller:e.props.controller})}),i.createElement(s.default,{latex:function(){return e.model.latex||""},isFocused:this.bindFn(this.shouldFocus),capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},config:this.const({}),getAriaLabel:this.bindFn(this.getAriaLabel),getAriaPostLabel:this.bindFn(this.getAriaPostLabel),hasError:this.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey(t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onFocusedChanged:function(t){return e.handleMQFocusedChanged(t)},selectOnFocus:this.const(!0)},i.createElement("span",{class:i.const("dcg-math-field dcg-cell-math-content")})),i.createElement(u,{predicate:function(){return e.model.dragMode!==c.DragMode.NONE&&!e.model.error}},function(){return i.createElement("span",{class:i.const("dcg-drag-icon"),"dcg-drag-mode":function(){return e.model.dragMode},style:function(){return{color:e.model.color}}},i.createElement("i",{class:function(){return{"dcg-icon-move":e.model.dragMode===c.DragMode.XY,"dcg-icon-move-horizontal":e.model.dragMode===c.DragMode.X,"dcg-icon-move-vertical":e.model.dragMode===c.DragMode.Y}}}))}),i.createElement("div",{class:i.const("dcg-empty-line")}),i.createElement(u,{predicate:function(){return e.isRightSide()}},function(){return i.createElement("span",{class:i.const("dcg-fade-right")})}))},t.prototype.focusThisCell=function(e){e.wasHandled()||(e.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},t.prototype.lookupCellPosition=function(){return{row:0,column:this.model.index}},t.prototype.getAriaLabel=function(){var e=this.lookupCellPosition();return this.controller.t("Column header __column__",{column:e.column+1})},t.prototype.getAriaPostLabel=function(){var e="",t=this.model;return t.shouldGraph&&(t.points||t.lines)&&!l.isColumnEmpty(t)&&(e=this.controller.t("Has graph."),r.IS_APPLE?e+=" "+this.controller.t("To audio trace, press OPTION+T."):e+=" "+this.controller.t(" To audio trace, press ALT+T.")),e},t.prototype.handlePressedKey=function(e,t){var n=s.default.getFocusedMathquill();if(n){s.default.handleKeystrokeAndDecideIfSpecialEvent(n,e,t)?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:e}):this.handleLatexChanged(n.latex())}},t.prototype.handleLatexChanged=function(e){this.model.latex!==e&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:e})},t.prototype.shouldFocus=function(){return a.isEqual(this.lookupCellPosition(),l.getSelectedCell(this.table))},t.prototype.handleMQFocusedChanged=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},t}(i.Class);t.default=d});define("expressions/tables/cell-view",["require","exports","tslib","keys","dcgview","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","../../dcgview-helpers/tooltipped-error","lib/conditional_blur"],function(e,t,n,r,i,o,s,a,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=i.Components.If,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.column.table},t.prototype.template=function(){var e=this;return i.createElement("div",{role:i.const("gridcell"),class:function(){return{"dcg-cell":!0,"dcg-do-not-blur":!0,"dcg-empty":e.isEmpty(),"dcg-non-editable":!!e.model.column.disabled,"dcg-error":!!e.hasError(),"dcg-selected":e.shouldFocus()}},onTapStart:this.bindFn(this.focusThisCell)},i.createElement("div",{class:i.const("dcg-inner-border")}),i.createElement(d,{predicate:this.bindFn(this.hasError)},function(){return i.createElement("span",{class:i.const("dcg-table-icon-error-container")},i.createElement(c.TooltippedError,{error:e.bindFn(e.getErrorMessage),gravity:e.const("se"),size:e.const("small")}))}),i.createElement(d,{predicate:function(){return!!e.model.column.disabled}},function(){return i.createElement(s.default,{getAriaLabel:e.bindFn(e.getAriaLabel),latex:function(){return e.getValue()}},i.createElement("span",{class:i.const("dcg-math-field dcg-cell-math-content dcg-mathquill-input-span"),role:i.const("textbox"),"aria-roledescription":i.const("computed cell"),"aria-readonly":i.const("true"),tabindex:function(){return e.isEmpty()?-1:0},onKeyDown:e.bindFn(e.handleKeydownOnReadonlyCell),manageFocus:e.const({shouldBeFocused:e.bindFn(e.shouldFocusReadonlyCell),onFocusedChanged:e.bindFn(e.handleFocusedChanged)})}))}),i.createElement(d,{predicate:function(){return!e.model.column.disabled}},function(){return i.createElement(o.default,{latex:function(){return e.getValue()},isFocused:e.bindFn(e.shouldFocusEditableCell),capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},config:e.const({}),getAriaLabel:e.bindFn(e.getAriaLabel),getAriaPostLabel:e.bindFn(e.getErrorMessage),hasError:e.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey(t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onFocusedChanged:function(t){return e.handleFocusedChanged(t)},selectOnFocus:e.const(!0)},i.createElement("span",{class:i.const("dcg-math-field dcg-cell-math-content")}))}),i.createElement("div",{class:i.const("dcg-empty-line")}))},t.prototype.focusThisCell=function(e){e.wasHandled()||(e.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},t.prototype.handlePressedKey=function(e,t){var n=o.default.getFocusedMathquill();if(n){var i=o.default.handleKeystrokeAndDecideIfSpecialEvent(n,e,t);e===r.ESCAPE&&u.default(),i?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:e}):this.handleLatexChanged(n.latex())}},t.prototype.handleKeydownOnReadonlyCell=function(e){var t=r.lookup(e);"Tab"!==t&&(e.preventDefault(),"Esc"===t&&u.default(),t&&this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:t}))},t.prototype.handleLatexChanged=function(e){this.getValue()!==e&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:e})},t.prototype.shouldFocus=function(){return a.isEqual(this.lookupCellPosition(),l.getSelectedCell(this.table))},t.prototype.shouldFocusReadonlyCell=function(){return!!this.model.column.disabled&&this.shouldFocus()},t.prototype.shouldFocusEditableCell=function(){return!this.model.column.disabled&&this.shouldFocus()},t.prototype.handleFocusedChanged=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},t.prototype.lookupCellPosition=function(){return{row:this.model.row.index,column:this.model.column.index}},t.prototype.getPackedError=function(){return this.model.column.packedErrors[this.model.row.index-1]},t.prototype.hasError=function(){return!!this.getPackedError()},t.prototype.getErrorMessage=function(){var e=this.getPackedError();return e?this.controller.unpack(e):""},t.prototype.getValue=function(){var e=this.model.column.index,t=this.model.row.index-1;return this.model.column.disabled?this.model.column.computedValues[t]||"":this.table.columns[e].values[t]||""},t.prototype.isEmpty=function(){return""===this.getValue()},t.prototype.getAriaLabel=function(){var e=this.lookupCellPosition(),t=e.row,n=e.column+1;return this.controller.t("Row __row__ Col __column__",{row:t.toString(),column:n.toString()})},t}(i.Class);t.default=p}),define("loadcss!expressions/table-view",function(){}),define("expressions/table-view",["require","exports","tslib","keys","lib/aria","./abstract-item-view","dcgview","./tables/header-view","./tables/cell-view","graphing-calc/models/table","vendor/mathquill","jquery","./expression-edit-actions","expressions/measure-expressions","./suggested-zoom-view","loadcss!./table-view","jquery.handleevent"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=s.Components.For,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return s.createElement("div",{class:function(){return{"dcg-expressionitem":!0,"dcg-expressiontable":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":!!e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-no-faded-h":e.isRightFocused(),"dcg-no-faded-v":e.isBottomFocused()}},"expr-id":function(){return e.model.id},didMount:this.bindFn(this.didMountContainer),onKeydown:this.bindFn(this.onKeydown)},s.createElement("div",{class:s.const("dcg-fade-container dcg-disable-horizontal-scroll-to-cursor")},s.createElement("div",{class:s.const("dcg-main")},s.createElement("div",{class:s.const("dcg-table-container"),didMount:this.bindFn(this.didMountContainer)},s.createElement("div",{class:s.const("dcg-table-sliding-container"),style:function(){return{transform:"translateX("+e.computeScrolledX()+"px)"}}},s.createElement(g,{each:function(){return e.getVisibleRowModels()},key:function(t){return"blank-row"===t.type?"blank-row-"+t.guid+"-"+t.rows+"-"+e.getCols():t.guid}},s.createElement("div",{role:s.const("grid"),class:function(){return{"dcg-tabledata":!0,"dcg-focus-in-bottom-row":e.isBottomFocused(),"dcg-focus-in-right-column":e.isRightFocused()}}},function(t){return"show-more"===t.type?s.createElement("tr",{role:s.const("row"),class:s.const("dcg-show-more-row")},s.createElement("td",{colspan:e.bindFn(e.getCols)},e.bindFn(e.missingRowMessage),s.createElement("div",{tabindex:s.const(0),role:s.const("button"),class:s.const("dcg-show-more"),onTap:function(){return e.controller.dispatch({type:"table-show-more-rows",id:e.id})}},function(){return e.controller.t("Show all")}))):"blank-row"===t.type?s.createElement("tr",{role:s.const("row"),class:s.const("dcg-blank-row")},s.createElement("td",{colspan:e.bindFn(e.getCols),style:function(){return{height:t.rows*e.getRowHeight()+"px"}}})):s.createElement(g,{each:function(){return t.cells},key:function(e){return e.guid}},s.createElement("tr",{role:s.const("row"),"aria-rowindex":function(){return t.index},class:s.const("dcg-row")},function(t){return"header"===t.type?s.createElement(a.default,{controller:e.props.controller,model:e.const(t)}):s.createElement(l.default,{controller:e.props.controller,model:e.const(t)})}))}))))),s.createElement("i",{class:s.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:s.const("true"),onTap:this.bindFn(this.onDelete)})),s.createElement("span",{class:s.const("dcg-tab dcg-action-drag"),handleevent:s.const("true"),tapboundary:s.const("true"),disablescroll:s.const("true"),style:s.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},s.createElement("span",{class:s.const("dcg-num")},function(){return e.model.displayIndex}),s.createElement("div",{class:s.const("dcg-tab-interior")}),s.createElement(f.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),s.createElement(p.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.getCols=function(){return this.model.rowModels[0].cells.length-1},t.prototype.getRowHeight=function(){return this.controller.getGraphSettings().config.projectorMode?38:33},t.prototype.getVisibleRowModels=function(){var e=this.model.rowModels;if(e.length<=25)return e;var t=c.getCollapsedRange(this.model);if(void 0!==t){var n=e.slice(0,t.min);return n=n.concat({type:"show-more",guid:"show-more"}),n.concat(e.slice(t.max))}var r=h.getExppanelRect(this.controller),i=r?r.height:0,o=d(this.node).offset(),s=(o?o.top:0)-(r?r.top:0),a=d(this.node).find(".dcg-row:eq(0)").height(),l=this.getRowHeight();if(i/l>e.length)return e;for(var u=[],p=(-s-a)/l,f=(i-s)/l,g=0;g<e.length;g++){var m=c.getSelectedCell(this.model);if(0===g||g===e.length-2||m&&m.row===g)u.push(e[g]);else if(g>f||g<p){var y=u[u.length-1];y&&"blank-row"===y.type?y.rows++:u.push({type:"blank-row",guid:e[g].guid,rows:1})}else u.push(e[g])}return u},t.prototype.missingRowMessage=function(){var e=c.getCollapsedRange(this.model);return void 0===e?"":this.controller.t("__rowCount__ more rows",{rowCount:e.max-e.min})},t.prototype.didMountContainer=function(e){this.node=e,d(e).on("scroll",function(){return e.scrollLeft=0})},t.prototype.getSelectedCell=function(){return c.getSelectedCell(this.model)},t.prototype.computeScrolledX=function(){if(!this.getSelectedCell()||!this.node)return 0;var e=this.node.children[0],t=this.node.querySelector(".dcg-selected");if(null===e||null===t)return 0;var n=this.node.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-e.getBoundingClientRect().left,o=n.width-i-r.width-80,s=Math.min(0,n.width-e.scrollWidth-30);return o=Math.max(o,s),Math.min(0,o)},t.prototype.isBottomFocused=function(){var e=this.getSelectedCell();return!!e&&e.row===this.model.columnModels[0].cells.length},t.prototype.isRightFocused=function(){var e=this.getSelectedCell();return!!e&&e.column===this.model.columnModels.length-1},t.prototype.isFocused=function(){return!!this.getSelectedCell()},t.prototype.onKeydown=function(e){!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||("Up"===r.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToFirstCellInColumn()):"Down"===r.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToLastCellInColumn()):"Left"===r.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToFirstCellInRow()):"Right"===r.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToLastCellInRow()):"H"===r.lookupChar(e)&&(e.preventDefault(),e.stopPropagation(),this.speakColumnHeader()))},t.prototype.moveToFirstCellInColumn=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:0,column:e.column}}})},t.prototype.moveToLastCellInColumn=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:this.model.rowModels.length-1,column:e.column}}})},t.prototype.moveToFirstCellInRow=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:e.row,column:0}}})},t.prototype.moveToLastCellInRow=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:e.row,column:this.model.columnModels[0].cells.length-1}}})},t.prototype.speakColumnHeader=function(){var e=this.controller.t("No column header"),t=this.getSelectedCell();if(t){var n=this.model.rowModels[0].cells[t.column];if(n&&"header"===n.type&&n.latex&&""!==n.latex){e=u.MQ.StaticMath(d("<span>"+n.latex+"</span>")[0]).mathspeak()}}i.alert(e)},t}(o.default);t.default=m}),define("loadcss!expressions/folder-view",function(){}),define("expressions/folder-view",["require","exports","tslib","browser","keys","lib/aria","./expression-edit-actions","./abstract-item-view","./smart_textarea","dcgview","./circular-icon-view","jquery.handleevent","loadcss!./folder-view"],function(e,t,n,r,i,o,s,a,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return c.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionfolder":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-collapsed":!!e.model.collapsed,"dcg-hidden":!!e.model.hidden,"dcg-has-items":e.controller.getNumberOfItemsInFolder(e.id)>0,"dcg-secretFolder":e.model.secret&&!e.controller.canAdministerSecretFolders()}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},c.createElement("div",{class:c.const("dcg-fade-container")},c.createElement("div",{class:c.const("dcg-main")},c.createElement("div",{role:c.const("button"),tabindex:c.const("0"),"aria-pressed":function(){return e.model.collapsed},"aria-label":function(){return e.controller.t("Collapse Folder")},class:c.const("dcg-caret-container dcg-action-toggle-folder-collapsed dcg-do-not-blur"),handleEvent:c.const("true"),onTap:this.bindFn(this.toggleCollapsed)},c.createElement("i",{class:c.const("dcg-icon-caret-down")})),c.createElement(l.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return e.model.title},placeholder:function(){return e.controller.t("Enter a note...")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),ariaLabel:this.bindFn(this.getAriaLabel)}),c.createElement("div",{role:c.const("checkbox"),"aria-checked":function(){return e.model.secret},"aria-label":function(){return e.controller.t("Hide this folder from students")},class:function(){return{"dcg-action-toggle-secret-folder":!0,"dcg-do-not-blur":!0,"dcg-checked":e.model.secret}},style:function(){return{display:e.controller.canAdministerSecretFolders()?void 0:"none"}},handleEvent:c.const("true"),onTap:this.bindFn(this.toggleSecret)},c.createElement("span",{class:c.const("dcg-checkbox-box")},c.createElement("i",{class:c.const("dcg-icon-check")})),c.createElement("span",{class:c.const("dcg-checkbox-label")},function(){return e.controller.t("Hide this folder from students.")}))),c.createElement("i",{class:c.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:c.const("true"),onTap:this.bindFn(this.onDelete)})),c.createElement("span",{class:c.const("dcg-tab dcg-action-drag"),handleevent:c.const("true"),tapboundary:c.const("true"),disablescroll:c.const("true"),style:c.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},c.createElement("span",{class:c.const("dcg-num")},function(){return e.model.displayIndex}),c.createElement("div",{class:c.const("dcg-tab-interior")},c.createElement("span",{role:c.const("button"),tabindex:c.const("0"),"aria-pressed":function(){return!!e.model.hidden},"aria-label":function(){return e.controller.t("Hide Folder")},class:c.const("dcg-circular-icon-container dcg-expression-icon-container"),onTap:this.bindFn(this.toggleHidden)},c.createElement(u.CircularIconView,{iconType:function(){return e.model.hidden?"hidden":"folder"},whiteIcon:function(){return e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)}})))),c.createElement(s.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.toggleHidden=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.id})},t.prototype.toggleSecret=function(){this.controller.dispatch({type:"set-item-secret",id:this.id,isSecret:!this.model.secret})},t.prototype.toggleCollapsed=function(){this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed})},t.prototype.onInput=function(e){this.controller.dispatch({type:"set-folder-title",id:this.id,title:e})},t.prototype.onFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"folder",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"folder",id:this.id}})},t.prototype.onSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},t.prototype.onKeydown=function(e){var t=e.altKey&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey,n=e.metaKey&&!e.altKey&&!e.shiftKey&&!e.ctrlKey;(r.IS_APPLE?n:t)&&i.lookup(e)===i.UP&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed}),this.model.collapsed?o.alert(this.controller.t("folder collapsed")):o.alert(this.controller.t("folder expanded")))},t.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"folder"!==e.type||e.id!==this.id)},t.prototype.getAriaLabel=function(){var e="";this.model.hidden||this.model.collapsed||this.model.secret?!this.model.hidden||this.model.collapsed||this.model.secret?this.model.hidden||!this.model.collapsed||this.model.secret?this.model.hidden||this.model.collapsed||!this.model.secret?this.model.hidden&&this.model.collapsed&&!this.model.secret?e=this.controller.t("Hidden Collapsed Folder"):this.model.hidden&&!this.model.collapsed&&this.model.secret?e=this.controller.t("Hidden Secret Folder"):!this.model.hidden&&this.model.collapsed&&this.model.secret?e=this.controller.t("Collapsed Secret Folder"):this.model.hidden&&this.model.collapsed&&this.model.secret&&(e=this.controller.t("Hidden Collapsed Secret Folder")):e=this.controller.t("Secret Folder"):e=this.controller.t("Collapsed Folder"):e=this.controller.t("Hidden Folder"):e=this.controller.t("Folder");var t=this.controller.getNumberOfItemsInFolder(this.id);return t>0?this.controller.t("__folder__ has __count__ items",{folder:e,count:t}):e},t}(a.default);t.default=d}),define("loadcss!image_opacity_menu",function(){}),define("expressions/image_options_view",["require","exports","tslib","dcgview","dcgview-helpers/checkbox","./circular-icon-view","loadcss!image_opacity_menu"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r.Components.For,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-exp-options-menu dcg-image-options-menu dcg-options-menu")},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-opacities-menu dcg-dividing-line-after")},r.createElement("div",{class:r.const("dcg-title")},function(){return e.controller.t("Opacity")}),r.createElement(s,{each:function(){return e.controller.getImageOpacities()}},r.createElement("div",{class:r.const("dcg-opacities-menu")},function(t){return r.createElement("span",{class:r.const("dcg-opacity-option"),role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return"opacity: "+t},handleevent:r.const("true"),onTap:function(){return e.onSelectOpacity(t)}},r.createElement(o.CircularIconView,{backgroundImage:e.const("url("+encodeURI(e.model.image_url)+")"),iconType:function(){return e.model.opacity===t?"check":"none"},backgroundOpacity:function(){return parseFloat(t)}}))}))),r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section")},r.createElement("div",{class:r.const("dcg-styles-menu")},r.createElement(i.Checkbox,{checked:function(){return!e.model.foreground},onChange:this.bindFn(this.onToggleForeground),ariaLabel:function(){return e.controller.t("Place behind graphs")}},function(){return e.controller.t("Place behind graphs")}))))},t.prototype.onToggleForeground=function(e){this.controller.dispatch({type:"set-image-in-foreground",id:this.id,foreground:!e})},t.prototype.onSelectOpacity=function(e){this.controller.dispatch({type:"set-image-opacity",id:this.id,opacity:e})},t}(r.Class);t.default=a}),define("loadcss!expressions/image-icon-view",function(){}),define("expressions/image-icon-view",["require","exports","tslib","dcgview","./abstract_icon_view","./image_options_view","../dcgview-helpers/tooltipped-error","./circular-icon-view","jquery.handleevent","loadcss!./image-icon-view"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components.SwitchUnion,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.model=this.props.model()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-expression-icon-container dcg-image-icon-container")},l(this.bindFn(this.typeOfIcon),{error:function(){return r.createElement(s.TooltippedError,{error:function(){return e.controller.unpack(e.model.error)},isWhite:e.bindFn(e.isSelected),gravity:e.const("se")})},failed:function(){return r.createElement("span",null)},loading:function(){return r.createElement("span",{class:r.const("dcg-image-loading dcg-circular-icon-container")})},hidden:function(){return e.buildIconView()},image:function(){return e.buildIconView()}}))},t.prototype.buildIconView=function(){var e=this;return r.createElement("div",{class:r.const("dcg-circular-icon-container"),role:r.const("button"),onTap:function(t){t.wasHandled("dragdrop")||t.wasLongheld()||e.toggleImageShown()},didMount:function(t){return e.rootElt=t},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.toggleOptions()}},r.createElement(a.CircularIconView,{iconType:function(){return"hidden"===e.typeOfIcon()?"hidden":"background"},backgroundImage:this.bindFn(this.getBackgroundImage),backgroundOpacity:this.const(1),whiteIcon:this.bindFn(this.isSelected)}))},
t.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},t.prototype.typeOfIcon=function(){return"loading"===this.model.loadStatus?"loading":"failed"===this.model.loadStatus?"failed":this.hasError()?"error":this.model.shouldGraph?"image":"hidden"},t.prototype.createOptionsMenuView=function(){var e=this.getOptionsMenuContainerSelector();return r.mountToNode(o.default,e[0],{controller:this.props.controller,model:this.props.model})},t.prototype.hasError=function(){return!!this.model.error},t.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL?this.lastEncodedURL:(this.lastURL=this.model.image_url,this.lastEncodedURL="url("+encodeURI(this.model.image_url)+")",this.lastEncodedURL)},t.prototype.toggleImageShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id})},t}(i.default);t.default=c}),define("loadcss!expressions/image-view",function(){}),define("expressions/image-view",["require","exports","tslib","./abstract-item-view","./smart_textarea","dcgview","dcgview-helpers/mathquill-view","lib/conditional_blur","expressions/promptslider_view","./image-icon-view","graphing-calc/models/image","./expression-edit-actions","jquery.handleevent","loadcss!./image-view"],function(e,t,n,r,i,o,s,a,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=o.Components,h=p.If,f=p.SwitchUnion,g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-image-input-mathquill")},o.createElement(s.default,{latex:function(){return e.props.model()[e.props.name()]},isFocused:function(){return e.props.focusedInput()===e.props.name()},capExpressionSize:function(){return!!e.props.controller().getGraphSettings().config.capExpressionSize},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return e.props.controller().t(e.props.name())},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey(t,n)},onUserChangedLatex:this.bindFn(this.handleLatexChanged),onFocusedChanged:this.bindFn(this.handleMQFocusedChanged)},o.createElement("span",{class:function(){return{"dcg-focus":e.props.focusedInput()===e.props.name(),"dcg-invalid":u.hasInputError(e.props.model(),e.props.name())}}})))},t.prototype.handlePressedKey=function(e,t){var n=this.props.name(),r=s.default.getFocusedMathquill(),i=this.props.controller().canUseAdvancedStyling()?["center","angle","opacity","width","height"]:["center","angle","width","height"],o=i.indexOf(n);if(r){if("Esc"===e)return void a.default();var l=-1;"Up"===e&&(l=o-1),"Down"===e&&(l=o+1),"Left"===e&&(l=o-2),"Right"===e&&(l=o+2);var c=e;if(l>=0&&l<i.length)return void(s.default.applyArrowKeyAndReturnIfWasAtBounds(r,c,t)&&this.focusInput(i[l]));if("Enter"===e)return this.props.controller().dispatch({type:"on-special-key-pressed",key:"Enter"});r.keystroke(e,t),this.handleLatexChanged(r.latex())}},t.prototype.focusInput=function(e){this.props.controller().dispatch({type:"set-focus-location",location:{type:"image",id:this.props.model().id,location:e}})},t.prototype.handleLatexChanged=function(e){var t=this.props.name();this.props.model().draggingOnGraphpaper||u.getMQAttribute(this.props.model(),t)!==e&&this.props.controller().dispatch({type:"set-image-mq-attribute",id:this.props.model().id,attribute:t,latex:e})},t.prototype.handleMQFocusedChanged=function(e){var t=this.props.name();e?this.props.focusedInput()!==t&&this.props.controller().dispatch({type:"set-focus-location",location:{type:"image",id:this.props.model().id,location:t}}):this.props.controller().dispatch({type:"blur-focus-location",location:{type:"image",id:this.props.model().id,location:t}})},t}(o.Class),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionimage":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-input-focused":e.getFocusedInput()&&"name"!==e.getFocusedInput()}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},o.createElement("div",{class:o.const("dcg-fade-container")},o.createElement("div",{class:o.const("dcg-main")},f(function(){return e.model.loadStatus},{failed:function(){return o.createElement("div",null,o.createElement("div",{class:o.const("dcg-image-failed")},function(){return e.controller.t("Failed to load image.")}),o.createElement("div",{role:o.const("button"),tabindex:o.const(0),class:o.const("dcg-retry-loading-image"),onTap:e.bindFn(e.onRetryLoad)},function(){return e.controller.t("Retry.")}))},loading:function(){return o.createElement("div",null,o.createElement("div",{class:o.const("dcg-image-loading")},function(){return e.controller.t("Loading image...")}),o.createElement("div",{role:o.const("button"),tabindex:o.const(0),class:o.const("dcg-retry-loading-image"),onTap:e.bindFn(e.onRetryLoad)},function(){return e.controller.t("Retry.")}))},loaded:function(){return o.createElement("div",{class:o.const("dcg-image-loaded")},o.createElement(i.default,{shouldFocus:function(){return"name"===e.getFocusedInput()},text:function(){return e.model.name},placeholder:function(){return e.controller.t("Enter a note...")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:e.bindFn(e.onNameInput),onFocusChange:e.bindFn(e.onNameFocusChange),onSpecialKey:e.bindFn(e.onNameSpecialKey)}),o.createElement("div",{class:o.const("dcg-do-blur dcg-image-input-grid"),handleEvent:o.const("true")},o.createElement("div",{class:o.const("dcg-image-input-name")},function(){return e.controller.t("Center:")}),o.createElement(g,{name:e.const("center"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),o.createElement("div",{class:o.const("dcg-image-input-name")},function(){return e.controller.t("Width:")}),o.createElement(g,{name:e.const("width"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),o.createElement("div",{class:o.const("dcg-image-input-name")},function(){return e.controller.t("Angle:")}),o.createElement(g,{name:e.const("angle"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),o.createElement("div",{class:o.const("dcg-image-input-name")},function(){return e.controller.t("Height:")}),o.createElement(g,{name:e.const("height"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),o.createElement(h,{predicate:function(){return e.props.controller().canUseAdvancedStyling()}},function(){return o.createElement("div",{class:o.const("dcg-image-input-name")},function(){return e.controller.t("Opacity:")})}),o.createElement(h,{predicate:function(){return e.props.controller().canUseAdvancedStyling()}},function(){return o.createElement(g,{name:e.const("opacity"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)})})))}})),o.createElement("span",{class:o.const("dcg-fadeout")}),o.createElement("i",{class:o.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:o.const("true"),onTap:this.bindFn(this.onDelete)}),o.createElement(h,{predicate:function(){return e.model.missingVariables.length>0}},function(){return o.createElement("div",{class:e.getFooterClass()},o.createElement(l.default,{model:e.props.model,controller:e.props.controller}))})),o.createElement("span",{class:o.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:o.const("true"),tapboundary:o.const("true"),disablescroll:o.const("true"),style:o.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},o.createElement("span",{class:o.const("dcg-num")},function(){return e.model.displayIndex}),o.createElement("div",{class:o.const("dcg-tab-interior dcg-action-icon-mouse")},o.createElement(c.default,{model:this.props.model,controller:this.props.controller}))),o.createElement(d.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom"):this.const("dcg-expression-bottom dcg-fadein-bottom")},t.prototype.onNameInput=function(e){this.controller.dispatch({type:"set-image-name",id:this.id,name:e})},t.prototype.onNameFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.id,location:"name"}}):"name"===this.getFocusedInput()&&this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.id,location:"name"}})},t.prototype.onNameSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},t.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"image"===e.type&&e.id===this.model.id)return e.location},t.prototype.onRetryLoad=function(){this.controller.dispatch({type:"image-retry-loading",id:this.id})},t}(r.default);t.default=m}),define("expressions/shell_view",["require","exports","tslib","dcgview","./abstract-item-view"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e="";return this.model.cachedRenderHeight&&(e="height:"+this.model.cachedRenderHeight+"px"),r.createElement("div",{class:r.const("dcg-do-not-blur dcg-expressionitem dcg-shell"),"expr-id":this.const(this.model.id),onTap:this.bindFn(this.onMouseSelect),style:r.const(e)})},t}(i.default);t.default=o}),define("expressions/drag_container_view",["require","exports","tslib","dcgview"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-drag-container"),style:function(){return{top:e.getTopPx()}}},this.children)},t.prototype.getTopPx=function(){var e=this.controller.getRawDragState();if(e)return e.itemTop+"px"},t}(r.Class);t.default=i}),define("vendor/papaparse",["require","jquery"],function(e){"use strict";function t(e,t){var n=a(t);if("string"==typeof e){if(!n.download){return new o(n).parse(e)}var s=new r(n);s.stream(e)}else if(e instanceof File)if(n.step||n.chunk){var s=new i(n);s.stream(e)}else{new o(n);reader=new FileReader,reader.onload=function(e){var t=new o(n);t.parse(e.target.result)},reader.onerror=function(){c(n.error)&&n.error(reader.error,e)},reader.readAsText(e,n.encoding)}}function n(e,t){function n(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function r(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var r=e instanceof Array&&e.length>0,o=!(t[0]instanceof Array);if(r){for(var s=0;s<e.length;s++)s>0&&(n+=a),n+=i(e[s],s);t.length>0&&(n+=l)}for(var c=0;c<t.length;c++){for(var u=r?e.length:t[c].length,d=0;d<u;d++){d>0&&(n+=a);var p=r&&o?e[d]:d;n+=i(t[c][p],d)}c<t.length-1&&(n+=l)}return n}function i(e,t){return void 0===e||null===e?"":(e=e.toString().replace(/"/g,'""'),"boolean"==typeof s&&s||s instanceof Array&&s[t]||o(e,p.BAD_DELIMITERS)||e.indexOf(a)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1)?'"'+e+'"':e)}function o(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var s=!1,a=",",l="\r\n";if(function(){"object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&-1==p.BAD_DELIMITERS.indexOf(t.delimiter)&&(a=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(s=t.quotes),"string"==typeof t.newline&&(l=t.newline))}(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return r(null,e);if("object"==typeof e[0])return r(n(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:n(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),r(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function r(e){e=e||{},e.chunkSize||(e.chunkSize=p.RemoteChunkSize);var t,n,r=0,i=0,s="",a="",u=new o(l(e));this.stream=function(o){function l(){if(t=new XMLHttpRequest,t.onload=d,t.onerror=p,t.open("GET",o,!0),e.step){var n=r+e.chunkSize-1;i&&n>i&&(n=i),t.setRequestHeader("Range","bytes="+r+"-"+n)}t.send(),r+=e.chunkSize}function d(){if(4==t.readyState){if(t.status<200||t.status>=400)return void p();s+=a+t.responseText,a="";var i=!e.step||r>h(t);if(!i){var o=s.lastIndexOf("\n");if(o<0&&(o=s.lastIndexOf("\r")),!(o>-1))return void n();a=s.substring(o+1),s=s.substring(0,o)}var l=u.parse(s);s="",c(e.chunk)&&(e.chunk(l),l=void 0),i||l.meta.paused||n()}}function p(){c(e.error)&&e.error(t.statusText)}function h(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}(n=function(){l()})()}}function i(e){e=e||{},e.chunkSize||(e.chunkSize=p.LocalChunkSize);var t,n=0,r="",i="",s=new o(l(e)),a="function"==typeof FileReader;this.stream=function(o){function l(){n<o.size&&u()}function u(){var r=Math.min(n+e.chunkSize,o.size),i=t.readAsText(h.call(o,n,r),e.encoding);a||d({target:{result:i}})}function d(t){n+=e.chunkSize,r+=i+t.target.result,i="";var a=n>=o.size;if(!a){var u=r.lastIndexOf("\n");if(u<0&&(u=r.lastIndexOf("\r")),!(u>-1))return void l();i=r.substring(u+1),r=r.substring(0,u)}var d=s.parse(r);r="",c(e.chunk)&&(e.chunk(d,o),d=void 0),a||d.meta.paused||l()}function p(){c(e.error)&&e.error(t.error,o)}var h=o.slice||o.webkitSlice||o.mozSlice;a?(t=new FileReader,t.onload=d,t.onerror=p):t=new FileReaderSync,l()}}function o(e){function t(){return b&&f&&(u("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),f=!1),n()&&r(),i()}function n(){return e.header&&0==v.length}function r(){if(b){for(var e=0;n()&&e<b.data.length;e++)for(var t=0;t<b.data[e].length;t++)v.push(b.data[e][t]);b.data.splice(0,1)}}function i(){if(!b||!e.header&&!e.dynamicTyping)return b;for(var t=0;t<b.data.length;t++){for(var n={},r=0;r<b.data[t].length;r++){if(e.dynamicTyping){var i=b.data[t][r];b.data[t][r]="true"==i||"false"!=i&&a(i)}e.header&&(r>=v.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(b.data[t][r])):n[v[r]]=b.data[t][r])}e.header&&(b.data[t]=n,r>v.length?u("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+r,t):r<v.length&&u("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+r,t))}return e.header&&b.meta&&(b.meta.fields=v),b}function o(t){for(var n,r,i,o=[",","\t","|",";",p.RECORD_SEP,p.UNIT_SEP],a=0;a<o.length;a++){var l=o[a],c=0,u=0;i=void 0;for(var d=new s({delimiter:l,preview:10}).parse(t),h=0;h<d.data.length;h++){var f=d.data[h].length;u+=f,void 0!==i?f>1&&(c+=Math.abs(f-i),i=f):i=f}u/=d.data.length,(void 0===r||c<r)&&u>1.99&&(r=c,n=l)}return e.delimiter=n,{successful:!!n,bestDelimiter:n}}function a(e){return g.test(e)?parseFloat(e):e}function u(e,t,n,r){b.errors.push({type:e,code:t,message:n,row:r})}var d,h,f,g=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,m=this,y=!1,v=[],b={data:[],errors:[],meta:{}};e=l(e),this.parse=function(r){if(f=!1,!e.delimiter){var i=o(r);i.successful?e.delimiter=i.bestDelimiter:(f=!0,e.delimiter=p.DefaultDelimiter),b.meta.delimiter=e.delimiter}if(c(e.step)){var a=e.step;e.step=function(e){b=e,n()?t():a(t(),m)}}return e.preview&&e.header&&e.preview++,d=r,h=new s(e),b=h.parse(d),t(),c(e.complete)&&!y&&e.complete(b),y?{meta:{paused:!0}}:b},this.pause=function(){y=!0,h.abort(),d=d.substr(h.getCharIndex())},this.resume=function(){y=!1,h=new s(e),h.parse(d),c(e.complete)&&!y&&e.complete(b)},this.abort=function(){h.abort(),c(e.complete)&&e.complete(b),d=""}}function s(e){function t(){for(;D<M.length&&!j&&!(T>0&&R>=T);)'"'==P?i():A?o():s(),n();return r()}function n(){D++,P=M[D]}function r(){if(j&&w("Abort","ParseAbort","Parsing was aborted by the user's step function"),A&&w("Quotes","MissingQuotes","Unescaped or mismatched quotes"),f(),!c(C))return S()}function i(){b()&&!v()?A=!A:(u(),A&&v()?D++:w("Quotes","UnexpectedQuotes","Unexpected quotes"))}function o(){(m(D)||y(D))&&L++,u()}function s(){P==k?d():m(D)?(h(),n()):y(D)?h():a()?l():u()}function a(){return!!I&&((0==D||y(D-1)||m(D-2))&&M[D]===I)}function l(){for(;!m(D)&&!y(D)&&D<M.length;)n()}function u(){O[q][N]+=P}function d(){O[q].push(""),N=O[q].length-1}function h(){f(),L++,R++,O.push([]),q=O.length-1,d()}function f(){g(),c(C)&&(O[q]&&C(S()),E())}function g(){1==O[q].length&&B.test(O[q][0])&&(e.keepEmptyRows?O[q].splice(0,1):O.splice(q,1),q=O.length-1)}function m(e){return e<M.length-1&&("\r"==M[e]&&"\n"==M[e+1]||"\n"==M[e]&&"\r"==M[e+1])}function y(e){return"\r"==M[e]||"\n"==M[e]}function v(){return!b()&&D<M.length-1&&'"'==M[D+1]}function b(){return!A&&x(D-1)||x(D+1)}function x(e){"number"!=typeof e&&(e=D);var t=M[e];return e<=-1||e>=M.length||t==k||"\r"==t||"\n"==t}function w(e,t,n){F.push({type:e,code:t,message:n,line:L,row:q,index:D})}function _(e){M=e,A=!1,D=0,R=0,L=1,E(),O=[[""]],P=M[D]}function E(){O=[],F=[],q=0,N=0}function S(){return{data:O,errors:F,meta:{lines:L,delimiter:k,aborted:j,truncated:T>0&&D<M.length}}}var M,k,I,C,T,P,D,A,L,O,F,q,N,R,B=/^\s*$/,j=!1;e=e||{},k=e.delimiter,I=e.comments,C=e.step,T=e.preview,("string"!=typeof k||1!=k.length||p.BAD_DELIMITERS.indexOf(k)>-1)&&(k=","),!0===I?I="#":("string"!=typeof I||1!=I.length||p.BAD_DELIMITERS.indexOf(I)>-1||I==k)&&(I=!1),this.parse=function(e){if("string"!=typeof e)throw"Input must be a string";return _(e),t()},this.abort=function(){j=!0},this.getCharIndex=function(){return D}}function a(e){"object"!=typeof e&&(e={});var t=l(e);return("string"!=typeof t.delimiter||1!=t.delimiter.length||p.BAD_DELIMITERS.indexOf(t.delimiter)>-1)&&(t.delimiter=d.delimiter),"boolean"!=typeof t.header&&(t.header=d.header),"boolean"!=typeof t.dynamicTyping&&(t.dynamicTyping=d.dynamicTyping),"number"!=typeof t.preview&&(t.preview=d.preview),"function"!=typeof t.step&&(t.step=d.step),"function"!=typeof t.complete&&(t.complete=d.complete),"function"!=typeof t.error&&(t.error=d.error),"string"!=typeof t.encoding&&(t.encoding=d.encoding),"boolean"!=typeof t.download&&(t.download=d.download),"boolean"!=typeof t.keepEmptyRows&&(t.keepEmptyRows=d.keepEmptyRows),t}function l(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=l(e[n]);return t}function c(e){return"function"==typeof e}var u=e("jquery"),d={delimiter:"",header:!1,dynamicTyping:!1,preview:0,step:void 0,encoding:"",comments:!1,complete:void 0,error:void 0,download:!1,chunk:void 0,keepEmptyRows:!1},p={};return p.parse=t,p.unparse=n,p.RECORD_SEP=String.fromCharCode(30),p.UNIT_SEP=String.fromCharCode(31),p.BYTE_ORDER_MARK="\ufeff",p.BAD_DELIMITERS=["\r","\n",'"',p.BYTE_ORDER_MARK],p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=s,p.ParserHandle=o,p.NetworkStreamer=r,p.FileStreamer=i,u.fn.parse=function(e){function t(){if(0!=o.length){var t=o[0];if(c(e.before)){var i=e.before(t.file,t.inputElem);if("object"==typeof i){if("abort"==i.action)return void n("AbortError",t.file,t.inputElem,i.reason);if("skip"==i.action)return void r();"object"==typeof i.config&&(t.instanceConfig=u.extend(t.instanceConfig,i.config))}else if("skip"==i)return void r()}var s=t.instanceConfig.complete;t.instanceConfig.complete=function(e){c(s)&&s(e,t.file,t.inputElem),r()},p.parse(t.file,t.instanceConfig)}}function n(t,n,r,i){c(e.error)&&e.error({name:t},n,r,i)}function r(){o.splice(0,1),t()}var i=e.config||{},o=[];return this.each(function(e){if("INPUT"!=u(this).prop("tagName").toUpperCase()||"file"!=u(this).attr("type").toLowerCase()||!window.FileReader||!this.files||0==this.files.length)return!0;for(var t=0;t<this.files.length;t++)o.push({file:this.files[t],inputElem:this,instanceConfig:u.extend({},i)})}),t(),this},p}),define("classifier/classify",["require","exports","tslib","math/parser/latex-lexer"],function(e,t,n,r){"use strict";function i(e){for(var t=[],n=r.lex(e);!r.isDone(n);)t.push(r.peek(n).type),n=r.advance(n);return t}function o(e){var t=e.join(" ");return l[t]||0}function s(e){for(var t=i(e),n=-50,r=0,s=[1,2];r<s.length;r++)for(var a=s[r],l=0;l<t.length-(a-1);l++)n+=o(t.slice(l,l+a));return n>0?"text":"latex"}Object.defineProperty(t,"__esModule",{value:!0});var a={Letter:2.156219035621851,Symbol:-1.3955973111865143,Digit:-2.0187663223829224,Left:-7.301023550701673,EscapedSymbol:-9.275703878032967,Right:-7.301023825347384,"^":-3.702774744662061,Frac:-8.235766712671952,"{":-5.193756353978961,"}":-5.2091412728184405,Cmd:-7.50431522952453,Sqrt:-8.586560878205761,"[":.03831036387053607,"]":.05570210658240527,_:-1.7156133278555172,Primes:4.903727028603438,"Letter Symbol":-.587455596598396,"Symbol Digit":-2.342805435433473,"Digit Digit":-1.9386043709163656,"Digit Left":-10.697650284847587,"Left EscapedSymbol":-10.98041713966381,"EscapedSymbol Symbol":-8.5117449230521,"Digit Symbol":-1.8779763152981215,"Symbol Letter":-.1405240762419908,"Symbol Symbol":-.6475366838293403,"Digit Right":-8.311491735655617,"Right EscapedSymbol":-10.980416619794807,"EscapedSymbol Letter":-9.735492625122268,"EscapedSymbol Digit":-10.243800974521639,"Digit Letter":.269772262816565,"EscapedSymbol Left":-9.119999761194801,"Left Symbol":-6.561757865357271,"Letter ^":-2.278642569351918,"^ Digit":-4.132434723614744,"Right Symbol":-6.561759031337466,"Symbol ^":-5.036021881596493,"Symbol Left":-6.967910898703368,"Symbol Frac":-8.166757548038712,"Frac {":-8.235766712671952,"{ Left":-8.991807634715721,"Symbol }":-4.596921941829504,"} {":-6.754162171747737,"{ Digit":-6.048251708685925,"Digit }":-5.6813597584647075,"} Right":-7.12081343692023,"Digit Cmd":-8.720476643659573,"Cmd Letter":-7.0146829549360925,"Letter Cmd":-7.420424080237284,"Cmd Digit":-8.876029742533563,"{ Symbol":-4.582909223105274,"{ Letter":-3.5921906493779776,"Letter }":-3.609737593111089,"Cmd Symbol":-6.761368546579928,"Cmd Left":-8.80721391308075,"} Letter":-3.432792087414758,"} Sqrt":-5.74145896772395,"Sqrt {":-8.558004096883055,"} Symbol":-5.316686511513064,"Cmd Frac":-6.712095356064388,"Digit ^":-3.442002974722137,"Letter Left":-4.421537036182191,"Letter Right":-5.36130523753825,"Symbol Cmd":-5.960388282212457,"EscapedSymbol Frac":-7.562569839199085,"Cmd Cmd":-6.475569226325829,"Cmd Sqrt":-5.091083672473911,"} }":-7.218479057816111,"} Cmd":-6.318841943492862,"^ {":-5.444688757128561,"} Left":-6.467851007802071,"Symbol Right":-6.529432241317352,"Digit Frac":-7.173524841449775,"} Digit":-4.832392713235034,"Symbol Sqrt":-7.925378801801921,"Letter Letter":5.573955833488698,"^ Letter":-.34821475407072777,"Letter Digit":3.715128234020657,"Cmd ^":-4.893017335051469,"{ Cmd":-6.590644689725278,"Cmd }":-7.207298467808705,"Digit Sqrt":-7.325131774172862,"EscapedSymbol Right":-6.7683521840218885,"{ Frac":-6.166651132780269,"} Frac":-5.081272273013265,"EscapedSymbol Cmd":-7.28561342161958,"Cmd Right":-6.477941149516706,"EscapedSymbol Sqrt":-5.5587846150187685,"Sqrt [":-5.01665790523756,"[ Digit":-1.1565164295080437,"Digit ]":-.27253982970500096,"] {":-5.01665790523756,"Letter _":-2.169853996499765,"_ Letter":-.8680926855845452,"_ {":-5.321268907503729,"_ Digit":-2.475564458334699,"{ Sqrt":-5.698311290953599,"} ^":-5.814103144043405,"Cmd _":-4.441413614112532,"Letter Frac":-4.096008984739159,"Letter Sqrt":-3.7535258288937885,"EscapedSymbol ^":-.9689436791314612,"EscapedSymbol }":-4.330364208467625,"{ ^":1.1866870009059214,"Letter Primes":6.061019060617993,"Primes Letter":5.698810630211005,"{ }":.2624280993825892,"Letter EscapedSymbol":1.0043654441119667,"Symbol Primes":2.713433197494908,"Digit Primes":2.7784253362406206,"Cmd Primes":-.8545333279537168,"Left [":-4.20694054544644,"[ Left":-.22429997280434075,"Right ]":-4.20694054544644,"] Symbol":2.1951677852481577,"[ Frac":-3.4323860902511614,"] ^":-3.6998956445203555,"[ Letter":2.5281673462360192,"Letter ]":3.9298285218194016,"] Left":-.9051770607724716,"] }":-1.4233827918360848,"[ Symbol":2.7444529027957008,"] Letter":3.4186545266860136,"Primes Cmd":-2.3657998283024604,"] Right":-1.7147345931768285,"Digit [":3.3557407012754443,"[ Cmd":.7812218927977569,"Symbol ]":3.62280348652449,"] [":3.322218009236801,"} ]":2.390659805231857,"} _":2.3906598052318575,"Symbol [":5.41108469137622,"Primes Symbol":6.172004487017887,"^ Symbol":3.9412572176430243,"} Primes":-.4227509115281791,"] Cmd":-.5360795968351822,"Primes Frac":2.1029777327800763,"Cmd [":1.8798341814658668,"Digit _":4.941524422811655,"Cmd EscapedSymbol":-.8414612463863641,"EscapedSymbol Primes":-1.1928591332242529,"Letter [":5.800907022413931,"Primes Left":.3112182635520215,"Symbol EscapedSymbol":3.6434227737272256,"Digit EscapedSymbol":.39822964054165105,"EscapedSymbol [":2.3906598052318575,"Cmd ]":2.1029777327800763,"Primes Digit":3.489272093899967,"Symbol _":5.43518224295528,"{ _":-.2949175400182943,"EscapedSymbol EscapedSymbol":1.2920475165637477,"_ Symbol":5.7918571868940125,"[ Sqrt":1.8798341814658668,"] Digit":3.740586522180873,"Cmd {":2.1029777327800763,"} EscapedSymbol":1.697512624671912,"{ EscapedSymbol":1.0043654441119667,"Primes }":2.3906598052318575,"Letter {":8.152711188012034,"Symbol {":8.114244907184238,"^ ^":7.532323361734517,"Primes Primes":4.875566455019857,"_ _":9.309355024252328,"Digit {":6.054221451361504,"[ [":5.098710006334067,"] ]":5.098710006334067,"[ _":5.686496671236187,"_ ]":5.686496671236187,"{ [":4.587884382568077,"} [":6.197322295002177},l=n.__assign({},a,{"_ {":-10*a["Letter Letter"]});t.classify=s}),define("geometry/math/isNumber",["require","exports"],function(e,t){"use strict";function n(e){return e.trim().match(/^-?[0-9]*\.?[0-9]*$/)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=n}),define("main/data_helpers",["require","exports","vendor/papaparse","underscore","bugsnag","classifier/classify","geometry/math/isNumber"],function(e,t,n,r,i,o,s){"use strict";function a(e){var t=e.split(/\r?\n/),n=[],i=!1;if(!(t.length<2)){for(var a=0;a<t.length;a++){var l=t[a];if(l.trim()){var c=o.classify(t[a]);"text"!==c&&s.isNumber(l)||(i=!0),"text"===c&&n.length>0&&"text"===n[n.length-1].type?n[n.length-1].content+="\n"+l:n.push({type:c,content:l})}}return i?n:[{content:"\\left["+r.pluck(n,"content").join(",")+"\\right]",type:"latex",numberList:!0}]}if(e.length>30&&"text"===o.classify(e))return[{type:"text",content:e}]}function l(e){if(!/^\s*$/.test(e)){var t=n.parse(e,{preview:1e3}),r=[];if(t.errors.length&&!t.data.length)return void i.notify("PapaParse.parse returned errors.",{metaData:{input:e,output:t.errors}});if(t.data.length&&!(t.data.length<2)){for(var o=t.data[0].length,s=0;s<o;s++)r.push([]);for(var a=0;a<t.data.length;a++)if(0!==a||!isNaN(parseFloat(t.data[a][0]))){if(t.data[a].length<2)return;if(t.data[a][0]||t.data[a][1])for(var s=0;s<o;s++){var l=(t.data[a][s]||"").replace(/,/g,"");if(l&&isNaN(parseFloat(l)))return;r[s].push(l)}}if(!(r[0].length<2))return r}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getExpressions=a,t.parse=l}),define("loadcss!new_expression",function(){}),define("expressions/new_expression_view",["require","exports","tslib","dcgview","loadcss!new_expression"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return this.controller=this.props.controller(),r.createElement("div",{class:r.const("dcg-expressionitem dcg-new-expression dcg-opened")},r.createElement("div",{class:r.const("dcg-new-math-div dcg-do-not-blur dcg-action-newmath"),onTap:this.bindFn(this.newMath)},r.createElement("div",{class:r.const("dcg-new-expression-fade")})),r.createElement("span",{class:r.const("dcg-tab")},r.createElement("span",{class:r.const("dcg-num dcg-variable-index")},this.bindFn(this.getIndex)),r.createElement("div",{class:r.const("dcg-tab-interior")})))},t.prototype.getIndex=function(){return this.controller.getNextDisplayIndex()},t.prototype.newMath=function(){this.controller.dispatch({type:"new-expression-at-end"})},t}(r.Class);t.default=i}),define("loadcss!add_expression",function(){}),define("expressions/add_expression_view",["require","exports","tslib","keys","browser","lib/tooltip","dcgview","jquery","loadcss!add_expression"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),s.createElement("div",{class:s.const("dcg-add-expression-container")},s.createElement(o.Tooltip,{tooltip:function(){return e.controller.t("Add Item")},gravity:function(){return e.controller.isNarrow()?"ne":"se"}},s.createElement("span",{class:function(){return{"dcg-icon-btn":!0,"dcg-add-expression-btn":!0,"dcg-action-add-expression":!0,"dcg-do-blur":!0,"dcg-active":e.controller.isAddExpressionOpen()}},handleEvent:s.const("true"),role:s.const("button"),tabindex:s.const("0"),"aria-haspopup":s.const("true"),"aria-expanded":function(){return e.controller.isAddExpressionOpen()},"aria-label":function(){return e.controller.t("Add Item")},onTap:this.bindFn(this.toggleAddExpression),didMount:this.bindFn(this.didMountToggleButton)},s.createElement("i",{class:s.const("dcg-icon-plus")}))),s.createElement(l,{predicate:function(){return e.controller.isAddExpressionOpen()}},function(){return s.createElement("div",{class:function(){return{"dcg-add-expression-dropdown":!0,"dcg-popover":!0,"dcg-bottom":!e.controller.isNarrow(),"dcg-right":e.controller.isNarrow()}},role:s.const("complementary"),"aria-label":s.const("Add Item Menu"),didMount:e.bindFn(e.didMountPopover),didUnmount:e.bindFn(e.didUnmountPopover)},s.createElement("div",{class:s.const("dcg-popover-interior")},s.createElement("div",{class:s.const("dcg-new-item dcg-do-not-blur dcg-action-newexpression"),role:s.const("button"),tabindex:s.const(0),"aria-label":function(){return e.controller.t("Add Expression")},didMount:e.bindFn(e.didMountNewExpression),onTap:e.bindFn(e.newExpression),handleEvent:s.const("true")},s.createElement("i",{class:s.const("dcg-icon-new-expression dcg-expression-icon")}),function(){return e.controller.t("expression")}),s.createElement(l,{predicate:function(){return e.controller.areNotesEnabled()}},function(){return s.createElement("div",{class:s.const("dcg-new-item dcg-do-not-blur dcg-action-newtext"),role:s.const("button"),tabindex:s.const(0),"aria-label":function(){return e.controller.t("Add Note")},onTap:e.bindFn(e.newText),handleEvent:s.const("true")},s.createElement("i",{class:s.const("dcg-icon-new-text dcg-expression-icon")}),function(){return e.controller.t("note")})}),s.createElement("div",{class:s.const("dcg-new-item dcg-do-not-blur dcg-action-newtable"),role:s.const("button"),tabindex:s.const(0),"aria-label":function(){return e.controller.t("Add Table")},onTap:e.bindFn(e.newTable),handleEvent:s.const("true")
},s.createElement("i",{class:s.const("dcg-icon-new-table dcg-expression-icon")}),function(){return e.controller.t("table")}),s.createElement(l,{predicate:function(){return e.controller.areFoldersEnabled()}},function(){return s.createElement("div",{class:s.const("dcg-new-item dcg-do-not-blur dcg-action-newfolder"),role:s.const("button"),tabindex:s.const(0),"aria-label":function(){return e.controller.t("Add Folder")},onTap:e.bindFn(e.newFolder),handleEvent:s.const("true")},s.createElement("i",{class:s.const("dcg-icon-new-folder dcg-expression-icon")}),function(){return e.controller.t("folder")})}),s.createElement(l,{predicate:function(){return e.controller.areImagesEnabled()}},function(){return s.createElement("div",{class:s.const("dcg-new-item dcg-do-not-blur dcg-action-newimage"),role:s.const("button"),tabindex:s.const(0),"aria-label":function(){return e.controller.t("Add Image")},onTap:e.bindFn(e.newImage),handleEvent:s.const("true")},s.createElement("i",{class:s.const("dcg-icon-new-image dcg-expression-icon")}),function(){return e.controller.t("image")},s.createElement("input",{type:s.const("file"),accept:s.const("image/*"),style:s.const("display: none"),didMount:e.bindFn(e.didMountFileInput)}))})),s.createElement("span",{class:s.const("dcg-arrow")}))}))},t.prototype.didMountPopover=function(e){var t=this;this.popoverNode=e,a(document).on("dcg-tapstart.add-expression-view wheel.add-expression-view",function(e){t.eventShouldClosePopover(e)&&t.controller.dispatch({type:"close-add-expression"})}),a(document).on("keydown.add-expression-view",function(e){if("Esc"===r.lookup(e)&&t.controller.dispatch({type:"close-add-expression"}),"Tab"===r.lookup(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey){var n=document.activeElement,i=a(t.toggleButtonNode),o=a(t.popoverNode).find(".dcg-new-item:last");e.shiftKey||n!==o[0]?e.shiftKey&&n===i[0]&&(o.focus(),e.preventDefault(),e.stopPropagation()):(i.focus(),e.preventDefault(),e.stopPropagation())}}),i.IS_IPAD&&i.IS_IN_IFRAME&&a(e).on("dcg-tapstart",function(e){return e.preventDefault()}),a(e).find(".dcg-new-item").on("touchstart",function(e){return e.preventDefault()})},t.prototype.didMountFileInput=function(e){var t=this;this.fileInputNode=e,a(e).on("change",function(){t.insertFiles(e.files),a(e).val("")})},t.prototype.didMountToggleButton=function(e){this.toggleButtonNode=e},t.prototype.didMountNewExpression=function(e){this.controller.getAddExpressionViewModel().focusOnOpen&&a(e).focus()},t.prototype.didUnmountPopover=function(){a(document).off(".add-expression-view")},t.prototype.toggleAddExpression=function(e){this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:"keyboard"===e.device})},t.prototype.newExpression=function(){this.controller.dispatch({type:"new-expression"})},t.prototype.newText=function(){this.controller.dispatch({type:"new-text"})},t.prototype.newFolder=function(){this.controller.dispatch({type:"new-folder"})},t.prototype.newTable=function(){this.controller.dispatch({type:"new-table"})},t.prototype.newImage=function(){this.fileInputNode.click()},t.prototype.insertFiles=function(e){this.controller.dispatch({type:"new-images",files:e})},t.prototype.eventShouldClosePopover=function(e){var t=!!a(e.target).closest(this.popoverNode).length,n=!!a(e.target).closest(this.toggleButtonNode).length;return!(t||n)},t}(s.Class);t.default=c}),define("loadcss!expressions/expressions-header",function(){}),define("expressions/expressions-header",["require","exports","tslib","./add_expression_view","dcgview","lib/tooltip","loadcss!./expressions-header"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.Components.If,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return i.createElement("div",{class:function(){return{"dcg-expression-top-bar":!0,"dcg-expressions-scrolled":e.props.expsScrolled()}},role:i.const("toolbar"),"aria-label":function(){return e.controller.t("Expression Bar")},onTapStart:this.bindFn(this.clearSelectionOnMobile),style:function(){return{background:e.controller.hasBackgroundColor()?e.controller.getPillboxBackgroundColor():void 0}}},i.createElement("div",{class:i.const("dcg-left-buttons")},i.createElement(s,{predicate:this.bindFn(this.showHamburger)},function(){return i.createElement("span",{class:i.const("dcg-action-opendrawer dcg-tooltip dcg-icon-btn dcg-in-api-action-opendrawer"),handleEvent:i.const("true"),tooltip:function(){return e.controller.t("Open Graph (ctrl+o)")},role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.t("Open Graph")},onTap:function(){return e.controller.dispatch({type:"open-drawer"})}},i.createElement("i",{class:i.const("dcg-icon-hamburger")}))}),i.createElement(s,{predicate:function(){return!e.controller.isInEditListMode()}},function(){return i.createElement(r.default,{controller:function(){return e.props.controller()}})}),i.createElement(s,{predicate:function(){return e.controller.isInEditListMode()&&!e.controller.hasDefaultState()}},function(){return i.createElement("span",{class:i.const("dcg-btn-red dcg-action-clearall"),role:i.const("button"),onTap:function(){return e.controller.dispatch({type:"clear-graph"})}},function(){return e.controller.t("Delete All")})}),i.createElement(s,{predicate:function(){return e.controller.isInEditListMode()&&e.controller.hasDefaultState()}},function(){return i.createElement("span",{class:i.const("dcg-btn-red dcg-action-reset"),role:i.const("button"),onTap:function(){return e.controller.dispatch({type:"reset-graph"})}},function(){return e.controller.t("Reset")})})),i.createElement("div",{class:i.const("dcg-center-buttons")},i.createElement(o.Tooltip,{tooltip:function(){return e.controller.t("Undo (ctrl+z)")},gravity:function(){return e.controller.isNarrow()?"n":"s"},disabled:function(){return!e.controller.canUndo()}},i.createElement("span",{class:function(){return{"dcg-action-undo":!0,"dcg-icon-btn":!0,"dcg-disabled":!e.controller.canUndo()}},role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.t("Undo")},onTap:function(){return e.controller.dispatch({type:"undo"})},"aria-disabled":function(){return!e.controller.canUndo()}},i.createElement("i",{class:i.const("dcg-icon-undo")}))),i.createElement(o.Tooltip,{tooltip:function(){return e.controller.t("Redo (ctrl+y)")},gravity:function(){return e.controller.isNarrow()?"n":"s"},disabled:function(){return!e.controller.canRedo()}},i.createElement("span",{class:function(){return{"dcg-action-redo":!0,"dcg-icon-btn":!0,"dcg-disabled":!e.controller.canRedo()}},role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.t("Redo")},onTap:function(){return e.controller.dispatch({type:"redo"})},"aria-disabled":function(){return!e.controller.canRedo()}},i.createElement("i",{class:i.const("dcg-icon-redo")})))),i.createElement("div",{class:i.const("dcg-right-buttons")},i.createElement(s,{predicate:function(){return!e.controller.isInEditListMode()}},function(){return i.createElement(o.Tooltip,{tooltip:e.const("Edit List"),gravity:function(){return e.controller.isNarrow()?"n":"s"}},i.createElement("span",{class:i.const("dcg-icon-btn dcg-action-toggle-edit"),handleEvent:i.const("true"),role:i.const("button"),"aria-label":function(){return e.controller.t("Edit Expression List")},onTap:function(){return e.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!0})}},i.createElement("i",{class:i.const("dcg-icon-settings")})))}),i.createElement(s,{predicate:function(){return e.controller.isInEditListMode()}},function(){return i.createElement("span",{class:i.const("dcg-btn-blue dcg-action-toggle-edit dcg-do-not-blur"),handleEvent:i.const("true"),role:i.const("button"),onTap:function(){return e.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1})}},function(){return e.controller.t("Done")})}),i.createElement(s,{predicate:function(){return!e.controller.isInEditListMode()&&e.controller.getGraphSettings().config.graphpaper}},function(){return i.createElement(o.Tooltip,{tooltip:e.const("Hide Expression List"),gravity:function(){return e.controller.isNarrow()?"nw":"sw"}},i.const(" "),i.createElement("span",{class:function(){return{"dcg-resize-list-btn":!0,"dcg-action-hideexpressions":!0,"dcg-icon-btn":!0,"dcg-rotated":e.controller.isNarrow()}},role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.t("Hide Expression List")},onTap:function(){return e.controller.dispatch({type:"hide-expressions-list"})}},i.createElement("i",{class:i.const("dcg-icon-hide")})))})))},t.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&(!this.controller.isInEditListMode()&&!this.controller.isNarrow())},t.prototype.clearSelectionOnMobile=function(e){e.wasHandled()||this.controller.dispatch({type:"set-none-selected"})},t}(i.Class);t.default=a}),define("main/load-graph-from-link",["require","exports","main/migrate_state","jquery"],function(e,t,n,r){"use strict";function i(e,t,i,o){var s=!1;e.dispatch({type:"toast/show",toast:{message:e.t("Importing graph..."),hideAfter:0,toastStyle:"cover",onHide:function(){s=!0}}});var a=e.getState(),l=function(){s||e.dispatch({type:"toast/show",toast:{message:e.t("Error importing graph. Check the URL?"),toastStyle:"error",hideAfter:12e3}})},c=function(e){if(!e||!e.expressions||!e.expressions.list)return!1;for(var t=e.expressions.list,n=0;n<t.length;n++)if("folder"===t[n].type)return!1;return!0},u=function(t,n){if(!s){var r=e.getSelectedItem();if(!c(t))return void e.dispatch({type:"toast/show",toast:{message:e.t("Only graphs without folders can be inserted into a folder."),toastStyle:"error",hideAfter:12e3}});r&&e.dispatch({type:"set-folder-title",id:r.id,title:n}),t.expressions.list.forEach(function(t){t.id=e.generateId()}),e.dispatch({type:"insert-several-expressions",expressions:t.expressions.list}),e.dispatch({type:"toast/show",toast:{message:e.t("Graph imported!")}})}},d=function(t){s||(e.dispatch({type:"set-state",state:t}),e.dispatch({type:"toast/show",toast:{message:e.t("Graph imported!"),undoCallback:function(){e.dispatch({type:"set-state",state:a})}}}))};r.getJSON(t).done(function(e){var t=n.migrateToLatest(e.state);o(t,function(t,n){t||!n?l():"set-state"===i?d(n):u(n,e.title)})}).fail(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}),define("lib/get-clipboard-data",["require","exports"],function(e,t){"use strict";function n(e){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e&&e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData("text/plain"):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}),define("loadcss!expressions/exp-list-resizer",function(){}),define("expressions/exp-list-resizer",["require","exports","tslib","dcgview","jquery","underscore","loadcss!./exp-list-resizer"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r.Components.If,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.guid=o.uniqueId("dcg-exp-list-resize")},t.prototype.template=function(){var e=this;return r.createElement(s,{predicate:this.bindFn(this.isVisible)},function(){return r.createElement("div",{class:r.const("dcg-exp-list-resizer"),onTapStart:e.bindFn(e.onTapStart)})})},t.prototype.isVisible=function(){return!this.props.controller().expressionsAreFullWidth()&&this.props.controller().isListVisible()},t.prototype.onTapStart=function(e){var t=this;this.initialWidth=this.props.controller().getExpListWidth(),this.initialLeft=e.changedTouches[0].clientX,i(document).on("dcg-tapmove."+this.guid,function(e){if(void 0!==t.initialLeft&&void 0!==t.initialWidth){var n=e.changedTouches[0].clientX-t.initialLeft+t.initialWidth;t.props.controller().dispatch({type:"resize-exp-list",expListWidth:n})}}),i(document).on("dcg-tapend."+this.guid,this.bindFn(this.onTapEnd)),i(document).on("dcg-tapcancel."+this.guid,this.bindFn(this.onTapEnd))},t.prototype.onTapEnd=function(){i(document).off("."+this.guid),this.initialLeft=void 0,this.initialWidth=void 0},t}(r.Class);t.ExpListResizer=a}),define("loadcss!expressions/list-view",function(){}),define("loadcss!expressions",function(){}),define("loadcss!expressions.dropdown",function(){}),define("loadcss!tipsycss",function(){}),define("tipsy",["require","loadcss!tipsycss","jquery","keys"],function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function n(e,t){this.id=h++,this.$element=s(e),this.options=t,this.fixTitle()}function r(){return 0!==f}function i(){f--}function o(){f++}e("loadcss!tipsycss");var s=e("jquery"),a=e("keys"),l=null,c=!1,u=0,d={},p=500;s(document).on("dcg-tap",".tipsy-sticky",function(e){if(c)return void(c=!1);var t=e.currentTarget,r=s(t);if(r.attr("tooltip")||(r=r.find("[tooltip]").filter(':not([tooltip=""])')),1===r.length&&"none"!==r.css("display")&&!r.parents().filter(function(){return"none"===s(this).css("display")}).length){var i=s.extend({},s.fn.tipsy.defaults);r.attr("tipsy-dir")?i.gravity=r.attr("tipsy-dir"):i.gravity="nw",i.fade=!1,l=new n(r[0],i),l.isOpenSticky=!0,l.renderVisible(),l.opener=t}}),s(document).on("dcg-tapstart keydown",function(e){if("keydown"!==e.type||a.lookup(e)!==a.ESCAPE){if(l){l.clearTooltip();var t=l.opener;"dcg-tapstart"===e.type&&s(e.target).closest(t).length&&s(document).one("dcg-tapend",function(e){s(e.target).closest(t).length&&(c=!0)}),l=null}}else for(var n in d)d[n].clearTooltip()});var h=0;n.prototype={_show:function(){var e=this.getTitle();if(e&&!r()){var n=this.tip(),i=n.find(".tipsy-arrow");this.uuid=u,u++,s(document).on("scroll.tipsy"+this.uuid,this.clearTooltip.bind(this)),n.find(".tipsy-inner")[this.options.html?"html":"text"](e),n[0].className="tipsy",n.detach().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var o,a=this.$element[0],l=this.$tip[0],c=a.getBoundingClientRect(),d=l.getBoundingClientRect(),p=d.width,h=d.height,f=t(this.options.gravity,this.$element[0]);switch(f.charAt(0)){case"n":o={top:c.top+c.height+this.options.offset,left:c.left+c.width/2-p/2};break;case"s":o={top:c.top-h-this.options.offset,left:c.left+c.width/2-p/2};break;case"e":o={top:c.top+c.height/2-h/2,left:c.left-p-this.options.offset};break;case"w":o={top:c.top+c.height/2-h/2,left:c.left+c.width+this.options.offset}}2==f.length&&("w"==f.charAt(1)?o.left=c.left+c.width/2-15:o.left=c.left+c.width/2-p+15);var g=0;o.left<0?(g=o.left,o.left=0):o.left+p>window.innerWidth&&(g=o.left+p-window.innerWidth,o.left=window.innerWidth-p),"n"!==f&&"s"!==f||(g-=5);var m=c.width/a.offsetWidth,y=c.height/a.offsetHeight;o.top/=y,o.left/=m,g/=m,i.css("marginLeft",g),n.css(o).addClass("tipsy-"+f),i[0].className="tipsy-arrow tipsy-arrow-"+f.charAt(0),this.options.fade?n.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:1},"fast"):n.css({visibility:"visible",opacity:1}),this.options.sticky&&n.addClass("tipsy-temporary-sticky");var v=this,b=function(){v.validate(),v.validateTimeout=setTimeout(b,100)};b()}},_hide:function(){clearTimeout(this.validateTimeout),s(document).off("scroll.tipsy"+this.uuid),this.options.fade?this.tip().stop().fadeOut("fast",function(){s(this).detach()}):this.tip().detach()},clearTooltip:function(){delete this.buttonHoverTime,this.tooltipIsHovered=!1,this.isOpenSticky=!1,this.renderVisible()},renderVisible:function(){var e=!!this.renderedVisible,t=!!this.tooltipIsHovered||!!this.isOpenSticky;this.buttonHoverTime&&(e?t=!0:Date.now()-this.buttonHoverTime>=p&&(t=!0)),t!==e&&(this.renderedVisible=t,t?(d[this.id]=this,this._show()):(delete d[this.id],this._hide()))},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;return this.fixTitle(),n=this.options,"string"==typeof n.title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),e&&(e=(""+e).replace(/(^\s*|\s*$)/,"")),e||""},tip:function(){return this.$tip||(this.$tip=s('<div class="tipsy"><div class="tipsy-arrow"></div><div class="tipsy-inner"></div></div>'),this.$tip.on("tipsyshow",function(){clearTimeout(this.tooltipOutTimeout),this.tooltipIsHovered=!0,this.renderVisible()}.bind(this)),this.$tip.on("tipsyhide",function(){clearTimeout(this.tooltipOutTimeout),this.tooltipOutTimeout=setTimeout(function(){this.tooltipIsHovered=!1,this.renderVisible()}.bind(this),100)}.bind(this))),this.$tip},validate:function(){var e=!!this.getTitle(),t=!1;if(e)try{for(var n=this.$element[0];n;){if(n===document){t=!0;break}n=n.parentNode}}catch(e){}t||this.clearTooltip()}},s.fn.tipsy=function(e){function t(t){var r=s.data(t,"tipsy");return r||(r=new n(t,s.fn.tipsy.elementOptions(t,e)),s.data(t,"tipsy",r)),r}function r(e){if(("tipsyshow"!==e.type||e.target===this)&&l!==this){var n=t(this);clearTimeout(n.buttonTimeout),n.buttonHoverTime=Date.now(),n.buttonTimeout=setTimeout(function(){n.renderVisible()},p)}}function i(e){if("tipsyhide"!==e.type||e.target===this){var n=t(this);"dcg-tapstart"===e.type&&n.options.sticky||(clearTimeout(n.buttonTimeout),n.buttonTimeout=setTimeout(function(){delete n.buttonHoverTime,n.renderVisible()},100))}}if(!0===e)return this.data("tipsy");if("string"==typeof e){var o=this.data("tipsy");return o&&o[e](),this}e=s.extend({},s.fn.tipsy.defaults,e);var a="tipsyhide dcg-tapstart dcg-tapend dcg-tapcancel";return e.delegate?this.on("tipsyshow",e.delegate,r).on(a,e.delegate,i):this.on("tipsyshow",r).on(a,i),this},s.fn.tipsy.defaults={fade:!0,gravity:"n",html:!1,offset:0,title:"tooltip"},s.fn.tipsy.elementOptions=function(e,t){t=s.extend({},t);var n=s(e).attr("tipsy-gravity");n&&(t.gravity=n);var r=parseInt(s(e).attr("tipsy-offset"),10);return isNaN(r)||(t.offset=r),t},s.fn.tipsy.autoNS=function(){return s(this).offset().top>s(document).scrollTop()+s(window).height()/2?"s":"n"},s.fn.tipsy.autoWE=function(){return s(this).offset().left>s(document).scrollLeft()+s(window).width()/2?"e":"w"},s.fn.tipsy.autoBounds=function(e,t){return function(){var n={ns:t[0],ew:t.length>1&&t[1]},r=s(document).scrollTop()+e,i=s(document).scrollLeft()+e,o=s(this);return o.offset().top<r&&(n.ns="n"),o.offset().left<i&&(n.ew="w"),s(window).width()+s(document).scrollLeft()-o.offset().left<e&&(n.ew="e"),s(window).height()+s(document).scrollTop()-o.offset().top<e&&(n.ns="s"),n.ns+(n.ew?n.ew:"")}},s(document).tipsy({delegate:".tipsy-sticky",gravity:"nw",fade:!1,sticky:!0});var f=0;return{isDisabled:r,removeDisableLock:i,addDisableLock:o}}),define("expressions/list-view",["require","exports","tslib","touchtracking","keys","dcgview","jquery","underscore","lib/conditional_blur","./expression_view","./text_view","./table-view","./folder-view","./image-view","./shell_view","./drag_container_view","main/data_helpers","./new_expression_view","./expressions-header","main/load-graph-from-link","lib/get-clipboard-data","graphing-calc/models/abstract-item","./exp-list-resizer","loadcss!./list-view","loadcss!expressions","loadcss!expressions.dropdown","tipsy","jquery.handleevent"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m,y,v,b,x,w,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=o.Components,S=E.If,M=E.For,k=E.Switch,I=E.SwitchUnion,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.guid=a.uniqueId("listView"),t}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return o.createElement("div",{didMount:this.bindFn(this.didMountContainer)},o.createElement("div",{class:o.const("dcg-exppanel-outer"),onDrop:this.bindFn(this.onDrop),style:function(){return e.computeExppanelOuterStyle()}},o.createElement("div",{class:function(){return{"dcg-exppanel-container":!0,"dcg-add-shadow":e.controller.shouldRenderList()}},style:function(){return{transform:e.controller.isListVisible()?void 0:e.controller.isNarrow()?"translate(0, 100%)":"translate(-100%, 0)"}}},o.createElement(S,{predicate:function(){return e.controller.isFileDraggedOver()}},function(){return o.createElement("div",{class:o.const("dcg-drop-image")},o.createElement("span",null,function(){return e.controller.t("Drop Image Here")}))}),o.createElement(S,{predicate:function(){return e.controller.shouldRenderList()}},function(){return o.createElement("div",{class:function(){return{"dcg-exppanel":!0,"dcg-disable-horizontal-scroll-to-cursor":!0,"dcg-isDragging":e.controller.isDragDropActive(),"dcg-has-background-color":e.controller.hasBackgroundColor()}},style:function(){return{background:e.controller.getBackgroundColor()}},onPaste:e.bindFn(e.onPaste),onTapStart:e.bindFn(e.onExppanelTapstart),didMount:e.bindFn(e.didMountExppanel)},o.createElement(_.ExpListResizer,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-expressionlist"),role:o.const("complementary"),"aria-label":o.const("Expression List")},o.createElement(M,{each:function(){return e.controller.getAllItemModels()},key:function(e){return e.guid}},o.createElement("span",{class:o.const("dcg-template-expressioneach")},function(t){return I(function(){return w.getDisplayState(t)},{shell:function(){return e.makeShellViewForModel(t)},render:function(){return e.makeViewForModel(t)},none:function(){}})})),o.createElement(y.default,{controller:function(){return e.props.controller()}}),o.createElement(k,{key:function(){return e.controller.getDraggedItemId()}},function(t){if(t){var n=e.controller.getItemModel(t);return o.createElement(g.default,{controller:e.props.controller},e.makeDragCopyViewForModel(n))}}),o.createElement("div",{class:o.const("dcg-expressions-branding"),style:function(){return{opacity:e.controller.isKeypadOpen()?0:1}}},o.createElement(S,{predicate:function(){return e.controller.canEditOnWeb()}},function(){return o.createElement("span",{role:o.const("link"),tabindex:o.const(0),class:o.const("dcg-edit-branding"),onTap:function(){return e.controller.dispatch({type:"open-on-web"})}},o.createElement("div",{class:o.const("dcg-powered-by"),"aria-label":function(){return e.controller.t("Edit graph on Desmos")}},function(){return e.controller.t("edit graph on")}),o.createElement("i",{class:o.const("dcg-icon-desmos")}))}),o.createElement(S,{predicate:function(){return!e.controller.canEditOnWeb()}},function(){return o.createElement("span",{class:o.const("dcg-noedit-branding")},o.createElement("div",{class:o.const("dcg-powered-by"),"aria-label":function(){return e.controller.t("powered by Desmos")}},function(){return e.controller.t("powered by")}),o.createElement("i",{class:o.const("dcg-icon-desmos")}))}))))}),o.createElement(S,{predicate:function(){return e.controller.shouldRenderList()}},function(){return o.createElement(v.default,{controller:e.props.controller,expsScrolled:function(){return!!e.exppanel&&e.exppanel.scrollTop>0}})}))),o.createElement("div",{class:o.const("dcg-options-menu-container")}))},t.prototype.makeShellViewForModel=function(e){return o.createElement(f.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(){},isDragCopy:function(){return!1}})},t.prototype.computeExppanelOuterStyle=function(){this.getListBottomAndUpdateLastExpressionPadding();var e=this.controller.computeMajorLayout().list,t=e.top;return e.top>0&&!this.controller.isListVisible()&&(t-=e.height),{position:"absolute",left:"0px",top:t+"px",width:e.width+"px",height:e.height+"px"}},t.prototype.makeDragCopyViewForModel=function(e){return this.makeViewForModel(e,!0)},t.prototype.makeViewForModel=function(e,t){var n=this;void 0===t&&(t=!1);var r;if("table"===e.type)r=o.createElement(d.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("folder"===e.type)r=o.createElement(p.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("text"===e.type)r=o.createElement(u.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("image"===e.type)r=o.createElement(h.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}});else{if("expression"!==e.type)return;r=o.createElement(c.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}})}return r},t.prototype.didUnmount=function(){s(document.documentElement).off("."+this.guid)},t.prototype.didMountContainer=function(e){this.node=e,s(document.documentElement).on("keydown."+this.guid,this.bindFn(this.handleKeyDown))},t.prototype.didMountExppanel=function(e){this.exppanel=e},t.prototype.getListBottomAndUpdateLastExpressionPadding=function(){var e=this.controller.getKeypadHeight(),t=this.__listBottom||0;return this.__listBottom=e,0===e&&0!==t&&r.isTapActive()&&this.padLastExpressionUntilTapEnd(t),e},t.prototype.padLastExpression=function(e){s(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom",e+"px")},t.prototype.unpadLastExpression=function(){s(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom","0")},t.prototype.padLastExpressionUntilTapEnd=function(e){var t=this;this.padLastExpression(e),s(document).on("dcg-tap.animating-bottom",function(){t.unpadLastExpression(),s(document).off("dcg-tap.animating-bottom")})},t.prototype.handleKeyDown=function(e){if(!this.controller.inAudioTraceMode()&&(!document.activeElement||!s.contains(document.body,document.activeElement))&&!s(e.target).closest(this.exppanel).length&&s.contains(document.documentElement,e.target)){var t=this.controller.getSelectedItem();if(t){var n=i.lookup(e);switch(n){case i.UP:e.preventDefault(),this.controller.dispatch({type:"select-previous-expression"});break;case i.DOWN:e.preventDefault(),this.controller.dispatch({type:"select-next-expression"});break;case i.ESCAPE:e.preventDefault(),this.controller.dispatch({type:"set-none-selected"});break;case i.RIGHT:e.preventDefault(),t&&("expression"===t.type&&t.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:t.id,adjustment:"up"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:t.id}})):this.controller.dispatch({type:"move-focus-to-item",id:t.id,where:"start"}));break;case i.TAB:e.preventDefault(),t&&this.controller.dispatch({type:"move-focus-to-item",id:t.id,where:"start"});break;case i.LEFT:e.preventDefault(),t&&("expression"===t.type&&t.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:t.id,adjustment:"down"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:t.id}})):this.controller.dispatch({type:"move-focus-to-item",id:t.id,where:"end"}));break;case i.BACKSPACE:e.preventDefault(),t&&this.controller.dispatch({type:"upward-delete-selected-expression"});break;case i.DELETE:e.preventDefault(),t&&this.controller.dispatch({type:"downward-delete-selected-expression"});break;case i.ENTER:e.wasHandled("create-expression-with-keyboard")||(e.preventDefault(),e.handle("create-expression-with-keyboard"),t&&this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"}));break;default:if(e.metaKey||e.ctrlKey||n===i.SHIFT||n===i.SPACEBAR)return;t&&("table"===t.type||this.controller.dispatch({type:"move-focus-to-item",id:t.id,where:"end"}))}}}},t.prototype.onDragPending=function(e,t){var n=this;e.preventDefault(),l.default();var r=e.touches[0].clientY,i=r,o=setTimeout(function(){s(document).off(".dragpending"),n.onDragStart(e,t,r,i)},500);s(document).on("dcg-tapmove.dragpending",function(a){i=a.touches[0].clientY,Math.abs(i-r)>3&&(clearTimeout(o),s(document).off(".dragpending"),n.onDragStart(e,t,r,i))}),s(document).on("dcg-tapend.dragpending",function(){clearTimeout(o),s(document).off(".dragpending")})},t.prototype.onDragStart=function(e,t,n,r){1===e.touches.length&&(e.wasHandled("dcg-longhold")||this.controller.dispatch({type:"start-dragdrop",id:t,grabY:n,mouseY:r}))},t.prototype.onExppanelTapstart=function(e){"mouse"!==e.device&&0===s(e.target).closest(".dcg-expressionitem").length&&l.default()},t.prototype.onPaste=function(e){var t=this,n=this.controller.getGraphSettings().config,r=x.default(e);if(r){var i=/^\s*https?:\/\/([a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/calculator\/./.test(r),o=this.controller.getSelectedItem();if(n.pasteGraphLink&&o&&"folder"===o.type&&i&&""===o.title&&0===this.controller.getNumberOfItemsInFolder(o.id))return e.stopPropagation(),e.preventDefault(),void b.default(this.controller,r,"inject",function(e,t){return t(null,e)});if(!o||"text"!==o.type&&"folder"!==o.type){if(n.pasteGraphLink&&i){e.stopPropagation(),e.preventDefault();var s=n.pasteGraphLinkCallback?n.pasteGraphLinkCallback:function(e,t){return t(null,e)};return void b.default(this.controller,r,"set-state",s)}if(n.pasteTableData){var a=m.parse(r);if(void 0!==a)return e.stopPropagation(),e.preventDefault(),this.controller.dispatch({type:"paste-table",data:a})}var l=m.getExpressions(r);if(void 0!==l){e.stopPropagation(),e.preventDefault();var c=[];return void(1===l.length&&l[0].numberList?this.controller.dispatch({type:"append-number-list",latex:l[0].content}):(l.forEach(function(e){"latex"===e.type?c.push({type:"expression",id:t.controller.generateId(),latex:e.content}):c.push({type:"text",id:t.controller.generateId(),text:e.content})}),this.controller.dispatch({type:"insert-several-expressions",expressions:c})))}}}},t.prototype.onDrop=function(e){if(this.controller.areImagesEnabled()){var t=e.dataTransfer&&e.dataTransfer.files;t&&this.controller.dispatch({type:"new-images",files:t})}},t}(o.Class);t.default=C}),define("graphing-calc/keypads/dcgview-graphing",["require","exports","tslib","dcgview"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch},t}(r.Class);t.default=i}),define("loadcss!keypad/btn",function(){}),define("keypad/btn",["require","exports","tslib","dcgview","loadcss!./btn"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-keypad-btn-container"),style:function(){return{"flex-grow":e.getColSpan()}}},r.createElement("span",{role:r.const("button"),class:this.bindFn(this.getClasses),"dcg-command":this.props.command,"aria-label":this.bindFn(this.getAriaLabel),onTap:this.props.onTap},r.createElement("span",{class:r.const("dcg-keypad-btn-content")},this.children)))},t.prototype.getClasses=function(){var e={"dcg-keypad-btn":!0,"dcg-keypad-btn-active":this.isActive()},t=this.props.style();switch(t){case"default":e["dcg-btn-light-on-gray"]=!0;break;case"highlight":e["dcg-btn-dark-on-gray"]=!0;break;case"popover":e["dcg-btn-light-gray"]=!0;break;case"blue":e["dcg-btn-short-blue"]=!0;break;case"tall-blue":e["dcg-btn-tall-blue"]=!0;break;default:return t}return e},t.prototype.isActive=function(){return!!this.props.active&&this.props.active()},t.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},t.prototype.getColSpan=function(){
return this.props.colspan?this.props.colspan():void 0},t}(r.Class);t.default=i}),define("keypad/keys",["require","exports","./btn","dcgview-helpers/static-mathquill-view","dcgview","lib/i18n"],function(e,t,n,r,i,o){"use strict";function s(e,t){return void 0===e?i.const(t):i.const(e)}function a(e){return function(t,o,a){return void 0===a&&(a={}),i.createElement(n.default,{command:i.const(e.command||e.typedText||e.keys[0]),ariaLabel:i.const(e.ariaLabel||e.typedText||e.keys[0]),colspan:s(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){return o({type:"keypad/type-text",text:e.typedText||e.keys[0]})}},f(function(){return"{"===e.keys[0]||"["===e.keys[0]},{true:function(){return i.createElement("span",{class:i.const("dcg-mq-math-mode"),style:i.const("font-size: 120%")},i.const(e.keys[0]),i.const(" "),i.createElement("span",{style:i.const("color: #999")},i.const(e.keys[1])))},false:function(){return i.createElement("span",null,i.createElement(r.default,{latex:i.const(e.keys[0])}),i.createElement("span",{style:i.const("color: #999")},i.createElement(r.default,{latex:i.const(e.keys[1])})))}}))}}function l(e){return function(t,o,a){return void 0===a&&(a={}),i.createElement(n.default,{command:i.const(e.command||e.typedText||e.keys[1]),ariaLabel:i.const(e.ariaLabel||e.typedText||e.keys[1]),colspan:s(a.colspan,1),style:s(a.style,"default"),onTap:function(){return o({type:"keypad/type-text",text:e.typedText||e.keys[1]})}},f(function(){return"}"===e.keys[1]||"]"===e.keys[1]},{true:function(){return i.createElement("span",{class:i.const("dcg-mq-math-mode"),style:i.const("font-size: 120%")},i.createElement("span",{style:i.const("color: #999")},i.const(e.keys[0])),i.const(" "),i.const(e.keys[1]))},false:function(){return i.createElement("span",null,i.createElement("span",{style:i.const("color: #999")},i.createElement(r.default,{latex:i.const(e.keys[0])})),i.createElement(r.default,{latex:i.const(e.keys[1])}))}}))}}function c(e){return function(t,o,a){return void 0===a&&(a={}),i.createElement(n.default,{command:i.const(e.command||t),ariaLabel:i.const(e.ariaLabel||t),colspan:s(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){return o({type:"keypad/type-text",text:e.typedText||t})}},i.createElement(r.default,{latex:i.const(e.content||t)}))}}function u(e){return function(t,o,a){return void 0===a&&(a={}),i.createElement(n.default,{command:i.const(t),ariaLabel:i.const(e.ariaLabel||t),colspan:s(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){return o({type:"keypad/type-text",text:t+"("})}},i.createElement(r.default,{latex:i.const(t)}))}}function d(e){return function(t,o,a){return void 0===a&&(a={}),i.createElement(n.default,{command:i.const(e.command),ariaLabel:i.const(e.ariaLabel||e.command),colspan:s(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){o({type:"keypad/custom-command",command:e.command})}},i.createElement(r.default,{latex:i.const(e.content)}))}}function p(e,t,n){void 0===n&&(n={});var r=e.dispatch;return g[t](t,r,n)}function h(e){return void 0===e&&(e=1),i.createElement("div",{style:i.const("flex-grow:"+e)})}Object.defineProperty(t,"__esModule",{value:!0});var f=i.Components.IfElse,g={"(":c({ariaLabel:o.t("Left Parenthesis")}),")":c({ariaLabel:o.t("Right Parenthesis")}),sqrt:c({content:"\\sqrt{}",ariaLabel:o.t("Square Root")}),"/":c({content:"÷",ariaLabel:o.t("Divide")}),"*":c({content:"×",ariaLabel:o.t("Times")}),"-":c({ariaLabel:o.t("Minus")}),"+":c({ariaLabel:o.t("Plus")}),".":c({ariaLabel:o.t("Decimal")}),ans:function(e,t,r){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o.t("Answer")},colspan:s(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/type-text",text:e})}},i.const("ans"))},enter:function(e,t,r){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o.t("Enter")},colspan:s(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Enter"})}},i.createElement("i",{class:i.const("dcg-icon-arrow-enter")}))},shift:function(e,t,r){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o.t("Shift")},colspan:s(r.colspan,1),style:function(){return r.style||"default"},active:s(r.active,!1),onTap:function(){return t({type:"keypad/shift"})}},i.createElement("i",{class:i.const("dcg-icon-shift")}))},left:function(e,t,r){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o.t("Left Arrow")},colspan:s(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Left"})}},i.createElement("i",{class:i.const("dcg-icon-arrow-left")}))},right:function(e,t,r){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o.t("Right Arrow")},colspan:s(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Right"})}},i.createElement("i",{class:i.const("dcg-icon-arrow-right")}))},123:function(e,t,r){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o.t("Toggle Numbers")},colspan:s(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/123"})}},i.const("1 2 3"))},ABC:function(e,t,r){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o.t("Toggle Letters")},colspan:s(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/abc"})}},i.const("A B C"))},backspace:function(e,t,r){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o.t("Backspace")},colspan:s(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Backspace"})}},i.createElement("i",{class:i.const("dcg-icon-delete")}))},pi:c({content:"\\pi",ariaLabel:o.t("Pi")}),alpha:c({content:"\\alpha",ariaLabel:o.t("Alpha")}),beta:c({content:"\\beta",ariaLabel:o.t("Beta")}),theta:c({content:"\\theta",ariaLabel:o.t("Theta")}),tau:c({content:"\\tau",ariaLabel:o.t("Tau")}),"a^2":d({command:"a^2",content:"a^2",ariaLabel:o.t("Squared")}),"a^3":d({command:"a^3",content:"a^3",ariaLabel:o.t("Cubed")}),"x^3":d({command:"a^3",content:"x^3",ariaLabel:o.t("Cubed")}),"a^b":c({content:"a^b",typedText:"^",ariaLabel:o.t("Superscript")}),a_b:c({content:"a_b",typedText:"_",ariaLabel:o.t("Subscript")}),"a/b":c({content:"\\frac{a}{b}",typedText:"/",ariaLabel:o.t("A over B")}),"x^2":d({command:"a^2",content:"x^2",ariaLabel:o.t("Squared")}),"x^y":c({content:"x^y",typedText:"^",ariaLabel:o.t("Superscript")}),"x/y":c({content:"\\frac{x}{y}",typedText:"/",ariaLabel:o.t("A over B")}),nthroot:d({command:"nthroot",content:"\\sqrt[n]{}",ariaLabel:o.t("Nth Root")}),ythroot:d({command:"nthroot",content:"\\sqrt[y]{}",ariaLabel:o.t("Yth Root")}),sin:u({ariaLabel:o.t("Sine")}),cos:u({ariaLabel:o.t("Cosine")}),tan:u({ariaLabel:o.t("Tangent")}),sec:u({ariaLabel:o.t("Secant")}),csc:u({ariaLabel:o.t("Cosecant")}),cot:u({ariaLabel:o.t("Cotangent")}),sinh:u({ariaLabel:o.t("Hyperbolic Sine")}),cosh:u({ariaLabel:o.t("Hyperbolic Cosine")}),tanh:u({ariaLabel:o.t("Hyperbolic Tangent")}),sech:u({ariaLabel:o.t("Hyperbolic Secant")}),csch:u({ariaLabel:o.t("Hyperbolic Cosecant")}),coth:u({ariaLabel:o.t("Hyperbolic Cotangent")}),arcsin:d({command:"arcsin",content:"sin^{-1}",ariaLabel:o.t("Inverse Sine")}),arccos:d({command:"arccos",content:"cos^{-1}",ariaLabel:o.t("Inverse Cosine")}),arctan:d({command:"arctan",content:"tan^{-1}",ariaLabel:o.t("Inverse Tangent")}),arccsc:d({command:"arccsc",content:"csc^{-1}",ariaLabel:o.t("Inverse Cosecant")}),arcsec:d({command:"arcsec",content:"sec^{-1}",ariaLabel:o.t("Inverse Secant")}),arccot:d({command:"arccot",content:"cot^{-1}",ariaLabel:o.t("Inverse Cotangent")}),"|a|":c({typedText:"|",ariaLabel:o.t("Absolute Value")}),"|x|":c({typedText:"|",ariaLabel:o.t("Absolute Value")}),ln:u({ariaLabel:o.t("Natural Log")}),log:u({ariaLabel:o.t("Log")}),quantile:u({ariaLabel:o.t("Quantile")}),quartile:u({ariaLabel:o.t("Quartile")}),var:u({}),varp:u({}),nCr:u({}),loga:d({command:"loga",content:"log_a",ariaLabel:o.t("Log A")}),stdev:u({ariaLabel:o.t("Standard Deviation")}),mad:u({}),nPr:u({}),total:u({}),length:u({}),min:u({}),max:u({}),cov:u({ariaLabel:o.t("Co Variance")}),corr:u({ariaLabel:o.t("Correlation")}),stats:u({ariaLabel:o.t("Summary statistics")}),polygon:u({ariaLabel:o.t("Polygon")}),mean:u({ariaLabel:o.t("Mean")}),stdevp:u({ariaLabel:o.t("Standard Deviation of Population")}),mod:u({}),"e^x":c({typedText:"e^",ariaLabel:o.t("Exponent")}),sum:c({content:"\\sum",ariaLabel:o.t("Sum")}),prod:c({content:"\\prod",ariaLabel:o.t("Product")}),floor:u({ariaLabel:o.t("Floor")}),ceil:u({ariaLabel:o.t("Ceiling")}),round:u({ariaLabel:o.t("Round")}),abs:u({ariaLabel:o.t("Absolute Value")}),"!":c({ariaLabel:o.t("Factorial")}),"n!":c({typedText:"!",ariaLabel:o.t("Factorial")}),median:u({ariaLabel:o.t("Median")}),lcm:u({}),gcd:u({}),gcf:u({}),ddx:d({command:"ddx",content:"\\frac{d}{dx}"}),int:c({content:"\\int",ariaLabel:o.t("Integral")}),"%":c({content:"\\%",ariaLabel:o.t("Percent Of")}),exp:c({}),sign:u({}),normaldist:u({ariaLabel:o.t("Normal Distribution")}),poissondist:u({ariaLabel:o.t("Poisson Distribution")}),binomialdist:u({ariaLabel:o.t("Binomial Distribution")}),erf:u({ariaLabel:o.t("Error Function")}),histogram:u({ariaLabel:o.t("Histogram")}),boxplot:u({ariaLabel:o.t("Box Plot")}),dotplot:u({ariaLabel:o.t("Dot Plot")}),tscore:u({ariaLabel:o.t("T Score")}),ittest:u({ariaLabel:o.t("Independent T Test")}),ttest:u({ariaLabel:o.t("T Test")}),tdist:u({ariaLabel:o.t("Student-t Distribution")}),pdf:u({ariaLabel:o.t("Probability Density Function")}),cdf:u({ariaLabel:o.t("Cumulative Density Function")}),"A^-1":d({command:"A^-1",content:"A^{-1}",ariaLabel:o.t("Inverse")}),"A^T":d({command:"A^T",content:"A^T",ariaLabel:o.t("Transpose")}),"A^2":d({command:"A^2",content:"A^2",ariaLabel:o.t("Squared")}),det:u({ariaLabel:"Determinant"}),"A^n":c({content:"A^n",typedText:"^",ariaLabel:o.t("Exponent")}),a:c({}),b:c({}),c:c({}),d:c({}),e:c({}),f:c({}),g:c({}),h:c({}),i:c({}),j:c({}),k:c({}),l:c({}),m:c({}),n:c({}),o:c({}),p:c({}),q:c({}),r:c({}),s:c({}),t:c({}),u:c({}),v:c({}),w:c({}),x:c({}),boldX:c({content:"x",typedText:"x"}),y:c({}),boldY:c({content:"y",typedText:"y"}),z:c({}),A:c({}),B:c({}),C:c({}),D:c({}),E:c({}),F:c({}),G:c({}),H:c({}),I:c({}),J:c({}),K:c({}),L:c({}),M:c({}),N:c({}),O:c({}),P:c({}),Q:c({}),R:c({}),S:c({}),T:c({}),U:c({}),V:c({}),W:c({}),X:c({}),Y:c({}),Z:c({}),0:c({}),1:c({}),2:c({}),3:c({}),4:c({}),5:c({}),6:c({}),7:c({}),8:c({}),9:c({}),",":c({}),"=":c({}),"[":c({}),"]":c({}),"{}_left":a({keys:["{","}"]}),"{}_right":l({keys:["{","}"]}),"()_left":a({keys:["(",")"]}),"()_right":l({keys:["(",")"]}),"[]_left":a({keys:["[","]"]}),"[]_right":l({keys:["[","]"]}),",'_left":a({keys:[",","′"]}),",'_right":l({keys:[",","′"],typedText:"'"}),'"':c({}),"'":c({}),"~":c({}),":":c({}),">":c({}),"<":c({}),">=":c({content:"\\ge"}),"<=":c({content:"\\le"}),"!%_left":a({keys:["!","{}^{%}"]}),"!%_right":l({keys:["!","{}^{%}"],typedText:"%"}),"~:_left":a({keys:["~","{}^{:}"]}),"~:_right":l({keys:["~","{}^{:}"],typedText:":"})};t.view=p,t.spacer=h}),define("keypad/dcgview-keypad",["require","exports","tslib","dcgview"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t}(r.Class);t.default=i}),define("loadcss!keypad/keypad",function(){}),define("keypad/keypad",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./keypad"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-basic-keypad dcg-do-not-blur")},this.children)},t}(i.default);t.default=o}),define("loadcss!keypad/row",function(){}),define("keypad/row",["require","exports","tslib","dcgview","loadcss!./row"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-keypad-row")},this.children)},t}(r.Class);t.default=i}),define("graphing-calc/keypads/qwerty",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"q"),o.view(this,"w"),o.view(this,"e"),o.view(this,"r"),o.view(this,"t"),o.view(this,"y"),o.view(this,"u"),o.view(this,"i"),o.view(this,"o"),o.view(this,"p")),r.createElement(a.default,null,o.view(this,"a"),o.view(this,"s"),o.view(this,"d"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"j"),o.view(this,"k"),o.view(this,"l"),o.view(this,"theta")),r.createElement(a.default,null,o.view(this,"shift",{colspan:1.364,style:"highlight"}),o.spacer(.136),o.view(this,"z"),o.view(this,"x"),o.view(this,"c"),o.view(this,"v"),o.view(this,"b"),o.view(this,"n"),o.view(this,"m"),o.spacer(.136),o.view(this,"backspace",{colspan:1.364,style:"highlight"})),r.createElement(a.default,null,o.view(this,"123",{colspan:1.818,style:"highlight"}),o.spacer(.182),o.view(this,"a_b"),o.view(this,"!%_left"),o.view(this,"[]_left"),o.view(this,"{}_left"),o.view(this,"~:_left"),o.view(this,",'_left"),o.spacer(.182),o.view(this,"enter",{colspan:1.818,style:"blue"})))},t}(i.default);t.default=l}),define("graphing-calc/keypads/qwerty-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"Q"),o.view(this,"W"),o.view(this,"E"),o.view(this,"R"),o.view(this,"T"),o.view(this,"Y"),o.view(this,"U"),o.view(this,"I"),o.view(this,"O"),o.view(this,"P")),r.createElement(a.default,null,o.view(this,"A"),o.view(this,"S"),o.view(this,"D"),o.view(this,"F"),o.view(this,"G"),o.view(this,"H"),o.view(this,"J"),o.view(this,"K"),o.view(this,"L"),o.view(this,"tau")),r.createElement(a.default,null,o.view(this,"shift",{colspan:1.364,active:!0,style:"highlight"}),o.spacer(.136),o.view(this,"Z"),o.view(this,"X"),o.view(this,"C"),o.view(this,"V"),o.view(this,"B"),o.view(this,"N"),o.view(this,"M"),o.spacer(.136),o.view(this,"backspace",{colspan:1.364,style:"highlight"})),r.createElement(a.default,null,o.view(this,"123",{colspan:1.818,style:"highlight"}),o.spacer(.182),o.view(this,"a^b"),o.view(this,"!%_right"),o.view(this,"[]_right"),o.view(this,"{}_right"),o.view(this,"~:_right"),o.view(this,",'_right"),o.spacer(.182),o.view(this,"enter",{colspan:1.818,style:"blue"})))},t}(i.default);t.default=l}),define("graphing-calc/keypads/numbers",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row","keypad/btn"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"boldX"),o.view(this,"boldY"),o.view(this,"a^2"),o.view(this,"a^b"),o.spacer(.5),o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"/"),o.spacer(.5),r.createElement(l.default,{command:this.const("functions"),ariaLabel:function(){return e.controller.t("Functions")},colspan:this.const(2),style:this.const("highlight"),active:function(){return e.controller.isKeypadFunctionsPopoverOpen()},onTap:function(){return e.dispatch({type:"keypad/functions"})}},this.bindFn(this.getFuncsBtnText))),r.createElement(a.default,null,o.view(this,"("),o.view(this,")"),o.view(this,"<"),o.view(this,">"),o.spacer(.5),o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"*"),o.spacer(.5),o.view(this,"left",{style:"highlight"}),o.view(this,"right",{style:"highlight"})),r.createElement(a.default,null,o.view(this,"|a|"),o.view(this,","),o.view(this,"<="),o.view(this,">="),o.spacer(.5),o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-"),o.spacer(1),o.view(this,"backspace",{colspan:1.5,style:"highlight"})),r.createElement(a.default,null,o.view(this,"ABC",{colspan:2,style:"highlight"}),o.view(this,"sqrt"),o.view(this,"pi"),o.spacer(.5),o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"="),o.view(this,"+"),o.spacer(.5),o.view(this,"enter",{colspan:2,style:"blue"})))},t.prototype.getFuncsBtnText=function(){return this.controller.isNarrow()?this.controller.t("funcs"):this.controller.t("functions")},t}(i.default);t.default=c}),define("graphing-calc/keypads/letters",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"a"),o.view(this,"b"),o.view(this,"c"),o.view(this,"d"),o.view(this,"e"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"i")),r.createElement(a.default,null,o.view(this,"j"),o.view(this,"k"),o.view(this,"l"),o.view(this,"m"),o.view(this,"n"),o.view(this,"o"),o.view(this,"p"),o.view(this,"q"),o.view(this,"r")),r.createElement(a.default,null,o.view(this,"s"),o.view(this,"t"),o.view(this,"u"),o.view(this,"v"),o.view(this,"w"),o.view(this,"x"),o.view(this,"y"),o.view(this,"z"),o.view(this,"backspace",{colspan:1,style:"highlight"})),r.createElement(a.default,null,o.view(this,"123",{colspan:1.75,style:"highlight"}),o.spacer(.1),o.view(this,"a_b"),o.view(this,"()_left"),o.view(this,"[]_left"),o.view(this,"{}_left"),o.view(this,"~"),o.view(this,","),o.spacer(.1),o.view(this,"enter",{colspan:1.75,style:"highlight"})))},t}(i.default);t.default=l}),define("graphing-calc/keypads/trig",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components.If,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(s.default,{controller:this.props.controller},this.b("sin"),this.b("arcsin"),this.b("sinh"),this.b("cos"),this.b("arccos"),this.b("cosh"),this.b("tan"),this.b("arctan"),this.b("tanh"),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("csc")}),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("arccsc")}),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("csch")}),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("sec")}),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("arcsec")}),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("sech")}),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("cot")}),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("arccot")}),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("coth")}))},t.prototype.b=function(e){return o.view(this,e,{style:"popover"})},t.prototype.isNotRestricted=function(){return!this.controller.areFunctionsRestricted()},t}(i.default);t.default=l}),define("graphing-calc/keypads/stats",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components.If,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(s.default,{controller:this.props.controller},this.b("total"),this.b("length"),this.b("mean"),this.b("median"),this.b("min"),this.b("max"),this.b("quartile"),this.b("quantile"),this.b("stdev"),this.b("stdevp"),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("mad")}),this.b("var"),this.b("varp"),r.createElement(a,{predicate:this.bindFn(this.isNotRestricted)},function(){return e.b("cov")}),this.b("corr"),this.b("nCr"),this.b("nPr"),this.b("stats"))},t.prototype.b=function(e){return o.view(this,e,{style:"popover"})},t.prototype.isNotRestricted=function(){return!this.controller.areFunctionsRestricted()},t}(i.default);t.default=l}),define("graphing-calc/keypads/misc",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},this.b("lcm"),this.b("gcd"),this.b("mod"),this.b("ceil"),this.b("floor"),this.b("round"),this.b("sign"),this.b("%"),this.b("exp"),this.b("ln"),this.b("nthroot"),this.b("polygon"),this.b("log"),this.b("loga"),this.b("ddx"),this.b("int"),this.b("sum"),this.b("prod"))},t.prototype.b=function(e){return o.view(this,e,{style:"popover"})},t}(i.default);t.default=a}),define("graphing-calc/keypads/distributions",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement("div",{class:r.const("dcg-section-heading")},r.const("Visualizations"),r.createElement("a",{href:r.const("https://support.desmos.com/hc/en-us/articles/360022405991"),target:r.const("_blank")},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))),this.b("histogram"),this.b("dotplot"),this.b("boxplot"),r.createElement("div",{class:r.const("dcg-section-heading")},r.const("Distributions"),r.createElement("a",{href:r.const("https://support.desmos.com/hc/en-us/articles/360022401451#distributions"),target:r.const("_blank")},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))),this.b("normaldist"),this.b("tdist"),this.b("poissondist"),this.b("binomialdist"),this.b("pdf"),this.b("cdf"),r.createElement("div",{class:r.const("dcg-section-heading")},r.const("Tests")),this.b("ttest"),this.b("tscore"),this.b("ittest"))},t.prototype.b=function(e){return o.view(this,e,{style:"popover"})},t}(i.default);t.default=a}),define("loadcss!graphing-calc/keypads/functions-popover",function(){}),define("graphing-calc/keypads/functions-popover",["require","exports","tslib","dcgview","./dcgview-graphing","./trig","./stats","./misc","./distributions","loadcss!./functions-popover"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components,u=c.SwitchUnion,d=c.If,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-functions-popover dcg-popover dcg-top")},r.createElement("div",{class:r.const("dcg-popover-interior")},r.createElement("div",{class:r.const("dcg-popover-header")},r.createElement("span",{role:r.const("button"),"dcg-command":r.const("trigTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":"trig"===e.controller.getKeypadFunctionsTab()}},onTap:function(){e.dispatch({type:"keypad/set-functions-tab",tab:"trig"})}},r.const("trig")),r.createElement("span",{role:r.const("button"),"dcg-command":r.const("statsTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":"stats"===e.controller.getKeypadFunctionsTab()}},onTap:function(){e.dispatch({type:"keypad/set-functions-tab",tab:"stats"})}},r.const("stats")),r.createElement(d,{predicate:function(){return e.controller.areDistributionsEnabled()}},function(){return r.createElement("span",{role:r.const("button"),"dcg-command":r.const("distTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":"dist"===e.controller.getKeypadFunctionsTab()}},onTap:function(){e.dispatch({type:"keypad/set-functions-tab",tab:"dist"})}},r.const("dist"))}),r.createElement("span",{role:r.const("button"),"dcg-command":r.const("miscTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":"misc"===e.controller.getKeypadFunctionsTab()}},onTap:function(){e.dispatch({type:"keypad/set-functions-tab",tab:"misc"})}},r.const("misc"))),r.createElement("div",{class:r.const("dcg-interior-buttons")},u(function(){return e.controller.getKeypadFunctionsTab()},{trig:function(){return r.createElement(o.default,{controller:e.props.controller})},stats:function(){return r.createElement(s.default,{controller:e.props.controller})},misc:function(){return r.createElement(a.default,{controller:e.props.controller})},dist:function(){return r.createElement(l.default,{controller:e.props.controller})}}))),r.createElement("div",{class:r.const("dcg-arrow")}))},t}(i.default);t.default=p}),define("loadcss!graphing-calc/keypads/graphing-keypad-container",function(){}),define("graphing-calc/keypads/main",["require","exports","tslib","dcgview","./dcgview-graphing","./qwerty","./qwerty-capital","./numbers","./letters","./functions-popover","jquery","underscore","../../lib/tooltip","loadcss!./graphing-keypad-container"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=r.Components,f=h.SwitchUnion,g=h.If,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-keypad"),role:r.const("complementary"),"aria-label":r.const("Keypad")},r.createElement("div",{class:r.const("dcg-keys-container"),style:this.bindFn(this.computeStyles),didMount:this.bindFn(this.didMountContainer)},r.createElement("div",{class:r.const("dcg-keys-background dcg-do-not-blur"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("div",{class:r.const("dcg-keys")},f(function(){return e.controller.getKeypadLayout()},{letters:function(){return r.createElement(o.default,{controller:e.props.controller})},capitalLetters:function(){return r.createElement(s.default,{controller:e.props.controller})},mainNumbers:function(){return r.createElement(a.default,{controller:e.props.controller})},noQwertyLetters:function(){return r.createElement(l.default,{controller:e.props.controller})}}),r.createElement(g,{predicate:function(){return e.controller.isKeypadFunctionsPopoverOpen()}},function(){return r.createElement(c.default,{controller:e.props.controller})})),r.createElement(g,{predicate:this.bindFn(this.isHideKeypadButtonVisible)},function(){return r.createElement("div",{class:r.const("dcg-minimize-keypad-container")},r.createElement(p.Tooltip,{tooltip:function(){return e.controller.t("Hide Keypad")},gravity:e.const("ne"),offset:e.const({left:6})},r.createElement("div",{role:r.const("button"),"aria-label":function(){return e.controller.t("Hide Keypad")},class:r.const("dcg-minimize-keypad"),style:function(){return{"border-bottom-color":e.controller.getPillboxBackgroundColor(),background:e.controller.getPillboxBackgroundColor()}},onTap:function(){e.controller.dispatch({type:"keypad/set-minimized",minimized:!0})}},r.createElement("i",{class:r.const("dcg-icon-keyboard")}),r.createElement("i",{class:r.const("dcg-icon-caret-down")}))))}))),r.createElement(g,{predicate:this.bindFn(this.isShowKeypadButtonVisible)},function(){return r.createElement("div",{class:r.const("dcg-show-keypad-container")},r.createElement(p.Tooltip,{tooltip:function(){return e.controller.t("Show Keypad")},gravity:e.const("ne")},r.createElement("div",{role:r.const("button"),"aria-label":function(){return e.controller.t("Show Keypad")},class:r.const("dcg-btn-flat-gray dcg-show-keypad dcg-do-not-blur"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}},onTap:function(){e.controller.dispatch({type:"keypad/set-minimized",minimized:!1})}},r.createElement("i",{class:r.const("dcg-icon-keyboard")}),r.createElement("i",{class:r.const("dcg-icon-caret-up dcg-do-not-blur")}))))}))},t.prototype.didMountContainer=function(e){this.containerElt=e},t.prototype.isShowKeypadButtonVisible=function(){return!this.controller.isKeypadOpen()&&!this.controller.isNarrow()&&!this.controller.isInEditListMode()&&this.controller.isListVisible()},t.prototype.isHideKeypadButtonVisible=function(){return this.controller.isKeypadOpen()&&!this.controller.isNarrow()},t.prototype.didMount=function(){this.updatePopoverPosition()},t.prototype.didUpdate=function(){this.updatePopoverPosition()},t.prototype.computeStyles=function(){var e={};return this.controller.isNarrow()||(e.transition="transform .3s, opacity .3s"),this.controller.isKeypadOpen()||(e.opacity="0",e.transform="translate3d(0, 255px, 0)"),e},t.prototype.updatePopoverPosition=function(){if(!this.controller.isKeypadFunctionsPopoverOpen())return void(this.__popoverCache=void 0);var e=this.controller.computeMajorLayout(),t={keypadTop:e.keypad.top,keypadWidth:e.keypad.width,keypadHeight:e.keypad.height,showToLeft:e.grapher.height<525};if(!d.isEqual(t,this.__popoverCache)){this.__popoverCache=t;var n=u(this.containerElt),r=n.find("[dcg-command=functions]"),i=n.find(".dcg-functions-popover"),o=n.find(".dcg-arrow");if(t.showToLeft){i.removeClass("dcg-top").addClass("dcg-left");var s=t.keypadHeight-(r.offset().top-n.offset().top),a=s-r.outerHeight()/2-2-10;o.css({left:"auto",bottom:a})}else i.removeClass("dcg-left").addClass("dcg-top"),o.css({left:i.width()-r.width()/2,bottom:"auto"})}},t}(i.default);t.default=m}),define("loadcss!pillboxes",function(){}),define("main/graphpaper-branding-view",["require","exports","tslib","dcgview","loadcss!pillboxes"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r.Components.SwitchUnion,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),i(function(){return e.controller.getBrandingMode()},{"static-edit-link":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding")},r.createElement("a",{href:function(){return e.controller.getEditLink()},target:r.const("_blank")},r.createElement("span",{
class:r.const("dcg-powered-by"),"aria-label":function(){return e.controller.t("Edit graph on Desmos")}},function(){return e.controller.t("edit graph on")}),r.createElement("i",{class:r.const("dcg-icon-desmos")})))},"edit-link":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding")},r.createElement("span",{class:r.const("dcg-edit-branding"),onTap:function(){return e.controller.dispatch({type:"open-on-web"})}},r.createElement("span",{class:r.const("dcg-powered-by"),"aria-label":function(){return e.controller.t("Edit graph on Desmos")}},function(){return e.controller.t("edit graph on")}),r.createElement("i",{class:r.const("dcg-icon-desmos")})))},"powered-by":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding dcg-unclickable")},r.createElement("span",{class:r.const("dcg-powered-by"),"aria-label":function(){return e.controller.t("Powered by Desmos")}},function(){return e.controller.t("powered by")}),r.createElement("i",{class:r.const("dcg-icon-desmos")}))}})},t}(r.Class);t.default=o}),define("loadcss!main/settings-view",function(){}),define("main/settings-view",["require","exports","tslib","keys","scroll_helpers","lib/tooltip","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","jquery","graphing-calc/json/graph-settings","lib/evaluate-single-expression","graphing/viewport","dcgview-helpers/checkbox","loadcss!./settings-view"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=s.Components,g=f.Input,m=f.If,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return s.createElement(l.default,{isFocused:function(){return e.props.parent().getFocusedLimit()===e.props.limit()},latex:function(){return e.props.parent().getLimitLatex(e.props.limit())},capExpressionSize:function(){return e.props.parent().getCapExpressionSize()},config:this.const({}),getAriaLabel:function(){return e.props.ariaLabel()},getAriaPostLabel:this.const(""),onUserChangedLatex:function(t){return e.props.parent().setLimitLatex(e.props.limit(),t)},onFocusedChanged:function(t){return e.props.parent().onFocusedChanged(e.props.limit(),t)},hasError:this.const(!1),selectOnFocus:this.const(!0)},s.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-math-input":!0,"dcg-invalid":e.props.parent().isLimitInvalid(e.props.limit()),"dcg-focus":e.props.parent().getFocusedLimit()===e.props.limit()}},"data-dcg-limit":function(){return e.props.limit()}}))},t}(s.Class),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),s.createElement("div",{class:s.const("dcg-settings-view-container")},s.createElement(o.Tooltip,{tooltip:function(){return e.controller.t("Graph Settings")},gravity:this.const("w")},s.createElement("div",{class:s.const("dcg-btn-flat-gray dcg-settings-pillbox dcg-action-settings"),role:s.const("button"),tabindex:s.const("0"),"aria-haspopup":s.const("true"),"aria-expanded":function(){return e.controller.isGraphSettingsOpen()},"aria-label":function(){return e.controller.t("Graph Settings")},didMount:this.bindFn(this.didMountSettingsButton),onTap:this.bindFn(this.onTapSettingsButton),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},s.createElement("i",{class:s.const("dcg-icon-wrench"),"aria-hidden":s.const("true")}))),s.createElement(m,{predicate:function(){return e.controller.isGraphSettingsOpen()}},function(){return s.createElement("div",{class:s.const("dcg-settings-container dcg-left dcg-popover dcg-constrained-height-popover"),style:e.bindFn(e.getContainerStyle),didMount:e.bindFn(e.didMountContainer)},s.createElement("div",{class:s.const("dcg-popover-interior"),role:s.const("complementary"),"aria-label":s.const("Graph Settings")},s.createElement("div",{class:function(){return{"dcg-modern-btn":!0,"dcg-action-projectormode":!0,"dcg-active":e.getProjectorMode()}},role:s.const("button"),tabindex:s.const("0"),"aria-label":function(){return e.controller.t("Projector Mode")},"aria-pressed":e.bindFn(e.getProjectorMode),onTap:e.bindFn(e.toggleProjectorMode),didMount:e.bindFn(e.didMountProjectorMode)},function(){return e.controller.t("Projector Mode")}),s.createElement("div",{class:s.const("dcg-top-section-flex")},s.createElement("div",{class:s.const("dcg-grid-settings")},s.createElement(h.Checkbox,{ariaLabel:function(){return e.controller.t("Grid")},onChange:e.bindFn(e.toggleGrid),checked:e.bindFn(e.getShowGrid),green:e.const(!0)},function(){return e.controller.t("Grid")}),s.createElement(m,{predicate:e.bindFn(e.getShowGrid)},function(){return s.createElement("div",{class:s.const("dcg-circle-icon-group dcg-grid-group")},s.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-cartesian":!0,"dcg-active":!e.getPolarMode()}},role:s.const("button"),tabindex:s.const("0"),ariaPressed:function(){return!e.getPolarMode()},"aria-label":function(){return e.controller.t("Cartesian Grid")},onTap:e.bindFn(e.setCartesianMode)}),s.const(" "),s.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-polar":!0,"dcg-active":e.getPolarMode()}},role:s.const("button"),tabindex:s.const("0"),ariaPressed:function(){return e.getPolarMode()},"aria-label":function(){return e.controller.t("Polar Grid")},onTap:e.bindFn(e.setPolarMode)}))}),s.createElement(h.Checkbox,{ariaLabel:function(){return e.controller.t("Arrows")},onChange:e.bindFn(e.toggleArrows),checked:function(){return e.getAxisArrowMode()!==u.AxisArrowModes.NONE},green:e.const(!0)},function(){return e.controller.t("Arrows")}),s.createElement(m,{predicate:function(){return e.getAxisArrowMode()!==u.AxisArrowModes.NONE}},function(){return s.createElement("div",{class:s.const("dcg-circle-icon-group dcg-arrow-group")},s.createElement("div",{role:s.const("button"),tabindex:s.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":e.getAxisArrowMode()===u.AxisArrowModes.BOTH}},"dcg-arrows":s.const("BOTH"),"aria-label":function(){return e.controller.t("Show Both")},"aria-pressed":function(){return e.getAxisArrowMode()===u.AxisArrowModes.BOTH},onTap:function(){return e.setAxisArrowMode(u.AxisArrowModes.BOTH)}},s.createElement("i",{class:s.const("dcg-icon-arrows-two")})),s.const(" "),s.createElement("div",{role:s.const("button"),tabindex:s.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":e.getAxisArrowMode()===u.AxisArrowModes.POSITIVE}},"dcg-arrows":s.const("POSITIVE"),"aria-label":function(){return e.controller.t("Show Positive")},"aria-pressed":function(){return e.getAxisArrowMode()===u.AxisArrowModes.POSITIVE},onTap:function(){return e.setAxisArrowMode(u.AxisArrowModes.POSITIVE)}},s.createElement("i",{class:s.const("dcg-icon-arrows-one")})))})),s.createElement("div",{class:s.const("dcg-top-checkboxes-container")},s.createElement(h.Checkbox,{ariaLabel:function(){return e.controller.t("Axis Numbers")},onChange:e.bindFn(e.toggleAxisNumbers),checked:e.bindFn(e.getAxisNumbers),small:e.const(!0),green:e.const(!0)},function(){return e.controller.t("Axis Numbers")}),s.createElement(m,{predicate:function(){return e.getShowGrid()&&!e.getPolarMode()}},function(){return s.createElement(h.Checkbox,{ariaLabel:function(){return e.controller.t("Minor Gridlines")},onChange:e.bindFn(e.toggleMinorGridlines),checked:e.bindFn(e.getMinorGridlines),small:e.const(!0),green:e.const(!0)},function(){return e.controller.t("Minor Gridlines")})}),s.createElement(m,{predicate:function(){return e.controller.canUseAdvancedStyling()&&!e.getPolarMode()}},function(){return s.createElement(h.Checkbox,{checked:function(){return e.controller.getGraphSettings().restrictGridToFirstQuadrant},ariaLabel:e.const("One Quadrant"),onChange:function(t){return e.controller.dispatch({type:"set-graph-settings",restrictGridToFirstQuadrant:t})},small:e.const(!0),green:e.const(!0)},s.const("One Quadrant"))}),s.createElement(m,{predicate:function(){return!e.getSquareAxes()}},function(){return s.createElement("div",{role:s.const("button"),tabindex:s.const("0"),class:s.const("dcg-action-zoom-square dcg-btn-light-gray"),onTap:e.bindFn(e.zoomSquare)},function(){return e.controller.t("Zoom Square")})}))),s.createElement("div",{class:s.const("dcg-section-divider"),"aria-hidden":s.const("true")}),s.createElement("div",{class:s.const("dcg-checkbox-title dcg-x-axis-title")},s.createElement(h.Checkbox,{ariaLabel:function(){return e.controller.t("X-Axis")},onChange:e.bindFn(e.toggleXAxis),checked:e.bindFn(e.getShowXAxis),green:e.const(!0)},function(){return e.controller.t("X-Axis")}),s.createElement(g,{class:e.const("dcg-axis-label dcg-x-axis-label"),placeholder:function(){return e.controller.t("add a label")},"aria-label":function(){return e.controller.t("add x-axis label")},disabled:function(){return!e.getShowXAxis()||void 0},"aria-disabled":function(){return!e.getShowXAxis()||void 0},onInput:e.bindFn(e.onXAxisLabelInput),value:e.bindFn(e.getXAxisLabel)})),s.createElement("div",{class:s.const("dcg-editable-mathquill-container dcg-x-axis-options")},s.createElement(y,{limit:e.const("xmin"),ariaLabel:function(){return e.controller.t("X Axis Minimum: ")},parent:e.const(e)}),s.createElement(a.default,{latex:e.const("\\le x\\le")},s.createElement("span",{class:s.const("dcg-interval-interior")})),s.createElement(y,{limit:e.const("xmax"),ariaLabel:function(){return e.controller.t("X Axis Maximum: ")},parent:e.const(e)}),s.createElement(m,{predicate:function(){return!e.getPolarMode()}},function(){return s.createElement("span",{class:s.const("dcg-step-container")},s.createElement("span",{class:s.const("dcg-step-label"),"aria-hidden":s.const("true")},function(){return e.controller.t("Step:")}),s.createElement(y,{limit:e.const("xstep"),ariaLabel:function(){return e.controller.t("X Axis Step Size: ")},parent:e.const(e)}))})),s.createElement("div",{class:s.const("dcg-checkbox-title dcg-y-axis-title")},s.createElement(h.Checkbox,{ariaLabel:function(){return e.controller.t("Y-Axis")},onChange:e.bindFn(e.toggleYAxis),checked:e.bindFn(e.getShowYAxis),green:e.const(!0)},function(){return e.controller.t("Y-Axis")}),s.createElement(g,{class:e.const("dcg-axis-label dcg-y-axis-label"),placeholder:function(){return e.controller.t("add a label")},"aria-label":function(){return e.controller.t("add y-axis label")},disabled:function(){return!e.getShowYAxis()||void 0},"aria-disabled":function(){return!e.getShowYAxis()||void 0},onInput:e.bindFn(e.onYAxisLabelInput),value:e.bindFn(e.getYAxisLabel)})),s.createElement("div",{class:s.const("dcg-editable-mathquill-container dcg-y-axis-options")},s.createElement(y,{limit:e.const("ymin"),ariaLabel:function(){return e.controller.t("Y Axis Minimum: ")},parent:e.const(e)}),s.createElement(a.default,{latex:e.const("\\le y\\le")},s.createElement("span",{class:s.const("dcg-interval-interior")})),s.createElement(y,{limit:e.const("ymax"),ariaLabel:function(){return e.controller.t("Y Axis Maximum: ")},parent:e.const(e)}),s.createElement(m,{predicate:function(){return!e.getPolarMode()}},function(){return s.createElement("span",{class:s.const("dcg-step-container")},s.createElement("span",{class:s.const("dcg-step-label"),"aria-hidden":s.const("true")},function(){return e.controller.t("Step:")}),s.createElement(y,{limit:e.const("ystep"),ariaLabel:function(){return e.controller.t("Y Axis Step Size: ")},parent:e.const(e)}))})),s.createElement("div",{class:s.const("dcg-section-divider"),"aria-hidden":s.const("true")}),s.createElement("div",{class:s.const("dcg-radiangroup"),role:s.const("group"),"aria-label":function(){return e.controller.t("Angle Settings")}},s.createElement("div",{class:function(){return{"dcg-action-radianmode":!0,"dcg-modern-btn":!0,"dcg-active":!e.getDegreeMode()}},"aria-pressed":function(){return!e.getDegreeMode()},role:s.const("button"),tabindex:s.const("0"),"aria-label":function(){return e.controller.t("Radians")},onTap:e.bindFn(e.setRadianMode)},function(){return e.controller.t("Radians")}),s.createElement("div",{class:function(){return{"dcg-action-degreemode":!0,"dcg-modern-btn":!0,"dcg-active":e.getDegreeMode()}},"aria-pressed":e.bindFn(e.getDegreeMode),role:s.const("button"),tabindex:s.const("0"),"aria-label":function(){return e.controller.t("Degrees")},onTap:e.bindFn(e.setDegreeMode)},function(){return e.controller.t("Degrees")})),s.createElement("div",{class:s.const("dcg-arrow")})))}))},t.prototype.didMountSettingsButton=function(e){this.settingsButtonNode=e},t.prototype.didMountContainer=function(e){var t=this;this.node=e,c(document).on("dcg-tapstart.settings-view wheel.settings-view",function(e){t.eventShouldClosePopover(e)&&t.controller.dispatch({type:"close-graph-settings"})}),c(document).on("keydown.settings-view",function(e){if("Esc"===r.lookup(e)&&t.controller.dispatch({type:"close-graph-settings"}),t.controller.isGraphSettingsOpen()&&"Tab"===r.lookup(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey){var n=document.activeElement,i=c(t.settingsButtonNode),o=c(t.node).find(".dcg-action-degreemode");e.shiftKey||n!==o[0]?e.shiftKey&&n===i[0]&&(o.focus(),e.preventDefault(),e.stopPropagation()):(i.focus(),e.preventDefault(),e.stopPropagation())}})},t.prototype.didMountProjectorMode=function(e){this.controller.getSettingsViewModel().focusOnOpen&&c(e).focus()},t.prototype.didUnmount=function(){c(document).off(".settings-view")},t.prototype.didUpdate=function(){if(this.controller.isGraphSettingsOpen()){var e=this.controller.getKeypadHeight();e!==this.cachedKeypadHeight&&document.activeElement&&c(document.activeElement).closest(this.node).length&&i.scrollVisible(c(document.activeElement),c(this.node).find(".dcg-popover-interior"),50),this.cachedKeypadHeight=e}},t.prototype.eventShouldClosePopover=function(e){var t=c(e.target),n=!!t.closest(this.node).length,r=!!t.closest(".dcg-action-settings").length,i=this.isMathquillFocused()&&t.closest(".dcg-keypad").length,o=!!t.closest(".dcg-action-undo").length||!!t.closest(".dcg-action-redo").length;return!(n||r||i||o)},t.prototype.onTapSettingsButton=function(e){this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:"keyboard"===e.device})},t.prototype.isMathquillFocused=function(){return void 0!==this.getFocusedLimit()},t.prototype.getLimitLatex=function(e){return this.controller.getSettingsViewModel().limitLatex[e]},t.prototype.setLimitLatex=function(e,t){t!==this.controller.getSettingsViewModel().limitLatex[e]&&this.controller.dispatch({type:"set-axis-limit-latex",limit:e,latex:t})},t.prototype.getFocusedLimit=function(){var e=this.controller.getFocusLocation();if(e&&"settings"===e.type)return e.location},t.prototype.getInvalidLimits=function(){var e=!!this.controller.getGraphSettings().degreeMode,t=d.default(this.getLimitLatex("xmin"),e),n=d.default(this.getLimitLatex("xmax"),e),r=d.default(this.getLimitLatex("ymin"),e),i=d.default(this.getLimitLatex("ymax"),e),o=""===this.getLimitLatex("xstep")?0:d.default(this.getLimitLatex("xstep"),e),s=""===this.getLimitLatex("ystep")?0:d.default(this.getLimitLatex("ystep"),e),a={},l=new p.Viewport(t,n,r,i);return isFinite(t)&&isFinite(n)?(a.xmin=!l.isXValid(),a.xmax=a.xmin):(a.xmin=!isFinite(t),a.xmax=!isFinite(n)),isFinite(r)&&isFinite(i)?(a.ymin=!l.isYValid(),a.ymax=a.ymin):(a.ymin=!isFinite(r),a.ymax=!isFinite(i)),a.xstep=!isFinite(o)||o<0,a.ystep=!isFinite(s)||s<0,a},t.prototype.isLimitInvalid=function(e){return this.getInvalidLimits()[e]},t.prototype.onFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"settings",location:e}})},t.prototype.onXAxisLabelInput=function(e){this.controller.dispatch({type:"set-graph-settings",xAxisLabel:e})},t.prototype.onYAxisLabelInput=function(e){this.controller.dispatch({type:"set-graph-settings",yAxisLabel:e})},t.prototype.getXAxisLabel=function(){return this.controller.getGraphSettings().xAxisLabel},t.prototype.getYAxisLabel=function(){return this.controller.getGraphSettings().yAxisLabel},t.prototype.getShowXAxis=function(){return!!this.controller.getGraphSettings().showXAxis},t.prototype.toggleXAxis=function(){this.controller.dispatch({type:"set-graph-settings",showXAxis:!this.getShowXAxis()})},t.prototype.getShowYAxis=function(){return!!this.controller.getGraphSettings().showYAxis},t.prototype.toggleYAxis=function(){this.controller.dispatch({type:"set-graph-settings",showYAxis:!this.getShowYAxis()})},t.prototype.getAxisNumbers=function(){return!!this.controller.getGraphSettings().xAxisNumbers},t.prototype.toggleAxisNumbers=function(){var e=this.getAxisNumbers();this.controller.dispatch({type:"set-graph-settings",xAxisNumbers:!e,yAxisNumbers:!e,polarNumbers:!e})},t.prototype.getMinorGridlines=function(){return 0===this.controller.getGraphSettings().xAxisMinorSubdivisions},t.prototype.toggleMinorGridlines=function(){var e=this.getMinorGridlines()?1:0;this.controller.dispatch({type:"set-graph-settings",yAxisMinorSubdivisions:e,xAxisMinorSubdivisions:e})},t.prototype.getPolarMode=function(){return!!this.controller.getGraphSettings().polarMode},t.prototype.setPolarMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!0})},t.prototype.setCartesianMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!1})},t.prototype.getDegreeMode=function(){return!!this.controller.getGraphSettings().degreeMode},t.prototype.setRadianMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!1})},t.prototype.setDegreeMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!0})},t.prototype.getProjectorMode=function(){return!!this.controller.getGraphSettings().config.projectorMode},t.prototype.toggleProjectorMode=function(){this.controller.getGraphSettings().config.setProperty("projectorMode",!this.getProjectorMode())},t.prototype.getAxisArrowMode=function(){return this.controller.getGraphSettings().xAxisArrowMode},t.prototype.setAxisArrowMode=function(e){this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})},t.prototype.getShowGrid=function(){return this.controller.getGraphSettings().showGrid},t.prototype.toggleGrid=function(){this.controller.dispatch({type:"set-graph-settings",showGrid:!this.getShowGrid()})},t.prototype.toggleArrows=function(){var e=this.getAxisArrowMode()===u.AxisArrowModes.NONE?u.AxisArrowModes.BOTH:u.AxisArrowModes.NONE;this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})},t.prototype.getSquareAxes=function(){return!!this.controller.getGraphSettings().squareAxes},t.prototype.getContainerStyle=function(){return this.controller.getKeypadHeight()?"bottom: 0":""},t.prototype.zoomSquare=function(){this.controller.dispatch({type:"zoom",direction:"square"})},t.prototype.getCapExpressionSize=function(){return!!this.controller.getGraphSettings().config.capExpressionSize},t}(s.Class);t.default=v}),define("main/zoom-buttons-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!pillboxes"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-zoom-container")},r.createElement("div",{class:r.const("dcg-zoominout-pillbox dcg-btn-flat-gray dcg-btn-flat-gray-group"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement(i.Tooltip,{tooltip:function(){return e.controller.t("Zoom In")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-action-zoomin"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.t("Zoom In")},onTap:this.bindFn(this.zoomIn),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-plus"),"aria-hidden":r.const("true")}))),r.createElement(i.Tooltip,{tooltip:function(){return e.controller.t("Zoom Out")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-option dcg-action-zoomout dcg-tooltip-e"),tooltip:function(){return e.controller.t("Zoom Out")},role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.t("Zoom Out")},onTap:this.bindFn(this.zoomOut),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-minus"),"aria-hidden":r.const("true")})))),r.createElement(i.Tooltip,{tooltip:function(){return e.controller.t("Default Zoom")},gravity:this.const("w")},r.createElement("div",{class:function(){return{"dcg-btn-flat-gray":!0,"dcg-option":!0,"dcg-action-zoomrestore":!0,"dcg-disabled":e.getZoomedDefault()}},"aria-disabled":this.bindFn(this.getZoomedDefault),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.t("Restore Default Zoom")},onTap:this.bindFn(this.zoomRestore),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-home"),"aria-hidden":r.const("true")}))))},t.prototype.zoomIn=function(){this.controller.dispatch({type:"zoom",direction:"in"})},t.prototype.zoomOut=function(){this.controller.dispatch({type:"zoom",direction:"out"})},t.prototype.zoomRestore=function(){this.controller.dispatch({type:"zoom",direction:"default"})},t.prototype.getZoomedDefault=function(){return this.controller.getGraphSettings().zoomedDefault},t}(r.Class);t.default=o}),define("main/reset-button-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!pillboxes"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-reset-container")},r.createElement(i.Tooltip,{tooltip:function(){return e.controller.t("Reset")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-reset-pillbox dcg-action-reset dcg-btn-flat-gray"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.t("Reset")},onTap:this.bindFn(this.reset),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-reset"),"aria-hidden":r.const("true")}))))},t.prototype.reset=function(){this.controller.dispatch({type:"reset-graph"})},t}(r.Class);t.default=o}),define("main/pillbox-view",["require","exports","tslib","dcgview","./graphpaper-branding-view","./settings-view","./zoom-buttons-view","./reset-button-view","loadcss!pillboxes"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",null,r.createElement(l,{predicate:this.bindFn(this.shouldShowContainer)},function(){return r.createElement("div",{class:r.const("dcg-pillbox-container"),role:r.const("group"),"aria-label":function(){return e.controller.t("Graph Settings Controls")}},r.createElement("div",{class:r.const("dcg-overgraph-pillbox-elements"),style:e.bindFn(e.getContainerStyle)},r.createElement(l,{predicate:e.bindFn(e.shouldShowSettings)},function(){return r.createElement(o.default,{controller:e.props.controller})}),r.createElement(l,{predicate:e.bindFn(e.shouldShowResetButton)},function(){return r.createElement(a.default,{controller:e.props.controller})}),r.createElement(l,{predicate:e.bindFn(e.shouldShowZoomButtons)},function(){return r.createElement(s.default,{controller:e.props.controller})})))}),r.createElement(i.default,{controller:function(){return e.props.controller()}}))},t.prototype.getContainerStyle=function(){var e=this.controller.isKeypadOpen()?this.controller.getKeypadHeight():0;return this.controller.isGraphSettingsOpen()?"bottom: "+e+"px;":"bottom: auto"},t.prototype.shouldShowContainer=function(){return this.shouldShowSettings()||this.shouldShowZoomButtons()||this.shouldShowResetButton()},t.prototype.shouldShowSettings=function(){return this.controller.getGraphSettings().config.settingsMenu},t.prototype.shouldShowZoomButtons=function(){return this.controller.getGraphSettings().config.zoomButtons},t.prototype.shouldShowResetButton=function(){return this.controller.getGraphSettings().config.showResetButtonOnGraphpaper&&this.controller.hasDefaultState()},t}(r.Class);t.default=c}),define("loadcss!main/toast-view",function(){}),define("main/toast-view",["require","exports","tslib","dcgview","loadcss!./toast-view"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r.Components.If,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("span",{class:r.const("dcg-toast")},r.createElement("i",{class:r.const("dcg-icon-error")}),r.createElement(i,{predicate:function(){return!e.props.showUndo()&&(!e.props.showClose||e.props.showClose())}},function(){return r.createElement("i",{class:r.const("dcg-icon-remove"),onTap:function(){return e.props.onClose&&e.props.onClose()},role:r.const("link"),tabindex:r.const(0),"aria-label":r.const("Dismiss Notice")})}),r.createElement("span",{class:r.const("dcg-msg"),"aria-atomic":function(){return!e.props.noAria()},"aria-live":function(){return e.props.noAria()?"":"assertive"}},function(){return e.props.t(e.props.message())}),r.createElement(i,{predicate:this.props.showUndo},function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-undo"),onTap:function(){return e.props.onUndo&&e.props.onUndo()}},function(){return e.props.t("Undo")})}),r.createElement(i,{predicate:this.props.showLearnMore},function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-learn-more-link"),target:r.const("_blank"),onTap:function(){return e.props.onLearnMore&&e.props.onLearnMore()}},function(){return e.props.t("Learn more")})}),r.createElement(i,{predicate:function(){return!!e.props.link&&!!e.props.link()}},function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-learn-more-link"),target:r.const("_blank"),href:function(){return e.props.link().url}},function(){return e.props.link().text})}))},t.prototype.shouldUpdate=function(){return!!this.props.message()},t}(r.Class),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-toast-view":!0,"dcg-visible":!!e.props.message()}},"toast-style":function(){return e.props.toastStyle&&e.props.toastStyle()}},r.createElement(i,{predicate:function(){return!!e.props.message()}},function(){return r.createElement("div",{class:r.const("dcg-toast-wrapper")},r.createElement("div",{class:r.const("dcg-toast-cover")}),r.createElement(o,n.__assign({},e.props)))}))},t}(r.Class);t.ToastView=s}),define("main/disable-dragdrop-events",["require","exports"],function(e,t){"use strict";function n(e){e.on("drag dragend dragenter dragover dragleave drop",function(e){e.preventDefault(),e.stopPropagation()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}),define("graphing-calc/views/main",["require","exports","tslib","touchtracking","ipad.scrollfix","dcgview","jquery","../../expressions/list-view","graphing-calc/keypads/main","main/pillbox-view","main/toast-view","main/disable-dragdrop-events","lib/tooltip"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=o.Components.If,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.settings=function(){return this.controller.getGraphSettings()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-container":!0,"dcg-fullscreen":!e.controller.isListVisible(),"dcg-narrow":e.controller.isNarrow(),"dcg-PROJECTOR-MODE":e.settings().config.projectorMode,"dcg-inverted-colors":!!e.settings().config.invertedColors,"dcg-EDIT-LIST-MODE":e.controller.isInEditListMode(),"dcg-no-graphpaper":!e.settings().config.graphpaper,"dcg-no-branding":!e.settings().config.branding,"dcg-no-expression-topbar":!e.settings().config.expressionsTopbar,"dcg-default-border":!!e.settings().config.border,"dcg-no-hyperlinks":!e.settings().config.links,"dcg-has-background-color":e.controller.hasBackgroundColor()}},style:function(){return{"font-size":e.settings().config.fontSize+"px",background:e.getContainerBackgroundColor(),color:e.controller.getTextColor()}},role:o.const("application"),"aria-label":function(){return e.controller.t("Desmos Graphing Calculator")},"x-ms-format-detection":o.const("none"),didMount:this.bindFn(this.didMountRoot)},o.createElement(h,{predicate:function(){return e.controller.getGraphSettings().config.expressions}},function(){return o.createElement(a.default,{controller:e.props.controller})}),o.createElement(h,{predicate:function(){return e.controller.isListEnabled()&&!e.controller.isListVisible()}},function(){return o.createElement("div",{class:function(){return{"dcg-overgraph-icon-container":!0,"dcg-bottom-right":e.controller.isNarrow()}}},o.createElement(p.Tooltip,{tooltip:function(){return e.controller.t("Show List")},gravity:function(){return e.controller.isNarrow()?"nw":"se"}},o.createElement("div",{class:function(){return{"dcg-show-expressions-tab":!0,"dcg-overgraph-icon":!0,"dcg-rotated":e.controller.isNarrow()}},"aria-label":function(){return e.controller.t("Show List")},role:o.const("button"),tabindex:o.const("0"),onTap:function(){return e.controller.dispatch({type:"show-expressions-list"})}},o.createElement("i",{class:o.const("dcg-icon-show")}))))}),o.createElement(h,{predicate:this.bindFn(this.showHamburger)},function(){return o.createElement("div",{class:o.const("dcg-overgraph-icon-container")},o.createElement(p.Tooltip,{tooltip:function(){return e.controller.t("Open Graph")},gravity:e.const("se")},o.createElement("div",{role:o.const("button"),"aria-label":function(){return e.controller.t("Open Graph")},class:o.const("dcg-action-opendrawer dcg-in-api-action-opendrawer dcg-overgraph-icon"),onTap:function(){return e.controller.dispatch({type:"open-drawer"})}},o.createElement("i",{class:o.const("dcg-icon-hamburger")}))))}),o.createElement(c.default,{controller:this.props.controller}),o.createElement(u.ToastView,{message:function(){var t=e.controller.getToastData().message;return t||""},link:function(){return e.controller.getToastData().link||void 0},showUndo:function(){return!!e.controller.getToastData().undoCallback},showLearnMore:function(){return!!e.controller.getToastData().learnMoreCallback},noAria:function(){return!!e.controller.getToastData().noAria},toastStyle:function(){return e.controller.getToastData().toastStyle},t:this.controller.t,onUndo:function(){return e.controller.dispatch({type:"toast/undo"})},onLearnMore:function(){return e.controller.dispatch({type:"toast/learn-more"})},onClose:function(){return e.controller.dispatch({type:"toast/close"})}}),o.createElement("div",{class:o.const("dcg-grapher")}),o.createElement(h,{predicate:function(){return e.controller.getGraphSettings().config.keypad}
},function(){return o.createElement(l.default,{controller:e.props.controller})}))},t.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&(!this.controller.isInEditListMode()&&this.controller.isNarrow())},t.prototype.getContainerBackgroundColor=function(){return this.controller.hasTransparentBackground()?"none":this.controller.getBackgroundColor()},t.prototype.didMountRoot=function(e){r.monitor(e),this.controller.getGraphSettings().config.disableScrollFix||i.limitScrollOnElement(e),this.setupFileDragDrop(e)},t.prototype.setupFileDragDrop=function(e){function t(){i=s(),r.off(".filedraggedover"),o.controller.dispatch({type:"file-is-not-dragged-over"})}var n=this,r=s(e);d.default(r);var i=s(),o=this;r.on("dragenter",function(e){n.controller.areImagesEnabled()&&(0===i.length&&r.on("dcg-tapstart.filedraggedover",t),i=i.add(e.target),n.controller.dispatch({type:"file-is-dragged-over"}))}).on("dragleave",function(e){i=i.not(e.target),0===i.length&&t()}).on("drop",t)},t}(o.Class);t.default=f}),define("worker/workerpoolconnection",["require","pjs","underscore_model"],function(e){return e("pjs")(e("underscore_model").UnderscoreModel,function(e,t){e.init=function(e){t.init.call(this),this.workerPool=e,this.worker=e.allocateWorker(),this.worker.__connections[this.guid]=this},e.destroy=function(){this.sendMessage({type:"destroy"}),delete this.worker.__connections[this.guid]},e.killWorker=function(){this.worker.__isFake||this.workerPool.killWorker(this.worker)},e.onWorkerKilled=function(){},e.onResponse=function(e){},e.sendMessage=function(e){this.worker.__isFake?this.worker.postMessage(e):this.worker.postMessage({connectionId:this.guid,originalMessage:e})}})}),define("text!worker_src_underlying",[],function(){
return'var requirejs,require,define;!function(e){function t(e,t){return y.call(e,t)}function r(e,t){var r,n,i,a,s,o,u,c,l,p,f=t&&t.split("/"),h=m.map,d=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),c=0;c<e.length;c+=1)if("."===(p=e[c]))e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||d)&&h){for(r=e.split("/"),c=r.length;c>0;c-=1){if(n=r.slice(0,c).join("/"),f)for(l=f.length;l>0;l-=1)if((i=h[f.slice(0,l).join("/")])&&(i=i[n])){a=i,s=c;break}if(a)break;!o&&d&&d[n]&&(o=d[n],u=c)}!a&&o&&(a=o,s=u),a&&(r.splice(0,s,a),e=r.join("/"))}return e}function n(t,r){return function(){return l.apply(e,v.call(arguments,0).concat([t,r]))}}function i(e){return function(t){return r(t,e)}}function a(e){return function(t){h[e]=t}}function s(r){if(t(d,r)){var n=d[r];delete d[r],g[r]=!0,c.apply(e,n)}if(!t(h,r)&&!t(g,r))throw new Error("No "+r);return h[r]}function o(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function u(e){return function(){return m&&m.config&&m.config[e]||{}}}var c,l,p,f,h={},d={},m={},g={},y=Object.prototype.hasOwnProperty,v=[].slice;p=function(e,t){var n,a=o(e),u=a[0];return e=a[1],u&&(u=r(u,t),n=s(u)),u?e=n&&n.normalize?n.normalize(e,i(t)):r(e,t):(e=r(e,t),a=o(e),u=a[0],e=a[1],u&&(n=s(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:n}},f={require:function(e){return n(e)},exports:function(e){var t=h[e];return void 0!==t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:u(e)}}},c=function(r,i,o,u){var c,l,m,y,v,b,x=[];if(u=u||r,"function"==typeof o){for(i=!i.length&&o.length?["require","exports","module"]:i,v=0;v<i.length;v+=1)if(y=p(i[v],u),"require"===(l=y.f))x[v]=f.require(r);else if("exports"===l)x[v]=f.exports(r),b=!0;else if("module"===l)c=x[v]=f.module(r);else if(t(h,l)||t(d,l)||t(g,l))x[v]=s(l);else{if(!y.p)throw new Error(r+" missing "+l);y.p.load(y.n,n(u,!0),a(l),{}),x[v]=h[l]}m=o.apply(h[r],x),r&&(c&&c.exports!==e&&c.exports!==h[r]?h[r]=c.exports:m===e&&b||(h[r]=m))}else r&&(h[r]=o)},requirejs=require=l=function(t,r,n,i,a){return"string"==typeof t?f[t]?f[t](r):s(p(t,r).f):(t.splice||(m=t,r.splice?(t=r,r=n,n=null):t=e),r=r||function(){},"function"==typeof n&&(n=i,i=a),i?c(e,t,r,n):setTimeout(function(){c(e,t,r,n)},4),l)},l.config=function(e){return m=e,m.deps&&l(m.deps,m.callback),l},define=function(e,r,n){r.splice||(n=r,r=[]),t(h,e)||t(d,e)||(d[e]=[e,r,n])},define.amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs),define("vendor/almond",function(){}),define("testbridge",["require"],function(e){function t(){window.consoleOverride=!0;var e=window.console.log;window.console.log=function(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);e.apply(window.console,[].concat([t.join(" ")],t))}}var r={ready:function(){try{window.TestBridge=r,parent.USING_SELENIUM&&t()}catch(e){}}};return r}),define("console",["require"],function(e){var t=function(){},r=["log","info","warn","error","assert","dir","clear","profile","profileEnd","time","timeEnd","group","groupCollapsed","groupEnd","trace"],n={},i=function(e){"undefined"!=typeof window&&window.console&&window.console[e]?n[e]=function(){Function.prototype.apply.call(window.console[e],window.console,arguments)}:n[e]=t};return r.forEach(i),n}),define("pjs",[],function(){return function(e,t,r){function n(e){return"object"==typeof e}function i(e){return"function"==typeof e}function a(){}function s(o,u){function c(){var e=new l;return i(e.init)&&e.init.apply(e,arguments),e}function l(){}u===r&&(u=o,o=Object),c.Bare=l;var p,f=a[e]=o[e],h=l[e]=c[e]=new a;return h.constructor=c,c.mixin=function(t){return l[e]=c[e]=s(c,t)[e],c},(c.open=function(e){if(p={},i(e)?p=e.call(c,h,f,c,o):n(e)&&(p=e),n(p))for(var r in p)t.call(p,r)&&(h[r]=p[r]);return i(h.init)||(h.init=o),c})(u)}return s}("prototype",{}.hasOwnProperty)}),function(){function e(e){function t(t,r,n,i,a,s){for(;a>=0&&a<s;a+=e){var o=i?i[a]:a;n=r(n,t[o],o,t)}return n}return function(r,n,i,a){n=b(n,a,4);var s=!D(r)&&v.keys(r),o=(s||r).length,u=e>0?0:o-1;return arguments.length<3&&(i=r[s?s[u]:u],u+=e),t(r,n,i,s,u,o)}}function t(e){return function(t,r,n){r=x(r,n);for(var i=w(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(r(t[a],a,t))return a;return-1}}function r(e,t,r){return function(n,i,a){var s=0,o=w(n);if("number"==typeof a)e>0?s=a>=0?a:Math.max(a+o,s):o=a>=0?Math.min(a+1,o):a+o+1;else if(r&&a&&o)return a=r(n,i),n[a]===i?a:-1;if(i!==i)return a=t(l.call(n,s,o),v.isNaN),a>=0?a+s:-1;for(a=e>0?s:o-1;a>=0&&a<o;a+=e)if(n[a]===i)return a;return-1}}function n(e,t){var r=O.length,n=e.constructor,i=v.isFunction(n)&&n.prototype||o,a="constructor";for(v.has(e,a)&&!v.contains(t,a)&&t.push(a);r--;)(a=O[r])in e&&e[a]!==i[a]&&!v.contains(t,a)&&t.push(a)}var i=this,a=i._,s=Array.prototype,o=Object.prototype,u=Function.prototype,c=s.push,l=s.slice,p=o.toString,f=o.hasOwnProperty,h=Array.isArray,d=Object.keys,m=u.bind,g=Object.create,y=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):i._=v,v.VERSION="1.8.3";var b=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)}}return function(){return e.apply(t,arguments)}},x=function(e,t,r){return null==e?v.identity:v.isFunction(e)?b(e,t,r):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return x(e,t,1/0)};var _=function(e,t){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var a=arguments[i],s=e(a),o=s.length,u=0;u<o;u++){var c=s[u];t&&void 0!==r[c]||(r[c]=a[c])}return r}},M=function(e){if(!v.isObject(e))return{};if(g)return g(e);y.prototype=e;var t=new y;return y.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,w=S("length"),D=function(e){var t=w(e);return"number"==typeof t&&t>=0&&t<=E};v.each=v.forEach=function(e,t,r){t=b(t,r);var n,i;if(D(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var a=v.keys(e);for(n=0,i=a.length;n<i;n++)t(e[a[n]],a[n],e)}return e},v.map=v.collect=function(e,t,r){t=x(t,r);for(var n=!D(e)&&v.keys(e),i=(n||e).length,a=Array(i),s=0;s<i;s++){var o=n?n[s]:s;a[s]=t(e[o],o,e)}return a},v.reduce=v.foldl=v.inject=e(1),v.reduceRight=v.foldr=e(-1),v.find=v.detect=function(e,t,r){var n;if(void 0!==(n=D(e)?v.findIndex(e,t,r):v.findKey(e,t,r))&&-1!==n)return e[n]},v.filter=v.select=function(e,t,r){var n=[];return t=x(t,r),v.each(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n},v.reject=function(e,t,r){return v.filter(e,v.negate(x(t)),r)},v.every=v.all=function(e,t,r){t=x(t,r);for(var n=!D(e)&&v.keys(e),i=(n||e).length,a=0;a<i;a++){var s=n?n[a]:a;if(!t(e[s],s,e))return!1}return!0},v.some=v.any=function(e,t,r){t=x(t,r);for(var n=!D(e)&&v.keys(e),i=(n||e).length,a=0;a<i;a++){var s=n?n[a]:a;if(t(e[s],s,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,r,n){return D(e)||(e=v.values(e)),("number"!=typeof r||n)&&(r=0),v.indexOf(e,t,r)>=0},v.invoke=function(e,t){var r=l.call(arguments,2),n=v.isFunction(t);return v.map(e,function(e){var i=n?t:e[t];return null==i?i:i.apply(e,r)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,r){var n,i,a=-1/0,s=-1/0;if(null==t&&null!=e){e=D(e)?e:v.values(e);for(var o=0,u=e.length;o<u;o++)(n=e[o])>a&&(a=n)}else t=x(t,r),v.each(e,function(e,r,n){((i=t(e,r,n))>s||i===-1/0&&a===-1/0)&&(a=e,s=i)});return a},v.min=function(e,t,r){var n,i,a=1/0,s=1/0;if(null==t&&null!=e){e=D(e)?e:v.values(e);for(var o=0,u=e.length;o<u;o++)(n=e[o])<a&&(a=n)}else t=x(t,r),v.each(e,function(e,r,n){((i=t(e,r,n))<s||i===1/0&&a===1/0)&&(a=e,s=i)});return a},v.shuffle=function(e){for(var t,r=D(e)?e:v.values(e),n=r.length,i=Array(n),a=0;a<n;a++)t=v.random(0,a),t!==a&&(i[a]=i[t]),i[t]=r[a];return i},v.sample=function(e,t,r){return null==t||r?(D(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,r){return t=x(t,r),v.pluck(v.map(e,function(e,r,n){return{value:e,index:r,criteria:t(e,r,n)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,r,n){var i={};return r=x(r,n),v.each(t,function(n,a){var s=r(n,a,t);e(i,n,s)}),i}};v.groupBy=T(function(e,t,r){v.has(e,r)?e[r].push(t):e[r]=[t]}),v.indexBy=T(function(e,t,r){e[r]=t}),v.countBy=T(function(e,t,r){v.has(e,r)?e[r]++:e[r]=1}),v.toArray=function(e){return e?v.isArray(e)?l.call(e):D(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:D(e)?e.length:v.keys(e).length},v.partition=function(e,t,r){t=x(t,r);var n=[],i=[];return v.each(e,function(e,r,a){(t(e,r,a)?n:i).push(e)}),[n,i]},v.first=v.head=v.take=function(e,t,r){if(null!=e)return null==t||r?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,r){return l.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},v.last=function(e,t,r){if(null!=e)return null==t||r?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,r){return l.call(e,null==t||r?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var C=function(e,t,r,n){for(var i=[],a=0,s=n||0,o=w(e);s<o;s++){var u=e[s];if(D(u)&&(v.isArray(u)||v.isArguments(u))){t||(u=C(u,t,r));var c=0,l=u.length;for(i.length+=l;c<l;)i[a++]=u[c++]}else r||(i[a++]=u)}return i};v.flatten=function(e,t){return C(e,t,!1)},v.without=function(e){return v.difference(e,l.call(arguments,1))},v.uniq=v.unique=function(e,t,r,n){v.isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=x(r,n));for(var i=[],a=[],s=0,o=w(e);s<o;s++){var u=e[s],c=r?r(u,s,e):u;t?(s&&a===c||i.push(u),a=c):r?v.contains(a,c)||(a.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(C(arguments,!0,!0))},v.intersection=function(e){for(var t=[],r=arguments.length,n=0,i=w(e);n<i;n++){var a=e[n];if(!v.contains(t,a)){for(var s=1;s<r&&v.contains(arguments[s],a);s++);s===r&&t.push(a)}}return t},v.difference=function(e){var t=C(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,w).length||0,r=Array(t),n=0;n<t;n++)r[n]=v.pluck(e,n);return r},v.object=function(e,t){for(var r={},n=0,i=w(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},v.findIndex=t(1),v.findLastIndex=t(-1),v.sortedIndex=function(e,t,r,n){r=x(r,n,1);for(var i=r(t),a=0,s=w(e);a<s;){var o=Math.floor((a+s)/2);r(e[o])<i?a=o+1:s=o}return a},v.indexOf=r(1,v.findIndex,v.sortedIndex),v.lastIndexOf=r(-1,v.findLastIndex),v.range=function(e,t,r){null==t&&(t=e||0,e=0),r=r||1;for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),a=0;a<n;a++,e+=r)i[a]=e;return i};var I=function(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var a=M(e.prototype),s=e.apply(a,i);return v.isObject(s)?s:a};v.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,l.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),n=function(){return I(e,n,t,this,r.concat(l.call(arguments)))};return n},v.partial=function(e){var t=l.call(arguments,1),r=function(){for(var n=0,i=t.length,a=Array(i),s=0;s<i;s++)a[s]=t[s]===v?arguments[n++]:t[s];for(;n<arguments.length;)a.push(arguments[n++]);return I(e,r,this,this,a)};return r},v.bindAll=function(e){var t,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=v.bind(e[r],e);return e},v.memoize=function(e,t){var r=function(n){var i=r.cache,a=""+(t?t.apply(this,arguments):n);return v.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return r.cache={},r},v.delay=function(e,t){var r=l.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,r){var n,i,a,s=null,o=0;r||(r={});var u=function(){o=!1===r.leading?0:v.now(),s=null,a=e.apply(n,i),s||(n=i=null)};return function(){var c=v.now();o||!1!==r.leading||(o=c);var l=t-(c-o);return n=this,i=arguments,l<=0||l>t?(s&&(clearTimeout(s),s=null),o=c,a=e.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,l)),a}},v.debounce=function(e,t,r){var n,i,a,s,o,u=function(){var c=v.now()-s;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(o=e.apply(a,i),n||(a=i=null)))};return function(){a=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(o=e.apply(a,i),a=i=null),o}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},v.once=v.partial(v.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(d)return d(e);var t=[];for(var r in e)v.has(e,r)&&t.push(r);return P&&n(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var r in e)t.push(r);return P&&n(e,t),t},v.values=function(e){for(var t=v.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n},v.mapObject=function(e,t,r){t=x(t,r);for(var n,i=v.keys(e),a=i.length,s={},o=0;o<a;o++)n=i[o],s[n]=t(e[n],n,e);return s},v.pairs=function(e){for(var t=v.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n},v.invert=function(e){for(var t={},r=v.keys(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t},v.functions=v.methods=function(e){var t=[];for(var r in e)v.isFunction(e[r])&&t.push(r);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,r){t=x(t,r);for(var n,i=v.keys(e),a=0,s=i.length;a<s;a++)if(n=i[a],t(e[n],n,e))return n},v.pick=function(e,t,r){var n,i,a={},s=e;if(null==s)return a;v.isFunction(t)?(i=v.allKeys(s),n=b(t,r)):(i=C(arguments,!1,!1,1),n=function(e,t,r){return t in r},s=Object(s));for(var o=0,u=i.length;o<u;o++){var c=i[o],l=s[c];n(l,c,s)&&(a[c]=l)}return a},v.omit=function(e,t,r){if(v.isFunction(t))t=v.negate(t);else{var n=v.map(C(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(n,t)}}return v.pick(e,t,r)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var r=M(e);return t&&v.extendOwn(r,t),r},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var r=v.keys(t),n=r.length;if(null==e)return!n;for(var i=Object(e),a=0;a<n;a++){var s=r[a];if(t[s]!==i[s]||!(s in i))return!1}return!0};var N=function(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,o=t.constructor;if(s!==o&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!N(e[u],t[u],r,n))return!1}else{var c,l=v.keys(e);if(u=l.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(t,c)||!N(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(e,t){return N(e,t)},v.isEmpty=function(e){return null==e||(D(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=h||function(e){return"[object Array]"===p.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&f.call(e,t)},v.noConflict=function(){return i._=a,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=S,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,r){var n=Array(Math.max(0,e));t=b(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var A={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;"},L=v.invert(A),q=function(e){var t=function(t){return e[t]},r="(?:"+v.keys(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};v.escape=q(A),v.unescape=q(L),v.result=function(e,t,r){var n=null==e?void 0:e[t];return void 0===n&&(n=r),v.isFunction(n)?n.call(e):n};var F=0;v.uniqueId=function(e){var t=++F+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var k=/(.)^/,V={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\\u2028":"u2028","\\u2029":"u2029"},B=/\\\\|\'|\\r|\\n|\\u2028|\\u2029/g,j=function(e){return"\\\\"+V[e]};v.template=function(e,t,r){!t&&r&&(t=r),t=v.defaults({},t,v.templateSettings);var n=RegExp([(t.escape||k).source,(t.interpolate||k).source,(t.evaluate||k).source].join("|")+"|$","g"),i=0,a="__p+=\'";e.replace(n,function(t,r,n,s,o){return a+=e.slice(i,o).replace(B,j),i=o+t.length,r?a+="\'+\\n((__t=("+r+"))==null?\'\':_.escape(__t))+\\n\'":n?a+="\'+\\n((__t=("+n+"))==null?\'\':__t)+\\n\'":s&&(a+="\';\\n"+s+"\\n__p+=\'"),t}),a+="\';\\n",t.variable||(a="with(obj||{}){\\n"+a+"}\\n"),a="var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\\n"+a+"return __p;\\n";try{var s=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var o=function(e){return s.call(this,e,v)};return o.source="function("+(t.variable||"obj")+"){\\n"+a+"}",o},v.chain=function(e){var t=v(e);return t._chain=!0,t};var R=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var r=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),R(this,r.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];v.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],R(this,r)}}),v.each(["concat","join","slice"],function(e){var t=s[e];v.prototype[e]=function(){return R(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}.call(this),define("math/distance",["require","exports"],function(e,t){"use strict";function r(e,t){return e>0==t>0?e+.5*(t-e):.5*(e+t)}function n(e,t,r,n){return e*r+t*n}function i(e,r,i,a,s,o){var u=t.hypot(s-i,o-a);return 0===u?0:n((e-i)/u,(r-a)/u,(s-i)/u,(o-a)/u)}function a(e,t,r,n,a,s){var o=i(e,t,r,n,a,s);return o<=0?[r,n]:o>=1?[a,s]:[r+o*(a-r),n+o*(s-n)]}function s(e,r,n,i,s,o){var u=a(e,r,n,i,s,o);return t.hypot(e-u[0],r-u[1])}function o(e,t,r){if(void 0===r&&(r=1),r>50)throw new Error("Within "+(52-r)+" bits isn\'t really approximate any more");var n=Math.max(Math.max(Math.abs(e),Math.abs(t)),1);return n===n+(1===r?.5:Math.pow(.5,r))*Math.abs(t-e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hypot=Math.hypot||function(e,t){if(0===e&&0===t)return 0;if(Math.abs(e)>Math.abs(t)){var r=t/e;return Math.abs(e)*Math.sqrt(r*r+1)}var r=e/t;return Math.abs(t)*Math.sqrt(r*r+1)},t.mean=r,t.pointToSegmentParameter=i,t.closestPointOnSegment=a,t.pointToSegment=s,t.approx=o}),define("lib/console",["require","exports","console"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=r.log,t.warn=r.warn}),define("math/poi-type",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INTERSECTION=1001,t.ZERO=1002,t.INTERCEPT=1003,t.EXTREMUM=1004,t.EDGE=1005,t.DEFINITION=1006,t.TRACE=1007,t.LABEL=1008}),define("math/poi",["require","exports","./distance","lib/console","./poi-type"],function(e,t,r,n,i){"use strict";function a(e,t){var n;e>t&&(n=e,e=t,t=n);var i=e>0,a=t>0,s=Math.abs(e)>.01,o=Math.abs(t)>.01;if(s||o)return r.mean(e,t);if(0===e)return t*Math.abs(t);if(0===t)return e*Math.abs(e);if(i!==a)return 0;var u=i?Math.sqrt(e*t):-Math.sqrt(e*t);return u>=e&&t>=u?u:r.mean(e,t)}function s(e,t,r,i,s){if(isNaN(t)||isNaN(i)||t<0==i<0)return void n.log("bisectZero called with bad y values",[t,i]);for(;;){var u=a(e,r),c=s(u);if(!isFinite(c))return;if(u===e||u===r)return Math.abs(t)<=Math.abs(i)?[e,t]:[r,i];if(0===c)return o(e,t,u,c,r,i,s);t<0!=c<0?(r=u,i=c):(e=u,t=c)}}function o(e,t,r,n,i,s,o){var l;if(isFinite(n)){isFinite(t)||(l=u(e,t,r,n,o))&&(e=l[0],t=l[1]),isFinite(s)||(l=u(r,n,i,s,o))&&(i=l[0],s=l[1]);var p,f;p=t===n?[e,t]:c(e,t,r,n,o,n),f=s===n?[i,s]:c(r,n,i,s,o,n);var h;return p&&f&&(h=a(p[0],f[0])),void 0!==h?[h,o(h)]:void 0}}function u(e,t,r,i,s){if(isFinite(t)===isFinite(i))return void n.log("bisectFinite called with bad y values",[t,i]);for(;;){var o=a(e,r),u=s(o);if(o===e||o===r)return isFinite(t)?[e,t]:[r,i];isFinite(u)!==isFinite(t)?(r=o,i=u):(e=o,t=u)}}function c(e,t,r,i,s,o){if(t===o==(i===o))return void n.log("bisectConstant called with bad y values",[t,i,o]);for(;;){var u=a(e,r),c=s(u);if(u===e||u===r)return t===o?[e,t]:[r,i];c===o!=(t===o)?(r=u,i=c):(e=u,t=c)}}function l(e,t,r,i,s,u,c){if(!(e<r&&r<s))return void n.log("bisectExtremum called with bad x values",[e,r,s]);if(!(isFinite(t)&&isFinite(i)&&isFinite(u)&&t!==i&&i!==u&&i>t==i>u))return void n.log("bisectExtremum called with bad y values",[t,i,u]);for(;;){var l=a(e,r),p=c(l),f=a(r,s),h=c(f);if(!isFinite(p)||!isFinite(h))return;if(l===e||l===r||f===r||f===s)return p>i==i>t?[l,p]:h>i==i>t?[f,h]:[r,i];if(p===i||h===i)return o(e,t,r,i,s,u,c);p>t==i>t&&p>t==p>i?(s=r,u=i,r=l,i=p):h>u==i>u&&h>i==h>u?(e=r,t=i,r=f,i=h):(e=l,t=p,s=f,u=h)}}function p(e,t,r,n,i,a,s,o){var u=Math.abs(n-t),c=Math.abs(a-n),l=Math.abs(o-a);return u>c&&u>l?[[e,t],[r,n]]:l>c&&l>u?[[i,a],[s,o]]:[[r,n],[i,a]]}function f(e,t,n,i,s,o,c,l){if(l||(l=0),!((n-e)*(s-n)<=0)&&isFinite(e)&&isFinite(n)&&isFinite(s)&&isFinite(t)&&isFinite(o)){if(!isFinite(i)){var f=u(e,t,n,i,c),h=u(n,i,s,o,c);if(!f||!h)return;return[f,h]}if(!(Math.abs(i-((s-n)*t+(n-e)*o)/(s-e))<l))for(;;){var d=a(e,n),m=c(d),g=a(n,s),y=c(g),v=Math.abs(m-r.mean(t,i)),b=Math.abs(i-r.mean(m,y)),x=Math.abs(y-r.mean(i,o));if(v<=l&&b<=l&&x<=l)return;if(!isFinite(m)){var f=u(e,t,d,m,c),h=u(d,m,s,o,c);if(!f||!h)return;return[f,h]}if(!isFinite(y)){var f=u(e,t,g,y,c),h=u(g,y,s,o,c);if(!f||!h)return;return[f,h]}if(!(d!==e&&d!==n||g!==n&&g!==s))return Math.abs(i-t)>Math.abs(o-i)?[[e,t],[n,i]]:[[n,i],[s,o]];if(d===e||d===n)return p(e,t,n,i,g,y,s,o);if(g===n||g===s)return p(e,t,d,m,n,i,s,o);v>x&&v>=b?(s=n,o=i,n=d,i=m):x>v&&x>=b?(e=n,t=i,n=g,i=y):(e=d,t=m,s=g,o=y)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.floatMiddle=a,t.default={bisectJump:f,bisectExtremum:l,bisectFinite:u,bisectZero:s,flatCenter:o,INTERSECTION:i.INTERSECTION,ZERO:i.ZERO,INTERCEPT:i.INTERCEPT,EXTREMUM:i.EXTREMUM,EDGE:i.EDGE,DEFINITION:i.DEFINITION,TRACE:i.TRACE,LABEL:i.LABEL}}),define("math/curve-accumulator",["require","exports","./distance"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){e?(this.xtolerance=e.xtolerance||e.tolerance||0,this.ytolerance=e.ytolerance||e.tolerance||0,this.map=e.map):this.xtolerance=this.ytolerance=0,this.segments=[],this.segment=[],this.pivotPoint=void 0,this.pendingPoint=void 0}return e.prototype.colinear=function(e,t,n){this.map&&(e=this.map(e),t=this.map(t),n=this.map(n));var i=r.pointToSegmentParameter(n[0],n[1],e[0],e[1],t[0],t[1]);if(i<1)return!1;var a=[e[0]+i*(t[0]-e[0]),e[1]+i*(t[1]-e[1])];return Math.abs(n[0]-a[0])<=this.xtolerance&&Math.abs(n[1]-a[1])<=this.ytolerance},e.prototype.addPoint=function(e){if(this.xtolerance<0&&this.ytolerance<0)return void this.segment.push(e[0],e[1]);if(!this.segment.length)return void this.segment.push(e[0],e[1]);var t=[this.segment[this.segment.length-2],this.segment[this.segment.length-1]];if(e[0]!==t[0]||e[1]!==t[1]){if(!this.pivotPoint||!this.pendingPoint)return this.pivotPoint=e,void(this.pendingPoint=e);(!this.colinear(t,this.pivotPoint,e)||r.hypot(t[0]-e[0],t[1]-e[1])<r.hypot(t[0]-this.pendingPoint[0],t[1]-this.pendingPoint[1]))&&(this.flushPending(),this.pivotPoint=e),this.pendingPoint=e}},e.prototype.flushPending=function(){this.pendingPoint&&(this.segment.push(this.pendingPoint[0],this.pendingPoint[1]),this.pivotPoint=void 0,this.pendingPoint=void 0)},e.prototype.breakSegment=function(){this.flushPending(),this.segment.length>2&&this.segments.push(this.segment),this.segment=[]},e.prototype.getSegments=function(){return this.breakSegment(),this.segments},e.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0}},e}();t.default=n}),define("math/implicit-plotter",["require","exports","./distance","./curve-accumulator"],function(e,t,r,n){"use strict";function i(e,t){var r=a(e,t);return{segments:r.contours.strokeSegments,fillSegments:r.contours.fillSegments,resolved:r.quadTree.resolved}}function a(e,t){var r=Math.pow(2,-W),n=c(t,r),i=c(t,2*r),a=f(e,n,i),s=C(a.root,e,n);return{paddedDomain:n,rootDomain:i,quadTree:a,triangles:s,contours:R(s,e,n)}}function s(e,t,r){return{x:e,y:t,z:r}}function o(e,t,r){return{x:e,y:t,isZero:r}}function u(e,t,r){return{vertices:[e,t,r],visited:!1,next:void 0}}function c(e,t){var r=(1+t)*e.xmin-t*e.xmax,n=(1+t)*e.xmax-t*e.xmin;return{xmin:r,ymin:(1+t)*e.ymin-t*e.ymax,xmax:n,ymax:(1+t)*e.ymax-t*e.ymin,xtolerance:e.xtolerance,ytolerance:e.ytolerance}}function l(e,t){return{depth:e,vertices:t,children:void 0,center:void 0}}function p(e,t,r){e.center=E(e.vertices[0],e.vertices[1],e.vertices[2],e.vertices[3],t,r)}function f(e,t,r){var n=h(e,r),i=[],a=[];a.push(n);var s=1,o=!0;e:for(;a.length;){var u=i;i=a,a=u;for(var c=void 0;c=i.pop();)if(m(c,e,t)){if(d(c,e),!c.children){o=!1;break e}if(a.push(c.children[0]),a.push(c.children[1]),a.push(c.children[2]),a.push(c.children[3]),(s+=3)>=Y){o=!1;break e}}else p(c,e,t)}for(var l=0;l<i.length;l++)p(i[l],e,t);for(var l=0;l<a.length;l++)p(a[l],e,t);return{root:n,resolved:o}}function h(e,t){var r=t.xmin,n=t.xmax,i=t.ymin,a=t.ymax;return l(0,[_(r,a,e),_(n,a,e),_(n,i,e),_(r,i,e)])}function d(e,t){var r=e.depth+1,n=e.vertices[0],i=e.vertices[1],a=e.vertices[2],s=e.vertices[3],o=M(n,i,t),u=M(i,a,t),c=M(a,s,t),p=M(s,n,t),f=M(n,a,t);e.children=[l(r,[n,o,f,p]),l(r,[o,i,u,f]),l(r,[f,u,a,c]),l(r,[p,f,c,s])]}function m(e,t,r){if(e.depth<W)return!0;if(b(e,r))return!1;if(v(e,r))return!1;var n=e.vertices[0],i=e.vertices[1],a=e.vertices[2],s=e.vertices[3];if(isNaN(n.z)&&isNaN(i.z)&&isNaN(a.z)&&isNaN(s.z))return!1;if(isNaN(n.z)||isNaN(i.z)||isNaN(a.z)||isNaN(s.z))return!0;var o=E(n,i,a,s,t,r),u=S(n,i,t,r),c=S(i,a,t,r),l=S(a,s,t,r),p=S(s,n,t,r);return y(n,u,t)||y(i,u,t)||y(i,c,t)||y(a,c,t)||y(a,l,t)||y(s,l,t)||y(s,p,t)||y(n,p,t)||g(n,u,o,t,r)||g(u,i,o,t,r)||g(i,c,o,t,r)||g(c,a,o,t,r)||g(a,l,o,t,r)||g(l,s,o,t,r)||g(s,p,o,t,r)||g(p,n,o,t,r)}function g(e,t,n,i,a){if(e.z>0==t.z>0&&t.z>0==n.z>0)return!1;var s,o,u,c;if(e.z>0==t.z>0){if(s=M(e,t,i),s.z>0!=e.z>0)return!0;o=D(e,n,i,a),u=D(t,n,i,a),c=D(s,n,i,a)}else if(t.z>0==n.z>0){if(s=M(t,n,i),s.z>0!=t.z>0)return!0;o=D(t,e,i,a),u=D(n,e,i,a),c=D(s,e,i,a)}else{if(s=M(n,e,i),s.z>0!=n.z>0)return!0;o=D(n,t,i,a),u=D(e,t,i,a),c=D(s,t,i,a)}var l=a.xtolerance,p=a.ytolerance;return r.pointToSegment(p*c.x,l*c.y,p*o.x,l*o.y,p*u.x,l*u.y)>l*p}function y(e,t,r){if(isNaN(e.z)&&isNaN(t.z))return!1;if(isNaN(e.z)||isNaN(t.z))return e.z>0||t.z>0;var n=M(e,t,r),i=4*n.z-t.z-3*e.z,a=(r(.9999*e.x+1e-4*t.x,.9999*e.y+1e-4*t.y)-e.z)/1e-4,s=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.abs(i-a)>.125*s}function v(e,t){return e.vertices[1].x-e.vertices[0].x<10*t.xtolerance||e.vertices[0].y-e.vertices[3].y<10*t.ytolerance}function b(e,t){return e.vertices[0].x<t.xmin||e.vertices[0].y>t.ymax||e.vertices[2].x>t.xmax||e.vertices[2].y<t.ymin}function x(e,t){return e.x<t.xmin||e.x>t.xmax||e.y<t.ymin||e.y>t.ymax}function _(e,t,r){return s(e,t,r(e,t))}function M(e,t,r){return _(.5*(e.x+t.x),.5*(e.y+t.y),r)}function S(e,t,r,n){if(x(e,n)||x(t,n))return M(e,t,r);if(isNaN(e.z)||isNaN(t.z))return T(e,t,r,n);if(e.z>0!=t.z>0)return M(e,t,r);var i=r(.99*e.x+.01*t.x,.99*e.y+.01*t.y)-e.z,a=t.z-r(.01*e.x+.99*t.x,.01*e.y+.99*t.y);return isNaN(i)||isNaN(a)?M(e,t,r):i>0==a>0?M(e,t,r):w(s(e.x,e.y,i),s(t.x,t.y,a),r)}function E(e,t,r,n,i,a){var s=S(e,r,i,a);return e.z>0==r.z>0&&s.z>0!=e.z>0?s:(s=S(t,n,i,a),t.z>0==n.z>0&&s.z>0!=t.z>0?s:M(e,r,i))}function w(e,t,r){if(isNaN(e.z))return t;if(isNaN(t.z))return e;if(isFinite(e.z)||isFinite(t.z)){if(isFinite(e.z)){if(isFinite(t.z)){var n=1-e.z/t.z,i=1-t.z/e.z;return _(e.x/n+t.x/i,e.y/n+t.y/i,r)}return e}return t}return M(e,t,r)}function D(e,t,r,n){var i=e.x,a=t.x,u=e.y,c=t.y,l=e.z,p=t.z,f=n.xtolerance,h=n.ytolerance;if(x(e,n)||x(t,n)){var d=M(e,t,r);return o(d.x,d.y,!1)}for(;Math.abs(i-a)>f||Math.abs(u-c)>h;){var m=.5*(i+a),g=.5*(u+c),y=r(m,g);y>0==l>0?(i=m,u=g,l=y):(a=m,c=g,p=y)}if(isNaN(l))return o(a,c,!1);if(isNaN(p))return o(i,u,!1);var v=w(s(i,u,l),s(a,c,p),r),b=0===l||0===p||0===v.z||v.z>=l==p>=v.z&&Math.abs(v.z)<1e250;return o(v.x,v.y,b)}function T(e,t,r,n){if(isNaN(e.z)===isNaN(t.z))return M(e,t,r);if(isNaN(e.z)){var i=e;e=t,t=i}for(var a=e.x,o=t.x,u=e.y,c=t.y,l=e.z,p=n.xtolerance,f=n.ytolerance;Math.abs(a-o)>p||Math.abs(u-c)>f;){var h=.5*(a+o),d=.5*(u+c),m=r(h,d);isNaN(m)===isNaN(l)?(a=h,u=d,l=m):(o=h,c=d)}return s(a,u,l)}function C(e,t,r){var n={triangles:[],edgeCache:{},domain:r,fn:t};return I(e,n),n.triangles}function I(e,t){e.children&&(I(e.children[0],t),I(e.children[1],t),I(e.children[2],t),I(e.children[3],t),P(e.children[0],e.children[1],t),P(e.children[3],e.children[2],t),O(e.children[1],e.children[2],t),O(e.children[0],e.children[3],t))}function P(e,t,r){e.children&&t.children?(P(e.children[1],t.children[0],r),P(e.children[2],t.children[3],r)):e.children?(P(e.children[1],t,r),P(e.children[2],t,r)):t.children?(P(e,t.children[0],r),P(e,t.children[3],r)):N(e,t,r)}function O(e,t,r){e.children&&t.children?(O(e.children[2],t.children[1],r),O(e.children[3],t.children[0],r)):e.children?(O(e.children[2],t,r),\nO(e.children[3],t,r)):t.children?(O(e,t.children[1],r),O(e,t.children[0],r)):A(e,t,r)}function N(e,t,r){if(e.center&&t.center){var n,i;e.depth>=t.depth?(n=S(e.vertices[1],e.vertices[2],r.fn,r.domain),i=L(e.vertices[1],t.center,e.vertices[2],e.center,n)):(n=S(t.vertices[0],t.vertices[3],r.fn,r.domain),i=L(t.vertices[0],t.center,t.vertices[3],e.center,n)),k(i,r.edgeCache,r.domain);for(var a=0;a<4;a++)r.triangles.push(i[a])}}function A(e,t,r){if(e.center&&t.center){var n,i;e.depth>=t.depth?(n=S(e.vertices[3],e.vertices[2],r.fn,r.domain),i=L(e.vertices[2],t.center,e.vertices[3],e.center,n)):(n=S(t.vertices[1],t.vertices[0],r.fn,r.domain),i=L(t.vertices[1],t.center,t.vertices[0],e.center,n)),k(i,r.edgeCache,r.domain);for(var a=0;a<4;a++)r.triangles.push(i[a])}}function L(e,t,r,n,i){return[u(e,i,t),u(t,i,r),u(r,i,n),u(n,i,e)]}function q(e,t,r){return e.z>0&&!x(e,r)&&(!(t.z>0)||x(t,r))}function F(e,t){return e.x+","+e.y+","+t.x+","+t.y}function k(e,t,r){V(e[0],e[1],e[2],F(e[1].vertices[2],e[1].vertices[0]),t,r),V(e[1],e[2],e[3],F(e[2].vertices[0],e[2].vertices[2]),t,r),V(e[2],e[3],e[0],F(e[3].vertices[2],e[3].vertices[0]),t,r),V(e[3],e[0],e[1],F(e[0].vertices[0],e[0].vertices[2]),t,r)}function V(e,t,r,n,i,a){var s=t.vertices[0],o=t.vertices[1],u=t.vertices[2];q(o,u,a)&&(t.next=r),q(s,o,a)&&(t.next=e),q(u,s,a)&&j(t,n,i),q(s,u,a)&&B(t,n,i)}function B(e,t,r){r[t]?r[t].next=e:r[t]=e}function j(e,t,r){r[t]?e.next=r[t]:r[t]=e}function R(e,t,r){for(var i={fillAccumulator:new n.default(r),strokeAccumulator:new n.default(r),fn:t,domain:r},a=0;a<e.length;a++){var s=e[a];s.next&&!s.visited&&z(s,i)}return{strokeSegments:i.strokeAccumulator.finish().segments,fillSegments:i.fillAccumulator.finish().segments}}function z(e,t){for(;;){var r=e.vertices[0],n=e.vertices[1],i=e.vertices[2];if(G(r,n,t),G(n,i,t),G(i,r,t),e.visited)break;if(!e.next)break;e.visited=!0,e=e.next}t.strokeAccumulator.breakSegment(),t.fillAccumulator.breakSegment()}function G(e,t,r){if(q(e,t,r.domain)){var n=D(e,t,r.fn,r.domain);r.fillAccumulator.addPoint([n.x,n.y]),n.isZero?r.strokeAccumulator.addPoint([n.x,n.y]):r.strokeAccumulator.breakSegment()}}function U(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push([n.vertices[0].x,n.vertices[0].y,n.vertices[1].x,n.vertices[1].y,n.vertices[2].x,n.vertices[2].y,n.vertices[0].x,n.vertices[0].y])}return t}Object.defineProperty(t,"__esModule",{value:!0});var W=5,Y=Math.pow(2,14);t.sampleImplicit=i,t.sampleImplicitDiagnostic=a,t.buildQuadTree=f,t.triangulate=C,t.traceContours=R,t.displayTriangles=U}),define("worker/workerconfig",[],function(){return{pointsOfInterest:!0,plotSingleVariableImplicitEquations:!0}}),function(){var e,t,r,n,i,a,s,o,u,c,l,p,f,h,d,m,g={};!function(e){function t(e,t){return function(r,n){return e[r]=t?t(r,n):n}}var r="object"==typeof g?g:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof define&&define.amd?define("tslib",["exports"],function(n){e(t(r,t(n)))}):e("object"==typeof module&&"object"==typeof module.exports?t(r,t(module.exports)):t(r))}(function(g){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};e=function(e,t){function r(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]]);return r},n=function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=function(e,t){return function(r,n){t(r,n,e)}},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,o)}u((n=n.apply(e,t||[])).next())})},o=function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(s=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){u.label=r[1];break}if(6===r[0]&&u.label<s[1]){u.label=s[1],s=r;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(r);break}s[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,s,o,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},u=function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])},c=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},f=function(e){return this instanceof f?(this.v=e,this):new f(e)},h=function(e,t,r){function n(e){l[e]&&(c[e]=function(t){return new Promise(function(r,n){p.push([e,t,r,n])>1||i(e,t)})})}function i(e,t){try{a(l[e](t))}catch(e){u(p[0][3],e)}}function a(e){e.value instanceof f?Promise.resolve(e.value.v).then(s,o):u(p[0][2],e)}function s(e){i("next",e)}function o(e){i("throw",e)}function u(e,t){e(t),p.shift(),p.length&&i(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=r.apply(e,t||[]),p=[];return c={},n("next"),n("throw"),n("return"),c[Symbol.asyncIterator]=function(){return this},c},d=function(e){function t(t,i){e[t]&&(r[t]=function(r){return(n=!n)?{value:f(e[t](r)),done:"return"===t}:i?i(r):r})}var r,n;return r={},t("next"),t("throw",function(e){throw e}),t("return"),r[Symbol.iterator]=function(){return this},r},m=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof c?c(e):e[Symbol.iterator]()},g("__extends",e),g("__assign",t),g("__rest",r),g("__decorate",n),g("__param",i),g("__metadata",a),g("__awaiter",s),g("__generator",o),g("__exportStar",u),g("__values",c),g("__read",l),g("__spread",p),g("__await",f),g("__asyncGenerator",h),g("__asyncDelegator",d),g("__asyncValues",m)})}(),define("math/poi-finding-accumulator",["require","exports","worker/workerconfig","tslib","./curve-accumulator","./poi"],function(e,t,r,n,i,a){"use strict";function s(e){return Math.abs(e)<5e-8}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.domain=t,i.fn=r,i.derivative=n,i.poiData={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}},i.zeroBuffer=[],i.extremumBuffer=[],i}return n.__extends(t,e),t.prototype.getPOI=function(){return r.pointsOfInterest?(void 0!==this.fn&&(this.poiData.intercept=this.findIntercept(this.fn)),this.poiData):{zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}}},t.prototype.addLinearZero=function(e){var t=-e[0]/e[1];this.isOutsideDomain(t)||(this.poiData.zeros={x:[t],y:[0]})},t.prototype.addLinearIntercept=function(e){this.isOutsideDomain(0)||(this.poiData.intercept={x:[0],y:[e[0]]})},t.prototype.isOutsideDomain=function(e){return!this.domain||void 0===this.domain.min||void 0===this.domain.max||(e<this.domain.min||e>this.domain.max||isNaN(e))},t.prototype.addPoint=function(t){0===this.segment.length&&s(t[1])&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.updateZeroBuffer(t),this.updateExtremumBuffer(t),e.prototype.addPoint.call(this,t)},t.prototype.updateZeroBuffer=function(e){if(this.fn){if(!isFinite(e[0])||!isFinite(e[1]))return void(this.zeroBuffer.length=0);switch(this.zeroBuffer.length){case 0:if(s(e[1]))return;return void this.zeroBuffer.push(e);case 1:if(0===e[1])return void this.zeroBuffer.push(e);if(e[1]>0!=this.zeroBuffer[0][1]>0){var t=a.default.bisectZero(this.zeroBuffer[0][0],this.zeroBuffer[0][1],e[0],e[1],this.fn);return t&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}return this.zeroBuffer.length=0,void this.zeroBuffer.push(e);case 2:if(0===e[1])return;if(e[1]>0!=this.zeroBuffer[0][1]>0){var t=a.default.flatCenter(this.zeroBuffer[0][0],this.zeroBuffer[0][1],this.zeroBuffer[1][0],this.zeroBuffer[1][1],e[0],e[1],this.fn);return t&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}return this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}}},t.prototype.updateExtremumBuffer=function(e){if(this.fn){if(!isFinite(e[0])||!isFinite(e[1]))return void(this.zeroBuffer.length=0);switch(this.extremumBuffer.length){case 0:return void this.extremumBuffer.push(e);case 1:return e[1]===this.extremumBuffer[0][1]&&(this.extremumBuffer.length=0),void this.extremumBuffer.push(e);case 2:if(e[1]===this.extremumBuffer[1][1])return void this.extremumBuffer.push(e);if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){var t=this.bisectExtremumUsingDerivative(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1]);if(t){this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1]);!!!a.default.bisectJump(this.extremumBuffer[0][0],this.extremumBuffer[0][1],t[0],t[1],e[0],e[1],this.fn,this.ytolerance)&&t[0]>this.segment[this.segment.length-2]&&(this.pendingPoint=t)}return this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),void this.extremumBuffer.push(e);case 3:if(e[1]===this.extremumBuffer[1][1])return;if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){var t=a.default.flatCenter(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1],this.fn);return t&&(this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1])),this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}}},t.prototype.bisectExtremumUsingDerivative=function(e,t,r,n,i,s){if(this.fn){var o;if(this.derivative){var u=this.derivative(e),c=this.derivative(i);if(!isNaN(u)&&!isNaN(c)&&u<0!=c<0){var l=a.default.bisectZero(e,u,i,c,this.derivative);l&&(o=[l[0],this.fn(l[0])])}}return o||(o=a.default.bisectExtremum(e,t,r,n,i,s,this.fn)),o}},t.prototype.breakSegment=function(){this.zeroBuffer.length=0,this.extremumBuffer.length=0,this.flushPending(),this.segment.length>2&&(this.segments.push(this.segment),s(this.segment[this.segment.length-1])&&(this.poiData.zeros.x.push(this.segment[this.segment.length-2]),this.poiData.zeros.y.push(this.segment[this.segment.length-1]))),this.segment=[]},t.prototype.findIntercept=function(e){if(!e)return{x:[],y:[]};var t=e(0);return isFinite(t)?{x:[0],y:[e(0)]}:{x:[],y:[]}},t.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0,poi:this.getPOI()}},t}(i.default);t.default=o}),define("graphing/graphmode",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.X=1,t.Y=2,t.XYPOINT=3,t.XYPOINT_MOVABLE=4,t.PARAMETRIC=5,t.POLAR=6,t.POLYGONFILL=7,t.IMPLICIT=8,t.NONE=10,t.VISUALIZATION=11}),define("math/domaintypes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyDomain=function(){return{type:"empty"}},t.unknownDomain=function(){return{type:"unknown"}},t.knownDomain=function(e){return isNaN(e[0])||isNaN(e[1])||e[1]<e[0]?t.emptyDomain():{type:"known",bounds:e}},t.allReals=function(){return t.knownDomain([-1/0,1/0])},t.intersectDomains=function(e,r){if("empty"===e.type||"empty"===r.type)return t.emptyDomain();if("unknown"===e.type||"unknown"===r.type)return t.unknownDomain();if(e.bounds&&r.bounds){var n=[Math.max(e.bounds[0],r.bounds[0]),Math.min(e.bounds[1],r.bounds[1])];return t.knownDomain(n)}return t.emptyDomain()}}),define("math/plotter",["require","exports","./distance","./poi","./implicit-plotter","./curve-accumulator","./poi-finding-accumulator","graphing/graphmode","./domaintypes"],function(e,t,r,n,i,a,s,o,u){"use strict";function c(e,t){for(var r,n=new s.default(t,e),i=t.min;i<=t.max+t.step/2;i+=t.step)r=e(i),isFinite(r)?n.addPoint([i,r]):n.breakSegment();return n.finish()}function l(e,t){var r=new s.default(t),n=e[0]+t.min*e[1],i=e[0]+t.max*e[1];return isFinite(n)&&isFinite(i)?(r.addPoint([t.min,n]),r.addPoint([t.max,i]),r.addLinearZero(e),r.addLinearIntercept(e),r.finish()):r.finish()}function p(e,t){var r=l(e[0],t),n=l(e[1],t);return r.segments.length&&n.segments.length&&4===r.segments[0].length&&4===n.segments[0].length?{segments:[[r.segments[0][1],n.segments[0][1],r.segments[0][3],n.segments[0][3]]],resolved:!0}:{segments:[],resolved:!0}}function f(e,t){var r=e(t),n=r[0],i=r[1];return{segments:[[n,i,n,i]],resolved:!0}}function h(e,t,i){var a=i.fn,s=i.jumpTolerance,o=e[0],u=e[1],c=t[0],l=t[1],p=r.mean(o,c),f=a(p);return n.default.bisectJump(o,u,p,f,c,l,a,s)}function d(e,t,r){var n=t,i=e(n);return isFinite(i)||(n=t+r,i=e(n)),isFinite(i)||(n=t-r,i=e(n)),[n,i]}function m(e,t,r){var i,a,s,o,u,c,l,p=new I(e,t,r),f=t.step/10,h=t.min;i=d(e,h,f),l=i[0],c=i[1];var m=[l,c];isFinite(c)&&p.accumulator.addPoint([l,c]);for(var g=Math.ceil((t.max-t.min)/t.step),y=1;y<=g;y++)h=(g-y)/g*t.min+y/g*t.max,a=d(e,h,f),l=a[0],c=a[1],isFinite(c)&&isFinite(m[1])?(s=C(m,[l,c],p),l=s[0],c=s[1],p.accumulator.addPoint([l,c])):isFinite(c)&&!isFinite(m[1])?(u=n.default.bisectFinite(m[0],m[1],l,c,e))&&(u[0]!==l&&p.accumulator.addPoint(u),o=C(u,[l,c],p),l=o[0],c=o[1],p.accumulator.addPoint([l,c])):!isFinite(c)&&isFinite(m[1])&&(u=n.default.bisectFinite(m[0],m[1],l,c,e))&&(u=C(m,u,p),u[0]!==m[0]&&p.accumulator.addPoint(u),p.accumulator.breakSegment()),m=[l,c];return p.accumulator.finish()}function g(e){for(var t=e.fn,r=e.domain,n=r.min,i=r.max,a=Math.floor(n),s=Math.ceil(i),o=[],u=a;u<=s;u++){var c=t(u);isFinite(u)&&isFinite(c)&&o.push([u,c])}return{segments:o,resolved:!0}}function y(e,t,r,n){function i(e,t){var i=t%2==0?1:-1;if(!n&&-1===i)return!1;for(var a=t*(Math.PI/r),s=[u,u+1,u+2,u+3],o=!1,c=0,p=s.length;c<p;c++){var f=e(s[c]),h=e(s[c]+a);if(isFinite(f)&&isFinite(h)&&(o=!0),isFinite(f)!==isFinite(h)||Math.abs(f-i*h)>l)return!1}return!!o}var a,s,o,u=t.min,c=t.max-t.min,l=t.xtolerance&&t.ytolerance?Math.min(t.xtolerance,t.ytolerance):t.tolerance?t.tolerance:0,p=Math.floor(c/(Math.PI/r));for(a=1;a<=p;a++)if(i(e,a)){for(o=a,s=2;s*a<=p;s++)i(e,s*a)||(o=void 0);if(o)break}return o?o*(Math.PI/r):null}function v(e){return[e[1]*Math.cos(e[0]),e[1]*Math.sin(e[0])]}function b(e,t){return t.map=v,m(e,t)}function x(e,t){for(var r=e.min,n=e.max,i=e.step,a=n-r,s=Math.ceil(a/i),o=a/s,u=0;u<s;u++)t(r+u*o);t(n)}function _(e,t){if(t.max<t.min)return{segments:[],resolved:!0};var r=new a.default(t),n=t.min,i=e(n);isFinite(i[0])&&isFinite(i[1])&&r.addPoint(i);var s;return x(t,function(t){s=e(t),M(e,n,i,t,s,10,r),n=t,i=s}),r.finish()}function M(e,t,n,i,a,s,o){if(i!==t){var u=o.xtolerance,c=o.ytolerance,l=r.mean(t,i),p=e(l),f=isFinite(n[0])&&isFinite(n[1]),h=isFinite(a[0])&&isFinite(a[1]),d=isFinite(p[0])&&isFinite(p[1]);if(0===s||l===t||l===i)return o.breakSegment(),void(h&&o.addPoint(a));if(f||h){if(f!==h){for(var m=t,g=i,y=n,v=a;t!==l&&l!==i;)d==f?(t=l,n=p,f=d):(i=l,a=p,h=d),l=t+(i-t)/2,p=e(l),d=isFinite(p[0])&&isFinite(p[1]);return void(f?(M(e,m,y,t,n,s-1,o),o.breakSegment()):(o.breakSegment(),o.addPoint(a),M(e,i,a,g,v,s-1,o)))}if(f&&d&&h){var b=r.pointToSegmentParameter(p[0],p[1],n[0],n[1],a[0],a[1]);if(b>.2&&b<.8&&Math.abs(p[0]-(n[0]+b*(a[0]-n[0])))<=u&&Math.abs(p[1]-(n[1]+b*(a[1]-n[1])))<=c)return void o.addPoint(a)}n[0]===p[0]&&n[1]===p[1]||M(e,t,n,l,p,s-1,o),a[0]===p[0]&&a[1]===p[1]||M(e,l,p,i,a,s-1,o)}}}function S(e){if(!e)return!1;var t=e.viewport.xmin,r=e.viewport.xmax,n=e.viewport.ymin,i=e.viewport.ymax;return!(!isFinite(t)||!isFinite(r)||r<=t)&&(!(!isFinite(n)||!isFinite(i)||i<=n)&&(!(!isFinite(e.screen.width)||e.screen.width<=0)&&!(!isFinite(e.screen.height)||e.screen.height<=0)))}function E(e,t,r){var n,i,a=e.viewport.xmin,s=e.viewport.xmax,c=e.viewport.ymin,l=e.viewport.ymax,p=e.trigAngleMultiplier||1,f=e.oversample||4,h=1/f*(s-a)/e.screen.width,d=1/f*(l-c)/e.screen.height,m=t.domainBound;switch(t.graphMode){case o.X:switch(n=u.intersectDomains(u.knownDomain([c,l]),m),n.type){case"empty":return!1;case"known":c=n.bounds[0],l=n.bounds[1]}i={min:c,max:l,xtolerance:d,ytolerance:h,step:d};break;case o.Y:switch(n=u.intersectDomains(u.knownDomain([a,s]),m),n.type){case"empty":return!1;case"known":a=n.bounds[0],s=n.bounds[1]}i={min:a,max:s,xtolerance:h,ytolerance:d,step:h};break;case o.POLAR:if(!t.domain)throw new Error("Expected polar graph to have domain");if(i={min:t.domain.min,max:t.domain.max,step:2*Math.PI/p/1e3,tolerance:Math.min(h,d)},!t.domain.isExplicit){var g=y(r,i,p,"="===t.operator);g&&(i.max=i.min+g)}i.step=Math.max(i.step,(i.max-i.min)/11999);break;case o.PARAMETRIC:var v=t.domain?t.domain.min:0,b=t.domain?t.domain.max:1,x=t.domain?t.domain.step:.01;switch(n=u.intersectDomains(u.knownDomain([v,b]),m),n.type){case"empty":return!1;case"known":v=n.bounds[0],b=n.bounds[1]}i={min:v,max:b,step:x,xtolerance:h,ytolerance:d};break;case o.IMPLICIT:i={xmin:a,xmax:s,ymin:c,ymax:l,xtolerance:h,ytolerance:d};break;default:return!1}return i}function w(e){var t,r,n,a=e.viewState,s=e.graphInfo,u=e.compiled,c=e.derivative,h=e.discrete,d=e.maxOverride,y=u.fn,v=E(a,s,y),x=s.graphMode;if(v){switch(x){case o.X:case o.Y:var M=c?c.fn:void 0;if(h){var S=v,w=S.min,D=S.max,T=S.step;t=g({fn:y,domain:{min:Math.max(w,0),max:void 0!==d?Math.min(d,D):D,step:T}})}else t=s.isLinear?l(s.linearCoefficients,v):m(y,v,M);break;case o.POLAR:t=b(y,v);break;case o.IMPLICIT:t=i.sampleImplicit(y,v);break;case o.PARAMETRIC:v.step||(v.step=(v.max-v.min)/1e3),t=v.max===v.min?f(y,v.min):s.isLinear?p(s.linearCoefficients,v):_(y,v);break;default:throw new Error("Programming Error: unexpected graphmode "+x)}n=t.poi}else t={segments:[],resolved:!0};if((!n||n.zeros.x.length+n.extrema.x.length+n.intercept.x.length>250)&&(n={zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}}),x===o.X)for(var C in n)if(n.hasOwnProperty(C)){var I=C;r=n[I].y,n[I].y=n[I].x,n[I].x=r}var P={segments:t.segments,resolved:t.resolved,graphMode:x,color:s.color,style:h?s.pointStyle:s.lineStyle,operator:s.operator,poi:n,compiled:u};if(x===o.POLAR){var O=v;P.sampledDomain={min:O.min,max:O.max,step:O.step}}return t.fillSegments&&(P.fillSegments=t.fillSegments),P}function D(e,t,r){var n,i,a,s,u=[],c=null;switch(r){case o.POLAR:c=v;break;case o.X:c=function(e){return[e[1],e[0]]}}for(n=0;n<e.length;n++)for(s=e[n],i=0;i<s.length;i+=2)a=[s[i],s[i+1]],c&&(a=c(a)),u.push(a[0],a[1]);for(n=t.length-1;n>=0;n--)for(s=t[n],i=s.length-2;i>=0;i-=2)a=[s[i],s[i+1]],c&&(a=c(a)),u.push(a[0],a[1]);return u}function T(e,t,n){for(var i=function(e){var t=e[e.length-1];return t[t.length-2]},a=[],s=0,o=0,u=[],c=[],l=-1/0,p=-1/0;;){if(l<=p){if(s>=t.length)break;c.push(t[s++])}if(p<=l){if(o>=e.length)break;u.push(e[o++])}if(l=i(c),p=i(u),r.approx(l,p,4)){a.push(D(u,c,n)),c=[],u=[];var f=Math.max(l,p);l=f,p=f}}return a}Object.defineProperty(t,"__esModule",{value:!0});var C=function(e,t,r){var n=r.fn,i=r.jumpTolerance,a=r.accumulator;if(!isFinite(i)||i<=0)return t;var s=h(e,t,r);if(!s)return t;for(var o=(t[0]-e[0])/10,u=[-o,o],c=t,l=0;l<u.length;l++){var p=e[0]+u[l],f=n(p);isFinite(f)||(p=e[0],f=e[1],p=e[0],f=e[1]);var d=t[0]+u[l],m=n(d);if(isFinite(m)?c=[d,m]:(d=t[0],m=t[1]),h([p,f],[d,m],r)){var g=s[0],y=s[1];return a.addPoint(g),a.breakSegment(),a.addPoint(y),t}}return c},I=function(){function e(e,t,r){this.derivative=r,this.accumulator=new s.default(t,e,r),this.fn=e,this.jumpTolerance=t.ytolerance||t.tolerance||0}return e}();t.default={sampleXYNaive:c,sampleLinear:l,sampleXY:m,findPiPeriod:y,samplePolar:b,sampleParametricRecursive:_,subsampleParametricRecursive:M,validateViewState:S,computeDomain:E,computeGraphData:w,polygonsFromSegments:T}}),define("lib/worker-i18n",["require","exports"],function(e,t){"use strict";function r(e,t){return{msg:e,vars:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.t=r}),define("math/mathshim",["require"],function(e){var t={};return t.cosh=Math.cosh||function(e){return.5*(Math.exp(e)+Math.exp(-e))},t.sinh=Math.sinh&&0!==Math.sinh(1e-20)?Math.sinh:function(e){var r=e>0?1:-1;return e=e>0?e:-e,.5*-r*Math.exp(e)*t.expm1(-2*e)},t.tanh=Math.tanh&&0!==Math.tanh(1e-20)?Math.tanh:function(e){var r=e>0?1:-1;e=e>0?e:-e;var n=t.expm1(-2*e);return-r*n/(2+n)},t.acosh=Math.acosh||function(e){return e<1?NaN:Math.log(e+t.sqrtxsqm1(e))},t.asinh=Math.asinh&&0!==Math.asinh(1e-20)?Math.asinh:function(e){var r=e>0?1:-1;return e=e>0?e:-e,1+e*e==1?r*t.log1p(e):r*Math.log(e+t.sqrtxsqp1(e))},t.atanh=Math.atanh&&0!==Math.atanh(1e-20)?Math.atanh:function(e){return.5*(t.log1p(e)-t.log1p(-e))},t.expm1=Math.expm1||function(e){return e+.5*e*e===e?e:Math.exp(e)-1},t.log1p=Math.log1p||function(e){return e-.5*e*e===e?e:Math.log(1+e)},t.sqrtxsqp1=function(e){var t=e*e;return 1+t===1?1:1+t===t?Math.abs(e):Math.sqrt(t+1)},t.sqrtxsqm1=function(e){var t=e*e;return t<1?NaN:t-1===t?Math.abs(e):Math.sqrt(t-1)},t}),define("math/quadrature",["require","math/mathshim","math/poi"],function(e){"use strict";function t(e,t,r){return.5*(t*(2-r)+e*r)}function r(e,t,r){var n=.5*(t+r),i=l(t,e(t),n,e(n),r,e(r),e,0);return i?.5*(i[0][0]+i[1][0]):n}function n(e,t,r,n,i){return{x1:e,x2:t,value:r,error:n,minerror:i}}function i(e,r,n){var i=Math.abs(e(t(r,n,d))),a=Math.abs(e(t(r,n,2*d)));return!(i<d||a<d)&&i>1.95*a}function a(e,r,a){var s,o,u=t(a,r,v[0]),c=t(r,a,v[0]),l=e(u),f=e(c),h=t(r,a,1),d=e(h);if(isFinite(d)&&!isFinite(l)){if(s=p(u,l,h,d,e),Math.abs((s[0]-r)/(a-r))>g)return n(r,a,NaN,NaN,NaN);r=s[0],l=s[1]}if(isFinite(d)&&!isFinite(f)){if(o=p(h,d,c,f,e),Math.abs((o[0]-a)/(a-r))>g)return n(r,a,NaN,NaN,NaN);a=o[0],f=o[1]}if(isFinite(l)&&isFinite(f)&&!isFinite(d)){if(s=p(u,l,h,d,e),o=p(h,d,c,f,e),Math.abs((o[0]-s[0])/(a-r))>g)return n(r,a,NaN,NaN,NaN);d=.5*(s[1]+o[1])}if(i(e,r,a)||i(e,a,r))return n(r,a,NaN,NaN,NaN);for(var m=d,x=0,_=0,S=0,E=0,w=0,D=0,T=0;T<y;T+=4)w=e(t(r,a,v[T])),D=e(t(a,r,v[T])),E=Math.max(E,Math.abs(w),Math.abs(D)),x+=b[T]*(w+D),w=e(t(r,a,v[T+1])),D=e(t(a,r,v[T+1])),E=Math.max(E,Math.abs(w),Math.abs(D)),S+=b[T+1]*(w+D),w=e(t(r,a,v[T+2])),D=e(t(a,r,v[T+2])),E=Math.max(E,Math.abs(w),Math.abs(D)),_+=b[T+2]*(w+D),w=e(t(r,a,v[T+3])),D=e(t(a,r,v[T+3])),E=Math.max(E,Math.abs(w),Math.abs(D)),S+=b[T+3]*(w+D);var C,I=m+x,P=I+_,O=P+S,N=Math.abs(_-I),A=Math.abs(S-P),L=M*(a-r)*O,q=M*Math.abs(a-r)*E*b[0];return C=0===N?M*Math.abs(a-r)*A:M*Math.abs(a-r)*A*(A/N)*(A/N),C=Math.max(C,q),n(r,a,L,C,q)}function s(e){for(var t=-1/0,r=-1/0,n=-1,i=0,a=0;a<e.length;a++){var s=e[a];i+=s.value,s.error>t&&(t=s.error,n=a),s.minerror>r&&(r=s.minerror)}return{maxerror:t,maxminerror:r,maxindex:n,totalvalue:i}}function o(e,n,i,o){if(void 0===o&&(o=32),!isFinite(n)||!isFinite(i))return NaN;for(var u=[a(e,n,i)],c=s(u),l=1;l<o&&!(Math.abs(c.maxerror/c.totalvalue)<=32*m||c.maxerror<=32*m||c.maxerror<=32*c.maxminerror);l++){var p=u[u.length-1];u[u.length-1]=u[c.maxindex],u[c.maxindex]=p;var f=u.pop(),h=r(e,t(f.x2,f.x1,.125),t(f.x1,f.x2,.125));u.push(a(e,f.x1,h)),u.push(a(e,h,f.x2)),c=s(u)}return Math.abs(c.totalvalue)<=10*c.maxminerror?0:c.totalvalue}var u=e("math/mathshim"),c=e("math/poi").default,l=c.bisectJump,p=c.bisectFinite,f=3.154019550531224,h=Math.pow(2,-13),d=h*h,m=d*d,g=d,y=32,v=[],b=[];!function(e,t){for(var r=y;r>0;r--){var n=f/y*r,i=u.sinh(n),a=u.cosh(Math.PI/2*i),s=1/(Math.exp(Math.PI/2*i)*a),o=u.cosh(n)/(a*a);e.push(s),t.push(o)}}(v,b);for(var x=0,_=0;_<b.length;_++)x+=b[_];var M=1/(1+2*x);return{quad:o}}),define("math/tofraction",["require","exports"],function(e,t){"use strict";function r(e,t){if(void 0===t&&(t=1e6),e===1/0)return{n:1/0,d:1};if(e===-1/0)return{n:-1/0,d:1};if(!isFinite(e))return{n:NaN,d:1};for(var r,n,i,a=0,s=1,o=1,u=0;;){if(r=Math.floor(e),n=r*s+a,(i=r*u+o)>t)break;if(a=s,o=u,s=n,u=i,e===r)break;e=1/(e-r)}return{n:s,d:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define("math/builtin",["require","math/mathshim","math/distance","math/quadrature","math/tofraction","math/poi"],function(e){function t(e,t,r){return Math.max(t,Math.min(r,e))}function r(e){return!(e>1e12)&&Math.round(d*e)*Math.PI===e}function n(e){if(e>1e12)return!1;var t=Math.round(2*d*e);return t%2==1&&t*Math.PI==2*e}function i(e,t,r){return r<0?l.tcdf(-1/0,e,t):r>0?l.tcdf(-1/0,-e,t):2*l.tcdf(-1/0,-Math.abs(e),t)}var a=e("math/mathshim"),s=e("math/distance"),o=e("math/quadrature"),u=e("math/tofraction").default,c=e("math/poi").floatMiddle,l={};l.cosh=a.cosh,l.sinh=a.sinh,l.tanh=a.tanh,l.acosh=a.acosh,l.asinh=a.asinh,l.atanh=a.atanh,l.expm1=a.expm1,l.log1p=a.log1p,l.sqrtxsqp1=a.sqrtxsqp1,l.sqrtxsqm1=a.sqrtxsqm1,l.mod=function(e,t){return e-t*Math.floor(e/t)},l.round=function(e,t){if(void 0===t&&(t=0),0===(t=Math.round(t)))return Math.round(e);var r=Math.pow(10,t);return Math.round(e*r)/r},l.sign=Math.sign||function(e){return 0===e?0:e>0?1:e<0?-1:NaN},l.lcm=function(e,t){e=Math.round(e),t=Math.round(t);var r=l.gcd(e,t);return Math.abs(e/r*t)},l.gcd=function(e,t){if(e=Math.round(e),t=Math.round(t),e<0&&(e=-e),t<0&&(t=-t),t>e){var r=t;t=e,e=r}if(0===t)return e;for(var n=e%t;n>0;)e=t,t=n,n=e%t;return t},l.listGCD=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=l.gcd(t,e[r]);return t},l.listLCM=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=l.lcm(t,e[r]);return t},l.nCr=function(e,t){if(e=Math.round(e),(t=Math.round(t))>e||e<0||t<0)return 0;if(t===1/0||e===1/0)return NaN;for(var r=1,n=0;n<t;n++)r*=(e-n)/(n+1);return r},l.nPr=function(e,t){if(e=Math.round(e),(t=Math.round(t))>e||e<0||t<0)return 0;if(t===1/0||e===1/0)return NaN;for(var r=1,n=0;n<t;n++)r*=e-n;return r},l.factorial=function(e){return l.gamma(e+1)},l.gamma=function(e){if(e<0)return Math.PI/(l.sin(Math.PI*e)*l.gamma(1-e));if(e>170)return 1/0;var t,r=Math.round(e)===e;return t=e<15?p(e):e<120?f(e):Math.exp(h(e)),r?Math.round(t):t};var p=function(e){var t=1+e*(4.077131788261185+e*(7.024675027156382+e*(6.657107767450176+e*(3.766266976716022+e*(1.2792371666711133+e*(.24304596436338005+.020049769312165774*e)))))),r=1+e*(4.154347453162709+e*(7.270007565107539+e*(6.97805297331391+e*(3.989651532924167+e*(1.367176195613119+e*(.26175627691546965+.021742722739397567*e))))));return Math.E*Math.pow((1+e)/Math.E,1+e)/(e*Math.sqrt(1+e))*(t/r)},f=function(e){var t=e-1;return Math.pow(t,t)*Math.exp(g(t)-t)*Math.sqrt(2*Math.PI*t)},h=function(e){var t=e-1;return t*(Math.log(t)-1)+.5*Math.log(2*Math.PI*t)+g(t)};l.lnGamma=function(e){return e<0?NaN:e<15?Math.log(p(e)):h(e)},l.bernoulliTable=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870],l.cotDerivative=function(e,t){if(e!==Math.floor(e))return NaN;if(e<0)return NaN;if(0===e)return 1/l.tan(t);var r=l.sin(t);if(1===e)return-1/(r*r);var n=l.cos(t);if(2===e)return 2*n/(r*r*r);var i,a,s,o,u,c=[0,2];for(a=3;a<=e;a++){for(i=[],s=0;s<a;s++)o=0,u=0,s>0&&(o=(a-s+1)*c[s-1]),s+2<a&&(u=(s+1)*c[s+1]),i.push(-(o+u));c=i}var p=0;for(s=e-1;s>=0;s--)p=i[s]+n*p;return p/Math.pow(r,e+1)},l.polyGamma=function(e,t){if(e<0)return NaN;if(e!==Math.floor(e))return NaN;var r=e%2==0?-1:1;if(t<0)return-r*l.polyGamma(e,1-t)-Math.pow(Math.PI,e+1)*l.cotDerivative(e,Math.PI*t);for(var n=l.factorial(e),i=0,a=Math.pow(t,-(e+1));t<10;)i+=a,t++,a=Math.pow(t,-(e+1));i+=0===e?-Math.log(t):a*t/e,i+=.5*a;for(var s=l.bernoulliTable,o=e+1,u=2,c=a*t*o/u,p=1/(t*t),f=1;f<=14;f++)c*=p,i+=c*s[f-1],o++,u++,c*=o/u,o++,u++,c*=o/u;return n*r*i},l.toFraction=u,l.log=function(e){var t=Math.log(e);return Math.exp(Math.round(t))===e?Math.round(t):t},l.log_base=function(e,t){if(0===t)return NaN;var r=Math.log(e)/Math.log(t);return Math.pow(t,Math.round(r))===e?Math.round(r):r},l.common_log=function(e){return l.log_base(e,10)},l.pow=function(e,t){if(!isFinite(e)&&0===t)return NaN;if(e>=0||t===Math.floor(t))return Math.pow(e,t);var r=l.toFraction(t,100);return s.approx(r.n/r.d,t,2)&&r.d%2==1?(r.n%2==0?1:-1)*Math.pow(-e,t):NaN},l.nthroot=function(e,t){return l.pow(e,1/t)};var d=1/Math.PI;l.sin=function(e){return r(Math.abs(e))?0:Math.sin(e)},l.cos=function(e){return n(Math.abs(e))?0:Math.cos(e)},l.tan=function(e){var t=Math.abs(e);return r(t)?0:n(t)?1/0:Math.tan(e)},l.sec=function(e){return n(Math.abs(e))?1/0:1/Math.cos(e)},l.csc=function(e){return r(Math.abs(e))?1/0:1/Math.sin(e)},l.cot=function(e){var t=Math.abs(e);return r(t)?1/0:n(t)?0:1/Math.tan(e)},l.acot=function(e){return Math.PI/2-Math.atan(e)},l.acsc=function(e){return Math.asin(1/e)},l.asec=function(e){return Math.acos(1/e)},l.sech=function(e){return 1/l.cosh(e)},l.csch=function(e){return 1/l.sinh(e)},l.coth=function(e){return 1/l.tanh(e)},l.asech=function(e){return l.acosh(1/e)},l.acsch=function(e){return l.asinh(1/e)},l.acoth=function(e){return l.atanh(1/e)},l.mean=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length},l.total=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t};var m=function(e){return e>50?Math.exp(.5*((1-e)*a.log1p(-1/(e-1))-1)+g(.5*(e-1))-g(.5*(e-2)))*Math.sqrt((1-1/e)/(2*Math.PI)):l.gamma((e+1)/2)/(l.gamma(e/2)*Math.sqrt(e*Math.PI))},g=function(e){var t=e*e;return(.08333333333333333-(.002777777777777778-(.0007936507936507937-(.0005952380952380953-.0008417508417508417/t)/t)/t)/t)/e};l.tpdf=function(e,t){return t<=0?NaN:m(t)*Math.pow(1+e*e/t,-(t+1)/2)};var y=function(e,t){if(t>0)return 1-y(e,-t);if(t===-1/0)return 0;var r=Math.sqrt(2*e/(e+1));if(Math.abs(t/r)<.001)return.5*(1+Math.sqrt(Math.PI)*m(e)*r*l.erf(t/r));if(t/e<-1e3){var n=t*t;return m(e)*Math.pow(e,.5*(e-1))*Math.pow(Math.abs(t),-e)*(1-e*e*(e+1)*(1/(2+e)+e*(e+3)/(4*(4+e)*n))/(2*n))}var i=Math.sqrt(t*t+e);return v((t+i)/(2*i),e/2,e/2)};l.tcdf=function(e,t,r){return r<=0?NaN:e===-1/0?y(r,t):e>0&&t>0?y(r,-e)-y(r,-t):y(r,t)-y(r,e)};var v=function(e,t,r){if(e<0||e>1)throw new RangeError("First argument must be between 0 and 1.");if(1===t&&1===r)return e;if(0===e)return 0;if(1===e)return 1;if(0===t)return 1;if(0===r)return 0;var n=Math.exp(l.lnGamma(t+r)-l.lnGamma(t)-l.lnGamma(r)+t*Math.log(e)+r*a.log1p(-e));return e<(t+1)/(t+r+2)?n*b(e,t,r)/t:1-n*b(1-e,r,t)/r},b=function(e,t,r){var n,i,a,s,o,u,c,l,p,f=1;for(c=t+r,p=t+1,l=t-1,a=1,s=1-c*e/p,Math.abs(s)<1e-30&&(s=1e-30),s=1/s,u=s;f<=100&&(n=2*f,i=f*(r-f)*e/((l+n)*(t+n)),s=1+i*s,Math.abs(s)<1e-30&&(s=1e-30),a=1+i/a,Math.abs(a)<1e-30&&(a=1e-30),s=1/s,u*=s*a,i=-(t+f)*(c+f)*e/((t+n)*(p+n)),s=1+i*s,Math.abs(s)<1e-30&&(s=1e-30),a=1+i/a,\nMath.abs(a)<1e-30&&(a=1e-30),s=1/s,o=s*a,u*=o,!(Math.abs(o-1)<3e-7));f++);return u},x=function(e,t,r){return(e-t)/(Math.SQRT2*Math.abs(r))},_=function(e){return e<0?.5*Math.exp(-e*e)*l.erfcx(-e):1-.5*Math.exp(-e*e)*l.erfcx(e)};l.normalcdf=function(e,t,r,n){var i=x(t,r,n);if(e===-1/0)return _(i);var a=x(e,r,n);return e>0&&t>0?_(-a)-_(-i):_(i)-_(a)},l.normalpdf=function(e,t,r){return 1/Math.sqrt(2*Math.PI*r*r)*Math.exp(-(e-t)*(e-t)/(2*r*r))};var M=function(e,t,r){for(var n=r/(1-r),i=Math.pow(1-r,t),a=i,s=1;s<=Math.min(t,e);s++)i*=(t-s+1)/s*n,a+=i;return a};l.binomcdf=function(e,r,n,i){return(n=t(Math.round(n),0,1/0))===1/0?NaN:(i=t(i,0,1),r<0?0:(e=Math.ceil(e),r=Math.floor(r),e===-1/0?M(r,n,i):M(r,n,i)-M(e-1,n,i)))},l.binompdf=function(e,r,n){return e=Math.round(e),(r=t(Math.round(r),0,1/0))===1/0?NaN:(n=t(n,0,1),e<0||e>r?0:l.nCr(r,e)*Math.pow(n,e)*Math.pow(1-n,r-e))},l.poissonpdf=function(e,t){return t<=0?NaN:(e=Math.round(e),e<0?0:Math.exp(-t+e*Math.log(t)-l.lnGamma(e+1)))};var S=function(e,t){if(e===1/0)return 1;if(e<=0)return 0;for(var r=1,n=1,i=1;i<=e;i++){r*=t/i;var a=n;if((n+=r)===a)break}return Math.exp(-t)*n};l.poissoncdf=function(e,t,r){return r<=0?NaN:(e=Math.ceil(e),t=Math.floor(t),t<0?0:e===-1/0?S(t,r):S(t,r)-S(e-1,r))},l.erf=function(e){var t=-e*e;if(t<-750)return e>=0?1:-1;if(e>=.065)return 1-Math.exp(t)*l.erfcx(e);if(e<=-.065)return Math.exp(t)*l.erfcx(-e)-1;return e*(1.1283791670955126+t*(.37612638903183754+t*(.11283791670955126+t*(.026866170645131252+.005223977625442188*t))))},l.erfcx=function(e){if(e<0)return e<-6.1?2*Math.exp(e*e):2*Math.exp(e*e)-l.erfcx(-e);if(e>50){var t=.5641895835477563,r=e*e;return e>5e7?t/e:t*(r*(r+4.5)+2)/(e*(r*(r+5)+3.75))}return(.9999999999999999+e*(2.224574423459406+e*(2.444115549920689+e*(1.7057986861852539+e*(.8257463703357973+e*(.28647031042892007+e*(.07124513844341643+e*(.012296749268608364+e*(.001347817214557592+7263959403471071e-20*e)))))))))/(1+e*(3.352953590554884+e*(5.227518529742423+e*(5.003720878235473+e*(3.266590890998987+e*(1.5255421920765353+e*(.5185887413188858+e*(.12747319185915415+e*(.02185979575963238+e*(.0023889438122503674+.00012875032817508128*e))))))))))},l.invNorm=function(e){var t,r,n;return e>.5?-l.invNorm(1-e):.5===e?0:e<0?NaN:0===e?-1/0:(e<.02425?(t=Math.sqrt(-2*Math.log(e)),n=(((((-.00778489400243029*t-.322396458041136)*t-2.40075827716184)*t-2.54973253934373)*t+4.37466414146497)*t+2.93816398269878)/((((.00778469570904146*t+.32246712907004)*t+2.445134137143)*t+3.75440866190742)*t+1)):(t=e-.5,r=t*t,n=(((((-39.6968302866538*r+220.946098424521)*r-275.928510446969)*r+138.357751867269)*r-30.6647980661472)*r+2.50662827745924)*t/(((((-54.4760987982241*r+161.585836858041)*r-155.698979859887)*r+66.8013118877197)*r-13.2806815528857)*r+1)),n-Math.sqrt(2*Math.PI)*(.5*l.erfcx(-n/Math.SQRT2)-Math.exp(.5*n*n)*e))},l.invPoisson=function(e,t){if(t<=0||e<0||e>1)return NaN;if(0===e)return 0;if(1===e)return 1/0;for(var r=1,n=1,i=1;Math.exp(-t)*n<e;){if(r*=t/i,n+r===n)return 1/0;n+=r,i+=1}return i-1},l.invBinom=function(e,t,r){if(t!==Math.round(t))return NaN;if(r<0||r>1)return NaN;if(e<0||e>1)return NaN;if(0===e)return 0;if(1===e)return t;if(0===t)return 0;if(1===r)return t;if(0===r)return 0;for(var n=r/(1-r),i=Math.pow(1-r,t),a=i,s=1;a<e;){if(i*=(t-s+1)/s*n,a+i===a)return t;if(s>t)return t;a+=i,s+=1}return s-1},l.invT=function(e,t){if(t<=0||e<0||e>1)return NaN;if(0===e)return-1/0;if(1===e)return 1/0;if(1===t||2===t||4===t)return E(t,e);var r,n;return.5===e?0:e>.5?(r=t>1?l.invNorm(e):E(1,e),n=t>1?E(1,e):Math.pow(l.tpdf(0,t)*Math.pow(t,(t-1)/2)/(1-e),1/t),w(t,e,r,n)):-l.invT(1-e,t)};var E=function(e,t){var r=4*t*(1-t);switch(e){case 1:return Math.tan(Math.PI*(t-.5));case 2:return 2*(t-.5)*Math.sqrt(2/r);case 4:var n=Math.cos(Math.acos(Math.sqrt(r))/3)/Math.sqrt(r);return 2*Math.sign(t-.5)*Math.sqrt(n-1);default:throw new Error("_invTSimple() must be called with 1, 2, or 4 df.")}},w=function(e,t,r,n){for(var i,a,s=r,o=n;;){if(i=c(s,o),a=y(e,i),i===s||i===o)return a>t?s:o;a<t?s=i:o=i}};return l.tscore=function(e,t){var r=l.stdev(e);return(l.mean(e)-t)*Math.sqrt(e.length)/r},l.itscore=function(e,t){var r=e.length,n=l.mean(e),i=l.stdev(e),a=t.length,s=l.mean(t),o=l.stdev(t);return(n-s)/(Math.sqrt(((r-1)*i*i+(a-1)*o*o)/(r+a-2))*Math.sqrt(1/r+1/a))},l.ttest=function(e,t){1===arguments.length&&(t=0);var r=l.tscore(e,t),n=e.length-1;return{lessThan:i(r,n,-1),greaterThan:i(r,n,1),notEqual:i(r,n,0)}},l.ittest=function(e,t){var r=l.itscore(e,t),n=e.length+t.length-2;return{lessThan:i(r,n,-1),greaterThan:i(r,n,1),notEqual:i(r,n,0)}},l.stats=function(e){return{min:l.listMin(e),q1:l.quartile(e,1),median:l.median(e),q3:l.quartile(e,3),max:l.listMax(e)}},l.length=function(e){return e.length},l.listMin=function(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]<t&&(t=e[r])}return t},l.listMax=function(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]>=t&&(t=e[r])}return t},l.quantile=function(e,t){if(!isFinite(t)||t<0||t>1)return NaN;var r=e.length,n=l.sortPerm(e),i=t*(r-1);return Math.floor(i)===i?e[n[i]]:(Math.ceil(i)-i)*e[n[Math.floor(i)]]+(i-Math.floor(i))*e[n[Math.ceil(i)]]},l.quartile=function(e,t){if(!isFinite(t)||t<0||t>4)return NaN;var r=l.sortPerm(e),n=l.quartileIndex(e,t),i=Math.floor(n),a=Math.ceil(n);return(e[r[i]]+e[r[a]])/2},l.sortPerm=function(e){for(var t=e.length,r=[],n=0;n<t;n++)r.push(n);return r.sort(function(t,r){return e[t]-e[r]}),r},l.quartileIndex=function(e,t){t=Math.round(t);var r,n=e.length,i=n%2==1;return 1===n?0:(0===t&&(r=0),2===t&&(r=(n-1)/2),4===t&&(r=n-1),1===t&&(r=i?(n+1)/4-1:(n+2)/4-1),3===t&&(r=i?(3*n+3)/4-1:(3*n+2)/4-1),r)},l.upperQuantileIndex=function(e,t){return l.sortPerm(e)[Math.ceil(t*(e.length-1))]+1},l.lowerQuantileIndex=function(e,t){return l.sortPerm(e)[Math.floor(t*(e.length-1))]+1},l.upperQuartileIndex=function(e,t){return l.sortPerm(e)[Math.ceil(l.quartileIndex(e,t))]+1},l.lowerQuartileIndex=function(e,t){return l.sortPerm(e)[Math.floor(l.quartileIndex(e,t))]+1},l.median=function(e){return l.quantile(e,.5)},l.argMin=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++){if(isNaN(e[n]))return 0;e[n]<t&&(r=n,t=e[n])}return r+1},l.argMax=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++)if(e[n]>=t){if(isNaN(e[n]))return 0;r=n,t=e[n]}return r+1},l.varp=function(e){for(var t=l.mean(e),r=0,n=0;n<e.length;n++){var i=e[n]-t;r+=i*i}return r/e.length},l.mad=function(e){for(var t=l.mean(e),r=0,n=0;n<e.length;n++)r+=Math.abs(e[n]-t);return r/e.length},l.var=function(e){var t=e.length;return l.varp(e)*t/(t-1)},l.covp=function(e,t){if(e.length!==t.length)return NaN;for(var r=e.length,n=l.mean(e),i=l.mean(t),a=0,s=0;s<r;s++)a+=(e[s]-n)*(t[s]-i);return a/r},l.cov=function(e,t){if(e.length!==t.length)return NaN;var r=e.length;return l.covp(e,t)*r/(r-1)},l.corr=function(e,t){if(e.length!==t.length)return NaN;for(var r,n,i=e.length,a=l.mean(e),s=l.mean(t),o=0,u=0,c=0,p=0;p<i;p++)r=e[p]-a,n=t[p]-s,o+=r*r,u+=n*n,c+=r*n;return c/Math.sqrt(o*u)},l.stdev=function(e){return Math.sqrt(l.var(e))},l.stdevp=function(e){return Math.sqrt(l.varp(e))},l.quad=o.quad,l.distance=function(e,t){return s.hypot(t[0]-e[0],t[1]-e[1])},l.midpoint=function(e,t){return[.5*(e[0]+t[0]),.5*(e[1]+t[1])]},l}),define("math/functions",["require","math/builtin"],function(e){function t(e){for(var t=0;t<e.length;t++)e[t].compiled&&delete e[t].compiled.fn}function r(e){for(var t=0;t<e.length;t++){var r=e[t].compiled;r&&(r.fn=i(r.args,r.source))}}function n(e,t){for(var r=[],n=0;n<t;n++)r.push("values["+n+"]");return i(["values"],"return "+e(r))}function i(e,t){var r=e.join(","),n="return (function("+r+"){"+t+"})";return new Function(["BuiltIn"],n)(a)}var a=e("math/builtin");return{dehydrateGraphData:t,rehydrateGraphData:r,closureFunctionWithBuiltIn:i,createEvaluateFunction:n}}),define("math/parser/input-span",["require","exports"],function(e,t){"use strict";function r(e,t,r){return{input:e,start:t,end:r}}function n(e,t){return r(e,t,t)}function i(e,t){if(e.input!==t.input)throw new Error("Programming Error: cannot form a span on different inputs");return r(e.input,e.start,t.end)}function a(e){return e.input.slice(e.start,e.end)}Object.defineProperty(t,"__esModule",{value:!0}),t.Span=r,t.emptySpanAt=n,t.joinSpans=i,t.slice=a}),define("math/parsenode/base",["require","pjs","math/functions","math/parser/input-span"],function(e){var t=e("pjs"),r=e("math/functions"),n=e("math/parser/input-span");return t(function(e,t,i){e.init=function(){this._dependencies=[],this._dummyDependencies=[],this._exports=[]},e.exportPenalty=0;var a=0;e.tmpVar=function(){return"tmp"+a++},e.dependencies=function(){return this.getDependencies()},e.evaluateOnce=function(e){void 0===e&&(e={});var t=this.getConcreteTree(e),r=t.getEvaluationInfo();return r?r[0].val:NaN},e.setInputSpan=function(e){this._inputSpan=e},e.getInputString=function(){return void 0===this._inputSpan?"":n.slice(this._inputSpan)},e.getInputSpan=function(){return this._inputSpan},e.shouldExportAns=function(){return!1},e.getAnsVariable=function(){return this.shouldExportAns()&&this.userData&&this.userData.hasOwnProperty("index")?["ans_"+this.userData.index]:[]},e.addDependency=function(e){this.dependsOn(e)||this._dependencies.push(e)},e.addDependencies=function(e){for(var t=0;t<e.length;t++)this.addDependency(e[t])},e.addDummyDependency=function(e){-1===this._dummyDependencies.indexOf(e)&&this._dummyDependencies.push(e)},e.addDummyDependencies=function(e){for(var t=0;t<e.length;t++)this.addDummyDependency(e[t])},e.mergeDependencies=function(){for(var e=0;e<arguments.length;e++)this.addDependencies(arguments[e].getDependencies()),this.addDummyDependencies(arguments[e].getDummyDependencies())},e.getDependencies=function(){return this._dependencies},e.getDummyDependencies=function(){return this._dummyDependencies},e.removeDependency=function(e){var t=this._dependencies.indexOf(e);t>=0&&this._dependencies.splice(t,1)},e.dependsOn=function(e){return this._dependencies.indexOf(e)>-1},e.getExports=function(){return(this._exports||[]).concat(this.getAnsVariable())},e.getLegalExports=function(e){return this.getExports().filter(function(t){return!e.assignmentForbidden(t)})},e.exportsSymbol=function(e){return this._exports.indexOf(e)>-1},e.exportTo=function(e,t,r){for(var n=this.getLegalExports(e),i=0;i<n.length;i++){var a=n[i];if(r[a])return;r[a]=t.blocksExport?t:this}},e.getOperator=function(){return this.operator||"="},e.isInequality=function(){return!1},e.isShadeBetween=function(){return!1},e.getAllIds=function(){return this.userData?[this.userData.id]:[]},e.getEvaluationInfo=function(){return!1},e.shouldPromoteToSlider=function(e){return!1},e.getSliderVariables=function(e,t){return e.sliderVariables(t.getDependencies())},e.getCompiledFunction=function(e){var t=this.getEvalStrings(),n=t.statements.join(";")+";return "+t.expression;if(void 0===e){e=this.getDependencies();var i=e.indexOf("x");if(-1!==i){var a=e[0];e[0]=e[i],e[i]=a}}return{args:e,source:n,fn:r.closureFunctionWithBuiltIn(e,n)}},e.getCompiledDerivative=function(){var e=this.getDependencies();return this.takeDerivative(e[0]||"x").getCompiledFunction()},e.asValue=function(){}})}),define("math/parsenode/error",["require","pjs","./base"],function(e){return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this._msg=e,this._sliderVariables=[],this.blocksExport=!0},e.evaluateOnce=function(e){return this._msg},e.isError=!0,e.getError=function(){return this._msg},e.setDependencies=function(e){return this._dependencies=e,this},e.allowExport=function(){return this.blocksExport=!1,this}})}),define("graphing/label",["require","exports","underscore","math/distance","math/tofraction"],function(e,t,r,n,i){"use strict";function a(e,t){if(void 0===t&&(t=e),isNaN(e)||!isFinite(e))return{ariaString:"undefined",string:"undefined",value:e};if(0===e)return{ariaString:"0",string:"0",value:e};Math.abs(e)>Math.abs(t)&&(t=e);var r,a,s,o=i.default(e/Math.PI,24);if(h(t)&&n.approx(o.n/o.d*Math.PI,e,3))return r=0===o.n?"0":1===o.n?"π":-1===o.n?"-π":o.n.toString()+"π",a=1===o.d?"":"/"+o.d.toString(),s=r+a,{ariaString:u(s),string:s,value:o.n/o.d*Math.PI};if(h(t))return s=f(l(e.toFixed(d(t)))),{ariaString:u(s),string:s,value:parseFloat(s)};var c=p(e.toExponential(d(t/e))).split("e"),m=c[0]+"×10",g=c[1].replace("+","");return s=p(e.toExponential(d(t/e))).replace("+",""),{ariaString:u(s),string:s,mantissa:m,superscript:g,value:parseFloat(s)}}function s(e){return T["["+e+"]"]}function o(e){return e[0]+e.slice(1).split("").join(" ")}function u(e){return e.replace(I,o).replace(C,s).replace(/ +/gi," ").trim()}function c(e,t,r,n){var i=a(e,t);return[i,a(n(i.value),r)]}function l(e){return-1===e.indexOf(".")?e:e.replace(P,"")}function p(e){var t=/\\.?0+e/;return e.replace(t,"e")}function f(e){return"-0"===e?"0":e}function h(e){return 1e-4<(e=Math.abs(e))&&e<1e7}function d(e){return e=Math.abs(e),e=Math.max(e,1e-16),Math.max(3,Math.floor(4.5-Math.log(e)/Math.LN10))}function m(e){return 1e6/Math.sqrt(Math.abs(e))}function g(e){var t=m(e);if(t<1)return!1;if(t>1e12)return!1;var r=i.default(e,t),n=r.n,a=r.d;return 1!==a&&e===e+Math.pow(2,-3)*Math.abs(n/a-e)}function y(e,t){if(t=t||{},isNaN(e)||!isFinite(e))return{type:"undefined"};if(0===e||t.zeroCutoff&&Math.abs(e)<t.zeroCutoff)return{type:"decimal",value:"0"};var r=t.smallCutoff||.001,n=t.bigCutoff||1e6,a=t.digits||10,s=p(e.toExponential(a-2)),o=s.match(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/);if(!o)return{type:"undefined"};var u=parseInt(o[2],10)>=a,c=g(e);if(Math.abs(e)>n||Math.abs(e)<r||u)return{type:"scientific",mantissa:o[1],exponent:o[2]};if(c&&t.displayAsFraction){var f=i.default(e,m(e));return{type:"fraction",numerator:f.n.toString(),denominator:f.d.toString()}}var h=l(e.toPrecision(a));return e!==Number(h)&&t.addEllipses&&(h+="..."),{type:"decimal",value:h}}function v(e,t){var r=y(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"<span class=\'dcg-cross\'>×</span>10<sup>"+r.exponent+"</sup>";case"fraction":return"1"===r.denominator?r.numerator:r.numerator+"/"+r.denominator;default:return r}}function b(e,t){var r=y(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+" * 10^"+r.exponent;case"fraction":return"1"===r.denominator?r.numerator:r.numerator+"/"+r.denominator;default:return r}}function x(e,t){var r=y(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"\\\\times10^{"+r.exponent+"}";case"fraction":return"1"===r.denominator?r.numerator:"-"===r.numerator[0]?"-\\\\frac{"+r.numerator.slice(1)+"}{"+r.denominator+"}":"\\\\frac{"+r.numerator+"}{"+r.denominator+"}";default:return r}}function _(e,t){var r=y(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return u(r.value);case"scientific":return u(r.mantissa+"e"+r.exponent);case"fraction":return u(r.numerator+"/"+r.denominator);default:return r}}function M(e){e=e.replace("\\\\","");var t={pi:"π",tau:"τ",theta:"θ",phi:"ϕ",div:"÷",cdot:"⋅",times:"×",lt:"<",gt:">",le:"≤",ge:"≥",sim:"∼",ldots:"…",prime:"′"};return t.hasOwnProperty(e)?t[e]:e}function S(e){var t=e.split("_"),r="";return t[0].length>1&&(r+="\\\\"),r+=t[0],t[1]&&(1===t[1].length?r+="_"+t[1]:r+="_{"+t[1]+"}"),r}function E(e){if(!e)return"";var t=e.split("_").map(M).map(r.escape),n=t[0];return t[1]&&(n+="<sub>"+t[1]+"</sub>"),n}function w(e){return e=e.replace(/\\\\operatorname\\{(.*)\\}/,"$1"),e.replace(/[{}\\\\]/g,"")}function D(e){return e.replace(/^(\\\\ | |\\\\space)+/,"").replace(/(\\\\ | |\\\\space)+$/,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.value=a;var T={"[e]":" times 10 to the ","[+]":" plus ","[-]":" minus ","[*]":" times ","[/]":" over ","[π]":" pi ","[τ]":" tau ","[θ]":" theta ","[ϕ]":" phi "},C=new RegExp(Object.keys(T).join("|"),"gi"),I=/\\.\\d+/g;t.point=c;var P=/\\.?0+$/;t.canDisplayAsFraction=g,t.numericLabel=y,t.truncatedHTMLLabel=v,t.truncatedPlainmathLabel=b,t.truncatedLatexLabel=x,t.truncatedAriaLabel=_,t.formatSymbol=M,t.identifierToLatex=S,t.identifierToHTML=E,t.latexToIdentifier=w,t.trimLatex=D}),define("math/types",["require","lib/worker-i18n"],function(e){function t(e){switch(e){case u:return"Any";case c:return"Number";case l:return"Bool";case p:return"Point";case f:return"Distribution";case h:return"ListOfAny";case d:return"ListOfNumber";case m:return"ListOfBool";case g:return"ListOfPoint";case y:return"ListOfDistribution";case v:return"ErrorType";default:throw new Error("Invalid type")}}function r(e){switch(e){case u:return o.t("an unknown object");case c:return o.t("a number");case l:return o.t("a true/false value");case p:return o.t("a point");case f:return o.t("a distribution");case h:return o.t("a list of unknown objects");case d:return o.t("a list of numbers");case m:return o.t("a list of true/false values");case g:return o.t("a list of points");case y:return o.t("a list of distributions");case v:return o.t("an error object");default:throw new Error("Invalid type")}}function n(e){switch(e){case h:case d:case m:case g:case y:return!0;default:return!1}}function i(e){switch(e){case h:return u;case d:return c;case m:return l;case g:return p;case y:return f;default:return u}}function a(e){switch(e){case u:return h;case c:return d;case l:return m;case p:return g;case f:return y;default:throw new Error("Type "+t(e)+" does not implement listType.")}}function s(e){switch(e){case u:case c:case l:case p:case f:return!0;default:return!1}}var o=e("lib/worker-i18n"),u=0,c=1,l=2,p=3,f=4,h=5,d=6,m=7,g=8,y=9,v=10;return{Any:u,Number:c,Bool:l,Point:p,Distribution:f,ListOfAny:h,ListOfNumber:d,ListOfBool:m,ListOfPoint:g,ListOfDistribution:y,ErrorType:v,repr:t,prettyPrint:r,isList:n,elementType:i,listType:a,hasListType:s}}),define("math/errormsg",["require","lib/worker-i18n","math/parsenode/error","graphing/label","math/types"],function(e){var t=e("lib/worker-i18n"),r=e("math/parsenode/error"),n=e("graphing/label"),i=e("math/types");return{parseError:function(){return r(t.t("Sorry, I don\'t understand this."))},unrecognizedSymbol:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, I don\'t understand the \'__symbol__\' symbol.",{symbol:e}))},unexpectedInequality:function(){return r(t.t("Cannot use an inequality here."))},unexpectedSymbol:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, I don\'t understand the way that \'__symbol__\' is used here.",{symbol:e}))},addTypeError:function(e){return r(t.t("Cannot add __symbol1__ and __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},subtractTypeError:function(e){return r(t.t("Cannot subtract __symbol2__ from __symbol1__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},multiplyTypeError:function(e){return r(t.t("Cannot multiply __symbol1__ by __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},divideTypeError:function(e){return r(t.t("Cannot divide __symbol1__ by __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},exponentTypeError:function(e){return r(t.t("Cannot raise __symbol1__ to __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},negativeTypeError:function(e){return r(t.t("Cannot negate __symbol__.",{symbol:e[0]})).allowExport()},comparatorTypeError:function(e){return r(t.t("Cannot compare __symbol1__ to __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},andTypeError:function(e){return r(t.t("Cannot apply __symbol__ to __symbol1__ and __symbol2__.",{symbol:"and",symbol1:e[0],symbol2:e[1]})).allowExport()},listTypeError:function(e){return r(t.t("Cannot store __symbol1__ in a list.",{symbol1:e[0]})).allowExport()},pointTypeError:function(e){return r(t.t("Cannot use __symbol1__ and __symbol2__ as the coordinates of __symbol3__.",{symbol1:e[0],symbol2:e[1],symbol3:i.prettyPrint(i.Point)})).allowExport()},indexTypeError:function(e){return r(t.t("Cannot index __symbol1__ with __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},orderedPairAccessTypeError:function(e){return r(t.t("Cannot access a coordinate of __symbol__.",{symbol:e[0]})).allowExport()},functionTypeError:function(e,i){switch(i.length){case 1:return r(t.t("Function \'__fn__\' cannot be applied to __arg__.",{fn:n.formatSymbol(e),arg:i[0]})).allowExport();case 2:return r(t.t("Function \'__fn__\' cannot be applied to __arg1__ and __arg2__.",{fn:n.formatSymbol(e),arg1:i[0],arg2:i[1]})).allowExport();default:return r(t.t("Function \'__fn__\' cannot be applied to these arguments.",{fn:n.formatSymbol(e)})).allowExport()}},illegalDotCall:function(e){return r(t.t("Function \'__symbol__\' cannot be called with dot notation.",{symbol:n.formatSymbol(e)}))},sumLowerBoundTypeError:function(e){return r(t.t("Lower bound of a sum cannot be __symbol__.",{symbol:e[0]})).allowExport()},sumUpperBoundTypeError:function(e){return r(t.t("Upper bound of a sum cannot be __symbol__.",{symbol:e[0]})).allowExport()},sumArgumentTypeError:function(e){return r(t.t("Cannot take the sum of __symbol__.",{symbol:e[0]})).allowExport()},productLowerBoundTypeError:function(e){return r(t.t("Lower bound of a product cannot be __symbol__.",{symbol:e[0]})).allowExport()},productUpperBoundTypeError:function(e){return r(t.t("Upper bound of a product cannot be __symbol__.",{symbol:e[0]})).allowExport()},productArgumentTypeError:function(e){return r(t.t("Cannot take the product of __symbol__.",{symbol:e[0]})).allowExport()},integralLowerBoundTypeError:function(e){return r(t.t("Lower bound of an integral cannot be __symbol__.",{symbol:e[0]})).allowExport()},integralUpperBoundTypeError:function(e){return r(t.t("Upper bound of an integral cannot be __symbol__.",{symbol:e[0]})).allowExport()},integralArgumentTypeError:function(e){return r(t.t("Cannot take the integral of __symbol__.",{symbol:e[0]})).allowExport()},derivativeTypeError:function(e){return r(t.t("Cannot take the derivative of __symbol__.",{symbol:e[0]})).allowExport()},derivativeVariableTypeError:function(e,i){return r(t.t("Cannot take derivative with respect to \'__symbol1__\' because it is __symbol2__.",{symbol1:n.formatSymbol(e),symbol2:i[0]}))},piecewiseConditionTypeError:function(e){return r(t.t("The condition in a piecewise expression must be __symbol1__ but was __symbol2__.",{symbol1:i.prettyPrint(i.Bool),symbol2:e[0]})).allowExport()},piecewiseBranchTypeError:function(e){return r(t.t("Cannot use __symbol__ as a branch of a piecewise expression.",{symbol:e[0]})).allowExport()},tableHeaderTypeError:function(e){return r(t.t("Table header cannot be __symbol__.",{symbol:e[0]}))},tableEntryTypeError:function(e){return r(t.t("Table entry cannot be __symbol__.",{symbol:e[0]}))},regressionTypeError:function(e){return r(t.t("Cannot regress __symbol1__ against __symbol2__.",{symbol1:e[0],symbol2:e[1]}))},heterogeneousList:function(){return r(t.t("All elements of a list must have the same type.")).allowExport()},deeplyNested:function(){return r(t.t("Definitions are nested too deeply.")).allowExport()},polygonListTypeError:function(e){return r(t.t("A single argument to polygon should be a point list, not __type__.",{type:e[0]}))},polygonPointArgsError:function(){return r(t.t("Some of your arguments are not points."))},polygonTwoNumbersError:function(){return r(t.t("Cannot make a polygon from two numbers."))},binCenterInvalid:function(){return r(t.t("Invalid bin center. Try using any number."))},boxplotOffsetInvalid:function(){return r(t.t("Invalid offset. Try using any number."))},boxplotBreadthInvalid:function(){return r(t.t("Invalid height. Try using any number."))},tooManyArguments:function(e,n){return r(t.t("\'__symbol__\' accepts at most __max__ arguments.",{symbol:e,max:n}))},pdfWrongArity:function(){var e=t.t("For example, try typing: pdf(normaldist(),x)"),n=t.t("\'pdf\' takes a distribution and a number. __supplement__",{supplement:e});return r(n)},cdfRequiresArguments:function(){var e=t.t("For example, try typing: cdf(normaldist(),x)"),n=t.t("\'cdf\' takes a distribution and at least one number. __supplement__",{supplement:e});return r(n)},cdfTooManyArguments:function(){var e=t.t("For example, try typing: cdf(normaldist(),-1,1)"),n=t.t("\'cdf\' takes a distribution and at most two numbers. __supplement__",{supplement:e});return r(n)},tdistWrongArity:function(){return r(t.t("\'tdist\' requires 1 argument. For example, try typing: tdist(1)."))},wrongArity:function(e,i,a){e=n.formatSymbol(e);var s,o;if(1===i)o=t.t("For example, try typing: __dependency__(x).",{dependency:e}),s=a>1?t.t("Function \'__dependency__\' requires only 1 argument. __supplement__",{dependency:e,supplement:o}):t.t("Function \'__dependency__\' requires an argument. __supplement__",{dependency:e,supplement:o});else{for(var u=[],c=0;c<i;c++)u[c]=c+1;var l=n.formatSymbol(e)+"("+u.join(", ")+")";o=t.t("For example, try typing: __recommendation__.",{recommendation:l}),s=t.t("Function \'__dependency__\' requires __assignment_arity__ arguments. __supplement__",{dependency:e,assignment_arity:i,supplement:o})}return r(s)},wrongParametrizedReducerArity:function(e){return r(t.t("Function \'__symbol__\' requires 2 arguments. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], 1)"}))},wrongDoubleReducerArity:function(e){return r(t.t("Function \'__symbol__\' requires 2 arguments. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], [3,2,1])"}))},primedFunctionArity:function(){return r(t.t("Prime notation can only be used for functions of a single argument."))},zeroArgReducer:function(e){return r(t.t("Function \'__symbol__\' requires at least one argument. For example, try typing: __symbol__(1, 2).",{symbol:n.formatSymbol(e)}))},missingRHS:function(e){return e=n.formatSymbol(e),r(t.t("What do you want \'__symbol__\' to equal?",{symbol:e}))},malformedPoint:function(){return r(t.t("Points are written like this: (1, 2)."))},nonPairTuple:function(){return r(t.t("Points may only have 2 coordinates."))},badImplicitCall:function(e){return e=n.formatSymbol(e),r(t.t("Use parentheses around the argument of \'__symbol__\'.",{symbol:e}))},badImplicitMultiply:function(){return r(t.t("Confusing implicit multiplication. Use parentheses or a \'*\' symbol."))},adjacentNumbers:function(e,n){return r(t.t("Sorry, I don\'t know what to do with adjacent numbers \'__left__\' and \'__right__\'. Try using parentheses or a \'*\' symbol.",{left:e,right:n}))},identifierAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("\'__symbol__\' is a function. Try using parentheses.",{symbol:e}))},binaryOperatorMissingOperand:function(e){return e=n.formatSymbol(e),"%"===e&&(e="% of"),r(t.t("You need something on both sides of the \'__symbol__\' symbol.",{symbol:e}))},unaryOperatorMissingLeft:function(e){return e=n.formatSymbol(e),r(t.t("You need something before the \'__symbol__\' symbol.",{symbol:e}))},unaryOperatorMissingRight:function(e){return e=n.formatSymbol(e),r(t.t("You need something after the \'__symbol__\' symbol.",{symbol:e}))},fractionMissingNumerator:function(){return r(t.t("You need a numerator for the top of your fraction."))},fractionMissingDenominator:function(){return r(t.t("You need a denominator for the bottom of your fraction."))},fractionEmpty:function(){return r(t.t("You need a numerator and denominator for your fraction."))},emptySubscript:function(){return r(t.t("Subscripts cannot be empty."))},emptySuperscript:function(){return r(t.t("Superscripts cannot be empty."))},invalidSubscript:function(e){return e=n.formatSymbol(e),r(t.t("Subscripts may only contain letters and digits. \'__symbol__\' is not allowed.",{symbol:e}))},invalidOperatorName:function(){return r(t.t("Operator names may only contain letters."))},unexpectedSubscript:function(){return r(t.t("Only functions and variables may have subscripts."))},superscriptWithPrime:function(){return r(t.t("Superscripts and primes cannot be combined."))},unexpectedPrime:function(){return r(t.t("Sorry, I don\'t understand this use of prime notation."))},primeWithoutParen:function(){return r(t.t("Primed function calls must use parentheses."))},emptyRadical:function(){return r(t.t("Radical cannot be empty."))},emptyRadicand:function(){return r(t.t("Radicand cannot be empty."))},emptyParen:function(){return r(t.t("Parentheses cannot be empty."))},emptySquareBracket:function(){return r(t.t("Square brackets cannot be empty."))},emptyPipe:function(){return r(t.t("Absolute value symbol cannot be empty."))},badTrigExponent:function(e){var n=e+"^2",i=e+"^-1";return r(t.t("Only __form1__ and __form2__ are supported. Otherwise, use parens.",{form1:n,form2:i}))},badLogExponent:function(e){var n=e+"^2";return r(t.t("Only __form__ is supported. Otherwise, use parens.",{form:n}))},inequalityChainTooLong:function(){return r(t.t("Cannot chain more than 2 inequalities."))},piecewiseMissingCondition:function(){return r(t.t("A piecewise expression must have at least one condition."))},piecewisePartMissingCondition:function(){return r(t.t("Every part of a piecewise expression must have a condition except the last."))},colonMissingCondition:function(){return r(t.t("The left side of a \':\' must be a condition, like \'x>1\'."))},blankExpression:function(){return r(t.t("You haven\'t written anything yet."))},functionNotDefined:function(e){return e=n.formatSymbol(e),r(t.t("Function \'__dependency__\' is not defined.",{dependency:e}))},parameterAlreadyDefined:function(e){return e=n.formatSymbol(e),r(t.t("You can\'t use \'__dependency__\' as a parameter of this function because \'__dependency__\' is already defined.",{dependency:e}))},cannotRedefine:function(e,i){return e=n.formatSymbol(e),r(void 0===i?t.t("You can\'t redefine \'__symbol__\' because it\'s already defined.",{symbol:e}):t.t("You can\'t define \'__symbol__\' because \'__symbolRoot__\' is already defined.",{symbol:e,symbolRoot:i}))},cannotSubscript:function(e){return e=n.formatSymbol(e),r(t.t("\'__symbol__\' cannot have a subscript.",{symbol:e}))},multiplyDefined:function(e){return e=n.formatSymbol(e),r(t.t("You\'ve defined \'__dependency__\' in more than one place. Try deleting some of the definitions of \'__dependency__\'.",{dependency:e}))},shadowedIndex:function(e){return e=n.formatSymbol(e),r(t.t("You can\'t use \'__symbol__\' as an index because it\'s already defined.",{symbol:e}))},cycle:function(e){e=e.map(n.formatSymbol);var i=e.pop();return r(t.t("\'__symbols__\' and \'__lastSymbol__\' can\'t be defined in terms of each other.",{symbols:e.join("\', \'"),lastSymbol:i}))},selfReferentialFunction:function(e){return r(t.t("The definition of function \'__symbol__\' cannot depend on \'__symbol__\'.",{symbol:n.formatSymbol(e)}))},sliderLimitReferencesExport:function(e){return r(t.t("Slider limits cannot depend on the slider variable \'__symbol__\'.",{symbol:n.formatSymbol(e)}))},sliderMinInvalid:function(){return r(t.t("Invalid slider min. Try using any number."))},sliderMaxInvalid:function(){return r(t.t("Invalid slider max. Try using any number."))},sliderMaxLessThanMin:function(){return r(t.t("Invalid slider limits. Min should be less than max."))},sliderStepInvalid:function(){return r(t.t("Invalid slider step. Try using any number."))},domainMinInvalid:function(){return r(t.t("Invalid domain min. Try using any number."))},domainMaxInvalid:function(){return r(t.t("Invalid domain max. Try using any number."))},domainMaxLessThanMin:function(){return r(t.t("Invalid domain limits. Min should be less than max."))},cdfMinInvalid:function(){return r(t.t("Invalid cdf min. Try using any number."))},cdfMaxInvalid:function(){return r(t.t("Invalid cdf max. Try using any number."))},cdfMaxLessThanMin:function(){return r(t.t("Invalid cdf limits. Min should be less than max."))},tooManyVariables:function(e){if(e=e.map(n.formatSymbol),0===e.length)return r(t.t("Too many variables, I don\'t know what to do with this."));var i=e.pop()\n;return r(t.t("Too many variables. Try defining \'__variables__\'.",{variables:(e.length?e.join("\', \'")+"\' or \'":"")+i}))},addArgumentsToDefinition:function(e,i,a){e=e.map(n.formatSymbol),i=n.formatSymbol(i),a=a.map(n.formatSymbol);var s=i+"("+a.join(",")+","+e.join(",")+")",o=e.pop(),u={symbols:e.join("\', \'"),lastSymbol:o,newSignature:s};return r(e.length?t.t("Try including \'__symbols__\' and \'__lastSymbol__\' as arguments by defining the function as \'__newSignature__\'.",u):t.t("Try including \'__lastSymbol__\' as an argument by defining the function as \'__newSignature__\'.",u))},invalidLHS:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, you can\'t graph __symbol__ as a function of anything yet.",{symbol:e}))},unplottablePolarFunction:function(){return r(t.t("We can\'t plot θ as a function of r. Try plotting r(θ) instead."))},invalidInequalityVariables:function(){return r(t.t("We only plot inequalities of x and y, or r and θ."))},invalidImplicitVariables:function(){return r(t.t("We only support implicit equations of x and y."))},singleVariableImplicitEquationsDisabled:function(){return r(t.t("Plotting single-variable implicit equations is disabled."))},complicatedImplicitInequality:function(){return r(t.t("We can only plot inequalities when one variable is quadratic or linear."))},complicatedPolarImplicit:function(){return r(t.t("Polar equations must be linear in r."))},invalidDoubleInequalityVariables:function(){return r(t.t("We only plot double inequalities of x and y."))},mismatchedDoubleInequality:function(){return r(t.t("Double inequalities must both go the same way, e.g. 1 < y < 2."))},complicatedDoubleInequality:function(){return r(t.t("We only support solved double inequalities. Try deleting one side of the inequality."))},equationRequired:function(e){return e?(e=n.formatSymbol(e),r(t.t("Try adding \'__lhs__\' to the beginning of this equation.",{lhs:e+"="}))):r(t.t("Try adding an equals sign to turn this into an equation."))},variableAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("Variable \'__dependency__\' can\'t be used as a function.",{dependency:e}))},distributionAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("Cannot call distribution \'__symbol__\' as a function. Try \'__symbol__.pdf(x)\'.",{symbol:e}))},emptyList:function(){return r(t.t("Empty lists are not allowed."))},invalidTableHeader:function(e){return r(t.t("Table headers must be simple expressions. __supplement__",{supplement:e}))},invalidTableEntry:function(e){return r(t.t("Table entries must be simple expressions. __supplement__",{supplement:e}))},invalidFirstTableColumn:function(){return r(t.t("First column may not be __most__ or __last__.",{most:"\'y\', \'r\',",last:"\'θ\'"}))},invalidDependentFirstTableColumn:function(){return r(t.t("This column header can\'t be defined elsewhere in the calculator."))},invalidRegressionParameter:function(e){return r(t.t("\'__symbol__\' may not be used as a regression parameter.",{symbol:n.formatSymbol(e)}))},optimizationError:function(){return r(t.t("We couldn\'t find any region where this model is defined."))},badListInReducer:function(e){return r(t.t("When __symbol__ is called with more than two arguments, no argument can be a list.",{symbol:n.formatSymbol(e)})).allowExport()},nonListDoubleReducer:function(e){return r(t.t("Both arguments of \'__symbol__\' must be lists. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], [3,2,1])"})).allowExport()},nonListParametrizedReducer:function(e){return r(t.t("The first argument of \'__symbol__\' must be a list. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], 1)"})).allowExport()},methodRequiresList:function(e){return r(t.t("\'__symbol__\' requires a list. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3])"})).allowExport()},variableRange:function(e){return r(t.t("Range cannot depend on free variable \'__symbol__\'.",{symbol:n.formatSymbol(e[0])})).setDependencies(e).allowExport()},nonArithmeticRange:function(e){return r(t.t("Ranges must be arithmetic sequences.")).allowExport()},sumMissingBound:function(){return r(t.t("Sums must have upper and lower bounds."))},productMissingBound:function(){return r(t.t("Products must have upper and lower bounds."))},incorrectSumLowerBound:function(){return r(t.t("Lower bound of a sum must set a variable equal to a number. Try n=1."))},incorrectProductLowerBound:function(){return r(t.t("Lower bound of a product must set a variable equal to a number. Try n=1."))},integralMissingBound:function(){return r(t.t("Integrals must have upper and lower bounds."))},integralMissingDifferential:function(){return r(t.t("Integrand must end with an integration variable, like dx."))},differentialWithSuperscript:function(){return r(t.t("Integration variable cannot have a superscript."))},sumMissingBody:function(){return r(t.t("What do you want to take the sum of?"))},productMissingBody:function(){return r(t.t("What do you want to take the product of?"))},integralMissingBody:function(){return r(t.t("What do you want to take the integral of?"))},derivativeMissingBody:function(){return r(t.t("What do you want to take the derivative of?"))},mismatchedBraces:function(e,i){return e=n.formatSymbol(e),i=n.formatSymbol(i),r(t.t("Expected \'__symbol1__\' to match \'__symbol2__\'.",{symbol1:e,symbol2:i}))},shadowedIntegrationVariable:function(e){return r(t.t("You can\'t use \'__symbol__\' as an integration variable because it\'s already defined.",{symbol:n.formatSymbol(e)}))},badIntegralBoundDependency:function(e){return r(t.t("Integration bounds can\'t depend on integration variable \'__symbol__\'.",{symbol:n.formatSymbol(e)}))},percentMissingOf:function(){return r(t.t("\'%\' must be used with \'of\'. Try \'25% of 12\'."))},illegalBinWidth:function(e){return e=n.formatSymbol(e),r(t.t("The second argument to \'__symbol__\' must be a positive number.",{symbol:e}))},ttestListTooShort:function(e){return e=n.formatSymbol(e),r(t.t("Lists for \'__symbol__\' must have at least 2 elements.",{symbol:e}))},badAnsContext:function(){return r(t.t("You can\'t use \'ans\' in this context."))},ansUndefined:function(){return r(t.t("The previous expression didn\'t define any value for ans."))},variablesUnsupported:function(e){return r(t.t("This calculator does not support variables like \'__variable__\'.",{variable:n.formatSymbol(e)}))},functionUnsupported:function(e){return r(t.t("This calculator does not support the \'__symbol__\' function.",{symbol:n.formatSymbol(e)}))},constantUnsupported:function(e){return r(t.t("This calculator does not support the constant \'__symbol__\'.",{symbol:n.formatSymbol(e)}))},assignmentsUnsupported:function(){return r(t.t("This calculator does not support defining variables."))},functionDefinitionsUnsupported:function(){return r(t.t("This calculator does not support function definitions."))},equationsUnsupported:function(){return r(t.t("This calculator does not support this type of equation."))},inequalitiesUnsupported:function(){return r(t.t("This calculator does not support inequalities."))},regressionsUnsupported:function(){return r(t.t("This calculator does not support regressions."))},pointsUnsupported:function(){return r(t.t("This calculator does not support points."))},featureUnavailable:function(){return r(t.t("This feature is not available in the current calculator."))},nonSquareDeterminant:function(){return r(t.t("Only square matrices have a determinant."))},nonSquareInverse:function(){return r(t.t("Only square matrices have an inverse."))},singularInverse:function(){return r(t.t("Singular matrices do not have an inverse."))},matrixAssignment:function(){return r(t.t("This calculator does not support this type of variable definition. Try using \'New Matrix\'."))},matrixAddDimensions:function(){return r(t.t("Cannot add matrices with different dimensions."))},matrixSubtractDimensions:function(){return r(t.t("Cannot subtract matrices with different dimensions."))},matrixMultiplyDimensions:function(){return r(t.t("Cannot multiply matrices with incompatible dimensions."))},matrixFractionalPower:function(){return r(t.t("A matrix can only be raised to integer powers."))},matrixPowerDimensions:function(){return r(t.t("Only square matrices can be raised to a power."))},matrixElementTypeError:function(e){return r(t.t("Cannot use __arg__ as an element of a matrix.",{arg:e[0]}))},matrixInvalidVariable:function(e){return r(t.t("Cannot use \'__symbol__\' as a variable.",{symbol:n.formatSymbol(e)}))}}}),define("math/parsenode/expression",["require","pjs","./base","math/errormsg","math/types"],function(e){var t=e("pjs"),r=e("./base"),n=e("math/errormsg"),i=e("math/types");return t(r,function(e,t){e.init=function(e){if(!Array.isArray(e))throw new TypeError("Argument to expression constructor must be an Array.");t.init.call(this),this.args=e,this.valueType=this._getValueType(e),this.registerDependencies(),this.computeTreeSize()},e._getValueType=function(e){return i.Any},e.shouldExportAns=function(){return!0},e.registerDependencies=function(){for(var e=0;e<this.args.length;e++)this.mergeDependencies(this.args[e])},e.computeTreeSize=function(){for(var e=0,t=0;t<this.args.length;t++)this.args[t].treeSize&&(e+=this.args[t].treeSize);if(this.treeSize=e+1,e>1e4)throw n.deeplyNested()},e.copyWithArgs=function(e){return new this.constructor(e)}})}),define("math/parsenode/scalarexpression",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e)},e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();e=e.concat(n.statements),t.push(n.expression)}return{statements:e,expression:this.scalarEvalExpression(t)}}})}),define("math/parsenode/expressionTypes",["require","pjs","./scalarexpression"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n={Add:t(r,{}),Subtract:t(r,{}),Multiply:t(r,{}),Divide:t(r,{}),Exponent:t(r,{}),Negative:t(r,{}),And:t(r,{isInequality:function(){return this.args[0].isInequality()&&this.args[1].isInequality()}}),PercentOf:t(r,{})};return n.RawExponent=t(n.Exponent,{}),n}),define("math/maybe-rational",["require","exports","math/builtin"],function(e,t,r){"use strict";function n(e,t){return{n:e,d:t}}function i(e){return"object"==typeof e&&"number"==typeof e.n&&"number"==typeof e.d}function a(e){var t=e.match(/^(-)?(\\d*)?(?:\\.(\\d*))?$/);if(!t)return NaN;var r=t[1],n=t[2],i=t[3];if(!n&&!i)return NaN;var a=!!r;if(i){var s=i.replace(/0+$/,""),u=s.length,c=Math.pow(10,u),l=parseInt(n||"0",10)*c+parseInt(s||"0",10);return l>_||c>_?parseFloat(e):o(a?-l:l,c)}var l=parseInt(n,10);return l>_?parseFloat(e):o(a?-l:l,1)}function s(e){return i(e)?e.n/e.d:e}function o(e,t){if(!isFinite(e)||!isFinite(t)||0===t||Math.floor(e)!==e||Math.floor(t)!==t||Math.abs(e)>_||Math.abs(t)>_)return e/t;t<0&&(e=-e,t=-t);var i=r.gcd(e,t);return n(e/i,t/i)}function u(e){return i(e)?n(-e.n,e.d):-e}function c(e){return i(e)?n(Math.abs(e.n),Math.abs(e.d)):Math.abs(e)}function l(e){return i(e)?0===e.n?e.d/e.n:n(e.n<0?-e.d:e.d,Math.abs(e.n)):1/e}function p(e,t){if(!i(e)||!i(t))return s(e)+s(t);var n=r.gcd(e.d,t.d);return o(e.n*(t.d/n)+t.n*(e.d/n),e.d/n*t.d)}function f(e,t){if(!i(e)||!i(t))return s(e)*s(t);var n=r.gcd(e.n,t.d),a=r.gcd(t.n,e.d);return o(e.n/n*(t.n/a),e.d/a*(t.d/n))}function h(e,t){return p(e,u(t))}function d(e,t){return i(e)&&i(t)?f(e,l(t)):s(e)/s(t)}function m(e,t){var n=e,a=t;if(t.n<0&&(a=u(t),n=l(e)),!i(n)||!i(a))return r.pow(s(e),s(t));if(e=n,t=a,1===t.d)return o(Math.pow(e.n,t.n),Math.pow(e.d,t.n));var c=e.n<0;if(c&&t.d%2!=1)return NaN;var p=c?-1:1,f=p*Math.round(Math.pow(Math.abs(e.n),1/t.d)),h=Math.round(Math.pow(Math.abs(e.d),1/t.d));return Math.pow(f,t.d)!==e.n||Math.pow(h,t.d)!==e.d?r.pow(s(e),s(t)):o(Math.pow(f,t.n),Math.pow(h,t.n))}function g(e,t){if(!i(e)||!i(t))return r.pow(s(e),s(t));var n=m(e,t);return i(n)?n:r.pow(s(e),s(t))}function y(e){if(!i(e))return Math.sqrt(e);var t=Math.round(Math.sqrt(e.n)),r=Math.round(Math.sqrt(e.d));return t*t!==e.n||r*r!==e.d?Math.sqrt(s(e)):o(t,r)}function v(e,t){return g(e,l(t))}function b(e,t){if(!i(e)||!i(t)){var r=s(e),a=s(t);return r-a*Math.floor(r/a)}return h(e,f(t,n(Math.floor(s(d(e,t))),1)))}function x(e){for(var t=n(0,1),r=0,i=e;r<i.length;r++){t=p(t,i[r])}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.isRational=i;var _=Math.pow(2,53)-1;t.fromDecimalString=a,t.asFloat=s,t.maybeRational=o,t.neg=u,t.abs=c,t.reciprocal=l,t.add=p,t.mul=f,t.sub=h,t.div=d,t.pow=g,t.sqrt=y,t.nthroot=v,t.mod=b,t.total=x}),define("math/parsenode/constant",["require","pjs","./scalarexpression","math/maybe-rational"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("math/maybe-rational");return t(r,function(e,t){e.init=function(e){"number"==typeof e&&(e=n.maybeRational(e,1)),this._constantValue=e,t.init.call(this,[])},e.isConstant=!0,e.getEvalStrings=function(){return{statements:[],expression:this.scalarExprString()}},e.asValue=function(){return"boolean"==typeof this._constantValue?this._constantValue:n.asFloat(this._constantValue)},e.asMaybeRationalValue=function(){return"boolean"==typeof this._constantValue?NaN:this._constantValue},e.scalarExprString=function(){return this.asValue()>0?String(this.asValue()):"("+String(this.asValue())+")"},e.getEvaluationInfo=function(){return[{val:this.asValue()}]},e.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())}})}),define("math/parsenode/mixednumber",["require","pjs","./constant"],function(e){return e("pjs")(e("./constant"),function(e,t){e.init=function(e){t.init.call(this,e)},e.is_mixed_number=!0})}),define("math/parsenode/identifier",["require","pjs","./expression","graphing/label","math/parser/input-span"],function(e){var t=e("pjs"),r=e("./expression"),n=e("graphing/label"),i=e("math/parser/input-span");return t(r,function(e,t,r){e.init=function(e){t.init.call(this,[]),this._symbol=n.latexToIdentifier(e),this.setInputSpan(new i.Span(e,0,e.length)),this.addDependency(this._symbol)},e.evaluate=function(){throw"Cannot evaluate undefined variable "+this._symbol}})}),define("math/parsenode/ans",["require","pjs","./identifier"],function(e){return e("pjs")(e("./identifier"),function(e,t,r){})}),define("math/parsenode/freevariable",["require","pjs","./scalarexpression"],function(e){return e("pjs")(e("./scalarexpression"),function(e,t){e.init=function(e){t.init.call(this,[]),this.addDependency(e),this._symbol=e},e.isFreeVariable=!0,e.scalarEvalExpression=function(e){return this._symbol},e.copyWithArgs=function(e){return this}})}),define("math/parsenode/dummyindex",["require","pjs","./freevariable"],function(e){return e("pjs")(e("./freevariable"),function(){})}),define("math/parsenode/list",["require","pjs","./expression","math/errormsg","math/types"],function(e){var t=e("pjs"),r=e("./expression"),n=e("math/errormsg"),i=e("math/types");return t(r,function(e,t,r){function a(e){for(var t=1/0,r=0;r<e.length;r++)(e[r].isList||e[r].isBroadcast)&&(t=Math.min(t,e[r].length));return t}e.init=function(e){if(t.init.call(this,e),this.length=e.length,0===this.length)throw n.emptyList()},e.isList=!0,e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();Array.prototype.push.apply(e,n.statements),t.push(n.expression)}return{statements:e,expression:"["+t.join(",")+"]"}},e.asValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asValue());return e},e.asMaybeRationalValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asMaybeRationalValue());return e},e.getEvaluationInfo=function(){if(this.args.every(function(e){return e.isConstant}))return[{val:this.args.map(function(e){return e.asValue()})}]},r.eachArgs=function(e,t){var r=a(e);if(!isFinite(r))return void t(e);for(var n=0;n<r;n++){for(var s=[],o=0;o<e.length;o++)s.push(e[o].isList||i.isList(e[o].valueType)?e[o].elementAt(n):e[o]);t(s)}},r.mapArgs=function(e,t){var n=[];return r.eachArgs(e,function(e){n.push(t(e))}),n},r.wrap=function(e){return e.isList||i.isList(e.valueType)?e:r([e])}})}),define("math/parsenode/range",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t,r){e.init=function(e){t.init.call(this,e),this.beginning=e[0],this.end=e[1]}})}),define("math/parsenode/broadcast",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t,r){e.init=function(e,r){if(t.init.call(this,r),this._replacedSymbols=e,this._expression=r[0],this._lists=r.slice(1),!e.length)throw new Error("Cannot construct a broadcast node with no replaced symbols");for(var n=0;n<e.length;n++)this.removeDependency(e[n]);for(var i=1/0,a=0;a<this._lists.length;a++){if(!this._lists[a].isList)throw new Error("List arguments of broadcast must be list literals");i=Math.min(i,this._lists[a].length)}this.length=i},e.isBroadcast=!0,e.copyWithArgs=function(e){return new this.constructor(this._replacedSymbols,e)},e.evaluate=function(e){for(var t=this._expression.getCompiledFunction(this._replacedSymbols).fn,r=[],n=0;n<this.length;n++){for(var i=[],a=0;a<e.length;a++)i.push(e[a][n]);r.push(t.apply(void 0,i))}return r},e.getEvalStrings=function(){var e=[],t=this._expression.getEvalStrings();Array.prototype.push.apply(e,t.statements);var r,n=[],i=[];for(r=0;r<this._lists.length;r++){var a=this._lists[r].getEvalStrings();Array.prototype.push.apply(e,a.statements);var s=this.tmpVar();i.push(s),n.push("var "+s+" = "+a.expression)}var o=this.tmpVar(),u=this.tmpVar();n.push("var "+o+" = []");var c=[];for(r=0;r<i.length;r++)c.push("var "+this._replacedSymbols[r]+" = "+i[r]+"["+u+"]");return n.push("for (var "+u+" = 0; "+u+" < "+this.length+"; "+u+"++) {\\n  "+c.join(";\\n  ")+";\\n  "+o+".push("+t.expression+");\\n}"),{statements:e.concat(n),expression:o}}})}),define("math/parsenode/listaccess",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this.list=e[0],this.index=e[1]},e.getEvalStrings=function(){var e=this.index.getEvalStrings(),t=this.list.getEvalStrings(),r=e.statements.concat(t.statements),n=this.tmpVar();r.push(n+" = "+t.expression);var i=this.tmpVar();return r.push(i+" = Math.floor("+e.expression+") - 1"),{statements:r,expression:"("+i+" >= 0 && "+i+" < "+n+".length ? "+n+"["+i+"] : NaN)"}}})}),define("math/parsenode/dotaccess",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),{})}),define("math/parsenode/dotaccessexponent",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),{})}),define("math/parsenode/orderedpair",["require","pjs","./scalarexpression"],function(e){return e("pjs")(e("./scalarexpression"),function(e,t,r){e.asArray=function(){return[+this.args[0].asValue(),+this.args[1].asValue()]},e.asValue=e.asArray,e.getSliderVariables=function(e,t){return e.sliderVariables(t.getDependencies()).filter(function(t){return!e.validParametricVariable(t)})},e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();e=e.concat(n.statements),t.push(n.expression)}return{statements:e,expression:"["+t.join(",")+"]"}}})}),define("math/parsenode/movablepoint",["require","pjs","./orderedpair"],function(e){return e("pjs")(e("./orderedpair"),function(e,t){e.init=function(e,r,n){t.init.call(this,e),this.moveStrategy=r,this.defaultDragMode=n},e.isMovablePoint=!0})}),define("math/parsenode/orderedpairaccess",["require","pjs","./scalarexpression"],function(e){return e("pjs")(e("./scalarexpression"),function(e,t){e.init=function(e){t.init.call(this,e),this.point=e[0],this.index=e[1]},e.getEvalStrings=function(){var e=this.index.getEvalStrings(),t=this.point.getEvalStrings(),r=[];return Array.prototype.push.apply(r,e.statements),Array.prototype.push.apply(r,t.statements),{statements:r,expression:t.expression+"["+e.expression+"-1]"}}})}),define("math/parsenode/polygon",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="polygon"}})}),define("math/comparators",["require","exports"],function(e,t){"use strict";function r(e,t){switch(t){case-1:return e?"<=":"<";case 0:return e?"=":"!=";case 1:return e?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}}Object.defineProperty(t,"__esModule",{value:!0}),t.table={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}},t.get=r}),define("math/parsenode/basecomparator",["require","pjs","./scalarexpression","./expressionTypes","math/comparators","math/functions"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./expressionTypes").Subtract,i=e("math/comparators").table,a=e("math/functions");return t(r,function(e,r,s){s.create=function(e,r){return r=r||e,t(s,function(t,n){t.operator=e,t.isInequality=function(){return 0!==i[e].direction},t.compiledOperator=r,t.scalarEvalExpression=function(e){return e.join(r)},t.evaluate=a.createEvaluateFunction(t.scalarEvalExpression,2)})},e.init=function(e){r.init.call(this,e),this._difference=n(-1===i[this.operator].direction?[e[1],e[0]]:[e[0],e[1]])}})}),define("math/parsenode/comparator",["require","math/parsenode/basecomparator"],function(e){var t=e("math/parsenode/basecomparator");return{"<":t.create("<"),">":t.create(">"),"<=":t.create("<="),">=":t.create(">="),"=":t.create("=","===")}}),define("math/parsenode/doubleinequality",["require","pjs","./base","math/comparators","./comparator"],function(e){var t=e("pjs"),r=e("./base"),n=e("math/comparators"),i=e("./comparator");return t(r,function(e,t){e.init=function(e){t.init.call(this),this.args=e,this._symbol=e[2]._symbol,this._operators=[e[1],e[3]],this._expressions=[e[0],e[4]];var r=n.get(n.table[e[1]].inclusive&&n.table[e[3]].inclusive,n.table[e[1]].direction);this._indicator=i[r]([e[0],e[4]]),this.addDependency(this._symbol),this.mergeDependencies(this._expressions[0],this._expressions[1])},e.isInequality=function(){return!0},e.isShadeBetween=function(){return!0}})}),define("math/parsenode/repeatedoperator",["require","pjs","./scalarexpression","./dummyindex"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./dummyindex");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this._index=e[0],this.addDummyDependency(this._index._symbol),this._index instanceof n&&this.removeDependency(this._index._symbol)},e.getEvalStrings=function(){var e=[],t=this.tmpVar(),r=this._index._symbol,n=this.tmpVar(),i=this.tmpVar(),a=this.args[1].getEvalStrings(),s=this.args[2].getEvalStrings(),o=this.args[3].getEvalStrings();Array.prototype.push.apply(e,a.statements),e.push("var "+n+" = Math.round("+a.expression+")"),Array.prototype.push.apply(e,s.statements),e.push("var "+i+" = Math.round("+s.expression+")"),e.push("var "+t+"="+this.starting_value);var u="for (var "+r+"="+n+";"+r+"<="+i+";"+r+"++) {"+o.statements.join(";")+";"+t+this.in_place_operator+o.expression+"};",c="if(!isFinite("+i+"-"+n+")) {"+t+"=("+i+"<"+n+"?"+this.starting_value+":NaN);}else{"+u+"}";return e.push(c),{statements:e,expression:t}},e.evaluate=function(e,t,r){var n=r.getCompiledFunction([this._index._symbol]).fn;if(t=Math.round(t),e=Math.round(e),!isFinite(t-e))return t<e?this.starting_value:NaN;for(var i=this.starting_value,a=e;a<=t;a++)i=this.update(i,n(a));return i}})}),define("math/parsenode/sum",["require","pjs","./repeatedoperator"],function(e){return e("pjs")(e("./repeatedoperator"),function(e,t){e.in_place_operator="+=",e.starting_value=0,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:t*e[2]},e.update=function(e,t){return e+t}})}),define("math/parsenode/product",["require","pjs","./repeatedoperator"],function(e){return e("pjs")(e("./repeatedoperator"),function(e,t){e.in_place_operator="*=",e.starting_value=1,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:Math.pow(e[2],t)},e.update=function(e,t){return e*t}})}),define("math/parsenode/integral",["require","pjs","./scalarexpression","./dummyindex","math/builtin"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./dummyindex"),i=e("math/builtin");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this._differential=e[0],this.addDummyDependency(this._differential._symbol),this._differential instanceof n&&this.removeDependency(this._differential._symbol)},e.getEvalStrings=function(){var e=this.args[0],t=this.args[1],r=this.args[2],n=this.args[3],i=[],a=this.tmpVar(),s=e._symbol,o=this.tmpVar(),u=this.tmpVar(),c=t.getEvalStrings(),l=r.getEvalStrings(),p=n.getEvalStrings();return Array.prototype.push.apply(i,c.statements),Array.prototype.push.apply(i,l.statements),i.push("var "+o+" = "+c.expression),i.push("var "+u+" = "+l.expression),i.push("var "+a+" = function ("+s+") { "+p.statements.join("; ")+"; return "+p.expression+";}"),{statements:i,expression:"BuiltIn.quad("+[a,o,u].join(", ")+")"}},e.evaluate=function(e,t,r){var n=this.args[0],a=r.getCompiledFunction([n._symbol]).fn;return i.quad(a,e,t)}})}),define("math/parsenode/functioncall",["require","pjs","./expression","./identifier"],function(e){var t=e("pjs"),r=e("./expression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){"string"==typeof e&&(e=n(e)),this._identifier=e,this._symbol=e._symbol,t.init.call(this,r),this.addDependency(this._symbol)},e.copyWithArgs=function(e){return new this.constructor(n(this._symbol),e)}})}),define("math/parsenode/functionexponent",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){})}),define("math/parsenode/functionfactorial",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){})}),define("math/parsenode/prime",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,r),this.order=e},e.copyWithArgs=function(e){return new this.constructor(this.order,e)}})}),define("math/parsenode/piecewise",["require","pjs","./scalarexpression","./constant","math/maybe-rational"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./constant"),i=e("math/maybe-rational").maybeRational,a=t(r,{});return a.chain=function(e){for(var t,r=n(NaN);e.length;)t=e.pop(),r=a([t.condition,t.if_expr,r]);return r},a.empty=function(){return a([n(!0),n(i(1,1)),n(NaN)])},a}),define("math/parsenode/derivative",["require","pjs","./scalarexpression","./identifier"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){this._symbol=e instanceof n?e._symbol:n(e)._symbol,t.init.call(this,r)}})}),define("math/parsenode/nativefunction",["require","pjs","./scalarexpression","math/errormsg","math/functions"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("math/errormsg"),i=e("math/functions");return t(r,function(e,r,a){e.init=function(e){var t=e.length,i="logbase"===this._symbol?"log":this._symbol,a="logbase"===this._symbol?1:0,s="pdf"===this._symbol,o="cdf"===this._symbol;if(t<this._requiredArity){if(s)throw n.pdfWrongArity();if(o)throw n.cdfRequiresArguments();throw n.wrongArity(i,this._requiredArity-a,t-a)}if(t>this._maxArity){if(s)throw n.pdfWrongArity();if(o)throw n.cdfTooManyArguments();throw n.wrongArity(i,this._maxArity-a,t-a)}for(;e.length<this._maxArity;)e.push(this._optionalArguments[t-this._requiredArity]);r.init.call(this,e)},e.scalarEvalExpression=function(e){return this.head+"("+e.join(",")+")"},a.create=function(e,r,n,a){return t(this,function(t,s,o){o.isFunction=!0,t._symbol=e,t.head=r,t._requiredArity=n,t._optionalArguments=a||[],t._maxArity=t._requiredArity+t._optionalArguments.length,t.evaluate=i.createEvaluateFunction(t.scalarEvalExpression.bind(t),t._maxArity),o.getConcreteInvocationTree=function(e,t,r){return o(t).getConcreteTree(e,r)},o.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/typedfunction",["require","pjs","./nativefunction"],function(e){return e("pjs")(e("./nativefunction"),function(e,t,r,n){r.create=function(e,t,r,i){var a=r.length,s=n.create.call(this,e,t,a);return s.prototype._inputTypes=r,s.prototype._outputType=i,s}})}),define("math/parsenode/trigfunction",["require","pjs","./nativefunction","./expressionTypes","math/errormsg"],function(e){var t=e("pjs"),r=e("./nativefunction"),n=e("./expressionTypes").Multiply,i=e("math/errormsg");return t(r,function(e,t,r,a){r.create=function(e,t){var r=a.create(e,t,1);return r.getConcreteInvocationTree=function(t,a,s){if(a.length<1)throw i.wrongArity(e,1,a.length);var o=t.trigAngleMultiplier?[n([a[0],t.trigAngleMultiplier])].concat(a.slice(1)):a;return r(o).getConcreteTree(t,s)},r.getCacheKeys=function(){return["trigAngleMultiplier"]},r}})}),define("math/parsenode/inversetrigfunction",["require","pjs","./nativefunction","./expressionTypes"],function(e){var t=e("pjs"),r=e("./nativefunction"),n=e("./expressionTypes").Divide;return t(r,function(e,t,r,i){r.create=function(e,t,r){var a=i.create(e,t,1,r);return a.getConcreteInvocationTree=function(e,t,r){var i=a(t);return(e.trigAngleMultiplier?n([i,e.trigAngleMultiplier]):i).getConcreteTree(e,r)},a.getCacheKeys=function(){return["trigAngleMultiplier"]},a}})}),define("math/parsenode/reducerfunction",["require","pjs","./expression","math/functions"],function(e){var t=e("pjs"),r=e("./expression"),n=e("math/functions");return t(r,function(e,r,i){e.evalExpression=function(e){return this.head+"("+e+")"},e.getEvalStrings=function(){var e=this.args[0].getEvalStrings();return{statements:e.statements,expression:this.evalExpression(e.expression)}},i.create=function(e,r){return t(i,function(t,i,a){t._symbol=e,t.head=r,t._arity=1,a.isFunction=!0,a.allowDotCalls=!0,a.dotMinArity=0,a.dotMaxArity=0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r){return a(t).getConcreteTree(e,r)},a.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/doublereducerfunction",["require","pjs","./expression","math/functions","math/errormsg"],function(e){var t=e("pjs"),r=e("./expression"),n=e("math/functions"),i=e("math/errormsg");return t(r,function(e,r,a){e.init=function(){if(r.init.apply(this,arguments),2!==this.args.length)throw i.wrongDoubleReducerArity(this._symbol)},e.evalExpression=function(e){return this.head+"("+e.join(",")+")"},e.getEvalStrings=function(){for(var e=[],t=[],r=Math.min(this.args[0].length,this.args[1].length),n=0;n<this.args.length;n++){var i=this.args[n],a=i.getEvalStrings();Array.prototype.push.apply(e,a.statements),t.push(i.length===r?a.expression:a.expression+".slice(0,"+r+")")}return{statements:e,expression:this.evalExpression(t)}},a.create=function(e,r){return t(a,function(t,i,a){t._symbol=e,t.head=r,t._arity=2,a.isFunction=!0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r){return a(t).getConcreteTree(e,r)},a.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/parametrizedreducerfunction",["require","pjs","./expression","math/functions","math/errormsg"],function(e){var t=e("pjs"),r=e("./expression"),n=e("math/functions"),i=e("math/errormsg");return t(r,function(e,r,a){e.init=function(e){if(e.length<2&&void 0!==this._optionalArgument&&e.push(this._optionalArgument),2!==e.length)throw i.wrongParametrizedReducerArity(this._symbol);r.init.call(this,e)},e.evalExpression=function(e){return this.head+"("+e.join(",")+")"},e.getEvalStrings=function(){var e=[],t=this.args[0].getEvalStrings(),r=this.args[1].getEvalStrings();return Array.prototype.push.apply(e,t.statements),Array.prototype.push.apply(e,r.statements),{statements:e,\nexpression:this.evalExpression([t.expression,r.expression])}},a.create=function(e,r,i){return t(a,function(t,a,s){t._symbol=e,t.head=r,t._optionalArgument=i,t._arity=2,s.isFunction=!0,s.allowDotCalls=!0,s.dotMinArity=void 0===i?1:0,s.dotMaxArity=1,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),s.getConcreteInvocationTree=function(e,t,r){return s(t).getConcreteTree(e,r)},s.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/distribution",["require","pjs","./scalarexpression","math/errormsg"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("math/errormsg");return t(r,function(e,r,i){e.init=function(e){var t="tdist"===this._symbol;if(e.length<this._requiredArity){if(t)throw n.tdistWrongArity();throw n.wrongArity(this._symbol,this._requiredArity,e.length)}if(e.length>this._maxArity){if(t)throw n.tdistWrongArity();throw n.wrongArity(this._symbol,this._maxArity,e.length)}for(;e.length<this._maxArity;)e.push(this._optionalArguments[e.length-this._requiredArity]);r.init.call(this,e)},e.scalarEvalExpression=function(e){return this.head+"("+e.join(",")+")"},i.create=function(e,r,n){return t(this,function(t,i,a){a.isFunction=!0,t._symbol=e,t._requiredArity=r,t._optionalArguments=n||[],t._maxArity=t._requiredArity+t._optionalArguments.length,a.getConcreteInvocationTree=function(e,t,r){return a(t)},a.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/toplevelfunction",["require","pjs","./nativefunction","math/errormsg"],function(e){var t=e("pjs"),r=e("./nativefunction"),n=e("math/errormsg");return t(r,function(e,r,i,a){i.create=function(e){return t(i,function(t,r,i){i.isFunction=!0,i.getConcreteInvocationTree=function(t,r,i){throw n.unexpectedSymbol(e)},i.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/builtinfunction",["require","math/parsenode/nativefunction","math/parsenode/typedfunction","math/parsenode/trigfunction","math/parsenode/inversetrigfunction","math/parsenode/reducerfunction","math/parsenode/doublereducerfunction","math/parsenode/parametrizedreducerfunction","math/parsenode/distribution","math/parsenode/toplevelfunction","math/types","math/maybe-rational","math/parsenode/constant"],function(e){var t=e("math/parsenode/nativefunction"),r=e("math/parsenode/typedfunction"),n=e("math/parsenode/trigfunction"),i=e("math/parsenode/inversetrigfunction"),a=e("math/parsenode/reducerfunction"),s=e("math/parsenode/doublereducerfunction"),o=e("math/parsenode/parametrizedreducerfunction"),u=e("math/parsenode/distribution"),c=e("math/parsenode/toplevelfunction"),l=e("math/types"),p=e("math/maybe-rational").maybeRational,f=e("math/parsenode/constant"),h=f(p(1,1)),d=f(p(0,1)),m=f(p(1,2)),g=f(-1/0);return{sin:n.create("sin","BuiltIn.sin"),cos:n.create("cos","BuiltIn.cos"),tan:n.create("tan","BuiltIn.tan"),cot:n.create("cot","BuiltIn.cot"),sec:n.create("sec","BuiltIn.sec"),csc:n.create("csc","BuiltIn.csc"),arcsin:i.create("arcsin","Math.asin"),arccos:i.create("arccos","Math.acos"),arctan:i.create("arctan","Math.atan2",[h]),arccot:i.create("arccot","BuiltIn.acot"),arcsec:i.create("arcsec","BuiltIn.asec"),arccsc:i.create("arccsc","BuiltIn.acsc"),sinh:t.create("sinh","BuiltIn.sinh",1),cosh:t.create("cosh","BuiltIn.cosh",1),tanh:t.create("tanh","BuiltIn.tanh",1),coth:t.create("coth","BuiltIn.coth",1),sech:t.create("sech","BuiltIn.sech",1),csch:t.create("csch","BuiltIn.csch",1),arcsinh:t.create("arcsinh","BuiltIn.asinh",1),arccosh:t.create("arccosh","BuiltIn.acosh",1),arctanh:t.create("arctanh","BuiltIn.atanh",1),arccoth:t.create("arccoth","BuiltIn.acoth",1),arcsech:t.create("arcsech","BuiltIn.asech",1),arccsch:t.create("arccsch","BuiltIn.acsch",1),sqrt:t.create("sqrt","Math.sqrt",1),rtxsqpone:t.create("rtxsqpone","BuiltIn.sqrtxsqp1",1),rtxsqmone:t.create("rtxsqmone","BuiltIn.sqrtxsqm1",1),nthroot:t.create("nthroot","BuiltIn.nthroot",2),log:t.create("log","BuiltIn.common_log",1),logbase:t.create("logbase","BuiltIn.log_base",2),ln:t.create("ln","BuiltIn.log",1),exp:t.create("exp","Math.exp",1),floor:t.create("floor","Math.floor",1),ceil:t.create("ceil","Math.ceil",1),round:t.create("round","BuiltIn.round",1,[d]),abs:t.create("abs","Math.abs",1),sign:t.create("sign","BuiltIn.sign",1),mod:t.create("mod","BuiltIn.mod",2),nCr:t.create("nCr","BuiltIn.nCr",2),nPr:t.create("nPr","BuiltIn.nPr",2),factorial:t.create("factorial","BuiltIn.factorial",1),polyGamma:t.create("polyGamma","BuiltIn.polyGamma",2),lcm:a.create("lcm","BuiltIn.listLCM"),gcd:a.create("gcd","BuiltIn.listGCD"),mean:a.create("mean","BuiltIn.mean"),total:a.create("total","BuiltIn.total"),stdev:a.create("stdev","BuiltIn.stdev"),stdevp:a.create("stdevp","BuiltIn.stdevp"),mad:a.create("mad","BuiltIn.mad"),length:a.create("length","BuiltIn.length"),min:a.create("min","BuiltIn.listMin"),max:a.create("max","BuiltIn.listMax"),argmin:a.create("argmin","BuiltIn.argMin"),argmax:a.create("argmax","BuiltIn.argMax"),median:a.create("median","BuiltIn.median"),var:a.create("var","BuiltIn.var"),varp:a.create("varp","BuiltIn.varp"),cov:s.create("cov","BuiltIn.cov"),covp:s.create("covp","BuiltIn.covp"),corr:s.create("corr","BuiltIn.corr"),quantile:o.create("quantile","BuiltIn.quantile"),quartile:o.create("quartile","BuiltIn.quartile"),upperQuantileIndex:o.create("upperQuantileIndex","BuiltIn.upperQuantileIndex"),lowerQuantileIndex:o.create("lowerQuantileIndex","BuiltIn.lowerQuantileIndex"),quartileIndex:o.create("quartileIndex","BuiltIn.quartileIndex"),upperQuartileIndex:o.create("upperQuartileIndex","BuiltIn.upperQuartileIndex"),lowerQuartileIndex:o.create("lowerQuartileIndex","BuiltIn.lowerQuartileIndex"),normalcdf:t.create("normalcdf","BuiltIn.normalcdf",2,[d,h]),normalpdf:t.create("normalpdf","BuiltIn.normalpdf",1,[d,h]),binomcdf:t.create("binomcdf","BuiltIn.binomcdf",3,[m]),binompdf:t.create("binompdf","BuiltIn.binompdf",2,[m]),poissoncdf:t.create("poissoncdf","BuiltIn.poissoncdf",3),poissonpdf:t.create("poissonpdf","BuiltIn.poissonpdf",2),invNorm:t.create("invNorm","BuiltIn.invNorm",1),invT:t.create("invT","BuiltIn.invT",2),invPoisson:t.create("invPoisson","BuiltIn.invPoisson",2),invBinom:t.create("invBinom","BuiltIn.invBinom",3),erf:t.create("erf","BuiltIn.erf",1),tpdf:t.create("tpdf","BuiltIn.tpdf",2),tcdf:t.create("tcdf","BuiltIn.tcdf",3),tscore:o.create("tscore","BuiltIn.tscore",d),distance:r.create("distance","BuiltIn.distance",[l.Point,l.Point],l.Number),midpoint:r.create("midpoint","BuiltIn.midpoint",[l.Point,l.Point],l.Point),normaldist:u.create("normaldist",0,[d,h]),tdist:u.create("tdist",1),binomialdist:u.create("binomialdist",1,[m]),poissondist:u.create("poissondist",1),pdf:t.create("pdf","BuiltIn.normpdf",2).open(function(e,t,r){r.allowDotCalls=!0,r.dotMinArity=1,r.dotMaxArity=1}),cdf:t.create("cdf","BuiltIn.normcdf",2,[g]).open(function(e,t,r){r.allowDotCalls=!0,r.dotMinArity=1,r.dotMaxArity=2,e.init=function(e){return 2===e.length&&(e=[e[0],g,e[1]]),t.init.call(this,e)}}),polygon:c.create("polygon"),histogram:c.create("histogram"),dotplot:c.create("dotplot"),boxplot:c.create("boxplot"),ttest:c.create("ttest"),ittest:c.create("ittest"),stats:c.create("stats")}}),define("math/parsenode/histogram",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="histogram"}})}),define("math/parsenode/dotplot",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="dotplot"}})}),define("math/parsenode/boxplot",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="boxplot"}})}),define("math/parsenode/ttest",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="ttest"}})}),define("math/parsenode/independent-ttest",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="ittest"}})}),define("math/parsenode/stats",["require","pjs","./expression"],function(e){return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="stats"}})}),define("math/parsenode/equation",["require","./base","pjs","./expressionTypes","math/parsenode/comparator"],function(e){var t=e("./base"),r=e("pjs"),n=e("./expressionTypes").Subtract,i=e("math/parsenode/comparator");return r(t,function(e,t){e.init=function(e,r){t.init.call(this),this.mergeDependencies(e,r),this._lhs=e,this._rhs=r,this._difference=n([this._lhs,this._rhs])},e.asComparator=function(){return i["="]([this._lhs,this._rhs])}})}),define("math/parsenode/assignment",["require","./base","./equation","./identifier","pjs"],function(e){var t=e("./base"),r=e("./equation"),n=e("./identifier");return e("pjs")(t,function(e,t){e.init=function(e,r){t.init.call(this),e=e._symbol,this.mergeDependencies(r),this._expression=r,this._symbol=e,this._exports=this.computeExports()},e.shouldExportAns=function(){return!0},e.computeExports=function(){for(var e=this._symbol,t=this.getDependencies(),r=0;r<t.length;r++)if(t[r]===e)return[];return[e]},e.isEquation=function(e){return-1!==e.getDependencies().indexOf(this._symbol)},e.asEquation=function(){var e=r(n(this._symbol),this._expression);return e.userData=this.userData,e.metaData=this.metaData,e},e.shouldPromoteToSlider=function(e){return!!this._expression.isConstant&&!this._expression.is_mixed_number&&"number"==typeof this._expression.asValue()&&!!isFinite(this._expression.asValue())&&e.isValidSlider(this._symbol)}})}),define("math/parsenode/functiondefinition",["require","pjs","./base","math/errormsg","./equation","./identifier","./functioncall"],function(e){var t=e("pjs"),r=e("./base"),n=e("math/errormsg"),i=e("./equation"),a=e("./identifier"),s=e("./functioncall");return t(r,function(e,t){e.init=function(e,r,n){t.init.call(this),e=e._symbol,this._argSymbols=r.map(function(e){return e._symbol}),this._symbol=e,this._exports=[e],this._expression=n,this.addDependencies(this._argSymbols),this.addDummyDependencies(this._argSymbols),this.mergeDependencies(this._expression)},e.isFunction=!0,e.getConcreteInvocationTree=function(e,t,r){if(t.length!==this._argSymbols.length)throw n.wrongArity(this._symbol,this._argSymbols.length,t.length);for(var i=Object.create(e),a=0;a<this._argSymbols.length;a++)i[this._argSymbols[a]]=t[a];return this._expression.getConcreteTree(i,r)},e.getSliderVariables=function(e,t){var r=this._argSymbols;return e.sliderVariables(t.getDependencies()).filter(function(e){return-1===r.indexOf(e)})},e.asEquation=function(){var e=this._argSymbols.map(function(e){return a(e)}),t=i(s(a(this._symbol),e),this._expression);return t.userData=this.userData,t.metaData=this.metaData,t}})}),define("numeric",[],function(){"use strict";var e="undefined"==typeof exports?function(){}:exports;return"undefined"!=typeof global&&(global.numeric=e),e.version="1.2.6",e._myIndexOf=function(e){var t,r=this.length;for(t=0;t<r;++t)if(this[t]===e)return t;return-1},e.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:e._myIndexOf,e.precision=4,e.largeArray=50,e.compile=function(){var t=Array.prototype.slice.call(arguments),r=t.pop();return r="return function ("+t.join(",")+") {"+r+"}",new Function(["numeric"],r)(e)},e._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},e.dim=function(t){var r,n;return"object"==typeof t?(r=t[0],"object"==typeof r?(n=r[0],"object"==typeof n?e._dim(t):[t.length,r.length]):[t.length]):[]},e.mapreduce=function(t,r){return e.compile("x","accum","_s","_k",\'if(typeof accum === "undefined") accum = \'+r+\';\\nif(typeof x === "number") { var xi = x; \'+t+\'; return accum; }\\nif(typeof _s === "undefined") _s = numeric.dim(x);\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i,xi;\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) {\\n        accum = arguments.callee(x[i],accum,_s,_k+1);\\n    }    return accum;\\n}\\nfor(i=_n-1;i>=1;i-=2) { \\n    xi = x[i];\\n    \'+t+";\\n    xi = x[i-1];\\n    "+t+";\\n}\\nif(i === 0) {\\n    xi = x[i];\\n    "+t+"\\n}\\nreturn accum;")},e.mapreduce2=function(t,r){return e.compile("x","var n = x.length;\\nvar i,xi;\\n"+r+"\\nfor(i=n-1;i!==-1;--i) { \\n    xi = x[i];\\n    "+t+"\\n}\\nreturn accum;")},e.rep=function(t,r,n){void 0===n&&(n=0);var i,a=t[n],s=Array(a);if(n===t.length-1){for(i=a-2;i>=0;i-=2)s[i+1]=r,s[i]=r;return-1===i&&(s[0]=r),s}for(i=a-1;i>=0;i--)s[i]=e.rep(t,r,n+1);return s},e.dotMMsmall=function(e,t){var r,n,i,a,s,o,u,c,l,p,f;for(a=e.length,s=t.length,o=t[0].length,u=Array(a),r=a-1;r>=0;r--){for(c=Array(o),l=e[r],i=o-1;i>=0;i--){for(p=l[s-1]*t[s-1][i],n=s-2;n>=1;n-=2)f=n-1,p+=l[n]*t[n][i]+l[f]*t[f][i];0===n&&(p+=l[0]*t[0][i]),c[i]=p}u[r]=c}return u},e._getCol=function(e,t,r){var n,i=e.length;for(n=i-1;n>0;--n)r[n]=e[n][t],--n,r[n]=e[n][t];0===n&&(r[0]=e[0][t])},e.dotMMbig=function(t,r){var n,i,a,s=e._getCol,o=r.length,u=Array(o),c=t.length,l=r[0].length,p=new Array(c),f=e.dotVV;for(--o,--c,i=c;-1!==i;--i)p[i]=Array(l);for(--l,i=l;-1!==i;--i)for(s(r,i,u),a=c;-1!==a;--a)0,n=t[a],p[a][i]=f(n,u);return p},e.dotMV=function(t,r){var n,i=t.length,a=(r.length,Array(i)),s=e.dotVV;for(n=i-1;n>=0;n--)a[n]=s(t[n],r);return a},e.dotVM=function(e,t){var r,n,i,a,s,o,u;for(i=e.length,a=t[0].length,s=Array(a),n=a-1;n>=0;n--){for(o=e[i-1]*t[i-1][n],r=i-2;r>=1;r-=2)u=r-1,o+=e[r]*t[r][n]+e[u]*t[u][n];0===r&&(o+=e[0]*t[0][n]),s[n]=o}return s},e.dotVV=function(e,t){var r,n,i=e.length,a=e[i-1]*t[i-1];for(r=i-2;r>=1;r-=2)n=r-1,a+=e[r]*t[r]+e[n]*t[n];return 0===r&&(a+=e[0]*t[0]),a},e.dot=function(t,r){var n=e.dim;switch(1e3*n(t).length+n(r).length){case 2002:return r.length<10?e.dotMMsmall(t,r):e.dotMMbig(t,r);case 2001:return e.dotMV(t,r);case 1002:return e.dotVM(t,r);case 1001:return e.dotVV(t,r);case 1e3:return e.mulVS(t,r);case 1:return e.mulSV(t,r);case 0:return t*r;default:throw new Error("numeric.dot only works on vectors and matrices")}},e.diag=function(e){var t,r,n,i,a=e.length,s=Array(a);for(t=a-1;t>=0;t--){for(i=Array(a),r=t+2,n=a-1;n>=r;n-=2)i[n]=0,i[n-1]=0;for(n>t&&(i[n]=0),i[t]=e[t],n=t-1;n>=1;n-=2)i[n]=0,i[n-1]=0;0===n&&(i[0]=0),s[t]=i}return s},e.getDiag=function(e){var t,r=Math.min(e.length,e[0].length),n=Array(r);for(t=r-1;t>=1;--t)n[t]=e[t][t],--t,n[t]=e[t][t];return 0===t&&(n[0]=e[0][0]),n},e.identity=function(t){return e.diag(e.rep([t],1))},e.pointwise=function(t,r,n){void 0===n&&(n="");var i,a,s=[],o=/\\[i\\]$/,u="",c=!1;for(i=0;i<t.length;i++)o.test(t[i])?(a=t[i].substring(0,t[i].length-3),u=a):a=t[i],"ret"===a&&(c=!0),s.push(a);return s[t.length]="_s",s[t.length+1]="_k",s[t.length+2]=\'if(typeof _s === "undefined") _s = numeric.dim(\'+u+\');\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i\'+(c?"":", ret = Array(_n)")+";\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\\n    return ret;\\n}\\n"+n+"\\nfor(i=_n-1;i!==-1;--i) {\\n    "+r+"\\n}\\nreturn ret;",e.compile.apply(null,s)},e.pointwise2=function(t,r,n){void 0===n&&(n="");var i,a,s=[],o=/\\[i\\]$/,u="",c=!1;for(i=0;i<t.length;i++)o.test(t[i])?(a=t[i].substring(0,t[i].length-3),u=a):a=t[i],"ret"===a&&(c=!0),s.push(a);return s[t.length]="var _n = "+u+".length;\\nvar i"+(c?"":", ret = Array(_n)")+";\\n"+n+"\\nfor(i=_n-1;i!==-1;--i) {\\n"+r+"\\n}\\nreturn ret;",e.compile.apply(null,s)},e._biforeach=function e(t,r,n,i,a){if(i===n.length-1)return void a(t,r);var s,o=n[i];for(s=o-1;s>=0;s--)e("object"==typeof t?t[s]:t,"object"==typeof r?r[s]:r,n,i+1,a)},e._biforeach2=function e(t,r,n,i,a){if(i===n.length-1)return a(t,r);var s,o=n[i],u=Array(o);for(s=o-1;s>=0;--s)u[s]=e("object"==typeof t?t[s]:t,"object"==typeof r?r[s]:r,n,i+1,a);return u},e._foreach=function e(t,r,n,i){if(n===r.length-1)return void i(t);var a,s=r[n];for(a=s-1;a>=0;a--)e(t[a],r,n+1,i)},e._foreach2=function e(t,r,n,i){if(n===r.length-1)return i(t);var a,s=r[n],o=Array(s);for(a=s-1;a>=0;a--)o[a]=e(t[a],r,n+1,i);return o},e.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},e.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},e.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],e.mathfuns2=["atan2","pow","max","min"],e.ops1={neg:"-",not:"!",bnot:"~",clone:""},e.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi);","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,r;for(t=0;t<e.mathfuns2.length;++t)r=e.mathfuns2[t],e.ops2[r]=r;for(t in e.ops2)if(e.ops2.hasOwnProperty(t)){r=e.ops2[t];var n,i,a="";-1!==e.myIndexOf.call(e.mathfuns2,t)?(a="var "+r+" = Math."+r+";\\n",n=function(e,t,n){return e+" = "+r+"("+t+","+n+")"},i=function(e,t){return e+" = "+r+"("+e+","+t+")"}):(n=function(e,t,n){return e+" = "+t+" "+r+" "+n},i=e.opseq.hasOwnProperty(t+"eq")?function(e,t){return e+" "+r+"= "+t}:function(e,t){return e+" = "+e+" "+r+" "+t}),e[t+"VV"]=e.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),a),e[t+"SV"]=e.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),a),e[t+"VS"]=e.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),a),e[t]=e.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+\'SV;\\nvar dim = numeric.dim;\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof x === "object") {\\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n  else \'+i("x","y")+"\\n}\\nreturn x;\\n"),e[r]=e[t],e[t+"eqV"]=e.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),a),e[t+"eqS"]=e.pointwise2(["ret[i]","x"],i("ret[i]","x"),a),e[t+"eq"]=e.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar V = numeric."+t+"eqV, S = numeric."+t+\'eqS\\nvar s = numeric.dim(x);\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\\n  else numeric._biforeach(x,y,s,0,S);\\n}\\nreturn x;\\n\')}for(t=0;t<e.mathfuns2.length;++t)r=e.mathfuns2[t],delete e.ops2[r];for(t=0;t<e.mathfuns.length;++t)r=e.mathfuns[t],e.ops1[r]=r;for(t in e.ops1)e.ops1.hasOwnProperty(t)&&(a="",r=e.ops1[t],-1!==e.myIndexOf.call(e.mathfuns,t)&&Math.hasOwnProperty(r)&&(a="var "+r+" = Math."+r+";\\n"),e[t+"eqV"]=e.pointwise2(["ret[i]"],"ret[i] = "+r+"(ret[i]);",a),e[t+"eq"]=e.compile("x",\'if(typeof x !== "object") return \'+r+"x\\nvar i;\\nvar V = numeric."+t+"eqV;\\nvar s = numeric.dim(x);\\nnumeric._foreach(x,s,0,V);\\nreturn x;\\n"),e[t+"V"]=e.pointwise2(["x[i]"],"ret[i] = "+r+"(x[i]);",a),e[t]=e.compile("x",\'if(typeof x !== "object") return \'+r+"(x)\\nvar i;\\nvar V = numeric."+t+"V;\\nvar s = numeric.dim(x);\\nreturn numeric._foreach2(x,s,0,V);\\n"));for(t=0;t<e.mathfuns.length;++t)r=e.mathfuns[t],delete e.ops1[r];for(t in e.mapreducers)e.mapreducers.hasOwnProperty(t)&&(r=e.mapreducers[t],e[t+"V"]=e.mapreduce2(r[0],r[1]),e[t]=e.compile("x","s","k",r[1]+\'if(typeof x !== "object") {    xi = x;\\n\'+r[0]+\'\\n    return accum;\\n}if(typeof s === "undefined") s = numeric.dim(x);\\nif(typeof k === "undefined") k = 0;\\nif(k === s.length-1) return numeric.\'+t+"V(x);\\nvar xi;\\nvar n = x.length, i;\\nfor(i=n-1;i!==-1;--i) {\\n   xi = arguments.callee(x[i]);\\n"+r[0]+"\\n}\\nreturn accum;\\n"))}(),e.inv=function(t){var r,n,i,a,s,o,u,t,c=e.dim(t),l=Math.abs,p=c[0],f=c[1],h=e.clone(t),d=e.identity(p);for(o=0;o<f;++o){var m=-1,g=-1;for(s=o;s!==p;++s)(u=l(h[s][o]))>g&&(m=s,g=u);for(n=h[m],h[m]=h[o],h[o]=n,a=d[m],d[m]=d[o],d[o]=a,t=n[o],u=o;u!==f;++u)n[u]/=t;for(u=f-1;-1!==u;--u)a[u]/=t;for(s=p-1;-1!==s;--s)if(s!==o){for(r=h[s],i=d[s],t=r[o],u=o+1;u!==f;++u)r[u]-=n[u]*t;for(u=f-1;u>0;--u)i[u]-=a[u]*t,--u,i[u]-=a[u]*t;0===u&&(i[0]-=a[0]*t)}}return d},e.det=function(t){var r=e.dim(t);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");var n,i,a,s,o,u,c,l,p=r[0],f=1,h=e.clone(t);for(i=0;i<p-1;i++){for(a=i,n=i+1;n<p;n++)Math.abs(h[n][i])>Math.abs(h[a][i])&&(a=n);for(a!==i&&(c=h[a],h[a]=h[i],h[i]=c,f*=-1),s=h[i],n=i+1;n<p;n++){for(o=h[n],u=o[i]/s[i],a=i+1;a<p-1;a+=2)l=a+1,o[a]-=s[a]*u,o[l]-=s[l]*u;a!==p&&(o[a]-=s[a]*u)}if(0===s[i])return 0;f*=s[i]}return f*h[i][i]},e.transpose=function(e){var t,r,n,i,a,s=e.length,o=e[0].length,u=Array(o);for(r=0;r<o;r++)u[r]=Array(s);for(t=s-1;t>=1;t-=2){for(i=e[t],n=e[t-1],r=o-1;r>=1;--r)a=u[r],a[t]=i[r],a[t-1]=n[r],--r,a=u[r],a[t]=i[r],a[t-1]=n[r];0===r&&(a=u[0],a[t]=i[0],a[t-1]=n[0])}if(0===t){for(n=e[0],r=o-1;r>=1;--r)u[r][0]=n[r],--r,u[r][0]=n[r];0===r&&(u[0][0]=n[0])}return u},e.negtranspose=function(e){var t,r,n,i,a,s=e.length,o=e[0].length,u=Array(o);for(r=0;r<o;r++)u[r]=Array(s);for(t=s-1;t>=1;t-=2){for(i=e[t],n=e[t-1],r=o-1;r>=1;--r)a=u[r],a[t]=-i[r],a[t-1]=-n[r],--r,a=u[r],a[t]=-i[r],a[t-1]=-n[r];0===r&&(a=u[0],a[t]=-i[0],a[t-1]=-n[0])}if(0===t){for(n=e[0],r=o-1;r>=1;--r)u[r][0]=-n[r],--r,u[r][0]=-n[r];0===r&&(u[0][0]=-n[0])}return u},e.norm2=function(t){return Math.sqrt(e.norm2Squared(t))},e.linspace=function(e,t,r){if(void 0===r&&(r=Math.max(Math.round(t-e)+1,1)),r<2)return 1===r?[e]:[];var n,i=Array(r);for(r--,n=r;n>=0;n--)i[n]=(n*t+(r-n)*e)/r;return i},e.getBlock=function(t,r,n){function i(e,t){var s,o=r[t],u=n[t]-o,c=Array(u);if(t===a.length-1){for(s=u;s>=0;s--)c[s]=e[s+o];return c}for(s=u;s>=0;s--)c[s]=i(e[s+o],t+1);return c}var a=e.dim(t);return i(t,0)},e.setBlock=function(t,r,n,i){function a(e,t,i){var o,u=r[i],c=n[i]-u;if(i===s.length-1)for(o=c;o>=0;o--)e[o+u]=t[o];for(o=c;o>=0;o--)a(e[o+u],t[o],i+1)}var s=e.dim(t);return a(t,i,0),t},e.getRange=function(e,t,r){var n,i,a,s,o=t.length,u=r.length,c=Array(o);for(n=o-1;-1!==n;--n)for(c[n]=Array(u),a=c[n],s=e[t[n]],i=u-1;-1!==i;--i)a[i]=s[r[i]];return c},e.blockMatrix=function(t){var r=e.dim(t);if(r.length<4)return e.blockMatrix([t]);var n,i,a,s,o,u=r[0],c=r[1];for(n=0,i=0,a=0;a<u;++a)n+=t[a][0].length;for(s=0;s<c;++s)i+=t[0][s][0].length;var l=Array(n);for(a=0;a<n;++a)l[a]=Array(i);var p,f,h,d,m,g=0;for(a=0;a<u;++a){for(p=i,s=c-1;-1!==s;--s)for(o=t[a][s],p-=o[0].length,h=o.length-1;-1!==h;--h)for(m=o[h],f=l[g+h],d=m.length-1;-1!==d;--d)f[p+d]=m[d];g+=t[a][0].length}return l},e.tensor=function(t,r){if("number"==typeof t||"number"==typeof r)return e.mul(t,r);var n=e.dim(t),i=e.dim(r);if(1!==n.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var a,s,o,u,c=n[0],l=i[0],p=Array(c);for(s=c-1;s>=0;s--){for(a=Array(l),u=t[s],o=l-1;o>=3;--o)a[o]=u*r[o],--o,a[o]=u*r[o],--o,a[o]=u*r[o],--o,a[o]=u*r[o];for(;o>=0;)a[o]=u*r[o],--o;p[s]=a}return p},e.epsilon=2.220446049250313e-16,e.LU=function(t,r){r=r||!1;var n,i,a,s,o,u,c,l,p,f=Math.abs,h=t.length,d=h-1,m=new Array(h);for(r||(t=e.clone(t)),a=0;a<h;++a){for(c=a,u=t[a],p=f(u[a]),i=a+1;i<h;++i)s=f(t[i][a]),p<s&&(p=s,c=i);for(m[a]=c,c!=a&&(t[a]=t[c],t[c]=u,u=t[a]),o=u[a],n=a+1;n<h;++n)t[n][a]/=o;for(n=a+1;n<h;++n){for(l=t[n],i=a+1;i<d;++i)l[i]-=l[a]*u[i],++i,l[i]-=l[a]*u[i];i===d&&(l[i]-=l[a]*u[i])}}return{LU:t,P:m}},e.LUsolve=function(t,r){var n,i,a,s,o,u=t.LU,c=u.length,l=e.clone(r),p=t.P;for(n=c-1;-1!==n;--n)l[n]=r[n];for(n=0;n<c;++n)for(a=p[n],p[n]!==n&&(o=l[n],l[n]=l[a],l[a]=o),s=u[n],i=0;i<n;++i)l[n]-=l[i]*s[i];for(n=c-1;n>=0;--n){for(s=u[n],i=n+1;i<c;++i)l[n]-=l[i]*s[i];l[n]/=s[n]}return l},e.solve=function(t,r,n){return e.LUsolve(e.LU(t,n),r)},e.svd=function(t){function r(e,t){return e=Math.abs(e),t=Math.abs(t),e>t?e*Math.sqrt(1+t*t/e/e):0==t?e:t*Math.sqrt(1+e*e/t/t)}var n,i=e.epsilon,a=1e-64/i,s=0,o=0,u=0,c=0,l=0,p=e.clone(t),f=p.length,h=p[0].length;if(f<h)throw"Need more rows than columns";var d=new Array(h),m=new Array(h);for(o=0;o<h;o++)d[o]=m[o]=0;var g=e.rep([h,h],0),y=0,v=0,b=0,x=0,_=0,M=0,S=0;for(o=0;o<h;o++){for(d[o]=v,S=0,l=o+1,u=o;u<f;u++)S+=p[u][o]*p[u][o];if(S<=a)v=0;else for(y=p[o][o],v=Math.sqrt(S),y>=0&&(v=-v),b=y*v-S,p[o][o]=y-v,u=l;u<h;u++){for(S=0,c=o;c<f;c++)S+=p[c][o]*p[c][u];for(y=S/b,c=o;c<f;c++)p[c][u]+=y*p[c][o]}for(m[o]=v,S=0,u=l;u<h;u++)S+=p[o][u]*p[o][u];if(S<=a)v=0;else{for(y=p[o][o+1],v=Math.sqrt(S),y>=0&&(v=-v),b=y*v-S,p[o][o+1]=y-v,u=l;u<h;u++)d[u]=p[o][u]/b;for(u=l;u<f;u++){for(S=0,c=l;c<h;c++)S+=p[u][c]*p[o][c];for(c=l;c<h;c++)p[u][c]+=S*d[c]}}_=Math.abs(m[o])+Math.abs(d[o]),_>x&&(x=_)}for(o=h-1;-1!=o;o+=-1){if(0!=v){for(b=v*p[o][o+1],u=l;u<h;u++)g[u][o]=p[o][u]/b;for(u=l;u<h;u++){for(S=0,c=l;c<h;c++)S+=p[o][c]*g[c][u];for(c=l;c<h;c++)g[c][u]+=S*g[c][o]}}for(u=l;u<h;u++)g[o][u]=0,g[u][o]=0;g[o][o]=1,v=d[o],l=o}for(o=h-1;-1!=o;o+=-1){for(l=o+1,v=m[o],u=l;u<h;u++)p[o][u]=0;if(0!=v){for(b=p[o][o]*v,u=l;u<h;u++){for(S=0,c=l;c<f;c++)S+=p[c][o]*p[c][u];for(y=S/b,c=o;c<f;c++)p[c][u]+=y*p[c][o]}for(u=o;u<f;u++)p[u][o]=p[u][o]/v}else for(u=o;u<f;u++)p[u][o]=0;p[o][o]+=1}for(i*=x,c=h-1;-1!=c;c+=-1)for(var E=0;E<50;E++){var w=!1;for(l=c;-1!=l;l+=-1){if(Math.abs(d[l])<=i){w=!0;break}if(Math.abs(m[l-1])<=i)break}if(!w){s=0,S=1;var D=l-1;for(o=l;o<c+1&&(y=S*d[o],d[o]=s*d[o],!(Math.abs(y)<=i));o++)for(v=m[o],b=r(y,v),m[o]=b,s=v/b,S=-y/b,u=0;u<f;u++)_=p[u][D],M=p[u][o],p[u][D]=_*s+M*S,p[u][o]=-_*S+M*s}if(M=m[c],l==c){if(M<0)for(m[c]=-M,u=0;u<h;u++)g[u][c]=-g[u][c];break}if(E>=49)throw"Error: no convergence.";for(x=m[l],_=m[c-1],v=d[c-1],b=d[c],y=((_-M)*(_+M)+(v-b)*(v+b))/(2*b*_),v=r(y,1),y=y<0?((x-M)*(x+M)+b*(_/(y-v)-b))/x:((x-M)*(x+M)+b*(_/(y+v)-b))/x,s=1,S=1,o=l+1;o<c+1;o++){for(v=d[o],_=m[o],b=S*v,v*=s,M=r(y,b),d[o-1]=M,s=y/M,S=b/M,y=x*s+v*S,v=-x*S+v*s,b=_*S,_*=s,u=0;u<h;u++)x=g[u][o-1],M=g[u][o],g[u][o-1]=x*s+M*S,g[u][o]=-x*S+M*s;for(M=r(y,b),m[o-1]=M,s=y/M,S=b/M,y=s*v+S*_,x=-S*v+s*_,u=0;u<f;u++)_=p[u][o-1],M=p[u][o],p[u][o-1]=_*s+M*S,p[u][o]=-_*S+M*s}d[l]=0,d[c]=y,m[c]=x}for(o=0;o<m.length;o++)m[o]<i&&(m[o]=0);for(o=0;o<h;o++)for(u=o-1;u>=0;u--)if(m[u]<m[o]){for(s=m[u],m[u]=m[o],m[o]=s,c=0;c<p.length;c++)n=p[c][o],p[c][o]=p[c][u],p[c][u]=n;for(c=0;c<g.length;c++)n=g[c][o],g[c][o]=g[c][u],g[c][u]=n;o=u}return{U:p,S:m,V:g}},e}),define("math/parsenode/optimizedregression",["require","pjs","./base"],function(e){return e("pjs")(e("./base"),function(e,t){e.init=function(e,r,n,i,a){t.init.call(this),this.parameters=e,this.residuals=r,this.statistics=n,this.model=i,this.isModelValid=a.isModelValid,this.residualVariable=a.residualVariable,this.residualSuggestionId=a.residualSuggestionId,this.shouldSuggestLogMode=a.shouldSuggestLogMode,this._exports=[this.residualVariable];for(var s in e)e.hasOwnProperty(s)&&this._exports.push(s);this.mergeDependencies(i)},e.getCompiledFunction=function(){return this.model.getCompiledFunction.apply(this.model,arguments)},e.getCompiledDerivative=function(){return this.model.getCompiledDerivative.apply(this.model,arguments)},e.evaluate=function(){return this.model.evaluate.apply(this.model,arguments)}})}),define("math/parsenode/regression",["require","pjs","./base","numeric","math/distance","math/builtin","graphing/label","math/errormsg","./error","./optimizedregression","./list","./functioncall","./identifier","./constant","./freevariable","./expressionTypes","math/types"],function(e){var t=e("pjs"),r=e("./base"),n=e("numeric"),i=e("math/distance"),a=e("math/builtin"),s=e("graphing/label"),o=e("math/errormsg"),u=e("./error"),c=e("./optimizedregression"),l=e("./list"),p=e("./functioncall"),f=e("./identifier"),h=e("./constant"),d=e("./freevariable"),m=e("./expressionTypes"),g=e("math/types"),y=m.Subtract;return t(r,function(e,t,r){function m(e,t){for(var r=0,n=e.fn.apply(void 0,t),i=0;i<n.length;i++){var a=n[i];r+=a*a}return r/n.length}function v(e,t){return e.fn.apply(void 0,t)}function b(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n].fn.apply(void 0,t);r.push(i)}return r}function x(e,t,r,i,a){for(var s=[],o=0;o<t.length;o++)s.push(0);for(var u=b(t,s),c=n.LU(n.dot(u,n.transpose(u)),!0),l=s,p=0;p<2;p++){var f=v(e,s),h=n.neg(n.LUsolve(c,n.dot(u,f)));if(!n.all(n.isFinite(h)))return M(e,t,r,i,a);s=n.add(l,h),l=s}return{solution:s,MSE:m(e,s)}}function _(e,t,r,i){for(var a=r,s=m(e,a),o=.001,u=[],c=0;c<t.length;c++)u.push(1);for(var l=0,p=!1,f=b(t,a),h=a,d=s;l<i&&!p;){var g=v(e,a),y=n.transpose(f),x=n.dot(f,y);if(!n.all(n.isFinite(g)))break;if(!n.all(n.isFinite(x)))break;for(var _=!1;l<i&&!p&&!_;){l+=1;var M=n.LU(n.add(x,n.diag(n.mul(o,u))),!0),S=n.neg(n.LUsolve(M,n.dot(f,g))),E=S;if(a=n.add(h,E),s=m(e,a),p=n.all(n.eq(a,h))){h=a,d=s;break}var w;if(isFinite(s)&&s<=d&&(w=b(t,a),_=n.all(n.isFinite(w))),_){f=w,h=a,d=s,o*=.1,o=Math.max(1e-64,o);break}o*=2}}return{solution:h,MSE:m(e,h)}}function M(e,t,r,n,a){var s,o=[];for(n||(n={}),a||(a={}),s=0;s<r.length;s++){var u=r[s];a[u]&&isFinite(a[u].asValue())?o.push(+a[u].asValue()):n.hasOwnProperty(u)&&isFinite(n[u])?o.push(+n[u]):o.push(1)}var c=C(30,r),l=I(e,t,c,3,5),p=I(e,t,l,60,1),f=_(e,t,p[0],250),h=_(e,t,o,100);return isFinite(h.MSE)?h.MSE<f.MSE?h:i.approx(h.MSE,f.MSE,8)?h:f:f}function S(e,t,r,n){var i,a,s=t.getDependencies();for(a=0;a<s.length;a++)if(!e.validRegressionParameter(s[a]))throw o.invalidRegressionParameter(s[a]);var u=t.getCompiledFunction(s);if(s.length){var c={};for(a=1;a<s.length;a++)c[s[a]]=d(s[0]);var l=t.substitute(c).isLinear(s[0]),p=[];for(a=0;a<s.length;a++)p.push(t.takeDerivative(s[a]).getCompiledFunction(s));i=l?x(u,p,s,r,n):M(u,p,s,r,n)}else i={solution:[],MSE:m(u,[])};var f={};for(a=0;a<s.length;a++)f[s[a]]=h(i.solution[a]);return f}function E(e,t){var r=e.length,n=e[0],a=t[0],s=e[r-1],o=t[r-1];if(!(isFinite(n)&&isFinite(s)&&isFinite(a)&&isFinite(o)))return!1;if(o-a==0)return!1;var u=s-n;if(0===u)return!1;for(var c=1;c<r-1;c++){var l=e[c],p=t[c],f=(o*(l-n)+a*(s-l))/u;if(!i.approx(p,f,5))return!1}return!0}function w(e,t,r){var n=Object.create(t);for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return l.wrap(e.getConcreteTree(n))}e.init=function(e,r){t.init.call(this),this._lhs=e,this.isLhsSimple=e instanceof f||e instanceof l,this._logLhs=p("ln",[e]),this._rhs=r,this._difference=y([e,r]),this._logDifference=y([p("ln",[e]),p("ln",[r])]),this.mergeDependencies(e,r)},e.isRegression=!0,e.chooseResidualVariable=function(e){if(this.userData&&this.userData.residualVariable){var t=s.latexToIdentifier(this.userData.residualVariable);if(!e[t])return t}for(var r,n=this.getDependencies(),i=0;i<n.length;i++){var a=n[i].match(/_(.*)/);if(a&&(r="e_"+a[1],!e[r]))return r}for(var o=1;;){if(r="e_"+o,!e[r])return r;o++}},e.getRHSModel=function(e,t){function r(e,t){for(var r=0;r<n.length;r++)if(n[r].node===this)return n[r].tmpVar;var a=d(this.tmpVar()),s=this.getConcreteTree(e);return s.getDependencies().length&&(i=!1),n.push({node:this,tmpVar:a,symbol:a._symbol,concrete:s}),a}var n=[],i=!0,a={List:r,TableColumn:r,Range:r},s=this._rhs.tryGetConcreteTree(e,a);return{node:s,substituted:s.isError?s:s.substitute(t),replacedNodes:n,isValid:i}};var D=[18.9,.105,.0113,.089,4.414,34.32,8.61,.373,.06,.149,1.84,9.26,5,.7,.2,1.13,2.61,1.89,1,.007,30,120,1500,4e-4,7.23,-1,-.0081,-.03,-28.6,-1.71,-.4,-6.94,-.777],T=function(e){return D[503*e%D.length]},C=function(e,t){for(var r,n=[],i=t.length,a=0;a<e;a++){r=[];for(var s=0;s<i;s++)r[s]=0===a?0:1===a?1:T(a*i+s);n.push(r)}return n},I=function(e,t,r,n,i){for(var a=[],s=0;s<r.length;s++)a.push({soln:_(e,t,r[s],n),startingVals:r[s]});a.sort(function(e,t){return isNaN(e.soln.MSE)?1:isNaN(t.soln.MSE)?-1:e.soln.MSE-t.soln.MSE});for(var o=[],u=0;u<i;u++)o.push(a[u].startingVals);return o};e.computeStatistics=function(e,t,r,n,s){\nif(r.getDependencies().length)throw o.optimizationError();var u=0;r.eachElement(function(e){var t=e.asValue();u+=t*t});var c=u/r.length;if(!isFinite(c))throw o.optimizationError();if(e.getDependencies().length>0)return{RMSE:Math.sqrt(c)};var p=g.isList(e.valueType)?a.varp(e.asValue()):0;if(e.getDependencies().length||!isFinite(p)||p<=0||!this.isLhsSimple)return{RMSE:Math.sqrt(c)};var f=1-c/p;if(t.isValid&&1===t.replacedNodes.length){var h=[],d=[],m=n&&(s===P.LINLOG||s===P.LOGLOG);l.eachArgs([t.replacedNodes[0].concrete,e],function(e){h.push(m?Math.log(e[0].asValue()):+e[0].asValue()),d.push(+e[1].asValue())});var y=a.corr(h,d);if(i.approx(y*y,f,8))return{r:y,rsquared:y*y}}return{Rsquared:f}},e.getResidualSuggestionId=function(e,t){var r,n=this._rhs.getDependencies();for(var i in t)if(t.hasOwnProperty(i)&&t[i].concreteTree.isTable&&t[i].concreteTree.columns[0]){var a=t[i].rawTree.columns;if(a&&a.length){var s=a[0].getExports();if(1===s.length&&-1!==n.indexOf(s[0])){for(var o=1;o<a.length;o++)if(-1!==a[o].getDependencies().indexOf(e))return;r=r||i}}}return r||void 0};var P={NONE:0,LOGLIN:1,LOGLOG:2,LINLOG:3};e.linearizingTransformation=function(e,t){if(!this.isLhsSimple)return P.NONE;var r=t.substituted;if(r.isError)return P.NONE;if(r.valueType!==g.Number)return P.NONE;var n=r.getDependencies();if(1!==n.length)return P.NONE;if(isFinite(t.node.polynomialOrder(n[0])))return P.NONE;var i=r.getCompiledFunction(n).fn,a=t.replacedNodes[0].concrete;if(r.valueType!==g.Number)return P.NONE;var s=a.mapElements(function(e){return+e.asValue()});if(s.length<3)return P.NONE;s.sort(function(e,t){return e-t});var o=s.map(i),u=o.map(Math.log),c=s.map(Math.log),p=!0;return l.wrap(e).eachElement(function(e){isFinite(Math.log(+e.asValue()))||(p=!1)}),E(s,u)&&p?P.LOGLIN:E(c,u)&&p?P.LOGLOG:E(c,o)?P.LINLOG:P.NONE},e.optimize=function(e,t,r,n,i){var a=this._lhs.getConcreteTree(t),o=this._rhs.getConcreteTree(t);this.typeCheck([a,o]);var u,p=l.wrap(this._difference.getConcreteTree(t)),f=S(e,p,this.userData.regressionParameters,n),h=this.getRHSModel(t,f),d=w(this._difference,t,f),m=this.linearizingTransformation(a,h);if(!this.userData.isLogModeRegression||m!==P.LOGLIN&&m!==P.LOGLOG)u=this.computeStatistics(a,h,d,this.userData.isLogModeRegression,m);else{var g=this._logDifference.getConcreteTree(t),y=this._logLhs.getConcreteTree(t);f=S(e,g,this.userData.regressionParamters,n),h=this.getRHSModel(t,f),d=w(this._difference,t,f);var v=w(this._logDifference,t,f);u=this.computeStatistics(y,h,v,this.userData.isLogModeRegression,m)}var b=this.chooseResidualVariable(r),x=this.getResidualSuggestionId(b,i);return this.userData.residualVariable=s.identifierToLatex(b),c(f,d,u,h.substituted,{isModelValid:h.isValid,residualVariable:b,residualSuggestionId:x,shouldSuggestLogMode:m!==P.NONE})},e.tryOptimize=function(){try{return this.optimize.apply(this,arguments)}catch(e){if(e instanceof u)return e;throw e}},e.exportTo=function(e,t,r){if(!t.isError){for(var n in t.parameters)t.parameters.hasOwnProperty(n)&&(e.assignmentForbidden(n)||(r[n]=r[n]?o.multiplyDefined(n):t.parameters[n]));e.assignmentForbidden(t.residualVariable)||(r[t.residualVariable]=t.residuals)}},e.getSliderVariables=function(){return[]}})}),define("math/parsenode/image",["require","pjs","./base"],function(e){return e("pjs")(e("./base"),function(e,t,r,n){e.isImage=!0,e.init=function(e,r){t.init.call(this),this.center=e.center,this.radianAngle=e.radianAngle,this.width=e.width,this.height=e.height,this.opacity=e.opacity,this.moveStrategy=r,this.mergeDependencies(this.center,this.radianAngle,this.width,this.height,this.opacity)}})}),define("math/parsenode/slider",["require","pjs","./assignment","./identifier"],function(e){var t=e("pjs"),r=e("./assignment"),n=e("./identifier");return t(r,function(e,t,r,i){e.isSlider=!0,e.init=function(e,r){t.init.call(this,n(e._symbol),e._expression),this.setInputSpan(e._inputSpan),this.sliderAssignment=e,this.sliderMin=r.sliderMin,this.sliderMax=r.sliderMax,this.sliderStep=r.sliderStep,this.sliderMin&&this.mergeDependencies(this.sliderMin),this.sliderMax&&this.mergeDependencies(this.sliderMax),this.sliderStep&&this.mergeDependencies(this.sliderStep)},e.shouldPromoteToSlider=function(e){return!1}})}),define("math/parsenode/table",["require","pjs","./base"],function(e){return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this.columns=e,this._exports=[],this.mergeDependencies.apply(this,e);for(var r=0;r<e.length;r++)Array.prototype.push.apply(this._exports,e[r].getExports())},e.exportPenalty=1,e.isTable=!0,e.exportTo=function(e,t,r){for(var n=0;n<this.columns.length;n++){var i=this.columns[n].getExports();if(i.length){var a=i[0];e.assignmentForbidden(a)||r[a]||(t.isError?r[a]=t:this.columns[n].exportTo(e,t.columns[n],r))}}},e.getAllIds=function(){return this.columns.map(function(e){return e.header.userData.id})}})}),define("math/parsenode/tablecolumn",["require","pjs","./base","./list","./constant","./identifier"],function(e){var t=e("pjs"),r=e("./base"),n=e("./list"),i=e("./constant"),a=e("./identifier");return t(r,function(e,t){function s(e){return e.isError?i(NaN):e}e.init=function(e,r,n){t.init.call(this),this.header=e,this.length=r,this.values=n,this.isIndependent=!1,this.registerDependencies(),this._exports=this.computeExports()},e.registerDependencies=function(){this.mergeDependencies(this.header),this.mergeDependencies.apply(this,this.values)},e.computeExports=function(){return this.header instanceof a?[this.header._symbol]:[]},e.isDiscrete=function(e){return 1!==this.header.getDependencies().length||1!==e.header.getDependencies().length||this.header.getDependencies()[0]!==e.header.getDependencies()[0]},e._exportSymbolsTo=function(e,t,i){if(e.length){var a=e[0];if(t.isError)i[a]=t;else try{i[a]=n(t.values.map(s))}catch(e){if(!(e instanceof r))throw e;i[a]=e}}},e.exportTo=function(e,t,r){var n=this.getLegalExports(e);this._exportSymbolsTo(n,t,r)},e.exportToLocal=function(e,t){this._exportSymbolsTo(this.getExports(),e,t)}})}),define("math/parsenode/solvedequation",["require","pjs","./base"],function(e){return e("pjs")(e("./base"),function(e,t){e.init=function(e,r){t.init.call(this),this._symbol=e,this._expression=r,this.mergeDependencies(r)},e.getCompiledFunction=function(){return this._expression.getCompiledFunction.apply(this._expression,arguments)},e.getCompiledDerivative=function(){return this._expression.getCompiledDerivative.apply(this._expression,arguments)},e.evaluate=function(){return this._expression.evaluate.apply(this._expression,arguments)}})}),define("parsenodes",["require","math/parsenode/expressionTypes","math/parsenode/base","math/parsenode/expression","math/parsenode/scalarexpression","math/parsenode/error","math/parsenode/constant","math/parsenode/mixednumber","math/parsenode/identifier","math/parsenode/ans","math/parsenode/freevariable","math/parsenode/dummyindex","math/parsenode/list","math/parsenode/range","math/parsenode/broadcast","math/parsenode/listaccess","math/parsenode/dotaccess","math/parsenode/dotaccessexponent","math/parsenode/orderedpair","math/parsenode/movablepoint","math/parsenode/orderedpairaccess","math/parsenode/polygon","math/parsenode/basecomparator","math/parsenode/comparator","math/parsenode/doubleinequality","math/parsenode/repeatedoperator","math/parsenode/sum","math/parsenode/product","math/parsenode/integral","math/parsenode/functioncall","math/parsenode/functionexponent","math/parsenode/functionfactorial","math/parsenode/prime","math/parsenode/piecewise","math/parsenode/derivative","math/parsenode/builtinfunction","math/parsenode/nativefunction","math/parsenode/typedfunction","math/parsenode/reducerfunction","math/parsenode/parametrizedreducerfunction","math/parsenode/doublereducerfunction","math/parsenode/toplevelfunction","math/parsenode/distribution","math/parsenode/histogram","math/parsenode/dotplot","math/parsenode/boxplot","math/parsenode/ttest","math/parsenode/independent-ttest","math/parsenode/stats","math/parsenode/assignment","math/parsenode/functiondefinition","math/parsenode/equation","math/parsenode/regression","math/parsenode/image","math/parsenode/slider","math/parsenode/table","math/parsenode/tablecolumn","math/parsenode/solvedequation","math/parsenode/optimizedregression"],function(e){var t=e("math/parsenode/expressionTypes"),r={Base:e("math/parsenode/base"),Expression:e("math/parsenode/expression"),ScalarExpression:e("math/parsenode/scalarexpression"),Error:e("math/parsenode/error"),Constant:e("math/parsenode/constant"),MixedNumber:e("math/parsenode/mixednumber"),Identifier:e("math/parsenode/identifier"),Ans:e("math/parsenode/ans"),FreeVariable:e("math/parsenode/freevariable"),DummyIndex:e("math/parsenode/dummyindex"),List:e("math/parsenode/list"),Range:e("math/parsenode/range"),Broadcast:e("math/parsenode/broadcast"),ListAccess:e("math/parsenode/listaccess"),DotAccess:e("math/parsenode/dotaccess"),DotAccessExponent:e("math/parsenode/dotaccessexponent"),OrderedPair:e("math/parsenode/orderedpair"),MovablePoint:e("math/parsenode/movablepoint"),OrderedPairAccess:e("math/parsenode/orderedpairaccess"),Polygon:e("math/parsenode/polygon"),BaseComparator:e("math/parsenode/basecomparator"),Comparator:e("math/parsenode/comparator"),DoubleInequality:e("math/parsenode/doubleinequality"),RepeatedOperator:e("math/parsenode/repeatedoperator"),Sum:e("math/parsenode/sum"),Product:e("math/parsenode/product"),Integral:e("math/parsenode/integral"),FunctionCall:e("math/parsenode/functioncall"),FunctionExponent:e("math/parsenode/functionexponent"),FunctionFactorial:e("math/parsenode/functionfactorial"),Prime:e("math/parsenode/prime"),Piecewise:e("math/parsenode/piecewise"),Derivative:e("math/parsenode/derivative"),BuiltInFunction:e("math/parsenode/builtinfunction"),NativeFunction:e("math/parsenode/nativefunction"),TypedFunction:e("math/parsenode/typedfunction"),ReducerFunction:e("math/parsenode/reducerfunction"),ParametrizedReducerFunction:e("math/parsenode/parametrizedreducerfunction"),DoubleReducerFunction:e("math/parsenode/doublereducerfunction"),TopLevelFunction:e("math/parsenode/toplevelfunction"),Distribution:e("math/parsenode/distribution"),Histogram:e("math/parsenode/histogram"),DotPlot:e("math/parsenode/dotplot"),BoxPlot:e("math/parsenode/boxplot"),TTest:e("math/parsenode/ttest"),IndependentTTest:e("math/parsenode/independent-ttest"),Stats:e("math/parsenode/stats"),Assignment:e("math/parsenode/assignment"),FunctionDefinition:e("math/parsenode/functiondefinition"),Equation:e("math/parsenode/equation"),Regression:e("math/parsenode/regression"),Image:e("math/parsenode/image"),Slider:e("math/parsenode/slider"),Table:e("math/parsenode/table"),TableColumn:e("math/parsenode/tablecolumn"),SolvedEquation:e("math/parsenode/solvedequation"),OptimizedRegression:e("math/parsenode/optimizedregression")};for(var n in t)r[n]=t[n];for(var i in r)r.hasOwnProperty(i)&&"Comparator"!==i&&"BuiltInFunction"!==i&&(r[i].prototype.type=i);for(var a in r.Comparator)r.Comparator.hasOwnProperty(a)&&(r.Comparator[a].prototype.type="Comparator[\'"+a+"\']");for(var s in r.BuiltInFunction)r.BuiltInFunction.hasOwnProperty(s)&&(r.BuiltInFunction[s].prototype.type="BuiltInFunction[\'"+s+"\']");return r}),define("math/parser/char-codes",["require","exports"],function(e,t){"use strict";function r(e){return 48<=e&&e<=57}function n(e){return 97<=e&&e<=122}function i(e){return 65<=e&&e<=90}function a(e){return n(e)||i(e)}function s(e){return 92===e}function o(e){return 46===e}function u(e){return 39===e}function c(e){if(9<=e&&e<=13)return!0;if(8192<=e&&e<=8202)return!0;switch(e){case 32:case 160:case 5760:case 8232:case 8233:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.isDigit=r,t.isLowerCaseLetter=n,t.isUpperCaseLetter=i,t.isLetter=a,t.isBackslash=s,t.isDot=o,t.isSingleQuote=u,t.isWhitespace=c}),define("math/parser/latex-lexer",["require","exports","./char-codes","./input-span"],function(e,t,r,n){"use strict";function i(e,t){return n.joinSpans(e.token.span,t.prevSpan)}function a(e,t,r){return{type:e,span:t,val:r}}function s(e,t,r,n){return{input:e,prevSpan:t,pos:r,token:n}}function o(e){return u(e,0,n.emptySpanAt(e,0))}function u(e,t,n){for(;r.isWhitespace(e.charCodeAt(t));)t+=1;return s(e,n,t,d(e,t))}function c(e){return u(e.input,e.token.span.end,e.token.span)}function l(e){return e.token}function p(e,t){if(l(e).type!==t)throw"Parse Error: expected "+t+".";return c(e)}function f(e,t){return l(e).type===t}function h(e){return e.pos>=e.input.length}function d(e,t){var i=t;if(t>=e.length)return a("End",n.emptySpanAt(e,t),"");var s=e.charCodeAt(t);if(r.isDigit(s)){var o=n.Span(e,i,t+1);return a("Digit",o,e.charAt(i))}if(r.isLetter(s)){var o=n.Span(e,i,t+1);return a("Letter",o,e.charAt(i))}if(r.isBackslash(s)){if(t+=1,r.isLetter(e.charCodeAt(t))){for(;r.isLetter(e.charCodeAt(t));)t+=1;var o=n.Span(e,i,t),u=n.slice(o),c=m[u]||"Cmd";return a(c,o,u)}t+=1;var o=n.Span(e,i,t),u=n.slice(o);return a("EscapedSymbol",o,u)}if(r.isSingleQuote(s)){for(t+=1;r.isSingleQuote(e.charCodeAt(t));)t+=1;if("^"===e.charAt(t)){t+=1;var o=n.Span(e,i,t),u=n.slice(o);return a("Primes^",o,u)}var o=n.Span(e,i,t),u=n.slice(o);return a("Primes",o,u)}var o=n.Span(e,i,t+1),u=e.charAt(i),c=g[u]||"Symbol";return a(c,o,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.spanStates=i,t.LatexToken=a,t.lex=o,t.advance=c,t.peek=l,t.eat=p,t.isAt=f,t.isDone=h;var m={"\\\\left":"Left","\\\\right":"Right","\\\\sqrt":"Sqrt","\\\\frac":"Frac","\\\\operatorname":"OperatorName"},g={"[":"[","]":"]","{":"{","}":"}","^":"^",_:"_"}}),define("math/parser/latex-node",["require","exports"],function(e,t){"use strict";function r(e,t){return{type:"Group",span:e,args:t}}function n(e,t,r){return{type:"Sqrt",span:e,optArg:t,arg:r}}function i(e,t,r){return{type:"Frac",span:e,num:t,den:r}}function a(e,t,r,n){return{type:"SupSub",span:e,sup:t,sub:r,nprimes:n}}function s(e,t,r,n){return{type:"LeftRight",span:e,left:t,right:r,arg:n}}function o(e,t){return{type:"OperatorName",span:e,arg:t}}function u(e,t){return{type:"Symbol",span:e,val:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=r,t.Sqrt=n,t.Frac=i,t.SupSub=a,t.LeftRight=s,t.OperatorName=o,t.Symbol=u}),define("math/parser/latex-parser",["require","exports","./latex-lexer","./input-span","./latex-node"],function(e,t,r,n,i){"use strict";function a(e){switch(e){case"Frac":return 2;case"^":case"_":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":return 1;default:return 0}}function s(e){var t=u(r.lex(e),!1),i=t.state,a=t.tree;if(!r.isDone(i))throw"Parse error: unexpected "+n.slice(r.peek(i).span)+".";return a}function o(e,t){return{state:e,tree:t}}function u(e,t){var n,a=e,s=[];e:for(;!r.isDone(e);){var u=r.peek(e);switch(u.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":case"[":case"{":case"^":case"_":case"Primes":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":case"]":if("]"===u.type&&t)break e;var l=void 0;if(n=c(e),e=n.state,l=n.tree,"Group"===l.type)for(var p=0,f=l.args;p<f.length;p++){var h=f[p];s.push(h)}else s.push(l);break;case"}":case"Right":case"End":break e;default:var d=u.type;throw"Unexpected token type "+d+"."}}var m=r.spanStates(a,e);return o(e,i.Group(m,s))}function c(e){var t,n=r.peek(e);switch(n.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":return e=r.advance(e),o(e,n);case"[":case"]":return e=r.advance(e),o(e,i.Symbol(n.span,n.val));case"{":e=r.advance(e);var a=void 0;return t=u(e,!1),e=t.state,a=t.tree,e=r.eat(e,"}"),o(e,a);case"^":case"_":case"Primes":case"Primes^":return d(e);case"Left":return h(e);case"Frac":return f(e);case"Sqrt":return p(e);case"OperatorName":return l(e);case"}":case"Right":throw"Parse Error: unexpected "+n.val+".";case"End":throw"Parse Error: unexpected end.";default:throw"Unexpected token type "+n.type+"."}}function l(e){var t,n=e,a=r.peek(e);e=r.eat(e,"OperatorName");var s;t=m(e,a),e=t.state,s=t.tree;var u=r.spanStates(n,e);return o(e,i.OperatorName(u,s))}function p(e){var t,n,a=e,s=r.peek(e);e=r.eat(e,"Sqrt");var u;r.isAt(e,"[")&&(t=g(e),e=t.state,u=t.tree);var c;n=m(e,s),e=n.state,c=n.tree;var l=r.spanStates(a,e);return o(e,i.Sqrt(l,u,c))}function f(e){var t,n,a=e,s=r.peek(e);e=r.eat(e,"Frac");var u;t=m(e,s),e=t.state,u=t.tree;var c;n=m(e,s),e=n.state,c=n.tree;var l=r.spanStates(a,e);return o(e,i.Frac(l,u,c))}function h(e){var t,n=e;e=r.eat(e,"Left");var a=r.peek(e);e=r.advance(e);var s;t=u(e,!1),e=t.state,s=t.tree,e=r.eat(e,"Right");var c=r.peek(e);e=r.advance(e);var l=r.spanStates(n,e);return o(e,i.LeftRight(l,a,c,s))}function d(e){var t,n,a,s,u,c=e,l=0;e:for(;!r.isDone(e);){var p=r.peek(e);switch(p.type){case"^":if(e=r.advance(e),s)throw"Parse Error: double superscript.";t=m(e,p),e=t.state,s=t.tree;break;case"_":if(e=r.advance(e),u)throw"Parse Error: double subscript.";n=m(e,p),e=n.state,u=n.tree;break;case"Primes":if(e=r.advance(e),l>0)throw"Parse Error: double primes.";l=p.val.length;break;case"Primes^":if(e=r.advance(e),l>0)throw"Parse Error: double primes.";if(s)throw"Parse Error: double superscript";l=p.val.length-1,a=m(e,p),e=a.state,s=a.tree;break;default:break e}}var f=r.spanStates(c,e);return o(e,i.SupSub(f,s,u,l))}function m(e,t){var s,u,l=a(t.type);if(l<=0)throw new Error("Programming Error: greediness must be greater than 0.");var p=a(r.peek(e).type);if(p>0&&p<=l){var f=n.slice(t.span);throw"Parse Error: can\'t use "+n.slice(r.peek(e).span)+" as argument of "+f+". Use {}."}return s=c(e),e=s.state,u=s.tree,"Group"!==u.type&&(u=i.Group(u.span,[u])),o(e,u)}function g(e){var t;e=r.eat(e,"[");var n;return t=u(e,!0),e=t.state,n=t.tree,e=r.eat(e,"]"),o(e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=s}),define("math/parser/command-aliases",["require","exports","./char-codes"],function(e,t,r){"use strict";function n(e){for(var t=0;r.isBackslash(e.charCodeAt(t));)t+=1;return t>0&&(e=e.slice(t)),i[e]||e}Object.defineProperty(t,"__esModule",{value:!0});var i={mcd:"gcd",gcf:"gcd",mcm:"lcm",signum:"sign",stdDevP:"stdevp",stddevp:"stdevp",stdDev:"stdev",stddev:"stdev",variance:"var",TTest:"ttest",TScore:"tscore",IndependentTTest:"ittest",iTTest:"ittest"};t.translateCmd=n}),define("math/parser/surface-node",["require","exports","./command-aliases"],function(e,t,r){"use strict";function n(e,t){return{type:"Equals",span:e,args:t}}function i(e,t,r){return{type:"Inequality",span:e,symbol:t,args:r}}function a(e,t,r){return{type:"TrailingInequalityPiece",span:e,symbol:t,args:r}}function s(e,t,r){return{type:"InequalityChain",span:e,first:t,chain:r}}function o(e,t){return{type:"Tilde",span:e,args:t}}function u(e,t){return{type:"Pos",span:e,args:t}}function c(e,t){return{type:"Neg",span:e,args:t}}function l(e,t){return{type:"Add",span:e,args:t}}function p(e,t){return{type:"Sub",span:e,args:t}}function f(e,t){return{type:"Mul",span:e,args:t}}function h(e,t){return{type:"Div",span:e,args:t}}function d(e,t){return{type:"Bang",span:e,args:t}}function m(e,t){return{type:"Call",span:e,args:t}}function g(e,t){return{type:"ImplicitCall",span:e,args:t}}function y(e,t){return{type:"Index",span:e,args:t}}function v(e,t){return{type:"Paren",span:e,args:t}}function b(e,t){return{type:"List",span:e,args:t}}function x(e,t){return{type:"Pipes",span:e,args:t}}function _(e,t){return{type:"Subscript",span:e,args:t}}function M(e,t){return{type:"Superscript",span:e,args:t}}function S(e,t,r){return{type:"Prime",span:e,nprimes:t,args:r}}function E(e,t){return{type:"Seq",span:e,args:t}}function w(e,t){return{type:"Sqrt",span:e,args:t}}function D(e,t){return{type:"Nthroot",span:e,args:t}}function T(e,t){return{type:"Frac",span:e,args:t}}function C(e,t){return{type:"Derivative",span:e,args:t}}function I(e,t){return{type:"Integral",span:e,args:t}}function P(e,t){return{type:"EmptyIntegral",span:e,args:t}}function O(e,t){return{type:"Sum",span:e,args:t}}function N(e,t){return{type:"Product",span:e,args:t}}function A(e,t){return{type:"Piecewise",span:e,args:t}}function L(e){return{type:"EmptyPiecewise",span:e}}function q(e,t){return{type:"Colon",span:e,args:t}}function F(e,t){return{type:"Ellipsis",span:e,args:t}}function k(e,t){return{type:"Dot",span:e,args:t}}function V(e,t){return{type:"PercentOf",span:e,args:t}}function B(e,t){return{type:"Juxt",span:e,args:t}}function j(e,t){return{type:"Letter",span:e,val:t}}function R(e,t){return{type:"Decimal",span:e,val:t}}function z(e,t){return{type:"Cmd",span:e,val:r.translateCmd(t)}}function G(e,t){return{type:"Alphanumeric",span:e,val:t}}function U(e,t,r,n){return{type:"MixedNumber",span:e,whole:t,num:r,den:n}}function W(e){if("Subscript"===e.type){if("Alphanumeric"!==e.args[1].type)return!1;e=e.args[0]}switch(e.type){case"Cmd":case"Letter":return!0;default:return!1}}function Y(e){return"Superscript"===e.type&&W(e.args[0])}function X(e,t){if("Letter"!==e.type||"d"!==e.val)return!1;if("Juxt"!==t.type)return!1;var r=t.args,n=r[0],i=r[1];return"Letter"===n.type&&"d"===n.val&&W(i)}function Q(e){return"Seq"===e.type?e.args:[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.Equals=n,t.Inequality=i,t.TrailingInequalityPiece=a,t.InequalityChain=s,t.Tilde=o,t.Pos=u,t.Neg=c,t.Add=l,t.Sub=p,t.Mul=f,t.Div=h,t.Bang=d,t.Call=m,t.ImplicitCall=g,t.Index=y,t.Paren=v,t.List=b,t.Pipes=x,t.Subscript=_,t.Superscript=M,t.Prime=S,t.Seq=E,t.Sqrt=w,t.Nthroot=D,t.Frac=T,t.Derivative=C,t.Integral=I,t.EmptyIntegral=P,t.Sum=O,t.Product=N,t.Piecewise=A,t.EmptyPiecewise=L,t.Colon=q,t.Ellipsis=F,t.Dot=k,t.PercentOf=V,t.Juxt=B,t.Letter=j,t.Decimal=R,t.Cmd=z,t.Alphanumeric=G,t.MixedNumber=U,t.isIdentifier=W,t.isSuperscriptedIdentifier=Y,t.isDerivative=X,t.unwrapSeq=Q}),define("math/parser/surface-node-error",["require","exports"],function(e,t){"use strict";function r(e,t){return{type:"Err",span:e,error:t}}function n(){return{type:"UnexpectedParseError"}}function i(){return{type:"EmptyInput"}}function a(){return{type:"EmptyGroup"}}function s(){return{type:"EmptySubscript"}}function o(){return{type:"EmptySuperscript"}}function u(){return{type:"EmptyRadical"}}function c(){return{type:"EmptySquareBracket"}}function l(){return{type:"EmptyPipe"}}function p(){return{type:"EmptyRadicand"}}function f(){return{type:"UnexpectedEnd"}}function h(e){return{type:"BinaryOperatorMissingRight",val:e}}function d(e){return{type:"BinaryOperatorMissingLeft",val:e}}function m(e){return{type:"UnaryOperatorMissingRight",val:e}}function g(e){return{type:"UnaryOperatorMissingLeft",val:e}}function y(e,t){return{type:"MissingCloseDelimiter",open:e,close:t}}function v(e,t){return{type:"UnexpectedCloseDelimiter",open:e,close:t}}function b(){return{type:"UnexpectedDifferential"}}function x(e){return{type:"UnrecognizedSymbol",val:e}}function _(e){return{type:"InvalidOperatorName",val:e}}function M(e){return{type:"InvalidSubscript",val:e}}function S(e){return{type:"UnexpectedSubscript",base:e}}function E(e){return{type:"FunctionMissingArgument",val:e}}function w(){return{type:"PercentMissingOf"}}function D(){return{type:"PrimeWithoutParen"}}function T(){return{type:"SuperscriptWithPrime"}}function C(){return{type:"UnexpectedPrime"}}function I(){return{type:"SumMissingBound"}}function P(){return{type:"ProductMissingBound"}}function O(){return{type:"MissingBound"}}function N(){return{type:"IntegralMissingBound"}}function A(){return{type:"SumMissingBody"}}function L(){return{type:"ProductMissingBody"}}function q(){return{type:"IntegralMissingBody"}}function F(){return{type:"DerivativeMissingBody"}}function k(){return{type:"IntegralMissingDifferential"}}function V(){return{type:"DifferentialWithSuperscript"}}function B(){return{type:"FractionMissingNumerator"}}function j(){return{type:"FractionMissingDenominator"}}function R(){return{type:"FractionEmpty"}}function z(e){return{type:"AdjacentNumbers",args:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Err=r,t.UnexpectedParseError=n,t.EmptyInput=i,t.EmptyGroup=a,t.EmptySubscript=s,t.EmptySuperscript=o,t.EmptyRadical=u,t.EmptySquareBracket=c,t.EmptyPipe=l,t.EmptyRadicand=p,t.UnexpectedEnd=f,t.BinaryOperatorMissingRight=h,t.BinaryOperatorMissingLeft=d,t.UnaryOperatorMissingRight=m,t.UnaryOperatorMissingLeft=g,t.MissingCloseDelimiter=y,t.UnexpectedCloseDelimiter=v,t.UnexpectedDifferential=b,t.UnrecognizedSymbol=x,t.InvalidOperatorName=_,t.InvalidSubscript=M,t.UnexpectedSubscript=S,t.FunctionMissingArgument=E,t.PercentMissingOf=w,t.PrimeWithoutParen=D,t.SuperscriptWithPrime=T,t.UnexpectedPrime=C,t.SumMissingBound=I,t.ProductMissingBound=P,t.MissingBound=O,t.IntegralMissingBound=N,t.SumMissingBody=A,t.ProductMissingBody=L,t.IntegralMissingBody=q,t.DerivativeMissingBody=F,t.IntegralMissingDifferential=k,t.DifferentialWithSuperscript=V,t.FractionMissingNumerator=B,t.FractionMissingDenominator=j,t.FractionEmpty=R,t.AdjacentNumbers=z}),define("math/parser/expression-token-tables",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={"+":!0,"-":!0,"*":!0,"/":!0,"!":!0,"(":!0,")":!0,"\\\\{":!0,"\\\\}":!0,"(|":!0,"|)":!0,"[":!0,"]":!0,",":!0,"...":!0,":":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"~":!0,"%":!0,".":!0,Letter:!0,Decimal:!0,Cmd:!0,Differential:!0,End:!0,Trig:!0,Ln:!0,Log:!0,Int:!0,Sum:!0,Prod:!0,Err:!0};t.commandTable={"\\\\lt":"<","\\\\gt":">","\\\\le":"<=","\\\\ge":">=","\\\\ldots":"...","\\\\sim":"~","\\\\cdot":"*","\\\\times":"*","\\\\div":"/","\\\\ln":"Ln","\\\\log":"Log","\\\\int":"Int","\\\\sum":"Sum","\\\\prod":"Prod","\\\\backslash":"Err"};for(var n=["sin","cos","tan","cot","sec","csc"],i=0,a=n;i<a.length;i++){var s=a[i];t.commandTable["\\\\"+s]="Trig",t.commandTable["\\\\"+s+"h"]="Trig",t.commandTable["\\\\arc"+s]="Trig",t.commandTable["\\\\arc"+s+"h"]="Trig"}t.symbolTable={"+":"+","-":"-","*":"*","/":"/","!":"!","(":"(",")":")","[":"[","]":"]",",":",","...":"...",":":":","=":"=",">=":">=","<=":"<=",">":">","<":"<","~":"~",".":"."},t.escapedSymbolTable={"\\\\{":"\\\\{","\\\\}":"\\\\}","\\\\%":"%"},t.leftTable={"|":"(|","\\\\{":"\\\\{","[":"[","(":"("},t.rightTable={"|":"|)","\\\\}":"\\\\}","]":"]",")":")"},t.allTokenTypes=Object.keys(r)}),define("math/parser/expression-lexer",["require","exports","./expression-token-tables","./input-span","./input-span","./surface-node"],function(e,t,r,n,i,a){"use strict";function s(e,t,r,n,i,a,s,o){return{opts:e,input:t,prevSpan:r,startIndex:n,endIndex:i,token:a,mode:s,parent:o}}function o(e,t){return n.joinSpans(e.token.span,t.prevSpan)}function u(e,t){return n.joinSpans(e,t.prevSpan)}function c(e){return n.emptySpanAt(e.token.span.input,e.token.span.start)}function l(e,t){return{type:"Differential",span:e,val:t}}function p(e,t,r){return{type:e,span:t,val:r}}function f(e,t){return h(t,e,0,n.emptySpanAt(e.span.input,e.span.start),void 0,void 0)}function h(e,t,n,i,a,o){var u=t.args;if(n>u.length&&o)return m(o,i);n=C(u,n);var c=S(t,n,a),l=c.token,f=c.endIndex;if("End"===l.type&&o){var h=o.input.args[o.startIndex];if("LeftRight"===h.type){var d=h.right;return s(e,t,i,n,f,p(r.rightTable[d.val]||"Err",d.span,d.val),a,o)}}else"Int"===l.type?a=y(a):"Differential"===l.type&&(a=v(a));return s(e,t,i,n,f,l,a,o)}function d(e){var t=e.input.args[e.startIndex],r=e.token.span;return t&&"LeftRight"===t.type?h(e.opts,t.arg,0,r,e.mode,e):m(e,r)}function m(e,t){var r=e.input,n=e.endIndex,i=e.mode,a=e.parent;return h(e.opts,r,n+1,t,i,a)}function g(e){return e.token}function y(e){return{type:"integral",parent:e}}function v(e){if(!e||"integral"!==e.type)throw new Error("Programming Error: expected lexer to be in integral mode.");return e.parent}function b(e,t){return g(e).type===t}function x(e){return e.startIndex>=e.input.args.length}function _(e,t){return t.token.span.start>e.token.span.start}function M(e,t){return{token:t,endIndex:e}}function S(e,t,i){if(t>=e.args.length)return M(t,p("End",n.emptySpanAt(e.span.input,e.span.end),""));var a=e.args[t];switch(a.type){case"Sqrt":case"Frac":case"SupSub":return M(t,a);case"Letter":if(!i||"integral"!==i.type)return M(t,a);if("d"!=a.val)return M(t,a);var s=S(e,t+1,i),o=s.endIndex,u=s.token;if("Letter"===u.type||"Cmd"===u.type){return M(o,l(n.joinSpans(a.span,u.span),u.val))}return M(t,a);case"LeftRight":var c=a.left;return M(t,p(r.leftTable[c.val]||"Err",n.joinSpans(a.span,c.span),c.val));case"OperatorName":for(var f=[],h=0,d=a.arg.args;h<d.length;h++){var m=d[h];if("Letter"!==m.type)return M(t,p("Err",a.span,n.slice(a.arg.span)));f.push(m.val)}var g="\\\\"+f.join("");return M(t,p(r.commandTable[g]||"Cmd",a.span,g));case"Cmd":return M(t,p(r.commandTable[a.val]||"Cmd",a.span,a.val));case"EscapedSymbol":return M(t,p(r.escapedSymbolTable[a.val]||"Err",a.span,a.val));case"Symbol":if(I(a))return E(e,t);return M(t,p(r.symbolTable[a.val]||"Err",a.span,a.val));case"Digit":return w(e,t);default:throw"Unexpected atom "+a.type+"."}}function E(e,t){var i=e.args[t];if("Symbol"!==i.type||"."!==i.val)throw new Error("Programming Error: expected \'.\'");if(t+2<e.args.length&&I(e.args[t+1])&&I(e.args[t+2])){var a=n.joinSpans(i.span,e.args[t+2].span);return M(t+2,p("...",a,n.slice(a)))}return t+1<e.args.length&&"Digit"===e.args[t+1].type?w(e,t):M(t,p(r.symbolTable[i.val]||"Err",i.span,i.val))}function w(e,t){var r=D(e,t);if(r)return r;for(var i=e.args,a=e.args[t].span,s=[],o=!1,u=!1;t<i.length;t++){var c=i[t];if("Digit"===c.type)o=!0,s.push(c.val);else{if(u||!I(c))break;if(t+1<i.length&&I(e.args[t+1]))break;u=!0,s.push(".")}}if(!o)throw new Error("Programming Error: decimals must have at least one digit.");return M(t-1,p("Decimal",n.joinSpans(a,e.args[t-1].span),s.join("")))}function D(e,t){for(var r=e.args,i=r[t].span,s=[];t<r.length;t++){var o=r[t];if("Digit"!==o.type)break;s.push(o.val)}if(!((t=C(r,t))>=r.length)){var u=r[t];if("Frac"===u.type){for(var c=[],l=[],p=0,f=u.num.args;p<f.length;p++){var o=f[p];if("Digit"!==o.type)return;c.push(o.val)}for(var h=0,d=u.den.args;h<d.length;h++){var o=d[h];if("Digit"!==o.type)return;l.push(o.val)}var m=n.joinSpans(i,u.span);return M(t,a.MixedNumber(m,s.join(""),c.join(""),l.join("")))}}}function T(e){switch(e.type){case"Sqrt":case"Frac":case"SupSub":case"LeftRight":case"OperatorName":case"Symbol":case"Letter":case"Digit":return!1;case"Cmd":return"\\\\space"===e.val;case"EscapedSymbol":return"\\\\ "===e.val||"\\\\:"===e.val||"\\\\,"===e.val||"\\\\;"===e.val;default:throw"Unexpected atom "+e.type+"."}}function C(e,t){for(;t<e.length&&T(e[t]);)t+=1;return t}function I(e){return"Symbol"===e.type&&"."===e.val}Object.defineProperty(t,"__esModule",{value:!0}),t.Span=i.Span,t.spanStates=o,t.joinState=u,t.emptySpanAtState=c,t.lex=f,t.lexAt=h,t.advance=d,t.peek=g,t.beginIntegral=y,t.endIntegral=v,t.isAt=b,t.isDone=x,t.didAdvance=_}),define("math/parser/precspec",["require","exports","./expression-token-tables"],function(e,t,r){"use strict";function n(e){return{type:"initial",tokenType:e}}function i(e){return{type:"l",tokenType:e}}function a(e){return{type:"r",tokenType:e}}function s(e){return{type:"la",tokenType:e}}function o(e){return{type:"ra",tokenType:e}}function u(e,t){for(var n=0,i=r.allTokenTypes;n<i.length;n++){var a=i[n];if(void 0===t[a])throw new Error("Programming Error: token "+a+" must be a assigned a "+e+" precedence")}}function c(e,t,r,n){if(void 0!==t[r])throw new Error("Programming Error: duplicate "+e+" entry for token "+r+".");t[r]=n}function l(e){function t(e){return s[e]}function r(e){return a[e]}function n(e){var r=i[e];return void 0===r?t(e):r}for(var i={},a={},s={},o=0;o<e.length;o++)for(var l=e[o],p=0,f=l;p<f.length;p++){var h=f[p],d=h.type,m=h.tokenType;switch(d){case"initial":c("initial",i,m,o);break;case"l":c("left",a,m,o);break;case"r":c("right",s,m,o);break;case"la":c("left",a,m,o),c("right",s,m,o);break;case"ra":c("left",a,m,o),c("right",s,m,o-1)}}return u("left",a),u("right",s),{rightPrec:t,leftPrec:r,initialPrec:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.initial=n,t.l=i,t.r=a,t.la=s,t.ra=o,t.precSpec=l}),define("math/parser/expression-parser",["require","exports","tslib","./surface-node","./surface-node-error","./input-span","./expression-lexer","./precspec"],function(e,t,r,n,i,a,s,o){\n"use strict";function u(e,t){var n=t?r.__assign({},N,t):N,a=c(e,n);return"Err"===a.type&&"EmptyGroup"===a.error.type?i.Err(a.span,i.EmptyInput()):a}function c(e,t){var r=s.lex(e,t);if(s.isDone(r))return i.Err(s.spanStates(r,r),i.EmptyGroup());var n=p(r,0),a=n.state,o=n.tree;return"Err"===o.type||s.isDone(a)?o:w(a).tree}function l(e,t){return{state:e,tree:t}}function p(e,t){var r,n,i,a=e;if(r=h(e),e=r.state,i=r.tree,"Err"===i.type)return l(e,i);if(!s.didAdvance(a,e))throw new Error("Programming Error: parseInitial did not advance state.");for(;!s.isDone(e);){var o=void 0;if(o=s.isAt(e,"(")&&!m(i)?P("("):I(s.peek(e).type),t>=o)break;var u=e;if(n=d(e,i),e=n.state,i=n.tree,"Err"===i.type)return l(e,i);if(!s.didAdvance(u,e))throw new Error("Programming Error: parseSuccessor did not advance state.")}return l(e,i)}function f(e){return"UnexpectedDifferential"===e.type||"UnexpectedCloseDelimiter"===e.type||"UnexpectedEnd"===e.type||"BinaryOperatorMissingLeft"===e.type}function h(e){var t,r,a,o,u,h,d,m,g,y,b,D,T,C,P,N,A,L,q,F=e,k=s.peek(e),V=O(k.type);switch(k.type){case"+":if(e=s.advance(e),t=p(e,V),e=t.state,q=t.tree,"Err"===q.type){if(!f(q.error))return l(e,q);var B=s.spanStates(F,e),j=i.Err(B,i.UnaryOperatorMissingRight(k.val));return l(e,j)}return l(e,n.Pos(s.spanStates(F,e),[q]));case"-":if(e=s.advance(e),r=p(e,V),e=r.state,q=r.tree,"Err"===q.type){if(!f(q.error))return l(e,q);var B=s.spanStates(F,e),j=i.Err(B,i.UnaryOperatorMissingRight(k.val));return l(e,j)}return l(e,n.Neg(s.spanStates(F,e),[q]));case"(":return M(e);case"\\\\{":return e=s.advance(e),s.isAt(e,"\\\\}")?(e=s.advance(e),l(e,n.EmptyPiecewise(s.spanStates(F,e)))):(a=p(e,V),e=a.state,q=a.tree,o=E(F,e,q,"\\\\{","\\\\}"),e=o.state,q=o.tree,"Err"===q.type?l(e,q):l(e,n.Piecewise(s.spanStates(F,e),[q])));case"[":if(e=s.advance(e),s.isAt(e,"]")){e=s.advance(e);var B=s.spanStates(F,e);return l(e,i.Err(B,i.EmptySquareBracket()))}return u=p(e,V),e=u.state,q=u.tree,h=E(F,e,q,"[","]"),e=h.state,q=h.tree,"Err"===q.type?l(e,q):l(e,n.List(s.spanStates(F,e),[q]));case"(|":if(e=s.advance(e),s.isAt(e,"|)")){e=s.advance(e);var B=s.spanStates(F,e);return l(e,i.Err(B,i.EmptyPipe()))}return d=p(e,V),e=d.state,q=d.tree,m=E(F,e,q,"(|","|)"),e=m.state,q=m.tree,"Err"===q.type?l(e,q):l(e,n.Pipes(s.spanStates(F,e),[q]));case"Frac":e=s.advance(e);var R=c(k.num,e.opts),z=c(k.den,e.opts);if("Err"===R.type&&"EmptyGroup"===R.error.type&&"Err"===z.type&&"EmptyGroup"===z.error.type){var B=s.spanStates(F,e),j=i.Err(B,i.FractionEmpty());return l(e,j)}if("Err"===R.type&&"EmptyGroup"===R.error.type){var B=s.spanStates(F,e),j=i.Err(B,i.FractionMissingNumerator());return l(e,j)}if("Err"===z.type&&"EmptyGroup"===z.error.type){var B=s.spanStates(F,e),j=i.Err(B,i.FractionMissingDenominator());return l(e,j)}if("Err"===R.type)return l(e,R);if("Err"===z.type)return l(e,z);if(n.isDerivative(R,z)&&"Juxt"===z.type){var G=z.args[1],U=void 0;if(g=p(e,I("*")-1),e=g.state,U=g.tree,"Err"===U.type){if(f(U.error)){var B=s.spanStates(F,e);return l(e,i.Err(B,i.DerivativeMissingBody()))}return l(e,U)}return l(e,n.Derivative(s.spanStates(F,e),[G,U]))}return l(e,n.Frac(s.spanStates(F,e),[R,z]));case"Sqrt":if(e=s.advance(e),k.optArg){var W=c(k.optArg,e.opts);if("Err"===W.type)return"EmptyGroup"===W.error.type?l(e,i.Err(W.span,i.EmptyRadicand())):l(e,W);var Y=c(k.arg,e.opts);return"Err"===Y.type?"EmptyGroup"===Y.error.type?l(e,i.Err(Y.span,i.EmptyRadical())):l(e,Y):l(e,n.Nthroot(s.spanStates(F,e),[W,Y]))}var Y=c(k.arg,e.opts);return"Err"===Y.type?"EmptyGroup"===Y.error.type?l(e,i.Err(Y.span,i.EmptyRadical())):l(e,Y):l(e,n.Sqrt(s.spanStates(F,e),[Y]));case"Trig":case"Ln":e=s.advance(e);var X=n.Cmd(s.spanStates(F,e),k.val),Q=0,H=s.peek(e);if("SupSub"===H.type){if(e=s.advance(e),H.sub){var B=s.spanStates(F,e),j=i.Err(B,i.UnexpectedSubscript(X.val));return l(e,j)}var J=x(H,e.opts);if(J){if("Err"===J.type)return l(e,J);X=n.Superscript(s.spanStates(F,e),[X,J])}Q=H.nprimes}var K=s.isAt(e,"(");if(K){if(y=M(e),e=y.state,q=y.tree,"Err"===q.type)return l(e,q);q=n.Call(s.spanStates(F,e),[X,q.args[0]])}else{if(b=p(e,V-1),e=b.state,q=b.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(s.spanStates(F,e),i.FunctionMissingArgument(k.val))):l(e,q);q=n.ImplicitCall(s.spanStates(F,e),[X,q])}if(Q>0){var B=s.spanStates(F,e);if(!K){var j=i.Err(B,i.PrimeWithoutParen());return l(e,j)}q=n.Prime(B,Q,[q])}return l(e,q);case"Log":e=s.advance(e);var X=n.Cmd(s.spanStates(F,e),k.val),Q=0,Z=void 0,J=void 0,H=s.peek(e);if("SupSub"===H.type&&(e=s.advance(e),Z=v(H,e.opts),J=x(H,e.opts),Q=H.nprimes),Z&&"Err"===Z.type)return l(e,Z);if(J&&"Err"===J.type)return l(e,J);var K=s.isAt(e,"(");if(K){if(D=M(e),e=D.state,q=D.tree,"Err"===q.type)return l(e,q);q=q.args[0]}else if(T=p(e,V-1),e=T.state,q=T.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(s.spanStates(F,e),i.FunctionMissingArgument(k.val))):l(e,q);var $=Z?n.Seq(s.spanStates(F,e),n.unwrapSeq(q).concat(Z)):q,ee=Z?n.Cmd(s.spanStates(F,e),"\\\\logbase"):X;if(J&&(ee=n.Superscript(s.spanStates(F,e),[ee,J])),q=K?n.Call(s.spanStates(F,e),[ee,$]):n.ImplicitCall(s.spanStates(F,e),[ee,$]),Q>0){var B=s.spanStates(F,e);if(!K){var j=i.Err(B,i.PrimeWithoutParen());return l(e,j)}q=n.Prime(B,Q,[q])}return l(e,q);case"Int":e=s.advance(e);var H=s.peek(e);e=s.advance(e);var te=_(H,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.IntegralMissingBound())):l(e,te);var J=te.sup,Z=te.sub,G=void 0;if(s.isAt(e,"Differential"))return C=S(e),e=C.state,G=C.tree,"Err"===G.type?l(e,G):l(e,n.EmptyIntegral(s.spanStates(F,e),[G,Z,J]));if(P=p(e,V),e=P.state,q=P.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(q.span,i.IntegralMissingBody())):l(e,q);var re=q;return s.isAt(e,"Differential")?(N=S(e),e=N.state,G=N.tree,"Err"===G.type?l(e,G):l(e,n.Integral(s.spanStates(F,e),[G,Z,J,re]))):l(e,i.Err(s.spanStates(F,e),i.IntegralMissingDifferential()));case"Sum":e=s.advance(e);var H=s.peek(e);e=s.advance(e);var te=_(H,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.SumMissingBound())):l(e,te);var J=te.sup,Z=te.sub;return A=p(e,V),e=A.state,q=A.tree,"Err"===q.type?f(q.error)?l(e,i.Err(q.span,i.SumMissingBody())):l(e,q):l(e,n.Sum(s.spanStates(F,e),[q,Z,J]));case"Prod":e=s.advance(e);var H=s.peek(e);e=s.advance(e);var te=_(H,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.ProductMissingBound())):l(e,te);var J=te.sup,Z=te.sub;return L=p(e,V),e=L.state,q=L.tree,"Err"===q.type?f(q.error)?l(e,i.Err(q.span,i.ProductMissingBody())):l(e,q):l(e,n.Product(s.spanStates(F,e),[q,Z,J]));case"Cmd":return e=s.advance(e),q=n.Cmd(s.spanStates(F,e),k.val),l(e,q);case"Letter":return e=s.advance(e),q=n.Letter(s.spanStates(F,e),k.val),l(e,q);case"Decimal":e=s.advance(e);var ne=n.Decimal(s.spanStates(F,e),k.val),H=e.token;if("Decimal"===H.type||"MixedNumber"===H.type){var ie=e;e=s.advance(e);var B=s.spanStates(F,e),ae="MixedNumber"===H.type?H:n.Decimal(s.spanStates(ie,e),H.val);return l(e,i.Err(B,i.AdjacentNumbers([ne,ae])))}return l(e,ne);case"MixedNumber":return e=s.advance(e),l(e,k);case"*":case"/":case",":case"=":case">":case"<":case">=":case"<=":case"~":case":":case"...":case"%":case".":e=s.advance(e);var B=s.spanStates(F,e),j=i.Err(B,i.BinaryOperatorMissingLeft(k.val));return l(e,j);case"!":e=s.advance(e);var B=s.spanStates(F,e),j=i.Err(B,i.UnaryOperatorMissingLeft(k.val));return l(e,j);case"SupSub":e=s.advance(e);var se="supsub";k.sub?se="subscript":k.sup?se="superscript":k.nprimes>0&&(se="prime");var B=s.spanStates(F,e),j=i.Err(B,i.UnaryOperatorMissingLeft(se));return l(e,j);case")":case"\\\\}":case"]":case"|)":case"Differential":return w(e);case"Err":e=s.advance(e);var B=s.spanStates(F,e),j=i.Err(B,i.UnrecognizedSymbol(k.val));return l(e,j);case"End":var B=s.spanStates(F,e),j=i.Err(B,i.UnexpectedEnd());return l(e,j);default:throw"Unexpected token type "+k.type+"."}}function d(e,t){var r,a,o,u,c,h,d,m,v,_,S,T,C,I,O,N=s.peek(e),A=P(N.type);switch(N.type){case"+":case"-":case"*":case"/":case"=":case"~":case":":case".":if(e=s.advance(e),r=p(e,A),e=r.state,O=r.tree,"Err"===O.type){if(f(O.error)){var L=s.joinState(t.span,e),q=i.Err(L,i.BinaryOperatorMissingRight(N.val));return l(e,q)}return l(e,O)}return l(e,g(N.type,s.joinState(t.span,e),[t,O]));case"%":e=s.advance(e);var F=s.peek(e);if("Cmd"!==F.type||"of"!==F.val&&"\\\\of"!==F.val){var q=i.Err(N.span,i.PercentMissingOf());return l(e,q)}if(e=s.advance(e),a=p(e,A),e=a.state,O=a.tree,"Err"===O.type){if(f(O.error)){var L=s.joinState(t.span,e),q=i.Err(L,i.BinaryOperatorMissingRight(N.val));return l(e,q)}return l(e,O)}return l(e,n.PercentOf(s.joinState(t.span,e),[t,O]));case">=":case"<=":case">":case"<":var k=N.type;if(e=s.advance(e),o=y(e,k),e=o.state,k=o.symbol,u=p(e,A),e=u.state,O=u.tree,"Err"===O.type){if(f(O.error)){var L=s.joinState(t.span,e),q=i.Err(L,i.BinaryOperatorMissingRight(N.val));return l(e,q)}return l(e,O)}for(var V=n.Inequality(s.joinState(t.span,e),k,[t,O]),B=[],j=s.peek(e).type;">="===j||"<="===j||">"===j||"<"===j;){var R=e;if(k=j,e=s.advance(e),c=y(e,k),e=c.state,k=c.symbol,h=p(e,A),e=h.state,O=h.tree,"Err"===O.type){if(f(O.error)){var L=s.joinState(t.span,e),q=i.Err(L,i.BinaryOperatorMissingRight(N.val));return l(e,q)}return l(e,O)}B.push(n.TrailingInequalityPiece(s.spanStates(R,e),k,[O])),j=s.peek(e).type}return B.length?l(e,n.InequalityChain(s.joinState(t.span,e),V,B)):l(e,V);case"!":return e=s.advance(e),l(e,n.Bang(s.joinState(t.span,e),[t]));case"[":var R=e;if(e=s.advance(e),s.isAt(e,"]")){e=s.advance(e);var L=s.spanStates(R,e);return l(e,i.Err(L,i.EmptySquareBracket()))}return d=p(e,A),e=d.state,O=d.tree,m=E(R,e,O,"[","]"),e=m.state,O=m.tree,"Err"===O.type?l(e,O):l(e,n.Index(s.joinState(t.span,e),[t,O]));case"Sqrt":case"Frac":case"Letter":case"Cmd":case"Trig":case"Ln":case"Log":case"Sum":case"Int":case"Prod":case"Decimal":case"MixedNumber":case"\\\\{":case"(|":return v=p(e,A),e=v.state,O=v.tree,"Err"===O.type?l(e,O):l(e,n.Juxt(s.joinState(t.span,e),[t,O]));case"(":if(n.isIdentifier(t)){if(_=M(e),e=_.state,O=_.tree,"Err"===O.type)return l(e,O);var L=s.joinState(t.span,e);return l(e,n.Call(L,[t,O.args[0]]))}if("Prime"===t.type&&n.isIdentifier(t.args[0])){if(S=M(e),e=S.state,O=S.tree,"Err"===O.type)return l(e,O);var L=s.joinState(t.span,e);return l(e,n.Prime(L,t.nprimes,[n.Call(L,[t.args[0],O.args[0]])]))}return T=p(e,A),e=T.state,O=T.tree,"Err"===O.type?l(e,O):l(e,n.Juxt(s.joinState(t.span,e),[t,O]));case"SupSub":e=s.advance(e);var z=b(N),G=x(N,e.opts);if(z&&"Err"===z.type)return l(e,z);if(G&&"Err"===G.type)return l(e,G);if(z&&(t=n.Subscript(s.joinState(t.span,e),[t,z])),G&&(t=n.Superscript(s.joinState(t.span,e),[t,G])),N.nprimes>0){var L=s.joinState(t.span,e);if(!n.isIdentifier(t)){var q=i.Err(L,i.UnexpectedPrime());return l(e,q)}t=n.Prime(L,N.nprimes,[t])}return l(e,t);case",":for(var U=[t];s.isAt(e,",")&&(e=s.advance(e),!s.isAt(e,"..."))&&(!e.opts.trailingComma||!D(e));){if(C=p(e,A),e=C.state,O=C.tree,"Err"===O.type){if(f(O.error)){var L=s.joinState(t.span,e),q=i.Err(L,i.BinaryOperatorMissingRight(N.val));return l(e,q)}return l(e,O)}U.push(O)}return l(e,n.Seq(s.joinState(t.span,e),U));case"...":if(e=s.advance(e),s.isAt(e,",")&&(e=s.advance(e)),I=p(e,A),e=I.state,O=I.tree,"Err"===O.type){if(f(O.error)){var L=s.joinState(t.span,e),q=i.Err(L,i.BinaryOperatorMissingRight(N.val));return l(e,q)}return l(e,O)}return l(e,n.Ellipsis(s.joinState(t.span,e),[t,O]));case"]":case")":case"\\\\}":case"|)":case"Differential":return w(e);case"Err":return p(e,A);case"End":var L=s.spanStates(e,e),q=i.Err(L,i.UnexpectedEnd());return l(e,q);default:throw"Unexpected token type "+N.type+"."}}function m(e){return!!n.isIdentifier(e)||!("Prime"!==e.type||!n.isIdentifier(e.args[0]))}function g(e,t,r){switch(e){case"+":return n.Add(t,r);case"-":return n.Sub(t,r);case"*":return n.Mul(t,r);case"/":return n.Div(t,r);case"=":return n.Equals(t,r);case"~":return n.Tilde(t,r);case":":return n.Colon(t,r);case".":return n.Dot(t,r);default:throw"Unexpected token type "+e+"."}}function y(e,t){if(!s.isAt(e,"="))return{state:e,symbol:t};switch(t){case">":e=s.advance(e),t=">=";break;case"<":e=s.advance(e),t="<="}return{state:e,symbol:t}}function v(e,t){if(e.sub){var r=e.sub,n=c(r,t);return"Err"===n.type&&"EmptyGroup"===n.error.type?i.Err(n.span,i.EmptySubscript()):n}}function b(e){if(e.sub){var t=e.sub;if(0===t.args.length)return i.Err(t.span,i.EmptySubscript());for(var r=[],s=0,o=t.args;s<o.length;s++){var u=o[s];if("Digit"!==u.type&&"Letter"!==u.type){var c=u.span;return i.Err(c,i.InvalidSubscript(a.slice(c)))}r.push(u.val)}return n.Alphanumeric(t.span,r.join(""))}}function x(e,t){if(e.sup){var r=c(e.sup,t);return"Err"===r.type?"EmptyGroup"===r.error.type?i.Err(r.span,i.EmptySuperscript()):r:e.nprimes>0?i.Err(e.span,i.SuperscriptWithPrime()):r}}function _(e,t,r){if("SupSub"!==e.type){var n=s.spanStates(t,r);return i.Err(n,i.MissingBound())}if(e.nprimes>0){var n=s.spanStates(t,r);return i.Err(n,i.UnexpectedPrime())}var a=v(e,r.opts),o=x(e,r.opts);if(!a||"Err"===a.type&&"EmptySubscript"===a.error.type||!o||"Err"===o.type&&"EmptySuperscript"===o.error.type){var n=s.spanStates(t,r);return i.Err(n,i.MissingBound())}return"Err"===a.type?a:"Err"===o.type?o:{type:"Bounds",sup:o,sub:a}}function M(e){var t,r,i=e,a=s.peek(e),o=O(a.type);if(!s.isAt(e,"("))throw new Error("Programming Error: expected \'(\' at start of parseParen.");if(e=s.advance(e),s.isAt(e,")")){var u=n.Seq(s.emptySpanAtState(e),[]);e=s.advance(e);var c=s.spanStates(i,e);return l(e,n.Paren(c,[u]))}var f;return t=p(e,o),e=t.state,f=t.tree,r=E(i,e,f,"(",")"),e=r.state,f=r.tree,"Err"===f.type?l(e,f):l(e,n.Paren(s.spanStates(i,e),[f]))}function S(e){var t=e,r=s.peek(e);if("Differential"!==r.type)throw new Error("Programming Error: expected differential");e=s.advance(e);var a=n.Cmd(r.span,r.val),o=s.peek(e);if("SupSub"===o.type){e=s.advance(e);var u=s.spanStates(t,e),c=b(o);if(c){if("Err"===c.type)return l(e,c);a=n.Subscript(u,[a,c])}if(o.sup)return l(e,i.Err(u,i.DifferentialWithSuperscript()));if(o.nprimes>0)return l(e,i.Err(u,i.UnexpectedPrime()))}return l(e,a)}function E(e,t,r,n,a){if("Err"===r.type&&"UnexpectedEnd"!==r.error.type)return l(t,r);if("Err"===r.type||!s.isAt(t,a)){var o=s.spanStates(e,t);return l(t,i.Err(o,i.MissingCloseDelimiter(n,a)))}return t=s.advance(t),l(t,r)}function w(e){var t=e;switch(s.peek(e).type){case")":e=s.advance(e);var r=s.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("(",")")));case"]":e=s.advance(e);var r=s.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("[","]")));case"\\\\}":e=s.advance(e);var r=s.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("\\\\{","\\\\}")));case"|)":e=s.advance(e);var r=s.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("|","|")));case"Differential":e=s.advance(e);var r=s.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedDifferential()));default:e=s.advance(e);var r=s.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedParseError()))}}function D(e){return s.isAt(e,")")||s.isAt(e,"]")||s.isAt(e,"\\\\}")}Object.defineProperty(t,"__esModule",{value:!0});var T=[[o.initial("("),o.la(")"),o.initial("\\\\{"),o.la("\\\\}"),o.r("["),o.la("]"),o.initial("(|"),o.la("|)"),o.la("Differential"),o.la("End")],[o.ra("...")],[o.la(",")],[o.ra(":")],[o.la("="),o.la(">"),o.la("<"),o.la(">="),o.la("<="),o.la("~")],[o.la("+"),o.la("-")],[o.la("*"),o.la("/"),o.la("Decimal"),o.la("MixedNumber"),o.la("Letter"),o.la("Cmd"),o.la("%"),o.r("("),o.la("\\\\{"),o.la("(|"),o.la("Frac"),o.la("Sqrt"),o.la("Trig"),o.la("Ln"),o.la("Log"),o.ra("Int"),o.ra("Sum"),o.ra("Prod")],[o.initial("+"),o.initial("-")],[o.la("!")],[o.la("SupSub")],[o.l("["),o.la(".")],[o.l("(")],[o.la("Err")]],C=o.precSpec(T),I=C.leftPrec,P=C.rightPrec,O=C.initialPrec,N={trailingComma:!1};t.parse=u}),define("math/inverses",[],function(){var e={};return["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"].forEach(function(t){e[t]="arc"+t,e["arc"+t]=t}),e}),define("math/parser/lower",["require","exports","math/inverses","math/errormsg","./input-span","./surface-node","../maybe-rational"],function(e,t,r,n,i,a,s){"use strict";function o(e,t){return c(e,t)}function u(e,t){for(var r=[],n=0;n<t.length;n++)r.push(f(e,t[n]));return r}function c(e,t){return e.setInput(l(e,t),t.span)}function l(e,t){var r=e.nodes;switch(t.type){case"Equals":var i=t.args,s=i[0],o=i[1];if("Call"===s.type){var c=s.args,l=c[0],d=c[1],m=a.unwrapSeq(d);if(a.isIdentifier(l)&&m.every(a.isIdentifier))return r.FunctionDefinition(f(e,l),u(e,m),f(e,o))}else if(a.isIdentifier(s))return r.Assignment(f(e,s),f(e,o));return r.Equation(f(e,s),f(e,o));case"Tilde":var g=u(e,t.args),s=g[0],o=g[1];return r.Regression(s,o);case"Inequality":return M(e,t);case"InequalityChain":if(t.chain.length>1)throw n.inequalityChainTooLong();var y=t.first,v=y.symbol,b=y.args,x=b[0],_=b[1],S=t.chain[0],E=S.symbol,w=S.args[0];return a.isIdentifier(_)?r.DoubleInequality([f(e,x),v,f(e,_),E,f(e,w)]):M(e,t);case"Seq":if(!t.args.every(p))throw n.malformedPoint();return r.List(u(e,t.args));case"Call":var D=t.args,T=D[0],C=D[1];if("Cmd"===T.type)switch(T.val){case"polygon":return r.Polygon(u(e,a.unwrapSeq(C)));case"histogram":return r.Histogram(u(e,a.unwrapSeq(C)));case"dotplot":return r.DotPlot(u(e,a.unwrapSeq(C)));case"boxplot":return r.BoxPlot(u(e,a.unwrapSeq(C)));case"ttest":return r.TTest(u(e,a.unwrapSeq(C)));case"ittest":return r.IndependentTTest(u(e,a.unwrapSeq(C)));case"stats":return r.Stats(u(e,a.unwrapSeq(C)));default:return h(e,t)}return h(e,t);default:return h(e,t)}}function p(e){if("Paren"!==e.type)return!1;var t=e.args[0];return"Seq"===t.type&&2===t.args.length}function f(e,t){return e.setInput(h(e,t),t.span)}function h(e,t){var r=e.nodes;switch(t.type){case"Pos":return h(e,t.args[0]);case"Neg":for(var i=-1,o=t.args[0];;)if("Pos"===o.type||"Paren"===o.type)o=o.args[0];else{if("Neg"!==o.type)break;o=o.args[0],i*=-1}switch(o.type){case"Decimal":var c=E(o);return r.Constant(-1===i?s.neg(c):c);case"MixedNumber":var c=w(o);return r.MixedNumber(-1===i?s.neg(c):c);default:return-1===i?r.Negative([f(e,o)]):h(e,o)}case"Add":return r.Add(u(e,t.args));case"Sub":return r.Subtract(u(e,t.args));case"Mul":return r.Multiply(u(e,t.args));case"Div":return r.Divide(u(e,t.args));case"Bang":var l=t.args[0];return"Call"===l.type?r.FunctionFactorial(u(e,l.args)):r.FunctionCall("\\\\factorial",u(e,t.args));case"PercentOf":return r.PercentOf(u(e,t.args));case"Call":return v(e,t);case"ImplicitCall":return S(t),v(e,t);case"Dot":return r.DotAccess(u(e,t.args));case"Prime":var p=t.args[0];if("Call"===p.type){var d=p.args,m=d[0],g=d[1],y=a.unwrapSeq(g).length;if("Cmd"===m.type&&"logbase"===m.val){if(2!==y)throw n.primedFunctionArity()}else if(1!==y)throw n.primedFunctionArity();return r.Prime(t.nprimes,u(e,t.args))}throw"ImplicitCall"===p.type?n.primeWithoutParen():n.unexpectedPrime();case"Index":return r.ListAccess(u(e,t.args));case"Paren":var _=t.args[0];if("Seq"===_.type){if(2===_.args.length)return r.OrderedPair(u(e,_.args));throw 0===_.args.length?n.emptyParen():n.nonPairTuple()}return h(e,_);case"List":var M=t.args[0];if("Ellipsis"===M.type){var C=M.args,I=C[0],P=C[1];return r.Range([r.List(u(e,a.unwrapSeq(I))),r.List(u(e,a.unwrapSeq(P)))])}return r.List(u(e,a.unwrapSeq(M)));case"Pipes":return r.FunctionCall("\\\\abs",u(e,t.args));case"Subscript":var O=t.args,N=O[0],A=O[1];if(0===A.val.length)throw n.emptySubscript();var L=void 0;switch(N.type){case"Letter":case"Cmd":L=N.val;break;default:throw n.unexpectedSubscript()}return r.Identifier(L+"_"+A.val);case"Superscript":var q=t.args,N=q[0],F=q[1];return"Call"!==N.type||"Seq"===N.args[1].type||D(N)?"Dot"===N.type?r.DotAccessExponent(u(e,[N.args[0],N.args[1],F])):r.Exponent(u(e,t.args)):r.FunctionExponent(u(e,[N.args[0],N.args[1],F]));case"Sqrt":return r.FunctionCall("sqrt",u(e,t.args));case"Nthroot":return r.FunctionCall("nthroot",u(e,[t.args[1],t.args[0]]));case"Frac":return r.Divide(u(e,t.args));case"Derivative":var k=u(e,t.args);if(!a.isIdentifier(t.args[0]))throw n.parseError();return r.Derivative(k[0],[k[1]]);case"Integral":var V=t.args,B=V[0],j=V[1],R=V[2],z=V[3],k=u(e,[B,j,R,z]);return r.Integral(k);case"EmptyIntegral":var G=u(e,t.args),B=G[0],U=G[1],R=G[2],z=r.Constant(s.maybeRational(1,1));return r.Integral([B,U,R,z]);case"Sum":var W=t.args,Y=W[0],X=W[1],R=W[2];if("Equals"!=X.type)throw n.incorrectSumLowerBound();if(!a.isIdentifier(X.args[0]))throw n.incorrectSumLowerBound();var k=u(e,[X.args[0],X.args[1],R,Y]);return r.Sum(k);case"Product":var Q=t.args,H=Q[0],J=Q[1],R=Q[2];if("Equals"!=J.type)throw n.incorrectProductLowerBound();if(!a.isIdentifier(J.args[0]))throw n.incorrectProductLowerBound();var k=u(e,[J.args[0],J.args[1],R,H]);return r.Product(k);case"Juxt":return b(e,t);case"Letter":return r.Identifier(t.val);case"Cmd":var K=t.val;if("ans"===K){if(void 0===e.currentIndex)throw n.badAnsContext();return r.Ans("ans_{"+(e.currentIndex-1)+"}")}return r.Identifier(K);case"Decimal":return r.Constant(E(t));case"MixedNumber":return r.MixedNumber(w(t));case"Piecewise":return x(e,t);case"EmptyPiecewise":if(!r.Piecewise.empty)throw n.featureUnavailable();return r.Piecewise.empty();case"Equals":throw n.unexpectedSymbol("=");case"Inequality":case"InequalityChain":throw n.unexpectedInequality();case"Tilde":throw n.unexpectedSymbol("~");case"Seq":throw n.unexpectedSymbol(",");case"Colon":throw n.unexpectedSymbol(":");case"Ellipsis":throw n.unexpectedSymbol("...");case"Err":throw T(t.error);default:throw"Unexpected surface node "+t.type+"."}}function d(e){return r.hasOwnProperty(e)}function m(e){return"ln"===e||"log"===e||"logbase"===e}function g(e){return"Decimal"===e.type&&"2"===e.val}function y(e){return"Neg"===e.type&&(e=e.args[0],"Decimal"===e.type&&"1"===e.val)}function v(e,t){var i=e.nodes,s=t.args,o=s[0],c=s[1],l=f(e,o),p=a.unwrapSeq(c),h=u(e,p);if(a.isIdentifier(o))return i.FunctionCall(l,h);if("Superscript"===o.type){var v=o.args,b=v[0],x=v[1];if("Cmd"===b.type){var _=b.val;if(d(_)||m(_)){if(g(x))return i.Exponent([i.FunctionCall(_,h),f(e,x)]);if(y(x)&&void 0!==r[_])return i.FunctionCall(r[_],h);throw d(_)?n.badTrigExponent(_):n.badLogExponent("logbase"===_?"log":_)}}}return i.Multiply([l,f(e,c)])}function b(e,t){var r=e.nodes,i=r.Multiply(u(e,t.args));if(!C(t.args[1]))throw n.badImplicitMultiply();return i}function x(e,t){var r,i=e.nodes,o=t.args[0],u=a.unwrapSeq(o),c=[];e:for(r=0;r<u.length;r++){var l=u[r];switch(l.type){case"Colon":var p=l.args,h=p[0],d=p[1];if(!_(h))throw n.colonMissingCondition();c.push({condition:M(e,h),if_expr:f(e,d)});break;case"Equals":case"Inequality":case"InequalityChain":c.push({condition:M(e,l),if_expr:i.Constant(s.maybeRational(1,1))});break;default:break e}}if(0===r)throw n.piecewiseMissingCondition();if(r<u.length-1)throw n.piecewisePartMissingCondition();if(r===u.length-1&&c.push({condition:i.Constant(!0),if_expr:f(e,u[r])}),!i.Piecewise.chain)throw n.featureUnavailable();return i.Piecewise.chain(c)}function _(e){return"Equals"===e.type||"Inequality"===e.type||"InequalityChain"===e.type}function M(e,t){var r=e.nodes;switch(t.type){case"Equals":return r.Comparator["="](u(e,t.args));case"Inequality":return r.Comparator[t.symbol](u(e,t.args));case"InequalityChain":if(t.chain.length>1)throw n.inequalityChainTooLong();var s=t.first,o=s.symbol,c=s.args,l=c[0],p=c[1],f=t.chain[0],h=f.symbol,d=f.args[0],m=i.emptySpanAt(t.span.input,t.span.start);return r.And([M(e,a.Inequality(m,o,[l,p])),M(e,a.Inequality(m,h,[p,d]))]);default:throw n.parseError()}}function S(e){var t=e.args,r=t[0],i=t[1];if("Superscript"===r.type&&(r=r.args[0]),"Cmd"===r.type&&"logbase"===r.val&&"Seq"===i.type&&2===i.args.length){if(!I(i.args[0]))throw n.badImplicitCall("log")}else if(!I(i)){if("Cmd"===r.type)throw n.badImplicitCall(r.val);throw n.parseError()}}function E(e){return s.fromDecimalString(e.val)}function w(e){var t=s.fromDecimalString(e.whole),r=s.fromDecimalString(e.num),n=s.fromDecimalString(e.den);return s.add(t,s.div(r,n))}function D(e){if("Call"!==e.type)return!1;for(var t=e.args[0];"Superscript"===t.type||"Subscript"===t.type||"Prime"===t.type;)t=t.args[0];return"Cmd"===t.type&&(d(t.val)||m(t.val))}function T(e){switch(e.type){case"UnexpectedParseError":case"MissingBound":case"EmptyGroup":case"UnexpectedDifferential":case"UnexpectedEnd":return n.parseError();case"InvalidOperatorName":return n.invalidOperatorName();case"UnexpectedCloseDelimiter":case"MissingCloseDelimiter":return n.mismatchedBraces(e.open,e.close);case"UnrecognizedSymbol":return"."===e.val?n.unexpectedSymbol(e.val):n.unrecognizedSymbol(e.val);case"EmptyInput":return n.blankExpression();case"BinaryOperatorMissingRight":case"BinaryOperatorMissingLeft":return n.binaryOperatorMissingOperand("%"===e.val?"% of":e.val);case"UnaryOperatorMissingLeft":return n.unaryOperatorMissingLeft(e.val);case"UnaryOperatorMissingRight":return n.unaryOperatorMissingRight(e.val);case"UnexpectedSubscript":return n.cannotSubscript(e.base);case"PercentMissingOf":return n.percentMissingOf();case"SumMissingBound":return n.sumMissingBound();case"ProductMissingBound":return n.productMissingBound();case"IntegralMissingBound":return n.integralMissingBound();case"SumMissingBody":return n.sumMissingBody();case"ProductMissingBody":return n.productMissingBody();case"IntegralMissingBody":return n.integralMissingBody();case"DerivativeMissingBody":return n.derivativeMissingBody();case"IntegralMissingDifferential":return n.integralMissingDifferential();case"DifferentialWithSuperscript":return n.differentialWithSuperscript();case"FractionMissingNumerator":return n.fractionMissingNumerator();case"FractionMissingDenominator":return n.fractionMissingDenominator();case"FractionEmpty":return n.fractionEmpty();case"EmptySuperscript":return n.emptySuperscript();case"EmptySubscript":return n.emptySubscript();case"InvalidSubscript":return n.invalidSubscript(e.val);case"SuperscriptWithPrime":return n.superscriptWithPrime();case"PrimeWithoutParen":return n.primeWithoutParen();case"UnexpectedPrime":return n.unexpectedPrime();case"EmptyRadical":return n.emptyRadical();case"EmptyRadicand":return n.emptyRadicand();case"EmptySquareBracket":return n.emptySquareBracket();case"EmptyPipe":return n.emptyPipe();case"FunctionMissingArgument":return n.wrongArity(e.val,1,0);case"AdjacentNumbers":var t=e.args[0].val,r=void 0;switch(e.args[1].type){case"Decimal":r=e.args[1].val;break;case"MixedNumber":r=e.args[1].whole+" "+e.args[1].num+"/"+e.args[1].den;break;default:throw"Unexpected type "+e.args[1].type+" as right member of AdjacentNumbers."}return n.adjacentNumbers(t,r);default:throw"Unexpected surface node "+e.type+"."}}function C(e){switch(e.type){case"Letter":case"Cmd":case"Mul":case"Div":case"Prime":case"Call":case"ImplicitCall":case"Pipes":case"Sqrt":case"Nthroot":case"Frac":case"Derivative":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Piecewise":case"EmptyPiecewise":case"Paren":case"Juxt":case"Decimal":case"MixedNumber":return!0;case"Subscript":case"Superscript":case"Bang":case"Index":case"Dot":return C(e.args[0]);case"Equals":case"Inequality":case"InequalityChain":case"Tilde":case"Pos":case"Neg":case"Add":case"Sub":case"List":case"Seq":case"Colon":case"Ellipsis":case"PercentOf":return!1;default:throw"Unexpected surface node "+e.type+"."}}function I(e){switch(e.type){case"Letter":case"Decimal":case"MixedNumber":case"Cmd":case"EmptyPiecewise":return!0;case"Neg":for(var t=e.args[0];;)if("Pos"===t.type||"Paren"===t.type)t=t.args[0];else{if("Neg"!==t.type)break;t=t.args[0]}return"Decimal"===t.type||"MixedNumber"===t.type;case"Pos":case"Paren":return I(e.args[0]);case"Juxt":case"Mul":case"Div":return I(e.args[0])&&I(e.args[1]);case"Subscript":return I(e.args[0]);case"Superscript":case"Frac":case"Add":case"Sub":return I(e.args[0])&&I(e.args[1]);case"Piecewise":var t=e.args[0];return"Equals"===t.type||"Inequality"===t.type||"InequalityChain"===t.type;case"Call":var r=e.args,n=r[0],i=r[1];return!a.isIdentifier(n)&&!a.isSuperscriptedIdentifier(n)&&(I(n)&&I(i));case"Derivative":case"Sqrt":case"Nthroot":case"Pipes":case"Bang":return!1;case"Neg":case"Equals":case"Inequality":case"InequalityChain":case"Tilde":case"ImplicitCall":case"Index":case"List":case"Seq":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Colon":case"Ellipsis":case"Dot":case"PercentOf":case"Prime":return!1;default:throw"Unexpected surface node "+e.type+"."}}Object.defineProperty(t,"__esModule",{value:!0}),t.lower=o}),define("math/baseparser",["require","exports","math/errormsg","parsenodes","math/parser/latex-parser","math/parser/expression-parser","math/parser/lower"],function(e,t,r,n,i,a,s){"use strict";function o(){throw r.featureUnavailable()}function u(e,t){return e.setInputSpan(t),e}function c(e,t){if("string"!=typeof e)throw new Error("Type Error: parse can only be called with strings");t=t||{};var c=n;if(t.disabledFeatures){c=Object.create(c);for(var l=0,p=t.disabledFeatures;l<p.length;l++){var f=p[l];if(!c[f])throw new Error("Programming Error: "+f+" cannot be disabled because it is not a parsenode.");c[f]=o}}var h={nodes:c,currentIndex:t.index,setInput:u},d=void 0!==t.trailingComma?{trailingComma:t.trailingComma}:{};try{var m=i.parse(e),g=a.parse(m,d);return s.lower(h,g)}catch(e){return e instanceof n.Error?e:"string"==typeof e?n.Error(e):r.parseError()}}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=c}),define("math/rational-arithmetic-sequence",["require","math/distance","math/builtin"],function(e){function t(e,t){var i=n.toFraction(e),a=n.toFraction(t);if(r.approx(i.n/i.d,e)&&r.approx(a.n/a.d,t)){var s=n.lcm(i.d,a.d),o=i.n*(s/i.d);return{nstart:o,nstep:a.n*(s/a.d)-o,lcm:s}}}var r=e("math/distance"),n=e("math/builtin");return t}),define("math/sliders",["require","exports"],function(e,t){"use strict";function r(e,t){var r=Math.round(1e6*e)/1e6;return Math.abs(r-e)<t?r:e}function n(e){var t=!0,r=!0,n=!0;if(void 0!==e.hardMin&&e.target<e.hardMin&&(t=!1),void 0!==e.hardMax&&e.target>e.hardMax&&(r=!1),e.step){i({target:e.target,step:e.step,hardMin:t?e.hardMin:void 0,hardMax:r?e.hardMax:void 0})!==e.target&&(n=!1)}return{min:t,max:r,step:n}}function i(e){var t=e.target,n=e.hardMin,i=e.hardMax,a=e.step,s=1e-10;if(void 0!==n&&void 0!==i&&(s=Math.min(s,Math.abs(i-n)/1e3)),a&&(s=Math.min(s,a/10)),void 0!==n&&(n=r(n,s)),void 0!==i&&(i=r(i,s)),n>i)return n;if(t<=n)return n;if(t>=i)return i;if(a){var o=void 0!==n?n:0;t=a*Math.round((t-o)/a)+o}var u=r(t,s);return a?t=u:n===u?t=u:i===u&&(t=u),t<=n?n:t>=i?i:t}Object.defineProperty(t,"__esModule",{value:!0}),t.roundToReasonableDecimal=r,t.determineWhichLimitsAreCompatibleWithValue=n,t.constrainSliderValueLikeEvaluator=i}),define("math/features/getConcreteTree",["require","parsenodes","math/errormsg","math/types","graphing/label","math/distance","math/maybe-rational","math/rational-arithmetic-sequence","math/sliders"],function(e){function t(){return this.getDependencies().concat([this._symbol])}function r(e,t,r){var n=e[t];if(!n)throw c.unexpectedSymbol(".");if(!n.isFunction)throw c.unexpectedSymbol(".");if(!n.allowDotCalls)throw c.illegalDotCall(t);if(r<n.dotMinArity)throw c.wrongArity("."+t,n.dotMinArity,r);if(r>n.dotMaxArity)throw c.wrongArity("."+t,n.dotMaxArity,r)}function n(e,t,r){if(!t)return void(r.valids[e]=!0);var n=t.getDependencies();if(t.isError)r.errors[e]=!0;else if(n.length>0){r.errors[e]=!0;for(var i=0;i<n.length;i++)n[i]===r.exportedSymbol?r.errors.cycle=!0:r.missingVars.push(n[i])}else r.values[e]=t.asValue();r.valids[e]=isFinite(r.values[e]),r.valids[e]||(r.values[e]=void 0)}function i(e,t,r,n,i){if(r<e.length&&!f.approx(i,e.elementAt(r).asValue(),10))throw c.nonArithmeticRange();if(n-r<=t.length&&n-r>1&&!f.approx(i,t.elementAt(t.length-n+r).asValue(),10))throw c.nonArithmeticRange()}function a(e,t){for(var r=!1,n=!1,i=0;i<e.length;i++){var a=e[i];(a.isList||a.isBroadcast)&&(n=!0);for(var s=a.getDependencies(),o=0;o<s.length;o++)if(-1!==t.indexOf(s[o])){if(a.isList||a.isBroadcast)return"list"}else r=!0}return n?r?"broadcast":"list":"none"}function s(e){\nvar t,r=[],n=[],i=[];for(t=0;t<e.length;t++){var a,s=e[t];if(s.isList){for(var o=!1,c=0;c<i.length;c++)if(s===i[c]){o=!0,a=u.DummyIndex(n[c]),a.valueType=l.elementType(s.valueType),r.push(a);break}if(!o){var p=u.Base.prototype.tmpVar();n.push(p),i.push(s),a=u.DummyIndex(p),a.valueType=l.elementType(s.valueType),r.push(a)}}else s.isBroadcast?(Array.prototype.push.apply(n,s._replacedSymbols),Array.prototype.push.apply(i,s._lists),r.push(s._expression)):r.push(s)}return{replacedArgs:i,concreteArgs:r,replacedSymbols:n}}function o(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(!e[this._symbol])throw c.functionUnsupported(this._symbol);var r=this.args.map(function(t){return t.getConcreteTree(e)});if(r.length>0){if(1===r.length&&r.push(u.Constant(1)),r[1].getDependencies().length)throw c.illegalBinWidth(this._symbol).setDependencies(r[1].getDependencies());if(r[1].valueType!==l.Number)throw c.illegalBinWidth(this._symbol);var n=r[1].asValue();if(!isFinite(n)||n<=0)throw c.illegalBinWidth(this._symbol)}return this.typeCheck(r),new this.constructor(r)}var u=e("parsenodes"),c=e("math/errormsg"),l=e("math/types"),p=e("graphing/label"),f=e("math/distance"),h=e("math/maybe-rational"),d=h.maybeRational,m=e("math/rational-arithmetic-sequence"),g=u.List,y=u.OrderedPair,v=u.ScalarExpression,b=u.Constant,x=u.Multiply,_=u.Identifier,M=u.DummyIndex,S=u.BuiltInFunction,E=e("math/sliders");u.Base.prototype.tryGetConcreteTree=function(){var e;try{e=this.getConcreteTree.apply(this,arguments)}catch(t){e=t instanceof u.Base?t:c.parseError()}return e},u.Base.prototype.getConcreteTree=function(e,t){if(t)return this._getConcreteTree(e,t);if(this.isConcreteTreeCacheValid(e))return this.__cachedConcreteTree.value;for(var r=this._getConcreteTree(e,t),n={},i=this.getCacheKeys().slice();;){if(!i.length)break;var a=i.pop();if(!n.hasOwnProperty(a)){var s=e[a];n[a]=s,s&&Array.prototype.push.apply(i,s.getCacheKeys())}}return this.__cachedConcreteTree={keys:n,value:r},r},u.Base.prototype.getCacheKeys=function(){return this.getDependencies()},u.Histogram.prototype.getCacheKeys=t,u.DotPlot.prototype.getCacheKeys=t,u.BoxPlot.prototype.getCacheKeys=t,u.TTest.prototype.getCacheKeys=t,u.IndependentTTest.prototype.getCacheKeys=t,u.Base.prototype.isConcreteTreeCacheValid=function(e){if(!this.__cachedConcreteTree)return!1;for(var t in this.__cachedConcreteTree.keys)if(this.__cachedConcreteTree.keys.hasOwnProperty(t)&&e[t]!==this.__cachedConcreteTree.keys[t])return!1;return!0},u.PercentOf.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):u.Divide([u.Multiply(this.args),u.Constant(d(100,1))]).getConcreteTree(e,t)},u.Assignment.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):this._expression.getConcreteTree(e,t)},u.Identifier.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=e[this._symbol];if(r){if(r.isError)throw r;if(r.isFunction)throw c.identifierAsFunction(this._symbol);return r.getConcreteTree(e,t)}if(S.hasOwnProperty(this._symbol))throw c.functionUnsupported(p.latexToIdentifier(this.getInputString()));return u.FreeVariable(this._symbol)},u.Ans.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(void 0===e[this._symbol])throw c.ansUndefined();return _.prototype._getConcreteTree.call(this,e,t)},u.Equation.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):this.asComparator().getConcreteTree(e,t)},u.Constant.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):new this.constructor(this._constantValue)},u.Derivative.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r;if(e[this._symbol]){var n=Object.create(e);n[this._symbol]=u.FreeVariable(this._symbol);var i=e[this._symbol].getConcreteTree(e,t);if(i.valueType!==l.Number&&i.valueType!==l.ListOfNumber)throw c.derivativeVariableTypeError(this._symbol,[l.prettyPrint(i.valueType)]);var a={};return a[this._symbol]=i,r=this.args[0].getConcreteTree(n,t),this.typeCheck([r]),r.takeDerivative(this._symbol).substitute(a).getConcreteTree(e,t)}return r=this.args[0].getConcreteTree(e,t),this.typeCheck([r]),r.takeDerivative(this._symbol).getConcreteTree(e,t)},u.DoubleInequality.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):new this.constructor([u.Piecewise([this._indicator,this._expressions[0],b(NaN)]).getConcreteTree(e,t),this._operators[0],_(this._symbol),this._operators[1],u.Piecewise([this._indicator,this._expressions[1],b(NaN)]).getConcreteTree(e,t)])},u.Expression.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=[],n=0;n<this.args.length;n++)r.push(this.args[n].getConcreteTree(e,t));return this.typeCheck(r),this._constantCollapsedCopy(r)},u.Error.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):this},u.FreeVariable.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):this},u.FunctionCall.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=e[this._symbol];if(r&&r.isError)throw r;if(!r||!r.isFunction){if(S.hasOwnProperty(this._symbol))throw c.functionUnsupported(p.latexToIdentifier(this._identifier.getInputString()));if(r&&r.getConcreteTree(e,t).valueType===l.Distribution)throw c.distributionAsFunction(r._symbol);if(1==this.args.length){var n=[_(this._symbol),this.args[0]];return x(n).getConcreteTree(e,t)}if(r)throw c.variableAsFunction(this._symbol);throw c.functionNotDefined(this._symbol)}for(var i=[],a=0;a<this.args.length;a++){var s=this.args[a].getConcreteTree(e,t);i.push(s)}return r.getConcreteInvocationTree(e,i,t)},u.DotAccess.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var n,i=this.args[0],a=this.args[1];if(a instanceof u.Identifier)return"x"===a._symbol?u.OrderedPairAccess([i,u.Constant(1)]).getConcreteTree(e,t):"y"===a._symbol?u.OrderedPairAccess([i,u.Constant(2)]).getConcreteTree(e,t):(n=[i],r(e,a._symbol,0),u.FunctionCall(a._symbol,n).getConcreteTree(e,t));if(a instanceof u.FunctionCall)return"x"===a._symbol&&1===a.args.length?u.Multiply([u.OrderedPairAccess([i,u.Constant(1)]),a.args[0]]).getConcreteTree(e,t):"y"===a._symbol&&1===a.args.length?u.Multiply([u.OrderedPairAccess([i,u.Constant(2)]),a.args[0]]).getConcreteTree(e,t):(n=[i].concat(a.args),r(e,a._symbol,a.args.length),u.FunctionCall(a._symbol,n).getConcreteTree(e,t));throw c.unexpectedSymbol(".")},u.DotAccessExponent.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):"FunctionCall"!==this.args[1].type||1!==this.args[1].args.length||e[this.args[1]._symbol]&&e[this.args[1]._symbol].isFunction?u.Exponent([u.DotAccess([this.args[0],this.args[1]]),this.args[2]]).getConcreteTree(e,t):u.Multiply([u.DotAccess([this.args[0],u.Identifier(this.args[1]._symbol)]),u.Exponent([this.args[1].args[0],this.args[2]])]).getConcreteTree(e,t)},u.FunctionExponent.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.args[0]._symbol;return e[r]&&e[r].isFunction?u.Exponent([u.FunctionCall(r,[this.args[1]]),this.args[2]]).getConcreteTree(e,t):x([this.args[0],u.Exponent([this.args[1],this.args[2]])]).getConcreteTree(e,t)},u.FunctionFactorial.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.args[0]._symbol;return e[r]&&e[r].isFunction?u.FunctionCall("\\\\factorial",[u.FunctionCall(r,[this.args[1]])]).getConcreteTree(e,t):x([this.args[0],u.FunctionCall("\\\\factorial",[this.args[1]])]).getConcreteTree(e,t)},u.FunctionDefinition.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=0;r<this._argSymbols.length;r++){if(e[this._argSymbols[r]])throw c.parameterAlreadyDefined(this._argSymbols[r]);if(this._argSymbols[r]===this._symbol)throw c.parameterAlreadyDefined(this._argSymbols[r])}return this._expression.getConcreteTree(e,t)},u.Image.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):u.Image({center:this.center.tryGetConcreteTree(e,t),radianAngle:this.radianAngle.tryGetConcreteTree(e,t),width:this.width.tryGetConcreteTree(e,t),height:this.height.tryGetConcreteTree(e,t),opacity:this.opacity.tryGetConcreteTree(e,t)},this.moveStrategy)},u.Slider.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this._expression.getConcreteTree(e,t),i=this.sliderMin&&this.sliderMin.tryGetConcreteTree(e,t),a=this.sliderMax&&this.sliderMax.tryGetConcreteTree(e,t),s=this.sliderStep&&this.sliderStep.tryGetConcreteTree(e,t),o={exportedSymbol:this._symbol,errors:{},values:{},valids:{},missingVars:[],errMsg:void 0};if(n("min",i,o),n("max",a,o),n("step",s,o),s&&o.valids.step&&(0===o.values.step?delete o.values.step:o.values.step=Math.abs(o.values.step)),o.errors.cycle?r=c.sliderLimitReferencesExport(o.exportedSymbol):(o.errors.min||!o.valids.min?o.errMsg=c.sliderMinInvalid():o.errors.max||!o.valids.max?o.errMsg=c.sliderMaxInvalid():!o.errors.step&&o.valids.step||(o.errMsg=c.sliderStepInvalid()),o.values.min>o.values.max&&(o.valids.min=!1,o.valids.max=!1,o.errMsg||(o.errMsg=c.sliderMaxLessThanMin()))),r.isConstant){var u=E.constrainSliderValueLikeEvaluator({target:r.asValue(),hardMin:o.values.min,hardMax:o.values.max,step:o.values.step}),l=h.fromDecimalString(u.toString()),p=isFinite(h.asFloat(l))?l:u;r=b(p)}return r.sliderInfo=o,r},u.Integral.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(e[this._differential._symbol])throw c.shadowedIntegrationVariable(this._differential._symbol);var r=this.args[0],n=this.args[1],i=this.args[2];if(n.dependsOn(r._symbol)||i.dependsOn(r._symbol))throw c.badIntegralBoundDependency(r._symbol);var a=Object.create(e);return a[this._differential._symbol]=M(this._differential._symbol),v.prototype._getConcreteTree.call(this,a,t)},u.ListAccess.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.index.getConcreteTree(e,t),n=this.list.getConcreteTree(e,t),i=[n,r];return this.typeCheck(i),this._constantCollapsedCopy(i)},u.List.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=[],n=0;n<this.args.length;n++){var i=this.args[n].getConcreteTree(e,t);r.push(i)}return this.typeCheck(r),new this.constructor(r)},u.ParametrizedReducerFunction.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(this.args[0]instanceof u.List&&this.args[0].valueType===l.ListOfDistribution)return u.List(u.List.mapArgs([this.args[0]],function(r){return this.copyWithArgs([r[0],this.args[1]]).getConcreteTree(e,t)}.bind(this)));if(this.args[0]instanceof u.Distribution){if(this.args[0][this._symbol])return this.args[0][this._symbol](this.args.slice(1)).getConcreteTree(e,t);throw c.functionTypeError(this._symbol,[l.prettyPrint(this.args[0].valueType)])}for(var r=[],n=0;n<this.args.length;n++)r.push(this.args[n].getConcreteTree(e,t));switch(a([r[1]],this.getDummyDependencies())){case"none":return this.typeCheck(r),this._constantCollapsedCopy(r);case"list":return u.List(u.List.mapArgs([r[1]],function(e){return e=[r[0]].concat(e),this.typeCheck(e),this._constantCollapsedCopy(e)}.bind(this)));case"broadcast":var i=s([r[1]]),o=[r[0]].concat(i.concreteArgs);return this.typeCheck(o),u.Broadcast(i.replacedSymbols,[this.copyWithArgs(o)].concat(i.replacedArgs))}},u.Prime.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.args[0],n=r.args[0];if(!e[r._symbol])throw c.functionNotDefined(r._symbol);var i,a=this.tmpVar();if("logbase"===r._symbol){if(2!==r.args.length)throw c.primedFunctionArity();i=[_(a),r.args[1]]}else{if(1!==r.args.length)throw c.primedFunctionArity();i=[_(a)]}for(var s=r.copyWithArgs(i).getConcreteTree(e,t),o=0;o<this.order;o++)s=s.takeDerivative(a);var u={};return u[a]=n,s.substitute(u).getConcreteTree(e,t)},u.Range.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.beginning.getConcreteTree(e,t),n=this.end.getConcreteTree(e,t);if(r.getDependencies().length)throw c.variableRange(r.getDependencies());if(n.getDependencies().length)throw c.variableRange(n.getDependencies());if(!r.isList||!n.isList)throw new Error("Programming Error: range bounds must be List nodes.");var a,s,o=r.elementAt(0).asValue(),u=n.elementAt(n.length-1).asValue(),l=u-o;if(1===r.length)a=l>=0?1:-1;else{var p=r.elementAt(1).asValue();s=m(o,p),a=r.elementAt(1).asValue()-o}var f=Math.round(l/a)+1;if(!isFinite(f)||f<r.length||f<n.length)throw c.nonArithmeticRange();var h,y,v=[];if(s){var x=s.nstart;for(h=0;h<f;h++)i(r,n,h,f,x/s.lcm),v.push(b(d(x,s.lcm))),x+=s.nstep}else for(v.push(b(o)),h=1;h<f;h++)y=o+h*a,i(r,n,h,f,y),v.push(b(d(y,1)));return g(v)},u.ReducerFunction.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(0===this.args.length)throw c.zeroArgReducer(this._symbol);if(this.args[0]instanceof u.List&&this.args[0].valueType===l.ListOfDistribution)return u.List(u.List.mapArgs(this.args,function(r){return this.copyWithArgs(r).getConcreteTree(e,t)}.bind(this)));if(this.args[0]instanceof u.Distribution){if(this.args[0][this._symbol])return this.args[0][this._symbol]().getConcreteTree(e,t);throw c.functionTypeError(this._symbol,[l.prettyPrint(this.args[0].valueType)])}for(var r=[],n=0;n<this.args.length;n++)r.push(this.args[n].getConcreteTree(e,t));if(1===this.args.length)return r=[u.List.wrap(r[0])],this.typeCheck(r),this._constantCollapsedCopy(r);switch(a(r,this.getDummyDependencies())){case"none":return r=[u.List(r)],this.typeCheck(r),this._constantCollapsedCopy(r);case"list":return u.List(u.List.mapArgs(r,function(e){return e=[u.List(e)],this.typeCheck(e),this._constantCollapsedCopy(e)}.bind(this)));case"broadcast":var i=s(r);return r=[u.List(i.concreteArgs)],this.typeCheck(r),u.Broadcast(i.replacedSymbols,[this.copyWithArgs(r)].concat(i.replacedArgs))}},u.RepeatedOperator.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(e[this._index._symbol])throw c.shadowedIndex(this._index._symbol);var r=Object.create(e);return r[this._index._symbol]=M(this._index._symbol),v.prototype._getConcreteTree.call(this,r,t)},u.ScalarExpression.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=[],n=0;n<this.args.length;n++)r.push(this.args[n].getConcreteTree(e,t));switch(a(r,this.getDummyDependencies())){case"none":return this.typeCheck(r),this._constantCollapsedCopy(r);case"list":return u.List(u.List.mapArgs(r,function(e){return this.typeCheck(e),this._constantCollapsedCopy(e)}.bind(this)));case"broadcast":var i=s(r);return this.typeCheck(i.concreteArgs),u.Broadcast(i.replacedSymbols,[this.copyWithArgs(i.concreteArgs)].concat(i.replacedArgs))}},u.Regression.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):new this.constructor(this._lhs,this._rhs)},u.Polygon.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.args.map(function(t){return t.getConcreteTree(e)});return this.typeCheck(r),1===r.length&&r[0].valueType===l.ListOfPoint?new this.constructor(r):r.every(function(e){return e.valueType===l.Point})?new this.constructor([g(r)]):2===r.length?new this.constructor([y(this.args).getConcreteTree(e)]):c.parseError()},u.Histogram.prototype._getConcreteTree=o,u.DotPlot.prototype._getConcreteTree=o,u.BoxPlot.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(!e[this._symbol])throw c.functionUnsupported(this._symbol);var r=this.args.map(function(t){return t.getConcreteTree(e)});return this.typeCheck(r),1===r.length&&r[0].valueType===l.ListOfNumber?new this.constructor(r):c.parseError()},u.TTest.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(!e[this._symbol])throw c.functionUnsupported(this._symbol);var r=this.args.map(function(t){return t.getConcreteTree(e)});return this.typeCheck(r),new this.constructor(r)},u.IndependentTTest.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(!e[this._symbol])throw c.functionUnsupported(this._symbol);var r=this.args.map(function(t){return t.getConcreteTree(e)});return this.typeCheck(r),new this.constructor(r)},u.SolvedEquation.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):new this.constructor(this._symbol,this._expression.getConcreteTree(e,t))},u.Table.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=[],n=Object.create(e),i=0;i<this.columns.length;i++){var a=this.columns[i].getConcreteTree(n,e,t);a.isIndependent&&this.columns[i].exportToLocal(a,n),r.push(a)}return new this.constructor(r)},u.TableColumn.prototype._getConcreteTree=function(e,t){var r,n,i=this.header.getConcreteTree(e);if(i.isFreeVariable){r=[];for(var a=0;a<this.values.length;a++)if(this.values[a].tableError())r.push(c.invalidTableEntry(this.values[a].tableError()));else{var s=this.values[a].tryGetConcreteTree(e);s.isError?r.push(s):s.tableError()?r.push(c.invalidTableEntry(s.tableError())):s.valueType===l.Number?r.push(s):r.push(c.tableEntryTypeError([l.prettyPrint(s.valueType)]))}return n=new this.constructor(i,this.length,r),n.isIndependent=!0,n}if(i.isConstant){for(var o=[],u=0;u<this.length;u++)o.push(i);r=o}else r=i.isList?i.args:[];return i=this.header.getConcreteTree(t),i.isError||i.valueType===l.Number||i.valueType===l.ListOfNumber||(i=c.tableHeaderTypeError([l.prettyPrint(i.valueType)])),n=new this.constructor(i,this.length,r)},u.BuiltInFunction.pdf.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(this.args[0]instanceof g)return u.List(u.List.mapArgs(this.args,function(r){return this.copyWithArgs(r).getConcreteTree(e,t)}.bind(this)));if(!(this.args[0]instanceof u.Distribution))throw c.functionTypeError(this._symbol,[l.prettyPrint(this.args[0].valueType)]);return this.args[0].pdf([this.args[1]]).getConcreteTree(e,t)},u.BuiltInFunction.cdf.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(this.args[0]instanceof g)return u.List(u.List.mapArgs(this.args,function(r){return this.copyWithArgs(r).getConcreteTree(e,t)}.bind(this)));if(!(this.args[0]instanceof u.Distribution))throw c.functionTypeError(this._symbol,[l.prettyPrint(this.args[0].valueType)]);return this.args[0].cdf(this.args.slice(1)).getConcreteTree(e,t)}}),define("math/features/getValueType",["require","parsenodes","math/types"],function(e){function t(){return o.Number}function r(){return o.Bool}function n(){return o.Point}function i(){return o.Distribution}function a(){return o.Any}var s=e("parsenodes"),o=e("math/types"),u={Add:t,Multiply:t,Divide:t,Subtract:t,Exponent:t,Negative:t,And:r,Piecewise:function(e){return e[1].valueType},BaseComparator:r,RepeatedOperator:t,List:function(e){if(0===e.length)return o.ListOfAny;for(var t=e[0].valueType,r=1;r<e.length;r++)if(e[r].valueType!==t)return o.ListOfAny;return o.hasListType(t)?o.listType(t):o.ListOfAny},ListAccess:function(e){return o.elementType(e[0].valueType)},Broadcast:function(e){return o.listType(e[0].valueType)},OrderedPairAccess:t,OrderedPair:n,NativeFunction:t,ReducerFunction:t,DoubleReducerFunction:t,ParametrizedReducerFunction:t,Distribution:i,DummyIndex:t,FreeVariable:t,Constant:function(){switch(typeof this.asValue()){case"number":return o.Number;case"boolean":return o.Bool;default:throw new Error("Constant node expects value of type number or boolean, but saw "+typeof value)}},TypedFunction:function(){return this._outputType},Derivative:t,Integral:t,Identifier:a};for(var c in u)s[c].prototype._getValueType=u[c]}),define("math/features/typeCheck",["require","parsenodes","math/types","math/errormsg"],function(e){function t(e){for(var t=[],r=0;r<e.length;r++)t.push(a.prettyPrint(e[r].valueType));return t}function r(e,r){return function(n){for(var i=0;i<n.length;i++)if(n[i].valueType!==e[i])throw r(t(n))}}function n(e){var t=e.length;if(t<2)throw s.methodRequiresList(this._symbol);if(e[0].valueType!==a.ListOfNumber)throw s.methodRequiresList(this._symbol);if(t>2)throw s.tooManyArguments(this._symbol,2)}var i=e("parsenodes"),a=e("math/types"),s=e("math/errormsg"),o={Add:r([a.Number,a.Number],s.addTypeError),Multiply:r([a.Number,a.Number],s.multiplyTypeError),Divide:r([a.Number,a.Number],s.divideTypeError),Subtract:r([a.Number,a.Number],s.subtractTypeError),Exponent:r([a.Number,a.Number],s.exponentTypeError),Negative:r([a.Number],s.negativeTypeError),BaseComparator:r([a.Number,a.Number],s.comparatorTypeError),And:r([a.Bool,a.Bool],s.andTypeError),List:function(e){if(0!==e.length){var t=e[0].valueType;if(!a.hasListType(t))throw s.listTypeError([a.prettyPrint(t)]);for(var r=0;r<e.length;r++){var n=e[r].valueType;if(!a.hasListType(n))throw s.listTypeError([a.prettyPrint(n)]);if(n!==t)throw s.heterogeneousList()}}},Broadcast:function(e){},OrderedPair:r([a.Number,a.Number],s.pointTypeError),Piecewise:function(e){if(e[0].valueType!==a.Bool)throw s.piecewiseConditionTypeError(t(e));if(e[1].valueType!==a.Number)throw s.piecewiseBranchTypeError([a.prettyPrint(e[1].valueType)]);if(e[2].valueType!==a.Number)throw s.piecewiseBranchTypeError([a.prettyPrint(e[2].valueType)])},ListAccess:function(e){if(!a.isList(e[0].valueType)||e[1].valueType!==a.Number)throw s.indexTypeError(t(e))},OrderedPairAccess:r([a.Point,a.Number],s.orderedPairAccessTypeError),Sum:function(e){if(e[1].valueType!==a.Number)throw s.sumLowerBoundTypeError([a.prettyPrint(e[1].valueType)]);if(e[2].valueType!==a.Number)throw s.sumUpperBoundTypeError([a.prettyPrint(e[2].valueType)]);if(e[3].valueType!==a.Number)throw s.sumArgumentTypeError([a.prettyPrint(e[3].valueType)])},Product:function(e){if(e[1].valueType!==a.Number)throw s.productLowerBoundTypeError([a.prettyPrint(e[1].valueType)]);if(e[2].valueType!==a.Number)throw s.productUpperBoundTypeError([a.prettyPrint(e[2].valueType)]);if(e[3].valueType!==a.Number)throw s.productArgumentTypeError([a.prettyPrint(e[3].valueType)])},Integral:function(e){if(e[1].valueType!==a.Number)throw s.integralLowerBoundTypeError([a.prettyPrint(e[1].valueType)]);if(e[2].valueType!==a.Number)throw s.integralUpperBoundTypeError([a.prettyPrint(e[2].valueType)]);if(e[3].valueType!==a.Number)throw s.integralArgumentTypeError([a.prettyPrint(e[3].valueType)])},NativeFunction:function(e){for(var r=0;r<e.length;r++)if(e[r].valueType!==a.Number)throw s.functionTypeError(this._symbol,t(e))},ReducerFunction:function(e){if(e[0].valueType!==a.ListOfNumber)throw s.functionTypeError(this._symbol,t(e))},DoubleReducerFunction:function(e){if(!a.isList(e[0].valueType)||!a.isList(e[1].valueType))throw s.nonListDoubleReducer(this._symbol);if(e[0].valueType!==a.ListOfNumber||e[1].valueType!==a.ListOfNumber)throw s.functionTypeError(this._symbol,t(e))},ParametrizedReducerFunction:function(e){if(e[0].valueType!==a.ListOfNumber)throw s.nonListParametrizedReducer(this._symbol);if(e[1].valueType!==a.Number)throw s.functionTypeError(this._symbol,t(e))},TypedFunction:function(e){for(var r=0;r<e.length;r++)if(e[r].valueType!==this._inputTypes[r])throw s.functionTypeError(this._symbol,t(e))},Derivative:function(e){if(e[0].valueType!==a.Number&&e[0].valueType!==a.ListOfNumber)throw s.derivativeTypeError(t(e))},Regression:function(e){if(e[0].valueType!==a.Number&&e[0].valueType!==a.ListOfNumber||e[1].valueType!==a.Number&&e[1].valueType!==a.ListOfNumber)throw s.regressionTypeError(t(e))},Polygon:function(e){if(1===e.length&&e[0].valueType!==a.ListOfPoint)throw s.polygonListTypeError(t(e));if(2===e.length&&e[0].valueType===a.Number&&e[1].valueType===a.Number)throw s.polygonTwoNumbersError();if(e.length>2&&!e.every(function(e){return e.valueType===a.Point}))throw s.polygonPointArgsError()},Histogram:n,DotPlot:n,BoxPlot:function(e){var t=e.length,r=e[0];if(0===t)throw s.methodRequiresList(this._symbol);if(r.valueType!==a.ListOfNumber)throw s.methodRequiresList(this._symbol);if(t>1)throw s.methodRequiresList(this._symbol)},TTest:function(e){var r=this._symbol;if(0===e.length)throw s.methodRequiresList(r);if(e[0].valueType!==a.ListOfNumber)throw s.methodRequiresList(r);if(e.length>2)throw s.tooManyArguments(r,2);if(e[0].length<2)throw s.ttestListTooShort(r);if(e[1]&&e[1].valueType!==a.Number)throw s.functionTypeError(r,t(e))},IndependentTTest:function(e){var r=this._symbol;if(2!==e.length)throw s.wrongDoubleReducerArity(r);if(!a.isList(e[0].valueType)||!a.isList(e[1].valueType))throw s.nonListDoubleReducer(r);if(e[0].valueType!==a.ListOfNumber||e[1].valueType!==a.ListOfNumber)throw s.functionTypeError(r,t(e));if(e[0].args.length<2||e[1].args.length<2)throw s.ttestListTooShort("ittest")},Stats:function(e){var t=e.length,r=e[0];if(0===t)throw s.methodRequiresList(this._symbol);if(r.valueType!==a.ListOfNumber)throw s.methodRequiresList(this._symbol);if(t>1)throw s.methodRequiresList(this._symbol)}};for(var u in o)i[u].prototype.typeCheck=o[u]}),define("math/features/repr",["require","parsenodes"],function(e){var t=e("parsenodes"),r=function(e,t,r){r=r||0;var n=Array(r+1).join("  "),i=n+"  ";return"[\\n"+i+e.map(function(e){return e.repr(t,r+1)}).join(",\\n"+i)+"\\n"+n+"]"},n=function(e,t){return""+(t=t||"")+e};t.Expression.prototype.repr=function(e,t){return n(this.type,e)+"("+r(this.args,e,t)+")"},t.DoubleInequality.prototype.repr=function(e,t){t=t||0;var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"([\\n"+i+this.args[0].repr(e,t+1)+",\\n"+i+"\'"+this.args[1]+"\',\\n"+i+this.args[2].repr(e,t+1)+",\\n"+i+"\'"+this.args[3]+"\',\\n"+i+this.args[4].repr(e,t+1)+"\\n"+r+"])"},t.Identifier.prototype.repr=t.FreeVariable.prototype.repr=function(e){return n(this.type,e)+"(\'"+this._symbol+"\')"},t.Constant.prototype.repr=function(e){return n(this.type,e)+"("+this.asValue()+")"},t.FunctionCall.prototype.repr=function(e,t){return n(this.type,e)+"(\'"+this._symbol+"\', "+r(this.args,e,t)+")"},t.Assignment.prototype.repr=function(e,r){return n(this.type,e)+"("+t.Identifier(this._symbol).repr(e,r)+", "+this._expression.repr(e,r)+")"},t.Regression.prototype.repr=t.Equation.prototype.repr=function(e,t){return n(this.type,e)+"("+this._lhs.repr(e,t)+", "+this._rhs.repr(e,t)+")"},t.FunctionDefinition.prototype.repr=function(e,i){return n(this.type,e)+"("+t.Identifier(this._symbol).repr(e,i)+", "+r(this._argSymbols.map(function(e){return t.Identifier(e)}),e,i)+", "+this._expression.repr(e,i)+")"},t.Error.prototype.repr=function(e,t){return n(this.type,e)+"(\'"+this._msg+"\')"},t.Derivative.prototype.repr=function(e,t){return n(this.type,e)+"(\'"+this._symbol+"\', "+r(this.args,e,t)+")"},t.SolvedEquation.prototype.repr=function(e,t){return n(this.type,e)+"(\'"+this._symbol+"\', "+this._expression.repr(e,t)+")"},t.OptimizedRegression.prototype.repr=function(e,t){return n(this.type,e)+"("+JSON.stringify(this.parameters)+", "+JSON.stringify(this.residuals)+", "+JSON.stringify(this.statistics)+", "+this.model.repr(e,t+1)+", "+JSON.stringify({isModelValid:this.isModelValid,residualVariable:this.residualVariable,residualSuggestionId:this.residualSuggestionId,shouldSuggestLogMode:this.shouldSuggestLogMode})+")"},t.Table.prototype.repr=function(e,t){return n(this.type,e)+"("+r(this.columns,e,t)+")"},t.TableColumn.prototype.repr=function(e,t){return n(this.type,e)+"("+this.header.repr(e,t)+", "+this.length+", "+r(this.values,e,t)+")"},t.Image.prototype.repr=function(e,t){var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"({\\n"+i+"center: "+this.center.repr(e,t+1)+",\\n"+i+"radianAngle: "+this.radianAngle.repr(e,t+1)+",\\n"+i+"width: "+this.width.repr(e,t+1)+",\\n"+i+"height: "+this.height.repr(e,t+1)+"},\\n"+i+"opacity: "+this.opacity.repr(e,t+1)+",\\n"+i+JSON.stringify(this.moveStrategy)+"\\n"+r+")"},t.Slider.prototype.repr=function(e,t){var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"({\\n"+i+"sliderAssignment: "+this.sliderAssignment.repr(e,t+1)+",\\n"+i+"sliderMin: "+(this.sliderMin&&this.sliderMin.repr(e,t+1))+",\\n"+i+"sliderMax: "+(this.sliderMax&&this.sliderMax.repr(e,t+1))+",\\n"+i+"sliderStep: "+(this.sliderStep&&this.sliderStep.repr(e,t+1))+"},\\n"+r+")"},t.Broadcast.prototype.repr=function(e,t){return n(this.type,e)+"([\'"+this._replacedSymbols.join("\', ")+"\'], "+r(this.args,e,t)+")"}}),define("math/features/scalarEvalExpression",["require","parsenodes","math/functions"],function(e){var t=e("parsenodes"),r=e("math/functions"),n={Add:function(e){return"("+e.join("+")+")"},Multiply:function(e){return"("+e.join("*")+")"},Divide:function(e){return"("+e.join("/")+")"},Subtract:function(e){return"("+e.join("-")+")"},Exponent:function(e){return"BuiltIn.pow("+e.join(",")+")"},RawExponent:function(e){return"Math.pow("+e.join(",")+")"},Negative:function(e){return"(-"+e[0]+")"},And:function(e){return e.join("&&")},Piecewise:function(e){return"("+e[0]+"?"+e[1]+":"+e[2]+")"}},i={Add:2,Multiply:2,Divide:2,Subtract:2,Exponent:2,RawExponent:2,Negative:1,And:2,Piecewise:3};for(var a in n){var s=t[a].prototype;s.scalarEvalExpression=n[a],s.evaluate=r.createEvaluateFunction(s.scalarEvalExpression,i[a])}}),define("math/reconstitute-node",["require","parsenodes","math/types"],function(e){function t(e,i){if(n.isList(e)){for(var a=[],s=0;s<i.length;s++)a.push(t(n.elementType(e),i[s]));var o=r.List(a);return o.valueType=e,o}switch(e){case n.Number:case n.Bool:return r.Constant(i);case n.Point:return r.OrderedPair([r.Constant(i[0]),r.Constant(i[1])]);default:throw new Error("Cannot reconstitute value of a "+n.prettyPrint(e)+".")}}var r=e("parsenodes"),n=e("math/types");return t}),define("math/features/constantcollapsedcopy",["require","parsenodes","math/reconstitute-node","math/maybe-rational"],function(e){var t=e("parsenodes"),r=t.Constant,n=t.Multiply,i=t.Subtract,a=t.RawExponent,s=t.BuiltInFunction,o=e("math/reconstitute-node"),u=e("math/maybe-rational"),c={Expression:function(e){return this.copyWithArgs(e)},FreeVariable:function(e){return this},ScalarExpression:function(e){for(var t=[],n=0;n<e.length;n++){if(!e[n].isConstant)return this.copyWithArgs(e);t.push(e[n].asValue())}return r(this.evaluate(t))},OrderedPair:function(e){return this.copyWithArgs(e)},Add:function(e){return e[0].isConstant&&e[1].isConstant?r(u.add(e[0].asMaybeRationalValue(),e[1].asMaybeRationalValue())):0===e[0].asValue()?e[1]:0===e[1].asValue()?e[0]:this.copyWithArgs(e)},Multiply:function(e){return e[0].isConstant&&e[1].isConstant?r(u.mul(e[0].asMaybeRationalValue(),e[1].asMaybeRationalValue())):1===e[0].asValue()?e[1]:1===e[1].asValue()?e[0]:this.copyWithArgs(e)},Subtract:function(e){return e[0].isConstant&&e[1].isConstant?r(u.sub(e[0].asMaybeRationalValue(),e[1].asMaybeRationalValue())):0===e[0].asValue()?t.Negative([e[1]]):0===e[1].asValue()?e[0]:this.copyWithArgs(e)},Divide:function(e){return e[0].isConstant&&e[1].isConstant?r(u.div(e[0].asMaybeRationalValue(),e[1].asMaybeRationalValue())):1===e[1].asValue()?e[0]:this.copyWithArgs(e)},Exponent:function(e){if(e[0].isConstant&&e[1].isConstant)return r(u.pow(e[0].asMaybeRationalValue(),e[1].asMaybeRationalValue()));if(e[0].isConstant){if(e[0].asValue()===Math.E)return s.exp([e[1]]);if(e[0].asValue()>0)return a(e)}if(e[1].isConstant){var t=e[1].asValue();if(1===t)return e[0];if(t===Math.floor(t))return a(e);var i=e[1].asMaybeRationalValue();return u.isRational(i)?i.d%2==1?n([i.n%2==0?r(u.maybeRational(1,1)):s.sign([e[0]]),a([s.abs([e[0]]),e[1]])]):a(e):this.copyWithArgs(e)}return this.copyWithArgs(e)},\nRawExponent:function(e){return e[0].isConstant&&e[1].isConstant?r(u.pow(e[0].asMaybeRationalValue(),e[1].asMaybeRationalValue())):this.copyWithArgs(e)},Negative:function(e){return e[0].isConstant?r(u.neg(e[0].asMaybeRationalValue())):e[0]instanceof t.Negative?e[0].args[0]:this.copyWithArgs(e)},And:function(e){return e[0].isConstant&&e[1].isConstant?r(e[0].asValue()&&e[1].asValue()):e[0].isConstant&&!0===e[0]?e[1]:e[0].isConstant&&!1===e[0]?r(!1):e[1].isConstant&&!0===e[1]?e[0]:e[1].isConstant&&!1===e[1]?r(!1):this.copyWithArgs(e)},Piecewise:function(e){return e[0].isConstant&&!0===e[0].asValue()?e[1]:e[0].isConstant&&!1===e[0].asValue()?e[2]:this.copyWithArgs(e)},Integral:function(e){var t=e[0],a=e[1],s=e[2],o=e[3],u=o.getDependencies();if(a.isConstant&&s.isConstant){var c=s.asValue()-a.asValue();if(o.isConstant)return r(o.asValue()*c);if(!o.dependsOn(t._symbol))return n([o,r(c)]);if(1===u.length&&u[0]===t._symbol)return r(this.evaluate(a.asValue(),s.asValue(),o))}else if(!o.dependsOn(t._symbol))return n([o,i([s,a])]);return this.copyWithArgs(e)},ListAccess:function(e){return e[1].isConstant?e[0].elementAt(e[1].asValue()-1):this.copyWithArgs(e)},OrderedPairAccess:function(e){return e[1].isConstant&&e[0]instanceof t.OrderedPair?e[0].elementAt(e[1].asValue()-1):this.copyWithArgs(e)},Broadcast:function(e){var t=e[0].getDependencies();for(r=0;r<t.length;r++)if(-1===this._replacedSymbols.indexOf(t[r]))return this.copyWithArgs(e);for(var r=1;r<e.length;r++)if(0!==e[r].getDependencies().length)return this.copyWithArgs(e);return o(this.valueType,this.evaluate(e.slice(1).map(function(e){return e.asValue()})))},ReducerFunction:function(e){return 0===e[0].getDependencies().length?o(this.valueType,this.evaluate([e[0].asValue()])):this.copyWithArgs(e)},DoubleReducerFunction:function(e){if(0===e[0].getDependencies().length&&0===e[1].getDependencies().length){var t=Math.min(e[0].length,e[1].length);return o(this.valueType,this.evaluate([e[0].asValue().slice(0,t),e[1].asValue().slice(0,t)]))}return this.copyWithArgs(e)},ParametrizedReducerFunction:function(e){var t=e[0],r=e[1];return r.isConstant&&0===t.getDependencies().length?o(this.valueType,this.evaluate([t.asValue(),r.asValue()])):this.copyWithArgs(e)},RepeatedOperator:function(e){if(e[1].isConstant&&e[2].isConstant){var t=e[1].asValue(),n=e[2].asValue(),i=e[3];if(i.isConstant)return r(this.evaluateConstant([t,n,i.asValue()]));var a=i.getDependencies();if(0===a.length||1===a.length&&a[0]===e[0]._symbol)return r(this.evaluate(t,n,i))}return this.copyWithArgs(e)}};for(var l in c)t[l].prototype._constantCollapsedCopy=c[l];s.mod.prototype._constantCollapsedCopy=function(e){return e[0].isConstant&&e[1].isConstant?r(u.mod(e[0].asMaybeRationalValue(),e[1].asMaybeRationalValue())):this.copyWithArgs(e)},s.sqrt.prototype._constantCollapsedCopy=function(e){return e[0].isConstant?r(u.sqrt(e[0].asMaybeRationalValue())):this.copyWithArgs(e)},s.nthroot.prototype._constantCollapsedCopy=function(e){return e[0].isConstant&&e[1].isConstant?r(u.nthroot(e[0].asMaybeRationalValue(),e[1].asMaybeRationalValue())):this.copyWithArgs(e)},s.abs.prototype._constantCollapsedCopy=function(e){return e[0].isConstant?r(u.abs(e[0].asMaybeRationalValue())):this.copyWithArgs(e)},s.total.prototype._constantCollapsedCopy=function(e){if(!e[0].isList)return this.copyWithArgs(e);for(var t=e[0].args,n=0;n<t.length;n++)if(!t[n].isConstant)return this.copyWithArgs(e);return r(u.total(e[0].asMaybeRationalValue()))},s.distance.prototype._constantCollapsedCopy=function(e){return 0===e[0].getDependencies().length&&0===e[1].getDependencies().length?r(this.evaluate([e[0].asArray(),e[1].asArray()])):this.copyWithArgs(e)},s.midpoint.prototype._constantCollapsedCopy=function(e){if(0===e[0].getDependencies().length&&0===e[1].getDependencies().length){var n=this.evaluate([e[0].asArray(),e[1].asArray()]);return t.OrderedPair([r(n[0]),r(n[1])])}return this.copyWithArgs(e)}}),define("math/features/polynomialorder",["require","parsenodes"],function(e){var t=e("parsenodes"),r={Expression:"this.dependsOn(symbol) ? Infinity : 0",FreeVariable:"(symbol === this._symbol ? 1 : 0)",Constant:"0",Add:"Math.max(order0, order1)",Subtract:"Math.max(order0, order1)",Multiply:"order0 + order1",Negative:"order0",Divide:"order1 > 0 ? Infinity : order0"};for(var n in r){var i=r[n];t[n].prototype.polynomialOrder=function(e){return e=e.replace("order0","this.args[0].polynomialOrder(symbol)"),e=e.replace("order1","this.args[1].polynomialOrder(symbol)"),new Function(["symbol"],"return "+e)}(i)}t.Exponent.prototype.polynomialOrder=function(e){var t=this.args[0].polynomialOrder(e),r=this.args[1].polynomialOrder(e);if(0===t&&0===r)return 0;var n=this.args[1];return n.isConstant&&n.asValue()===Math.round(n.asValue())&&n.asValue()>0?t*n.asValue():1/0},t.Piecewise.prototype.polynomialOrder=function(e){return this.dependsOn(e)?this.args[2].isConstant&&this.args[2].isNaN()?this.args[1].polynomialOrder(e):1/0:0},t.List.prototype.polynomialOrder=function(e){return 1/0}}),define("math/features/polynomialcoefficients",["require","parsenodes","math/maybe-rational"],function(e){var t=e("parsenodes"),r=e("math/maybe-rational").maybeRational,n=t.Constant(r(0,1)),i=t.Constant(r(1,1));t.FreeVariable.prototype.getPolynomialCoefficients=function(e){return e===this._symbol?[n,i]:[this]},t.Constant.prototype.getPolynomialCoefficients=function(e){return[this]},t.Add.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,s=[],o=0;o<=Math.max(i,a);o++)i>=o&&a>=o?s.push(t.Add([r[o],n[o]])):s.push(i>a?r[o]:n[o]);return s},t.Subtract.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,s=[],o=0;o<=Math.max(i,a);o++)i>=o&&a>=o?s.push(t.Subtract([r[o],n[o]])):s.push(i>a?r[o]:t.Negative([n[o]]));return s},t.Negative.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=[],i=0;i<r.length;i++)n.push(t.Negative([r[i]]));return n},t.Exponent.prototype.getPolynomialCoefficients=function(e){var r=this.args[0].getPolynomialCoefficients(e),i=this.args[1].getPolynomialCoefficients(e),a=r.length-1;if(i.length-1>0)throw"can\'t solve for variable in exponent";if(0===a)return[t.Exponent([r[0],i[0]])];if(this.args[1].isConstant){switch(this.args[1].asValue()){case 0:return[n];case 1:return r;case 2:return t.Multiply([this.args[0],this.args[0]]).getPolynomialCoefficients(e)}}throw"Unable to compile polynomial representation"},t.Multiply.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,s=[],o=0;o<=i;o++)for(var u=0;u<=a;u++){var c=t.Multiply([r[o],n[u]]),l=s[o+u];s[o+u]=void 0===l?c:t.Add([l,c])}return s},t.Divide.prototype.getPolynomialCoefficients=function(e){var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=n.length-1,a=[];if(i>0)throw"Can\'t solve for variable in denominator";for(var s=0;s<r.length;s++)a.push(t.Divide([r[s],n[0]]));return a},t.Expression.prototype.getPolynomialCoefficients=function(e){if(this.dependsOn(e))throw"Unimplemented polynomialCoefficient call";return[this]},t.Piecewise.prototype.getPolynomialCoefficients=function(e){return this.dependsOn(e)?this.args[1].getPolynomialCoefficients(e):[this]}}),define("math/features/extractconditions",["require","parsenodes"],function(e){var t=e("parsenodes");t.Expression.prototype.extractConditions=function(e,t){if(!this.dependsOn(e))return t;for(var r=0;r<this.args.length;r++){t=this.args[r].extractConditions(e,t)}return t},t.Piecewise.prototype.extractConditions=function(e,r){if(!this.dependsOn(e))return r;if(!this.args[0].dependsOn(e))return r=this.args[1].extractConditions(e,r),r=this.args[2].extractConditions(e,r);var n={};return n[e]=r,t.Piecewise([this.args[0].substitute(n),r,t.Constant(NaN)])}}),define("math/features/piecewiseDependsOn",["require","parsenodes"],function(e){var t=e("parsenodes");t.Expression.prototype.piecewiseDependsOn=function(e){if(!this.dependsOn(e))return!1;for(var t=0;t<this.args.length;t++){if(this.args[t].piecewiseDependsOn(e))return!0}return!1},t.Piecewise.prototype.piecewiseDependsOn=function(e){return this.dependsOn(e)}}),define("math/builtinconstants",["require","math/parsenode/constant","math/maybe-rational"],function(e){var t=e("math/parsenode/constant"),r=e("math/maybe-rational").maybeRational;return{pi:t(Math.PI),tau:t(2*Math.PI),e:t(Math.E),trigAngleMultiplier:t(r(1,1)),infty:t(1/0)}}),define("math/builtinframe",["require","math/builtinconstants","math/parsenode/builtinfunction"],function(e){var t,r=e("math/builtinconstants"),n=e("math/parsenode/builtinfunction"),i={};for(t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}),define("math/features/bounddomain",["require","parsenodes","math/builtinframe","math/domaintypes","math/comparators","math/maybe-rational"],function(e){var t=e("parsenodes"),r=e("math/builtinframe"),n=e("math/domaintypes"),i=e("math/comparators").table,a=e("math/maybe-rational").maybeRational,s=t.Constant(a(0,1));t.Base.prototype.boundDomain=function(e){return n.unknownDomain()},t.List.prototype.boundDomain=function(e){return n.unknownDomain()},t.Expression.prototype.boundDomain=function(e){for(var t=n.allReals(),r=0;r<this.args.length;r++)t=n.intersectDomains(t,this.args[r].boundDomain(e));return t},t.Constant.prototype.boundDomain=function(e){return this.isNaN()?n.emptyDomain():n.allReals()},t.Piecewise.prototype.boundDomain=function(e){return this.args[2].isConstant&&isNaN(this.args[2].asValue())?n.intersectDomains(this.args[0].boundDomain(e),this.args[1].boundDomain(e)):n.unknownDomain()},t.OrderedPair.prototype.boundDomain=function(e){return n.intersectDomains(this.args[0].boundDomain(e),this.args[1].boundDomain(e))},t.BaseComparator.prototype.boundDomain=function(e){if("="===this.operator)return n.unknownDomain();var t=this._difference,a=this._difference.boundDomain(e);if(t.polynomialOrder(e)>1)return n.unknownDomain();var o=t.getPolynomialCoefficients(e),u=o[1]?o[1].getConcreteTree(r):s,c=o[0]?o[0].getConcreteTree(r):s;if(!u.isConstant||!c.isConstant)return n.unknownDomain();if(isNaN(u.asValue())||isNaN(c.asValue()))return n.emptyDomain();if(0===u.asValue())return i[this.operator].inclusive?c.asValue()>=0?a:n.emptyDomain():c.asValue()>0?a:n.emptyDomain();var l=-c.asValue()/u.asValue(),p=u.asValue()<0?[-1/0,l]:[l,1/0];return n.intersectDomains(a,n.knownDomain(p))}}),define("math/features/derivative",["require","parsenodes","math/baseparser","math/builtinframe","math/parsenode/builtinfunction","math/maybe-rational"],function(e){var t=e("parsenodes"),r=e("math/baseparser"),n=e("math/builtinframe"),i=e("math/parsenode/builtinfunction"),a=e("math/maybe-rational").maybeRational,s=t.Constant(a(0,1)),o=t.Constant(a(1,1)),u=t.Constant(a(2,1)),c={FreeVariable:function(e){return e===this._symbol?o:s},Constant:function(e){return isFinite(this.asValue())?s:t.Constant(this.asValue())},Negative:function(e){return t.Negative([this.args[0].takeDerivative(e)])},Add:function(e){return t.Add([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},Subtract:function(e){return t.Subtract([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},Multiply:function(e){return t.Add([m(e,this.args[0],t.Multiply([this.args[0].takeDerivative(e),this.args[1]])),m(e,this.args[1],t.Multiply([this.args[0],this.args[1].takeDerivative(e)]))])},Divide:function(e){return t.Subtract([m(e,this.args[0],t.Divide([this.args[0].takeDerivative(e),this.args[1]])),m(e,this.args[1],t.Divide([t.Multiply([this.args[0],this.args[1].takeDerivative(e)]),t.Exponent([this.args[1],u])]))])},Exponent:function(e){return t.Add([m(e,this.args[0],t.Multiply([t.Multiply([this.args[1],t.Exponent([this.args[0],t.Subtract([this.args[1],o])])]),this.args[0].takeDerivative(e)])),m(e,this.args[1],t.Multiply([t.Piecewise([t.Comparator["="]([this.args[0],s]),t.Piecewise([t.Comparator[">"]([this.args[1],s]),s,t.Constant(NaN)]),t.Multiply([t.FunctionCall("\\\\ln",[this.args[0]]),t.Exponent([this.args[0],this.args[1]])])]),this.args[1].takeDerivative(e)]))]).getConcreteTree(n)},Sum:function(e){return this.copyWithArgs([this.args[0],this.args[1],this.args[2],this.args[3].takeDerivative(e)])},Product:function(e){var r=t.Sum([this.args[0],this.args[1],this.args[2],t.Piecewise([t.Comparator["="]([s,this.args[3]]),o,s])]),n=t.Multiply([t.Sum([this.args[0],this.args[1],this.args[2],t.Divide([this.args[3].takeDerivative(e),this.args[3]])]),t.Product(this.args)]),i=t.Product([this.args[0],this.args[1],this.args[2],t.Piecewise([t.Comparator["="]([s,this.args[3]]),this.args[3].takeDerivative(e),this.args[3]])]);return t.Piecewise([t.Comparator["="]([s,r]),n,t.Piecewise([t.Comparator["="]([o,r]),i,s])])},Piecewise:function(e){return 2===this.args.length?t.Piecewise([this.args[0],this.args[1].takeDerivative(e)]):3===this.args.length?t.Piecewise([this.args[0],this.args[1].takeDerivative(e),this.args[2].takeDerivative(e)]):void 0},List:function(e){return t.List(this.args.map(function(t){return t.takeDerivative(e)}))},ListAccess:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1]])},OrderedPair:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},OrderedPairAccess:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1]])},Integral:function(e){var r=this.args[0],n=this.args[1],i=this.args[2],a=this.args[3],s={};s[r._symbol]=i;var o={};return o[r._symbol]=n,t.Add([m(e,a,this.copyWithArgs([r,n,i,a.takeDerivative(e)])),t.Subtract([m(e,i,t.Multiply([a.substitute(s),i.takeDerivative(e)])),m(e,n,t.Multiply([a.substitute(o),n.takeDerivative(e)]))])])},SolvedEquation:function(e){return this._expression.takeDerivative(e)},OptimizedRegression:function(e){return this.model.takeDerivative(e)},Broadcast:function(e){for(var r=this._replacedSymbols.slice(),n=this.args.slice(1),i=this._expression.takeDerivative(e),a=0;a<this._replacedSymbols.length;a++){var s=this._replacedSymbols[a],o=this.args[a+1];if(o.dependsOn(e)){var u=this.tmpVar(),c=t.DummyIndex(u);r.push(u),n.push(o.takeDerivative(e)),i=t.Add([i,t.Multiply([this._expression.takeDerivative(s),c])])}}return t.Broadcast(r,[i].concat(n))}},l={exp:"\\\\exp(x)*x_1",ln:"\\\\{x >= 0: x_1/x \\\\}",log:"\\\\{ x >= 0: x_1/(x*\\\\ln(10)) \\\\}",sqrt:"x_1/(2*\\\\sqrt{x})",rtxsqpone:"x*x_1/\\\\rtxsqpone(x)",rtxsqmone:"x*x_1/\\\\rtxsqmone(x)",sin:"\\\\cos(x)*x_1",cos:"-\\\\sin(x)*x_1",tan:"\\\\sec(x)^2*x_1",arcsin:"x_1/\\\\sqrt{1 - x^2}",arccos:"-x_1/\\\\sqrt{1 - x^2}",sinh:"\\\\cosh(x)*x_1",cosh:"\\\\sinh(x)*x_1",tanh:"(\\\\sech(x))^2*x_1",arcsinh:"x_1/\\\\sqrt{x^2 + 1}",arccosh:"\\\\{ x > 0: x_1/\\\\rtxsqmone(x) \\\\}",arctanh:"\\\\{ \\\\abs(x) < 1: x_1/(1 - x^2) \\\\}",csc:"-\\\\cot(x)*\\\\csc(x)*x_1",sec:"\\\\tan(x)*\\\\sec(x)*x_1",cot:"-\\\\csc(x)^2*x_1",arccsc:"-x_1/(\\\\abs(x)*\\\\rtxsqmone(x))",arcsec:"x_1/(\\\\abs(x)*\\\\rtxsqmone(x))",arccot:"-x_1/(1+x^2)",csch:"-\\\\coth(x)*\\\\csch(x)*x_1",sech:"-\\\\tanh(x)*\\\\sech(x)*x_1",coth:"-(\\\\csch(x))^2*x_1",arccsch:"-x_1/(\\\\abs(x)*\\\\rtxsqpone(x))",arcsech:"\\\\{ x >= 0: -x_1/(x*\\\\sqrt{1 - x^2}) \\\\}",arccoth:"\\\\{ \\\\abs(x) > 1 : x_1/(1 - x^2) \\\\}",factorial:"(x)!*\\\\polyGamma(0, x + 1)*x_1",floor:"\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}",ceil:"\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}",abs:"\\\\{ \\\\abs(x) > 0: \\\\sign(x)*x_1 \\\\}",sign:"\\\\{ \\\\abs(x) > 0: 0*x_1 \\\\}",mean:"\\\\mean(x_1)",total:"\\\\total(x_1)",length:"0",var:"2*\\\\cov(x, x_1)",varp:"2*\\\\cov(x, x_1)*(\\\\length(x)-1)/\\\\length(x)",stdev:"\\\\cov(x, x_1)/\\\\stdev(x)",stdevp:"\\\\covp(x, x_1)/\\\\stdevp(x)",mad:"\\\\mean(\\\\sign(x-\\\\mean(x))*(x_1 - \\\\mean(x_1)))",min:"x_1[\\\\argmin(x)]",max:"x_1[\\\\argmax(x)]",median:"0.5*(x_1[\\\\lowerQuantileIndex(x, 0.5)] + x_1[\\\\upperQuantileIndex(x, 0.5)])",argmin:"0/0",argmax:"0/0",gcd:"0/0",lcm:"0/0",erf:"\\\\frac{2}{\\\\sqrt{\\\\pi }}e^{-x^2}",invNorm:"\\\\frac{1}{\\\\pdf(\\\\normaldist(0,1),\\\\invNorm(x))}"},p={logbase:["\\\\{x > 0: \\\\frac{x_1}{x*\\\\ln(y)}\\\\}","\\\\frac{-\\\\log_{y}(x)*y_1}{y*\\\\ln(y)}"],nthroot:["x^{1/y - 1}/y*x_1","-\\\\frac{x^{1/y}*\\\\ln(x)*y_1}{y^2}"],polyGamma:["0/0","\\\\polyGamma(1 + x, y)*y_1"],mod:["\\\\{ \\\\abs(\\\\mod(x, y)) > 0: x_1 \\\\}","\\\\{ \\\\mod(x/y, 1) > 0: -\\\\floor(x/y)*y_1 \\\\}"],round:["\\\\{ \\\\abs(\\\\mod(x, 1) - 0.5) > 0: 0*x_1 \\\\}","0/0"],cov:["\\\\cov(x_1, y)","\\\\cov(x, y_1)"],covp:["\\\\covp(x_1, y)","\\\\covp(x, y_1)"],corr:["(\\\\cov(x_1, y) - (\\\\cov(x, y)*\\\\cov(x, x_1)/\\\\var(x)))/(\\\\stdevp(x)\\\\stdevp(y))","(\\\\cov(x, y_1) - (\\\\cov(x, y)*\\\\cov(y, y_1)/\\\\var(y)))/(\\\\stdevp(x)\\\\stdevp(y))"],quantile:["\\\\{ \\\\floor(y*(\\\\length(x)-1)) = y*(\\\\length(x)-1) :   x_1[\\\\upperQuantileIndex(x, y)],  (\\\\ceil(y*(\\\\length(x)-1)) - y*(\\\\length(x)-1))*x_1[\\\\lowerQuantileIndex(x, y)] +   (y*(\\\\length(x)-1) - \\\\floor(y*(\\\\length(x)-1)))*x_1[\\\\upperQuantileIndex(x, y)]\\\\}","\\\\{ \\\\floor(y*(\\\\length(x)-1)) < y*(\\\\length(x)-1) :   (x[\\\\upperQuantileIndex(x, y)] - x[\\\\lowerQuantileIndex(x, y)])*y_1\\\\}"],quartile:["0.5*(x_1[\\\\lowerQuartileIndex(x, y)] + x_1[\\\\upperQuartileIndex(x, y)])","0/0"],tscore:["\\\\frac{\\\\sqrt{\\\\length(x)}(\\\\stdev(x)*\\\\mean(x_1)-(\\\\mean(x)-y)*\\\\frac{\\\\cov(x,x_1)}{\\\\stdev(x)})}{\\\\stdev(x)^2}","-y_1*\\\\sqrt{\\\\length(x)}/\\\\stdev(x)"],quartileIndex:["0/0","0/0"],upperQuartileIndex:["0/0","0/0"],lowerQuartileIndex:["0/0","0/0"],upperQuantileIndex:["0/0","0/0"],lowerQuantileIndex:["0/0","0/0"],nCr:["0/0","0/0"],nPr:["0/0","0/0"],arctan:["x_1*y/(y^2+x^2)","-y_1*x/(y^2+x^2)"],poissonpdf:["0/0","y_1\\\\frac{e^{-y}(\\\\floor(x)-y)y^{(\\\\floor(x)-1)}}{\\\\floor(x)!}"],invPoisson:["0/0","0/0"],tpdf:["x_1*\\\\pdf(\\\\tdist(y),x)*\\\\frac{-(y+1)*x}{y+x^2}","y_1*\\\\frac{1}{2}\\\\pdf(\\\\tdist(y),x)(  \\\\frac{x^2-1}{y + x^2} + \\\\ln(\\\\frac{y}{y + x^2}) +   \\\\polyGamma(0, \\\\frac{1+y}{2}) - \\\\polyGamma(0, y/2))"],invT:["x_1/\\\\pdf(\\\\tdist(y),\\\\invT(x, y))","0/0"]},f={tcdf:["-x_1*\\\\pdf(\\\\tdist(z),x)","y_1*\\\\pdf(\\\\tdist(z),y)","0/0"],poissoncdf:["0/0","0/0","z_1\\\\sum _{n=\\\\max(0,\\\\floor(\\\\min(x,y)))}^{\\\\floor(\\\\max(x,y))}\\\\frac{e^{-z}(n-z)z^{(n-1)}}{n!}"],normalpdf:["-x_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","y_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","z_1*(\\\\frac{(x-y-z)*(x-y+z)}{z^3}) \\\\pdf(\\\\normaldist(y,z),x)"],binompdf:["0/0","0/0","\\\\{0<=z<=1: z_1*\\\\pdf(\\\\binomialdist(y,z),x)*(\\\\frac{\\\\round(x)}{z}-\\\\frac{\\\\round(y)-\\\\round(x)}{1-z}), 0 \\\\}"],invBinom:["0/0","0/0","0/0"]},h={normalcdf:["-x_1\\\\pdf(\\\\normaldist(z,u), x)","y_1\\\\pdf(\\\\normaldist(z,u), y)","-z_1*(\\\\pdf(\\\\normaldist(z,u), y) - \\\\pdf(\\\\normaldist(z,u), x))","u_1*(  \\\\{\\\\abs(y)=1/0:0,\\\\frac{z-y}{u}\\\\pdf(\\\\normaldist(z,u),y)\\\\} -   \\\\{\\\\abs(x)=1/0:0,\\\\frac{z-x}{u}\\\\pdf(\\\\normaldist(z,u),x)\\\\})"],binomcdf:["0/0","0/0","0/0","\\\\{0<=u<=1: u_1*\\\\sum _{n=\\\\max(0,\\\\round(\\\\min(x,y)))}^{\\\\round(\\\\max(x,y))}(  \\\\pdf(\\\\binomialdist(z,u),n)*(\\\\frac{n}{u}-\\\\frac{\\\\round(z)-n}{1-u})), 0 \\\\}"]};for(var d in l)i[d].prototype.takeDerivative=function(e){return function(t){var r=this.args,i={x:r[0],x_1:r[0].takeDerivative(t)};return m(t,r[0],e.substitute(i)).getConcreteTree(n)}}(r.parse(l[d]));for(d in p)i[d].prototype.takeDerivative=function(e,r){return function(i){var a=this.args,s={x:a[0],x_1:a[0].takeDerivative(i),y:a[1],y_1:a[1].takeDerivative(i)};return t.Add([m(i,a[0],e.substitute(s)),m(i,a[1],r.substitute(s))]).getConcreteTree(n)}}(r.parse(p[d][0]),r.parse(p[d][1]));for(d in f)i[d].prototype.takeDerivative=function(e,r,i){return function(a){var s=this.args,o={x:s[0],x_1:s[0].takeDerivative(a),y:s[1],y_1:s[1].takeDerivative(a),z:s[2],z_1:s[2].takeDerivative(a)};return t.Add([t.Add([m(a,s[0],e.substitute(o)),m(a,s[1],r.substitute(o))]),m(a,s[2],i.substitute(o))]).getConcreteTree(n)}}(r.parse(f[d][0]),r.parse(f[d][1]),r.parse(f[d][2]));for(d in h)i[d].prototype.takeDerivative=function(e,r,i,a){return function(s){var o=this.args,u={x:o[0],x_1:o[0].takeDerivative(s),y:o[1],y_1:o[1].takeDerivative(s),z:o[2],z_1:o[2].takeDerivative(s),u:o[3],u_1:o[3].takeDerivative(s)};return t.Add([t.Add([m(s,o[0],e.substitute(u)),m(s,o[1],r.substitute(u))]),t.Add([m(s,o[2],i.substitute(u)),m(s,o[3],a.substitute(u))])]).getConcreteTree(n)}}(r.parse(h[d][0]),r.parse(h[d][1]),r.parse(h[d][2]),r.parse(h[d][3]));i.distance.prototype.takeDerivative=function(e){var r=this.args[0],a=this.args[1],s=t.OrderedPairAccess([r,o]),c=t.OrderedPairAccess([r,u]),l=t.OrderedPairAccess([a,o]),p=t.OrderedPairAccess([a,u]),f=m(e,s,s.takeDerivative(e)),h=m(e,c,c.takeDerivative(e)),d=m(e,l,l.takeDerivative(e)),g=m(e,p,p.takeDerivative(e));return m(e,this,t.Divide([t.Add([t.Add([t.Subtract([t.Multiply([f,s]),t.Multiply([f,l])]),t.Subtract([t.Multiply([d,l]),t.Multiply([d,s])])]),t.Add([t.Subtract([t.Multiply([h,c]),t.Multiply([h,p])]),t.Subtract([t.Multiply([g,p]),t.Multiply([g,c])])])]),i.distance([this.args[0],this.args[1]])])).getConcreteTree(n)},i.midpoint.prototype.takeDerivative=function(e){var r=this.args[0],a=this.args[1],s=t.OrderedPairAccess([r,o]),c=t.OrderedPairAccess([r,u]),l=t.OrderedPairAccess([a,o]),p=t.OrderedPairAccess([a,u]),f=m(e,s,s.takeDerivative(e)),h=m(e,c,c.takeDerivative(e)),d=m(e,l,l.takeDerivative(e)),g=m(e,p,p.takeDerivative(e));return t.OrderedPair([i.mean([f,d]),i.mean([h,g])]).getConcreteTree(n)};var m=function(e,t,r){return t.dependsOn(e)?r:s};for(var g in c){var y=c[g];t[g].prototype.takeDerivative=y}}),define("math/features/substitute",["require","parsenodes"],function(e){var t=e("parsenodes"),r={Identifier:function(e){return e[this._symbol]?e[this._symbol]:this},FreeVariable:function(e){return e[this._symbol]?e[this._symbol]:this},Constant:function(e){return this},Expression:function(e){return this.copyWithArgs(this.args.map(function(t){return t.substitute(e)}))},List:function(e){return t.List(this.args.map(function(t){return t.substitute(e)}))},SolvedEquation:function(e){return new this.constructor(this._symbol,this._expression.substitute(e))},OptimizedRegression:function(e){return new this.constructor(this.model.substitute(e),this.parameters,this.residualVariables,this.residuals,this.statistics)}};for(var n in r)t[n].prototype.substitute=r[n]}),define("math/features/solve",["require","math/baseparser","parsenodes","math/errormsg","math/builtinframe","worker/workerconfig","math/maybe-rational"],function(e){function t(e){var t=Object.create(m);return t.a=e[2]?e[2].tryGetConcreteTree(m):v,t.b=e[1]?e[1].tryGetConcreteTree(m):v,t.c=e[0]?e[0].tryGetConcreteTree(m):v,t}function r(e){return 0===e.a.asValue()?0===e.b.asValue()?0:1:2}function n(e,n,i,a){for(var s,o,u=[],c=[],l=0;l<i.length;l++){var p=i[l],f=0;h.eachArgs([n],function(e){var t=e[0];f=Math.max(f,t.polynomialOrder(p))});var d=f>2,m=i.length>1&&!e.validSolvedVariable(p),g=a&&n.piecewiseDependsOn(p);d||m||g?(c[l]={},u[l]=1/0):(c[l]=[],u[l]=0,h.eachArgs([n],function(e){var n=e[0];o=t(n.getPolynomialCoefficients(p)),c[l].push(o),u[l]=Math.max(u[l],r(o))}))}var y;if(1===i.length)o=c[0],s=i[0],y=u[0];else{var v;v=0===u[0]?1:0===u[1]?0:u[0]<u[1]?0:1,o=c[v],s=i[v],y=u[v]}return{localFrame:o,variableOfInterest:s,effectiveOrder:y}}function i(e,t){return t?T.inequality:T.generalEquation}function a(e){e.f=b.getConcreteTree(e),e.g=x.getConcreteTree(e),e.p=_.getConcreteTree(e),e.q=M.getConcreteTree(e),e.m=c(y(1e305,1))}var s=e("math/baseparser"),o=e("parsenodes"),u=o.Base,c=o.Constant,l=o.Equation,p=o.SolvedEquation,f=o.BaseComparator,h=o.List,d=e("math/errormsg"),m=e("math/builtinframe"),g=e("worker/workerconfig"),y=e("math/maybe-rational").maybeRational,v=c(y(0,1)),b=s.parse("b*b"),x=s.parse("4*a*c"),_=s.parse("(-b+\\\\sqrt{b*b-4*a*c})/(2*a)"),M=s.parse("(-b-\\\\sqrt{b*b-4*a*c})/(2*a)"),S=s.parse("[\\\\{\\\\abs(b)>0:-c/b\\\\}]"),E=s.parse("[\\\\{\\\\abs(a)>0:-b/(2*a)\\\\}]"),w=s.parse("[\\\\{a=0:\\\\{b<0:-c/b\\\\},q\\\\},\\\\{a=0:\\\\{b>0:-c/b\\\\},p\\\\}]"),D=s.parse("[\\\\{a=0:\\\\{b<0:-c/b\\\\},a>0:q\\\\},\\\\{a=0:\\\\{b=0:\\\\{c>0:-m\\\\}\\\\},a>0:\\\\{f<g:-m\\\\},p\\\\},\\\\{a=0:\\\\{b=0:\\\\{c>0:m\\\\}\\\\},a>0:\\\\{f<g:m\\\\},q\\\\},\\\\{a=0:\\\\{b>0:-c/b\\\\},a>0:p\\\\}]"),T={inequality:function(e){return a(e),D.getConcreteTree(e)},generalEquation:function(e){return a(e),e.a.isConstant&&0===e.a.asValue()?S.getConcreteTree(e):e.f.isConstant&&e.g.isConstant&&e.f.asValue()-e.g.asValue()==0?E.getConcreteTree(e):w.getConcreteTree(e)}};u.prototype.trySolve=function(e,t){try{return this.solve(e,t)}catch(e){if(e instanceof o.Error)return e;throw e}},l.prototype.solve=function(e,t){return this.asComparator().solve(e,t)},f.prototype.solve=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return r;if(r.isConstant)return r;var a="="!==this.getOperator(),s=this._difference.tryGetConcreteTree(t);s.isBroadcast&&(s=h(s.mapElements(function(e){return e})));var o=s.getDependencies();if(0===o.length)return s.isList?h(s.args.map(function(e){return c(0===e.asValue())})):c(0===s.asValue());if(1===o.length&&s.isList&&!a)return s;if(1===o.length&&!a&&!g.plotSingleVariableImplicitEquations)return d.singleVariableImplicitEquationsDisabled();var u=h.wrap(s);if(o.length>2)return d.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(o);if(a&&!e.validInequalityVariables(o))return d.invalidInequalityVariables().setDependencies(o);var l=n(e,u,o,a),f=l.localFrame,m=l.effectiveOrder,y=l.variableOfInterest;if(e.complicatedPolarImplicit(y,m))return d.complicatedPolarImplicit().setDependencies(o);if(!e.validImplicitVariables(o))return d.invalidImplicitVariables();if(m>2)return s;for(var v=i(o,a),b=[],x=0;x<f.length;x++){var _=v(f[x]);if(_.isError)return _;if(_.isConstant)b.push(_);else for(var M=0;M<_.args.length;M++){var S=_.args[M],E=u.args[x].extractConditions(y,S).getConcreteTree(t);b.push(E)}}return p(y,h(b))}}),define("math/distribution-spec",["require","exports","math/baseparser","tslib"],function(e,t,r,n){"use strict";function i(e){return a(r.parse(e,{trailingComma:!0}))}function a(e){var r=e,i=s[r.type];if(!i)switch("Assignment"===r.type&&(r=r._expression),r.type){case"FunctionCall":i=t.DistributionParameterDefaultsMap[r._symbol];break;default:return}if(i){for(var a={},o=i.params,u=r.args,c=0;c<o.length;c++){var l=u[c];a[o[c]]=l&&l.getInputString()||""}return n.__assign({},i,{span:r.getInputSpan(),values:a})}}Object.defineProperty(t,"__esModule",{value:!0}),t.DistributionParameterDefaultsMap={normaldist:{type:"distribution",symbol:"normaldist",params:["mean","stdev"],defaults:["0","1"],discrete:!1},tdist:{type:"distribution",symbol:"tdist",params:["dof"],defaults:[void 0],discrete:!1},binomialdist:{type:"distribution",symbol:"binomialdist",params:["trials","probsuccess"],defaults:[void 0,"0.5"],discrete:!0},poissondist:{type:"distribution",symbol:"poissondist",params:["mean"],defaults:[void 0],discrete:!0}};var s={Histogram:{type:"visualization",symbol:"histogram",params:["data","binwidth"],defaults:[void 0,"1"]},DotPlot:{type:"visualization",symbol:"dotplot",params:["data","binwidth"],defaults:[void 0,"1"]},BoxPlot:{type:"visualization",symbol:"boxplot",params:["data"],defaults:[void 0]}};t.parseToplevelFunction=i,t.getFunctionSpecFromTree=a}),define("math/evaluationstate",["require","graphing/graphmode","parsenodes","graphing/label","math/types","math/distribution-spec"],function(e){function t(e){return e.isError?e.getError():void 0===e.asValue()?"":+e.asValue()}function r(e,r,n){for(var i=[],a=0;a<r.columns.length;a++){var s=n.columns[a],o={dependent:!s.isIndependent,discrete:s.isIndependent};s.isError?(o.error=s.getError(),o.values=[]):o.values=s.values.map(t),i.push(o)}return{column_data:i}}function n(e,t,r){var n={variables:[],errorMap:{},dimensions:{}};return r.center.isError&&(n.errorMap.center=!0),r.radianAngle.isError&&(n.errorMap.angle=!0),r.width.isError&&(n.errorMap.width=!0),r.height.isError&&(n.errorMap.height=!0),r.opacity.isError&&(n.errorMap.opacity=!0),r.center.isError||r.radianAngle.isError||r.width.isError||r.height.isError||r.opacity.isError?(n.variables=t.getSliderVariables(e,r),n):(n.dimensions.x=[],n.dimensions.y=[],n.dimensions.radianAngle=[],n.dimensions.width=[],n.dimensions.height=[],n.dimensions.opacity=[],a.List.eachArgs([r.center,r.radianAngle,r.width,r.height,r.opacity],function(e){n.dimensions.x.push(+e[0].args[0].asValue()),n.dimensions.y.push(+e[0].args[1].asValue()),n.dimensions.radianAngle.push(+e[1].asValue()),n.dimensions.width.push(+e[2].asValue()),n.dimensions.height.push(+e[3].asValue()),n.dimensions.opacity.push(Math.max(0,Math.min(1,e[4].asValue())))}),(e.graphingEnabled()?t.getGraphMode(e,r):i.NONE)!==i.NONE&&(n.is_graphable=!0),r.moveStrategy&&(n.move_strategy=r.moveStrategy),n)}var i=e("graphing/graphmode"),a=e("parsenodes"),s=e("graphing/label"),o=e("math/types"),u=e("math/distribution-spec").getFunctionSpecFromTree,c=function(){return{operator:"=",variables:[]}},l=function(e,t,l){if(t.isTable)return r(e,t,l);if(t.isImage)return n(e,t,l);var p=c();if(l.isError&&(!(t instanceof a.FunctionDefinition)||l.blocksExport))return p.error=l.getError(),p.variables=t.getSliderVariables(e,l),p.is_single_identifier=t instanceof a.Identifier,p;l.moveStrategy&&(p.move_strategy=l.moveStrategy,p.default_drag_mode=l.defaultDragMode),t.isInequality()&&(p.is_inequality=!0),p.operator=t.getOperator(),l instanceof a.SolvedEquation?!0!==l._expression.asValue()&&!1!==l._expression.asValue()&&(p.assignment=l._symbol):t instanceof a.Assignment&&(p.assignment=t._symbol);var f=e.graphingEnabled()?t.getGraphMode(e,l):i.NONE;if(f!==i.NONE){p.is_graphable=!0,p.expression_type=t.getExpressionType(f,l.valueType),l.isShadeBetween()&&(p.is_shade_between=!0);var h=t.tableInfo(e,l);h&&(p.is_tableable=!0,p.table_info=h)}o.isList(l.valueType)&&(p.is_concrete_list=!0),p.variables=p.is_graphable?[]:t.getSliderVariables(e,l),p.is_single_identifier=t instanceof a.Identifier,l.isConstant&&(p.constant_value=l.asValue());var d=l.getEvaluationInfo();if(!d||"="!==p.operator||t.isConstant||t.isFunction||(p.is_evaluable=!0,p.zero_values=d),l instanceof a.OptimizedRegression){var m={};for(var g in l.parameters)l.parameters.hasOwnProperty(g)&&(m[s.identifierToLatex(g)]=+l.parameters[g].asValue());p.is_regression=!0,p.regression={parameters:m,residualVariable:s.identifierToLatex(l.residualVariable),residualSuggestionId:l.residualSuggestionId,shouldSuggestLogMode:l.shouldSuggestLogMode,statistics:l.statistics}}var y=u(t);return y&&y.discrete&&(p.is_discrete_distribution=!0),p};return l.default=c,l}),define("math/statementanalysis",["require","math/evaluationstate","pjs","graphing/graphmode","worker/workerconfig"],function(e){var t=e("math/evaluationstate"),r=e("pjs"),n=e("graphing/graphmode"),i=e("worker/workerconfig");return r(function(e){e.init=function(e,r,n){this.policy=e,this.rawTree=r,this.concreteTree=n,this.evaluationState=t(e,r,n)},e.exportTo=function(e,t){this.rawTree.exportTo(e,this.concreteTree,t)},e.graph=function(e){return this.rawTree.graph(this.policy,this.concreteTree,e)},e.getGraphMode=function(){return this.rawTree.getGraphMode(this.policy,this.concreteTree)},e.getGraphInfo=function(){return this.rawTree.getGraphInfo(this.policy,this.concreteTree)},e.shouldIntersect=function(){if(!this.evaluationState.is_graphable)return!1;if(!this.rawTree.userData.shouldGraph)return!1;if(!i.pointsOfInterest)return!1;var e=this.getGraphMode();return e===n.X||e===n.Y}})}),define("math/expression-types",["require","exports"],function(e,t){"use strict";function r(e,r){if(void 0===e)return{points:!1,lines:!1,fill:!1};var n=t.EXPRESSION_PROP_DEFAULTS[e];switch(e){case t.SINGLE_POINT:return{points:!0,lines:!1,fill:!1};case t.POINT_LIST:case t.DOTPLOT:return{points:void 0===r.points?n.points:r.points,lines:void 0===r.lines?n.lines:r.lines,fill:!1};case t.PARAMETRIC:case t.POLYGON:case t.X_OR_Y:case t.POLAR:case t.IMPLICIT:case t.HISTOGRAM:case t.BOXPLOT:case t.TTEST:case t.STATS:return{points:!1,lines:void 0===r.lines?n.lines:r.lines,fill:void 0===r.fill?n.fill:r.fill};default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.X_OR_Y="X_OR_Y",t.SINGLE_POINT="SINGLE_POINT",\nt.POINT_LIST="POINT_LIST",t.PARAMETRIC="PARAMETRIC",t.POLAR="POLAR",t.IMPLICIT="IMPLICIT",t.POLYGON="POLYGON",t.HISTOGRAM="HISTOGRAM",t.DOTPLOT="DOTPLOT",t.BOXPLOT="BOXPLOT",t.TTEST="TTEST",t.STATS="STATS",t.EXPRESSION_PROP_DEFAULTS={X_OR_Y:{points:!1,lines:!0,fill:!1},SINGLE_POINT:{points:!0,lines:!1,fill:!1},POINT_LIST:{points:!0,lines:!1,fill:!1},PARAMETRIC:{points:!1,lines:!0,fill:!1},POLAR:{points:!1,lines:!0,fill:!1},IMPLICIT:{points:!1,lines:!0,fill:!1},POLYGON:{points:!1,lines:!0,fill:!0},HISTOGRAM:{points:!1,lines:!0,fill:!0},DOTPLOT:{points:!0,lines:!1,fill:!1},BOXPLOT:{points:!1,lines:!0,fill:!1},TTEST:{points:!1,lines:!1,fill:!1},STATS:{points:!1,lines:!1,fill:!1}},t.getReconciledExpressionProps=r}),define("math/features/analyze",["require","underscore","parsenodes","math/statementanalysis","math/builtin","math/builtinframe","math/parsenode/builtinfunction","math/errormsg","math/comparators","math/types","graphing/graphmode","math/expression-types","math/distribution-spec"],function(e){function t(e,t,r,n){if(n.isError)return u(e,r,n);var i=n.getDependencies();switch(n.valueType){case d.Distribution:case d.ListOfDistribution:return u(e,r,n);case d.Point:case d.ListOfPoint:return i.length?e.validParametricVariables(i)?u(e,r,n):u(e,r,f.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(i)):u(e,r,n);case d.Number:case d.ListOfNumber:switch(i.length){case 0:return u(e,r,n);case 1:return e.validExpressionVariable(i[0])?u(e,r,n):u(e,r,f.equationRequired(e.implicitDependency(i[0])).setDependencies(i));default:return e.validImplicitVariables(i)?u(e,r,f.equationRequired().setDependencies(i)):u(e,r,f.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(i))}}}function r(e){return p.pdf([e,o.Identifier("x")])}function n(e,t){var r=this.tryGetConcreteTree(t),n=r.getDependencies();return n.length?u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):u(e,this,this.tryGetConcreteTree(t))}function i(e){return function(t,r){var n=this.tryGetConcreteTree(r),i=n.getDependencies();if(i.length)return u(t,this,f.tooManyVariables(this.getSliderVariables(t,n)).setDependencies(i));var a=u(t,this,this.tryGetConcreteTree(r));if(!n.isError){a.evaluationState.expression_type=g.TTEST;var s=n.args.map(function(e){return e.asValue()});a.evaluationState.ttest_results=e.apply(null,s)}return a}}function a(e,t){return e.filter(function(e){return!t[e]})}var s=e("underscore"),o=e("parsenodes"),u=e("math/statementanalysis"),c=e("math/builtin"),l=e("math/builtinframe"),p=e("math/parsenode/builtinfunction"),f=e("math/errormsg"),h=e("math/comparators"),d=e("math/types"),m=e("graphing/graphmode"),g=e("math/expression-types"),y=e("math/distribution-spec").DistributionParameterDefaultsMap;o.Base.prototype.analyze=function(e,t){return u(e,this,this.tryGetConcreteTree(t))},o.FunctionCall.prototype.analyze=function(e,n){var i=this.tryGetConcreteTree(n);return!i.isError&&y[this._symbol]&&0===i.getDependencies().length&&(i=r(i).tryGetConcreteTree(n)),t(e,n,this,i)},o.Expression.prototype.analyze=function(e,r){return t(e,r,this,this.tryGetConcreteTree(r))},o.FunctionDefinition.prototype.analyze=function(e,t){if(l[this._symbol])return this.asEquation().analyze(e,t);var r=this._symbol.split("_")[0];if(p[r])return u(e,this,f.cannotRedefine(this._symbol,r));var n=this.tryGetConcreteTree(t);if(n.isError)return u(e,this,n);var i=this._argSymbols,a=n.getDependencies();if(-1!==a.indexOf(this._symbol))return u(e,this,f.selfReferentialFunction(this._symbol));var s=a.filter(function(e){return-1===i.indexOf(e)});return e.unplottablePolarFunction(this._symbol,a)?u(e,this,f.unplottablePolarFunction()):s.some(e.assignmentForbidden)?u(e,this,f.addArgumentsToDefinition(s,this._symbol,i).setDependencies(a)):s.length?u(e,this,f.tooManyVariables(this.getSliderVariables(e,n)).setDependencies(a)):u(e,this,n)},o.Assignment.prototype.analyze=function(e,t,n){var i=this._symbol;if(!e.validLHS(i))return u(e,this,f.invalidLHS(i));if(l[i])return this.asEquation().analyze(e,t);var a=this.tryGetConcreteTree(t);if(!a.isError&&this._expression instanceof o.FunctionCall&&y[this._expression._symbol]&&0===a.getDependencies().length&&(a=r(a).tryGetConcreteTree(t)),a.isError)return u(e,this,a);var s=a.getDependencies();if(this.isEquation(a))return this.asEquation().analyze(e,t);if(s.length>1){var c=this.getSliderVariables(e,a);return c.length?u(e,this,f.tooManyVariables(c).allowExport().setDependencies(s)):u(e,this,a)}var p=this.getMoveStrategy(t,a,n);if(p){var h=this.getDefaultDragMode(p);return u(e,this,o.MovablePoint(a.args,p,h))}return u(e,this,a)},o.Regression.prototype.analyze=function(e,t,r,n,i){return u(e,this,this.tryOptimize(e,t,r,n,i))},o.Polygon.prototype.analyze=n,o.Histogram.prototype.analyze=n,o.DotPlot.prototype.analyze=n,o.BoxPlot.prototype.analyze=n,o.TTest.prototype.analyze=i(c.ttest),o.IndependentTTest.prototype.analyze=i(c.ittest),o.Stats.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(t),n=r.getDependencies();if(n.length)return u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n));var i=u(e,this,this.tryGetConcreteTree(t));if(!r.isError){i.evaluationState.expression_type=g.STATS;var a=r.args.map(function(e){return e.asValue()});i.evaluationState.stats_results=c.stats.apply(null,a)}return i},o.Equation.prototype.analyze=o.BaseComparator.prototype.analyze=function(e,t){var r=this.trySolve(e,t);if(r.isError)return u(e,this,r);if(r instanceof o.SolvedEquation&&r.getDependencies().length){var n=r.getDependencies().concat(r._symbol);if(!e.validImplicitVariables(n))return u(e,this,f.invalidImplicitVariables().setDependencies(n))}return this.getGraphMode(e,r)!==m.IMPLICIT||e.validImplicitVariables(r.getDependencies())?u(e,this,r):u(e,this,f.invalidImplicitVariables().setDependencies(r.getDependencies()))},o.DoubleInequality.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return u(e,this,r);var n=r.getDependencies();return h.table[this._operators[0]].direction!==h.table[this._operators[1]].direction?u(e,this,f.mismatchedDoubleInequality()):e.validDoubleInequalitySymbol(r._symbol)&&e.validDoubleInequalityVariables(n)?n.length>2?u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):-1!==r._expressions[0].getDependencies().indexOf(r._symbol)||-1!==r._expressions[1].getDependencies().indexOf(r._symbol)?u(e,this,f.complicatedDoubleInequality().setDependencies(n)):u(e,this,r):u(e,this,f.invalidDoubleInequalityVariables().setDependencies(n))},o.And.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return u(e,this,r);var n=r.getDependencies();return n.length?e.validDoubleInequalityVariables(n)?u(e,this,f.complicatedDoubleInequality().setDependencies(n)):u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):u(e,this,r)},o.OrderedPair.prototype.analyze=function(e,r,n){var i=this.tryGetConcreteTree(r);if(i.isError)return u(e,this,i);var a=this.getMoveStrategy(r,i,n);if(a){var s=this.getDefaultDragMode(a);return u(e,this,o.MovablePoint(i.args,a,s))}return t(e,r,this,i)},o.Table.prototype.analyze=function(e,t){for(var r=Object.create(t),n=[],i=0;i<this.columns.length;i++){var s=this.columns[i].analyze(e,r,t);if(0===i&&(s.concreteTree.isIndependent?e.validFirstColumnVariable(s.concreteTree.header._symbol)?s.concreteTree.header._symbol:s=u(e,this.columns[i],f.invalidFirstTableColumn()):s=u(e,this.columns[i],f.invalidDependentFirstTableColumn())),s.concreteTree.isIndependent)s.rawTree.exportToLocal(s.concreteTree,r);else if(!s.concreteTree.isError){var c=s.concreteTree.header.getDependencies(),l=a(c,r);l.length&&(s=u(e,this.columns[i],f.tooManyVariables(l).setDependencies(l)))}n.push(s.concreteTree)}var p=o.Table(n),h=u(e,this,p);return h.evaluationState.is_graphable=!0,h},o.TableColumn.prototype.analyze=function(e,t,r){var n=this.header.tableError();if(n)return u(e,this,f.invalidTableHeader(n));var i=this.tryGetConcreteTree(t,r);if(i.isError)return u(e,this,i);if(i.header.isError)return u(e,this,i.header);if(i.values.isError)return u(e,this,i.values);for(var a=0;a<i.values.length;a++)if(!i.values[a].isError){var s=this.values[a]&&this.values[a].tableError();if(s)i.values[a]=f.invalidTableEntry(s);else{var o=i.values[a].getDependencies();o.length&&(i.values[a]=f.tooManyVariables(o).setDependencies(o))}}return u(e,this,i)},o.Image.prototype.analyze=function(e,t,r){var n=this.tryGetConcreteTree(t);if(n.radianAngle.isError||n.center.isError||n.width.isError||n.height.isError||n.opacity.isError)return u(e,this,n);var i=n.center.getDependencies(),a=n.radianAngle.getDependencies(),s=n.width.getDependencies(),c=n.height.getDependencies(),l=n.opacity.getDependencies();return"OrderedPair"!==this.center.type?u(e,this,o.Image({center:f.parseError(),radianAngle:n.radianAngle,width:n.width,height:n.height,opacity:n.opacity})):i.length||a.length||s.length||c.length||l.length?u(e,this,o.Image({center:i.length?f.tooManyVariables(a).setDependencies(i):n.center,radianAngle:a.length?f.tooManyVariables(a).setDependencies(a):n.radianAngle,width:s.length?f.tooManyVariables(s).setDependencies(s):n.width,height:c.length?f.tooManyVariables(c).setDependencies(c):n.height,opacity:l.length?f.tooManyVariables(l).setDependencies(l):n.opacity})):(n.moveStrategy=this.getMoveStrategy(t,n,r),u(e,this,n))},o.Slider.prototype.analyze=function(e,t){var r,n=this.tryGetConcreteTree(t),i=n.sliderInfo;if(i.missingVars.length){var a=s.unique(i.missingVars);r=u(e,this,f.tooManyVariables(e.sliderVariables(a)).setDependencies(a).allowExport())}else r=u(e,this,n);var o=r.evaluationState;o.assignment=i.exportedSymbol,o.slider_min_number=i.values.min,o.slider_max_number=i.values.max,o.slider_step_number=i.values.step,o.slider_min_valid=i.valids.min,o.slider_max_valid=i.valids.max,o.slider_step_valid=i.valids.step;var c=o.slider_min_valid&&o.slider_max_valid&&o.slider_step_valid;return o.is_slider=!0,o.raw_slider_latex=this.getInputString(),o.is_slidable=c,o.is_animatable=o.is_slidable&&!o.is_graphable,delete o.is_evaluable,delete o.zero_values,i.errMsg&&(o.error=i.errMsg.getError()),r}}),define("math/features/analyzeFourFunction",["require","parsenodes","math/statementanalysis","math/errormsg","math/parsenode/builtinfunction","math/builtinconstants"],function(e){function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("math/statementanalysis"),i=e("math/errormsg"),a=e("math/parsenode/builtinfunction"),s=e("math/builtinconstants");r.Base.prototype.analyzeFourFunction=function(e,t){var r=this.tryGetConcreteTree(t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeFourFunction=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return n(e,this,r);var o=r.getDependencies();if(o.length>0){var u,c=o[0];return u=a.hasOwnProperty(c)?i.functionUnsupported(c):s.hasOwnProperty(c)?i.constantUnsupported(c):i.variablesUnsupported(c),n(e,this,u)}return n(e,this,r)},r.Assignment.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.assignmentsUnsupported())},r.FunctionDefinition.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.functionDefinitionsUnsupported())},r.Equation.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeFourFunction=t,r.DoubleInequality.prototype.analyzeFourFunction=t,r.BaseComparator.prototype.analyzeFourFunction=t,r.Regression.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("math/features/analyzeScientific",["require","parsenodes","math/statementanalysis","math/errormsg","math/builtinframe"],function(e){function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("math/statementanalysis"),i=e("math/errormsg"),a=e("math/builtinframe");r.Base.prototype.analyzeScientific=function(e,t){var r=this.tryGetConcreteTree(t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeScientific=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return n(e,this,r);var a=r.getDependencies();return a.length>0?n(e,this,i.tooManyVariables(a)):n(e,this,r)},r.Assignment.prototype.analyzeScientific=function(e,t){var r=this._symbol;if(a[r])return n(e,this,i.cannotRedefine(r));var s=this.tryGetConcreteTree(t);if(s.isError)return n(e,this,s);var o=s.getDependencies();return this.isEquation(s)?n(e,this,i.equationsUnsupported()):o.length>0?n(e,this,i.tooManyVariables(o)):n(e,this,s)},r.FunctionDefinition.prototype.analyzeScientific=function(e,t){if(a[this._symbol])return n(e,this,i.cannotRedefine(this._symbol));var r=this.tryGetConcreteTree(t);if(r.isError)return n(e,this,r);var s=this._argSymbols,o=r.getDependencies();if(-1!==o.indexOf(this._symbol))return n(e,this,i.selfReferentialFunction(this._symbol));var u=o.filter(function(e){return-1===s.indexOf(e)});return u.length?n(e,this,i.addArgumentsToDefinition(u,this._symbol,s)):n(e,this,r)},r.Equation.prototype.analyzeScientific=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeScientific=t,r.DoubleInequality.prototype.analyzeScientific=t,r.BaseComparator.prototype.analyzeScientific=t,r.Regression.prototype.analyzeScientific=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeScientific=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("math/features/analyzeSingleExpressionScientific",["require","parsenodes","math/statementanalysis","math/errormsg","math/parsenode/builtinfunction","math/builtinconstants"],function(e){function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("math/statementanalysis"),i=e("math/errormsg"),a=e("math/parsenode/builtinfunction"),s=e("math/builtinconstants");r.Base.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return n(e,this,r);var o=r.getDependencies();if(o.length>0){var u,c=o[0];return u=a.hasOwnProperty(c)?i.functionUnsupported(c):s.hasOwnProperty(c)?i.constantUnsupported(c):i.variablesUnsupported(c),n(e,this,u)}return n(e,this,r)},r.Assignment.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.assignmentsUnsupported())},r.FunctionDefinition.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.functionDefinitionsUnsupported())},r.Equation.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeSingleExpressionScientific=t,r.DoubleInequality.prototype.analyzeSingleExpressionScientific=t,r.BaseComparator.prototype.analyzeSingleExpressionScientific=t,r.Regression.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("graphing/dragmode",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.NONE="NONE",e.X="X",e.Y="Y",e.XY="XY",e.AUTO="AUTO"}(t.DragMode||(t.DragMode={}))}),define("graphing/reconcileDragMode",["require","exports","graphing/dragmode"],function(e,t,r){"use strict";function n(e){return e?"none"===e[0].type&&"none"===e[1].type?r.DragMode.NONE:"none"===e[1].type?r.DragMode.X:"none"===e[0].type?r.DragMode.Y:r.DragMode.XY:r.DragMode.NONE}function i(e,t){var i=n(t);switch(e){case r.DragMode.NONE:return r.DragMode.NONE;case r.DragMode.AUTO:case r.DragMode.XY:return i;case r.DragMode.X:return i===r.DragMode.X||i===r.DragMode.XY?r.DragMode.X:r.DragMode.NONE;case r.DragMode.Y:return i===r.DragMode.Y||i===r.DragMode.XY?r.DragMode.Y:r.DragMode.NONE;default:return r.DragMode.NONE}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}),define("math/features/getgraphmode",["require","parsenodes","graphing/graphmode","graphing/reconcileDragMode","graphing/dragmode","math/types"],function(e){function t(e,t){var r;return r=e&&e.hasOwnProperty("dragMode")?e.dragMode===u.AUTO?t.defaultDragMode:e.dragMode:t.defaultDragMode,o(r,t.moveStrategy)}function r(e,r){var n=r.getDependencies();switch(r.valueType){case c.Point:case c.ListOfPoint:return r.isMovablePoint&&t(this.userData,r)!==u.NONE?s.XYPOINT_MOVABLE:0===n.length?s.XYPOINT:e.validParametricVariables(n)?s.PARAMETRIC:s.NONE;case c.Number:case c.ListOfNumber:return 1===n.length?s.Y:s.NONE;default:return s.NONE}}function n(e,t){var r=t._expression.getDependencies();if(r.length>1)return s.NONE;if(t._expression.valueType!==c.Number&&t._expression.valueType!==c.ListOfNumber)return s.NONE;var n=t._symbol,i=r[0];return e.graphMode(n,i)}function i(e,t){return t.isError?s.NONE:s.VISUALIZATION}var a=e("parsenodes"),s=e("graphing/graphmode"),o=e("graphing/reconcileDragMode").default,u=e("graphing/dragmode").DragMode,c=e("math/types");a.Base.prototype.getGraphMode=function(e,t){return s.NONE},a.Expression.prototype.getGraphMode=r,a.Equation.prototype.getGraphMode=a.BaseComparator.prototype.getGraphMode=function(e,t){var r=t.getDependencies();return t.isConstant?s.NONE:t instanceof a.SolvedEquation?0===r.length?e.graphableAsConstant(t._symbol)?e.constantGraphMode(t._symbol):s.NONE:n(e,t):r.length<=2?s.IMPLICIT:s.NONE},a.DoubleInequality.prototype.getGraphMode=function(e,t){return e.constantGraphMode(t._symbol)},a.Assignment.prototype.getGraphMode=function(e,t){if(t instanceof a.SolvedEquation)return n(e,t);if(this.isEquation(t))return this.asEquation().getGraphMode(e,t);var i=t.getDependencies();switch(t.valueType){case c.Number:case c.ListOfNumber:switch(i.length){case 0:return e.graphableAsConstant(this._symbol)?e.constantGraphMode(this._symbol):s.NONE;case 1:return t.valueType!==c.ListOfNumber||e.graphableListVariables(this._symbol,i[0])?this.isSlider?s.NONE:e.graphMode(this._symbol,i[0]):s.NONE;default:return s.NONE}break;default:return r.call(this,e,t)}},a.FunctionDefinition.prototype.getGraphMode=function(e,t){if(1!==this._argSymbols.length)return s.NONE;var r=e.graphMode(this._symbol,this._argSymbols[0]),n=t.getDependencies();switch(t.valueType){case c.Number:case c.ListOfNumber:switch(n.length){case 0:return r;case 1:return n[0]!==this._argSymbols[0]?s.NONE:r;default:return s.NONE}break;default:return s.NONE}},a.Regression.prototype.getGraphMode=function(e,t){return this.isLhsSimple&&t.isModelValid?1!==t.model.getDependencies().length?s.NONE:s.Y:s.NONE},a.Polygon.prototype.getGraphMode=function(e,t){return t.isError?s.NONE:s.POLYGONFILL},a.Histogram.prototype.getGraphMode=i,a.DotPlot.prototype.getGraphMode=i,a.BoxPlot.prototype.getGraphMode=i,a.Image.prototype.getGraphMode=function(e,t){return this.userData.showPoints?this.center.isError||this.radianAngle.isError||this.width.isError||this.height.isError||this.opacity.isError?s.NONE:s.XYPOINT:s.NONE}}),define("math/features/getgraphinfo",["require","parsenodes","math/builtinframe","math/domaintypes"],function(e){var t=e("parsenodes"),r=e("math/builtinframe"),n=e("math/domaintypes");t.Base.prototype.getGraphInfo=function(e,t){var r,i,a=t.getDependencies();switch(a.length){case 0:r=!0,i=t.boundDomain("x");break;case 1:i=t.boundDomain(a[0]),r="known"===i.type&&t.isLinear(a[0]);break;case 2:r=!1,i=n.unknownDomain()}return{graphMode:this.getGraphMode(e,t),color:this.userData.color,pointStyle:this.userData.pointStyle,lineStyle:this.userData.lineStyle,operator:this.getOperator(),isLinear:r,linearCoefficients:r?t.getLinearCoefficients():void 0,domainBound:i}},t.Base.prototype.getLinearCoefficients=function(){var e=this.getDependencies();switch(e.length){case 0:return[+this.asValue(),0];case 1:var t=this.getPolynomialCoefficients(e[0]);return[t[0]?+t[0].getConcreteTree(r).asValue():0,t[1]?+t[1].getConcreteTree(r).asValue():0];default:return[NaN,NaN]}},t.OrderedPair.prototype.getLinearCoefficients=function(){return[this.args[0].getLinearCoefficients(),this.args[1].getLinearCoefficients()]}}),define("math/features/getMoveStrategy",["require","parsenodes","math/types","math/maybe-rational"],function(e){function t(e){return{type:"none",inputString:e}}function r(e){return{type:"updateCoordinate",inputString:e}}function n(e,t,r){return{type:"updateSlider",inputString:e,id:t,coefficients:r}}function i(e,t){for(var r in t)if(t[r].evaluationState.assignment===e&&t[r].evaluationState.is_slidable)return r}function a(e,t,r,n){for(var a=e.getDependencies(),o=0;o<a.length;o++)if(n[a[o]])return!1;for(var u=a.length-1;u>=0;u--){var l=a[u],p=i(l,r);if(void 0!==p){var f=Object.create(t);f[l]=s.FreeVariable(l);var h=e.tryGetConcreteTree(f);if(!h.isError){if(1===h.polynomialOrder(l)){var d=h.getPolynomialCoefficients(l),m=d[1]?d[1].getConcreteTree(f):c,g=d[0]?d[0].getConcreteTree(f):c;if(g.isConstant&&m.isConstant&&isFinite(g.asValue())&&isFinite(m.asValue())&&0!==m.asValue()){return{symbol:l,id:p,coefficients:[-g.asValue()/m.asValue(),1/m.asValue()]}}}}}}return!1}var s=e("parsenodes"),o=e("math/types"),u=e("math/maybe-rational").maybeRational,c=s.Constant(u(0,1));s.Base.prototype.getMoveStrategy=function(){},s.Assignment.prototype.getMoveStrategy=function(e,t,r){if(this._expression instanceof s.OrderedPair)return this._expression.getMoveStrategy(e,t,r)},s.OrderedPair.prototype.getMoveStrategy=function(e,i,s){if(i.valueType===o.Point&&0===i.getDependencies().length){for(var u=[],c={},l=0;l<2;l++){var p=this.args[l],f=p.getInputString();if(p.isConstant)u[l]=r(f);else{var h=a(p,e,s,c);h&&(u[l]=n(f,h.id,h.coefficients),c[h.symbol]=!0),u[l]||(u[l]=t(f))}}if("none"!==u[0].type||"none"!==u[1].type)return u}},s.Image.prototype.getMoveStrategy=function(e,i,s){if((!this.userData||!1!==this.userData.shouldGraph)&&"OrderedPair"===i.center.type&&i.center.args[0].isConstant&&i.center.args[1].isConstant&&i.width.isConstant&&i.height.isConstant&&i.radianAngle.isConstant&&i.opacity.isConstant){for(var o=[this.width,this.height,this.center.args[0],this.center.args[1]],u=[],c={},l=[2,3,0,1],p=0;p<l.length;p++){var f=l[p],h=o[f];if(h){var d=h.getInputString();if(h.isConstant)u[f]=r(d);else{var m=a(h,e,s,c);m&&(u[f]=n(d,m.id,m.coefficients),c[m.symbol]=!0),u[f]||(u[f]=t(d))}}else u[f]=t("")}if("none"!==u[0].type||"none"!==u[1].type||"none"!==u[2].type||"none"!==u[3].type)return u}}}),define("math/features/getDefaultDragMode",["require","parsenodes","graphing/dragmode"],function(e){var t=e("parsenodes"),r=e("graphing/dragmode").DragMode;t.Base.prototype.getMoveStrategy=function(){return r.NONE},t.Assignment.prototype.getDefaultDragMode=function(e){return"none"!==e[0].type&&"none"!==e[1].type?r.XY:"none"!==e[0].type?r.X:"none"!==e[1].type?r.Y:r.NONE},t.OrderedPair.prototype.getDefaultDragMode=function(e){return"updateSlider"===e[0].type&&"updateSlider"===e[1].type?r.XY:"updateSlider"===e[0].type?r.X:"updateSlider"===e[1].type?r.Y:r.NONE}}),define("math/features/tableinfo",["require","parsenodes","math/types","graphing/label","math/distribution-spec"],function(e){var t=e("parsenodes"),r=t.List,n=e("math/types"),i=e("graphing/label"),a=e("math/distribution-spec").getFunctionSpecFromTree;t.Base.prototype.tableInfo=function(e,t){return!1},t.Identifier.prototype.tableInfo=function(e,t){return!!e.validFirstColumnVariable(this._symbol)&&{independent_variable:this._symbol,dependent_column:this.getInputString(),by_reference:!1}},t.Expression.prototype.tableInfo=function(e,t){var i=t.getDependencies();if(a(this))return!1;switch(t.valueType){case n.Point:case n.ListOfPoint:if(0!==i.length)return!1;if(t.isMovablePoint&&("updateSlider"===t.moveStrategy[0].type||"updateSlider"===t.moveStrategy[1].type))return!1;return{independent_variable:"x",dependent_column:"y",by_reference:!1,values:r.wrap(t).mapElements(function(e){return e.asArray()})};case n.Number:if(1!==i.length)return!1;var s=i[0];return!!e.validFirstColumnVariable(s)&&{independent_variable:s,dependent_column:this.getInputString(),by_reference:!1};default:return!1}},t.Assignment.prototype.tableInfo=function(e,r){if(r instanceof t.SolvedEquation)return!1;if(!this.getInputString().length)return!1;if(a(this))return!1;var n=r.getDependencies();if(n.length>1)return!1;var s;if(0===n.length){if(!e.tableableAsConstant(this._symbol))return!1;s=e.implicitIndependent(this._symbol)}else s=n[0];return!!e.validFirstColumnVariable(s)&&{independent_variable:s,dependent_column:e.assignmentForbidden(this._symbol)?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!e.assignmentForbidden(this._symbol)}},t.FunctionDefinition.prototype.tableInfo=function(e,t){if(1!==this._argSymbols.length)return!1;if(!this.getInputString().length)return!1;if(t.getDependencies().length>1)return!1;var r=this._argSymbols[0];if(!e.validFirstColumnVariable(r))return!1;var n=e.assignmentForbidden(this._symbol);return{independent_variable:r,dependent_column:n?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!n}},t.BaseComparator.prototype.tableInfo=function(e,t){return!1},t.DoubleInequality.prototype.tableInfo=function(e,t){return!1},t.Equation.prototype.tableInfo=function(e,t){return!1}}),define("math/features/tableerror",["require","parsenodes","lib/worker-i18n"],function(e){var t=e("parsenodes"),r=e("lib/worker-i18n");t.Base.prototype.tableError=function(){return this.isInequality()?r.t("Inequalities are not allowed."):!(this instanceof t.Expression)&&r.t("This type of expression is not allowed.")},t.List.prototype.tableError=function(){return r.t("Lists are not allowed.")},t.Equation.prototype.tableError=t.Assignment.prototype.tableError=function(){return r.t("Equations are not allowed.")},t.FunctionDefinition.prototype.tableError=function(){return r.t("Function definitions are not allowed.")},t.Regression.prototype.tableError=function(){return r.t("Regressions are not allowed.")}}),define("math/features/islinear",["require","parsenodes"],function(e){var t=e("parsenodes");t.Base.prototype.isLinear=function(e){return!1},t.Expression.prototype.isLinear=function(e){return this.polynomialOrder(e)<=1},t.SolvedEquation.prototype.isLinear=function(e){return this._expression.isLinear(e)},t.OptimizedRegression.prototype.isLinear=function(e){return this.model.isLinear(e)},t.OrderedPair.prototype.isLinear=function(e){return this.args[0].isLinear(e)&&this.args[1].isLinear(e)},t.List.prototype.isLinear=function(e){return this.args.every(function(t){return t.isLinear(e)})},t.Broadcast.prototype.isLinear=function(e){for(var r=this._replacedSymbols,n=this._expression,i=this._lists,a={},s=0;s<i.length;s++)if(i[s].dependsOn(e)){if(!i[s].isLinear(e))return!1;a[r[s]]=t.FreeVariable(e)}return n.substitute(a).isLinear(e)}}),define("lib/deepCopy",["require","exports"],function(e,t){"use strict";function r(e){var t=e;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t)return t;if("object"!=typeof t)return t;if(Array.isArray(t))return t.map(r);var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=r(t[i]));return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define("expressions/styles",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.POINT="POINT",e.OPEN="OPEN",e.CROSS="CROSS"}(t.PointStyle||(t.PointStyle={}));!function(e){e.SOLID="SOLID",e.DASHED="DASHED",e.DOTTED="DOTTED",e.SINGLE_PIXEL="SINGLE_PIXEL"}(t.LineStyle||(t.LineStyle={}))}),define("math/cdf-branches",["require","exports","tslib","lib/deepCopy","math/plotter","math/domaintypes","expressions/styles"],function(e,t,r,n,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){var n=e.segments,i=t.segments,a=n.concat(i);return r.__assign({},e,{segments:a})},u=function(e){var t=e.viewState,r=e.graphInfo,o=e.compiled,u=e.derivative,c=e.bounds,l=e.included,p=e.discrete,f=n.default(r),h=a.intersectDomains(r.domainBound,a.knownDomain(c));if("known"===h.type)return f.domainBound=h,p?f.pointStyle=l?s.PointStyle.POINT:s.PointStyle.OPEN:f.lineStyle=s.LineStyle.SOLID,i.default.computeGraphData({graphInfo:f,viewState:t,compiled:o,derivative:u,discrete:p})};t.makeCDFTopBranches=function(e){var t,r=e.viewState,n=e.graphInfo,a=e.compiled,s=e.derivative,c=e.bounds,l=e.discrete,p=e.maxOverride,f=c[0],h=c[1],d=[];if(l){f=Math.ceil(f),h=Math.floor(h);var m=void 0!==p?p:1/0;if(f===-1/0&&h>=m)t=u({bounds:[f,m],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l}),d.push(t);else if(f===-1/0&&h<1/0)t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l}),d.push(t),d.push(u({bounds:[h+1,m],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l}));else if(f>-1/0&&h>=m)t=u({bounds:[f,m],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l}),d.push(u({bounds:[-1/0,f-1],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l})),d.push(t);else{t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l});var g=u({bounds:[-1/0,f-1],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l}),y=u({bounds:[h+1,m],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l});d.push(t);var v=void 0;g&&y&&(v=o(g,y),d.push(v))}}else t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:s,discrete:l}),d.push(i.default.computeGraphData({viewState:r,graphInfo:n,compiled:a,derivative:s}));return{cdfTopBranch:t,topBranches:d}}}),define("math/copy-defined-pois",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t=[],r=[],n=e.length,i=0;i<n;i++)t.push(e[i][0]),r.push(e[i][1]);return{defined:{x:t,y:r}}};t.default=r}),define("math/features/graph",["require","underscore","parsenodes","math/plotter","graphing/graphmode","math/comparators","graphing/dragmode","math/expression-types","math/types","math/builtin","math/cdf-branches","math/copy-defined-pois","math/distribution-spec"],function(e){function t(e,t){for(var r=1/0,n=-1/0,i=1/0,a=-1/0,s=0;s<t.length;s++)for(var o=t[s],u=0;u<o.length;u+=2){var c=o[u],l=o[u+1];c<r&&(r=c),c>n&&(n=c),l<i&&(i=l),l>a&&(a=l)}if(isFinite(r)&&isFinite(i))return{type:e,xmin:r,ymin:i,xmax:n,ymax:a}}function r(e,t,r){var n={};r-=.5*t;for(var i=e.length-1;i>=0;i--){var a=e[i],s=Math.floor((a-r)/t);n[s]?n[s].data.push(a):n[s]={id:s,data:[a],min:s*t+r,max:s*t+r+t,center:s*t+r+t/2}}return n}function n(e){return Array.prototype.concat.apply([],e)}function i(e,t,r){return!!e&&(0===t&&0===r?"none"!==e[2].type||"none"!==e[3].type:0!==t&&0!==r?"none"!==e[0].type&&"none"!==e[1].type:0!==t?"none"!==e[0].type:0!==r&&"none"!==e[1].type)}var a=e("underscore"),s=e("parsenodes"),o=e("math/plotter").default,u=e("graphing/graphmode"),c=e("math/comparators"),l=e("graphing/dragmode").DragMode,p=e("math/expression-types"),f=e("math/types"),h=s.List,d=e("math/builtin"),m=e("math/cdf-branches").makeCDFTopBranches,g=e("math/copy-defined-pois").default,y=e("math/distribution-spec").getFunctionSpecFromTree;s.Base.prototype._graph=function(e,t,r,i){function c(e,t){if(e){var r,n,i,a,s,o=e.discrete?"discreteDistribution":"continuousDistribution";if("binomialdist"===e.symbol)return n=t.args[1].asValue(),i=t.args.length>2?t.args[2].asValue():.5,r=d.binompdf(i*n,n,i),{type:o,xmin:0,xmax:n,ymin:0,ymax:r};if("poissondist"===e.symbol)return a=t.args[1].asValue(),r=Math.max(d.poissonpdf(Math.floor(a),a),d.poissonpdf(Math.ceil(a),a)),{type:o,xmin:0,xmax:2.5*a,ymin:0,ymax:r};if("normaldist"===e.symbol)return a=t.args.length>1?t.args[1].asValue():0,s=t.args.length>2?t.args[2].asValue():1,r=d.normalpdf(a,a,s),{type:o,xmin:a-2*Math.abs(s),xmax:a+2*Math.abs(s),ymin:0,ymax:r};if("tdist"===e.symbol){var u=t.args[1].asValue()\n;return r=d.tpdf(0,u),{type:o,xmin:-3,xmax:3,ymin:0,ymax:r}}}}if(t instanceof s.SolvedEquation)return this._graph(e,t._expression,r,i);var l,v,b,x,_,M=this,S=t.getExpressionType(i.graphMode,t.valueType),E=p.getReconciledExpressionProps(S,{points:this.userData.points,lines:this.userData.lines,fill:this.userData.fill});switch(i.graphMode){case u.XYPOINT_MOVABLE:return l=[t.asArray()],b=this.userData.shouldGraph&&E.points,_=this.userData.showLabel&&!b,b?[{segments:[l],graphMode:i.graphMode,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,labels:this.computedLabels||[],poi:g(l)}]:_?[{segments:[l],graphMode:u.XYPOINT,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,nakedLabel:!0,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,labels:this.computedLabels||[],poi:g(l)}]:[];case u.XYPOINT:return v=[],l=h.wrap(t).mapElements(function(e){return e.asArray()}),b=this.userData.shouldGraph&&E.points,x=this.userData.shouldGraph&&E.lines,_=this.userData.showLabel&&!b&&!x,(this.userData.showLabel||b)&&v.push({segments:[l],graphMode:i.graphMode,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,showPoint:b,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,interactiveLabel:!!this.userData.interactiveLabel,nakedLabel:_,labels:this.computedLabels||[],poi:g(l)}),x&&v.push({segments:[l].map(n),graphMode:u.PARAMETRIC,color:this.userData.color,style:this.userData.lineStyle,poi:[]}),v;case u.PARAMETRIC:var w=this.userData,D=[];if(v=h.wrap(t).mapElements(function(t){if(0===t.getDependencies().length)return l=[t.asArray()],{segments:[l],graphMode:u.XYPOINT,color:w.color,style:w.lineStyle,poi:g(l)};var n=t.getCompiledFunction(),a=M.getGraphInfo(e,t);return a.graphMode=i.graphMode,a.domain={min:M.metaData.evaluatedDomainMin,max:M.metaData.evaluatedDomainMax},a.style=M.userData.lineStyle,o.computeGraphData({viewState:r,graphInfo:a,compiled:n})}),E.fill){if(v.forEach(function(e){D.push({segments:e.segments,color:w.color,fillOpacity:w.fillOpacity,graphMode:u.POLYGONFILL,poi:[]})}),!E.lines)return D;v=v.concat(D)}return v;case u.X:case u.Y:case u.IMPLICIT:case u.POLAR:v=[];var T=t.valueType===f.Number;return h.wrap(t).eachElement(function(t){var n,s=i.graphMode===u.IMPLICIT?t.getCompiledFunction(["x","y"]):t.getCompiledFunction(),l=y(M),p=l&&l.discrete,f=c(l,t);try{n=t.getCompiledDerivative()}catch(e){}var h=M.getGraphInfo(e,t);h.graphMode=i.graphMode,h.style=M.userData.lineStyle,i.graphMode===u.POLAR&&(h.domain={min:M.metaData.evaluatedDomainMin,max:M.metaData.evaluatedDomainMax,isExplicit:M.metaData.isExplicitDomain});var d=M.metaData.evaluatedCDFMin,b=M.metaData.evaluatedCDFMax;if(isNaN(d)||isNaN(b)||!T){var x={viewState:r,graphInfo:h,compiled:s,derivative:n,discrete:p};l&&"binomialdist"===l.symbol&&(x.maxOverride=t.args[1].asValue());var _=o.computeGraphData(x);f&&(_.boundingBox=f),_.fillSegments?v.push(a.omit(_,"fillSegments")):p?v.push({graphMode:u.XYPOINT,segments:[_.segments],showPoint:M.userData.shouldGraph,color:M.userData.color,style:_.style,boundingBox:f,poi:g(_.segments)}):v.push(_),h.graphMode===u.IMPLICIT&&"="!==h.operator&&v.push({graphMode:u.POLYGONFILL,segments:_.fillSegments,poi:{}})}else{var S={viewState:r,graphInfo:h,compiled:s,derivative:n,bounds:[d,b],discrete:p};l&&"binomialdist"===l.symbol&&(S.maxOverride=t.args[1].asValue());var E=m(S),w=E.cdfTopBranch,D=a.each(E.topBranches,function(e){e&&(e.boundingBox=f)});if(a.every(D,function(e){return void 0!==e}))if(p){if(v=D.map(function(e){return{graphMode:u.XYPOINT,segments:[e.segments],showPoint:M.userData.shouldGraph,color:M.userData.color,style:e.style,poi:g(e.segments),boundingBox:f}}),w&&w.segments.length){var C=[];w.segments.forEach(function(e){C.push([e[0],0,e[0],e[1]])}),v.push({graphMode:u.PARAMETRIC,segments:C,boundingBox:f,poi:{}})}}else if(v=D,w&&w.segments.length){var I,P,O,N;for(I=0;I<w.segments.length;I++)if(P=w.segments[I],P.length>=4){O=P[0];break}for(I=w.segments.length-1;I>=0;I--)if(P=w.segments[I],P.length>=4){N=P[P.length-2];break}if(isFinite(O)&&isFinite(N)){var A=o.polygonsFromSegments(w.segments,[[O,0,N,0]],w.graphMode);v.push({graphMode:u.POLYGONFILL,segments:A,poi:{}})}}}}),v;default:return!1}},s.Base.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t,r,n)},s.BaseComparator.prototype.graph=function(e,t,r){var n=this,i=this.getGraphInfo(e,t),a=i.graphMode;if(a===u.IMPLICIT)return this._graph(e,t,r,i);if(a===u.NONE)return!1;if(!(t instanceof s.SolvedEquation))return!1;var l=this.getOperator(),p=[],f=[],h=!0;t._expression.eachElement(function(e){p.push(e.getCompiledFunction());try{f.push(e.getCompiledDerivative())}catch(e){h=!1}}),h||(f=void 0);var d,m,g=[],y=[-1,0,0,1],v=p.length;for(m=0;m<v;m++){var b=this.getGraphInfo(e,t._expression.args[m]);b.graphMode=a,b.style=n.userData.lineStyle,i.graphMode===u.POLAR&&(b.domain={min:n.metaData.evaluatedDomainMin,max:n.metaData.evaluatedDomainMax,isExplicit:n.metaData.isExplicitDomain}),d=o.computeGraphData({viewState:r,graphInfo:b,compiled:p[m],derivative:f?f[m]:void 0}),d.operator=c.get(c.table[l].inclusive,y[m%4]),g.push(d)}for(m=0;m<v;m+=4){var x=o.polygonsFromSegments(g[m+1].segments,g[m+2].segments,a);g.push({graphMode:u.POLYGONFILL,segments:x,poi:{}})}return g},s.DoubleInequality.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);if(n.graphMode===u.NONE)return!1;var i=[],a=c.get(c.table[this._operators[0]].inclusive,0),s=c.get(c.table[this._operators[1]].inclusive,0),l=this.userData,p=this.metaData,f=this;return h.eachArgs(t._expressions,function(t){var c,h;t[0].userData=t[1].userData=l,t[0].metaData=t[1].metaData=p,c=f._graph(e,t[0],r,n)[0],c.operator=a,i.push(c),h=f._graph(e,t[1],r,n)[0],h.operator=s,i.push(h);var d=o.polygonsFromSegments(c.segments,h.segments,c.graphMode);i.push({graphMode:u.POLYGONFILL,segments:d,poi:{}})}),i},s.Regression.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t.model,r,n)},s.Polygon.prototype.graph=function(e,t,r){for(var i=this.getGraphInfo(e,t),a=t.args[0].asValue(),s=[],o=void 0===this.userData.lines||this.userData.lines,c=void 0===this.userData.fill||this.userData.fill,l=[],p=[],f=0;f<a.length;f++){var h=a[f][0],d=a[f][1];isFinite(h)&&isFinite(d)?(o||c)&&p.push([h,d]):(o||c)&&(p.length>1&&l.push(p),p=[])}if(l.length||p.length){p.push([a[0][0],a[0][1]]),l.push(p);var m=l.map(n);c&&s.push({segments:m,graphMode:u.POLYGONFILL,poi:[],color:i.color,fillOpacity:this.userData.fillOpacity,style:i.style}),o&&s.push({segments:m,graphMode:u.PARAMETRIC,poi:[],color:i.color,style:this.userData.lineStyle})}return s},s.Histogram.prototype.graph=function(e,n,i){var a=this.getGraphInfo(e,n),s=n.args[0].asValue(),o=n.args[1].asValue(),c=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?o/2:0,l=r(s,o,c),p=1;this.userData.vizProps&&"density"===this.userData.vizProps.histogramMode?p=1/(s.length*o):this.userData.vizProps&&"relative"===this.userData.vizProps.histogramMode&&(p=1/s.length);var f=[],h=[];for(var d in l){var m=l[d],g=m.data.length;h.push([m.min,0*p,m.min,g*p,m.max,g*p,m.max,0*p]);var y=0;l[m.id+1]&&(y=l[m.id+1].data.length);var v=[m.min,0*p,m.min,g*p,m.max,g*p];y<g&&v.push(m.max,y*p),f.push(v)}var b=t("histogram",h);return b.binWidth=o,[{segments:h,graphMode:u.POLYGONFILL,boundingBox:b,poi:[],color:a.color,fillOpacity:.4},{segments:f,graphMode:u.Y,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},color:a.color}]},s.DotPlot.prototype.graph=function(e,n,i){var a,s,o,c,l=this.getGraphInfo(e,n),p=n.args[1].asValue(),f=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?p/2:0,h=r(n.args[0].asValue(),p,f),d=!1,m=[];for(s in h){o=h[s];for(var y=o.data.length-1;y>=0;y--)o.center!==o.data[y]&&(d=!0)}if(this.userData.vizProps&&"exact"===this.userData.vizProps.dotplotXMode)for(s in h)for(o=h[s],c=o.data,c.reverse(),a=0;a<c.length;a++)m.push([c[a],a+1]);else for(s in h)for(o=h[s],c=o.data,a=0;a<c.length;a++)m.push([o.center,a+1]);var v=t("dotplot",m);return v&&p&&(v.ymin=0,v.xmin-=.5*p,v.xmax+=.5*p,v.binWidth=p),[{segments:[m],graphMode:u.XYPOINT,boundingBox:v,poi:g(m),color:l.color,style:this.userData.pointStyle,pointSize:this.userData.vizProps&&this.userData.vizProps.dotplotSize,showPoint:!0,needsDotplotXMode:d}]},s.BoxPlot.prototype.graph=function(e,r,n){var i=this.getGraphInfo(e,r),a=this.metaData.evaluatedAxisOffset,s=this.metaData.evaluatedBreadth,o=r.args[0].asValue();if(isNaN(s)||isNaN(a))return{};var c=Math.min.apply(null,o),l=Math.max.apply(null,o),p=d.quartile(o,1),f=d.quartile(o,2),h=d.quartile(o,3),m=a,g=m-s/2,y=m+s/2,v=s/10,b=[[p,g,h,g,h,y,p,y,p,g],[f,g,f,y],[p,m,c,m],[h,m,l,m],[c,m-v,c,m+v],[l,m-v,l,m+v]];if(this.userData.vizProps&&"y"===this.userData.vizProps.alignedAxis)for(var x=0;x<b.length;x++)for(var _=b[x],M=0;M<_.length;M+=2){var S=_[M];_[M]=_[M+1],_[M+1]=S}return[{segments:b,graphMode:u.PARAMETRIC,boundingBox:t("boxplot",b),poi:[],color:i.color}]},s.Table.prototype.isValueDraggable=function(e,t,r){if(!e.columns[t].isIndependent)return!1;var n=this.columns[t],i=n.values,a=i&&i[r];return!(!a||!isFinite(a.asValue())||0!==a._dependencies.length)},s.Table.prototype.graph=function(e,t,r){var i=[];if(t.columns[0].isError)return i;for(var a=t.columns[0],s=a.values,o=1;o<this.columns.length;o++){var c=t.columns[o];if(!c.isError){var p=this.columns[o].header.userData;if(!p.hidden){for(var f=p.dragMode,h=f===l.X||f===l.XY,d=f===l.Y||f===l.XY,m=!!p.points,y=!!p.lines,v=c.isDiscrete(a),b=y&&v,x=y&&!v,_=[],M=[],S=[],E=[],w=[],D=[],T=1/0,C=-1/0,I=1/0,P=-1/0,O=0;O<s.length;O++){var N=s[O],A=c.values[O];if(N&&A&&isFinite(N.asValue())&&isFinite(A.asValue())){var L=N.asValue(),q=A.asValue();if(m){var F=h&&this.isValueDraggable(t,0,O),k=d&&this.isValueDraggable(t,o,O);F||k?(S.push([L,q]),E.push({index:O,dragX:F,dragY:k})):M.push([L,q])}b&&D.push([L,q]),L<T&&(T=L),L>C&&(C=L),q<I&&(I=q),q>P&&(P=q)}else b&&(D.length>1&&w.push(D),D=[])}var V={type:"table",xmin:T,xmax:C,ymin:I,ymax:P};if(S.length&&_.push({graphMode:u.XYPOINT_MOVABLE,segments:[S],color:p.color,tableId:p.tableId,poi:g(S),movablePointInfo:E,boundingBox:V}),M.length&&_.push({segments:[M],graphMode:u.XYPOINT,showPoint:!0,poi:g(M),color:p.color,style:p.pointStyle,tableId:p.tableId,boundingBox:V}),(w.length||D.length)&&(w.push(D),_.push({segments:w.map(n),graphMode:u.PARAMETRIC,poi:[],color:p.color,style:p.lineStyle,tableId:p.tableId,boundingBox:V})),x){var B=this.columns[o].header.graph(e,t.columns[o].header,r);B.length&&Array.prototype.push.apply(_,B)}_.length&&(i[p.id]=_)}}}return i},s.Image.prototype.graph=function(e,t,r){var n=[];if(!("OrderedPair"===t.center.type&&t.center.args[0].isConstant&&t.center.args[1].isConstant&&t.radianAngle.isConstant&&t.width.isConstant&&t.height.isConstant&&t.opacity.isConstant))return n;for(var a=[],s=[],o=t.width.asValue()/2,c=t.height.asValue()/2,l=t.radianAngle.asValue(),p=-1;p<=1;p++)for(var f=-1;f<=1;f++){var h=[t.center.args[0].asValue()+p*o*Math.cos(l)+f*c*Math.sin(l),t.center.args[1].asValue()-p*o*Math.sin(l)+f*c*Math.cos(l)],d=i(t.moveStrategy,p,f);d&&(a.push(h),s.push([p,f]))}return n.push({segments:[a],scaleFactors:[s],graphMode:u.XYPOINT_MOVABLE,color:this.userData.color,style:this.userData.style,poi:g(a)}),n}}),define("math/features/elementAt",["require","parsenodes","math/builtinframe"],function(e){function t(e){for(var t=0;t<this.length;t++)e(this.elementAt(t))}function r(e){for(var t=[],r=0;r<this.length;r++)t.push(e(this.elementAt(r)));return t}var n=e("parsenodes"),i=e("math/builtinframe");n.List.prototype.elementAt=function(e){return e=Math.floor(e),e>=0&&e<this.args.length?this.args[e]:n.Constant(NaN)},n.Broadcast.prototype.elementAt=function(e){if((e=Math.floor(e))<0||e>=this.length)return n.Constant(NaN);for(var t={},r=0;r<this._replacedSymbols.length;r++)t[this._replacedSymbols[r]]=this._lists[r].elementAt(e);return this._expression.substitute(t).getConcreteTree(i)},n.List.prototype.eachElement=t,n.Broadcast.prototype.eachElement=t,n.List.prototype.mapElements=r,n.Broadcast.prototype.mapElements=r,n.OrderedPair.prototype.elementAt=function(e){switch(e){case 0:return this.args[0];case 1:return this.args[1];default:return n.Constant(NaN)}}}),define("lib/number-to-latex",["require","exports"],function(e,t){"use strict";function r(e){if("string"==typeof e)return e;if(void 0===e)return"";var t=e+"";return t=t.replace(/1e\\+?([-\\d]+)/,"10^{$1}"),t=t.replace(/([-\\d\\.]+)e\\+?([-\\d]+)/,"$1\\\\cdot 10^{$2}")}function n(e){var t=e+"";if(/\\d+\\.?\\d*e[\\+\\-]*\\d+/i.test(t)){var r=String(t).toLowerCase().split("e"),n=parseFloat(r[0]),i=parseInt(r[1],10),a=Math.abs(i),s=Math.abs(n).toString().split(".");if(i<0)t="0."+new Array(a).join("0")+s.join("");else{var o=s[1];o&&(a-=o.length),t=s.join("")+new Array(a+1).join("0")}n<0&&(t="-"+t)}return t}function i(e,t){void 0===t&&(t=2);var r=n(e),i=r.indexOf(".");if(-1===i)return r;for(var a,s=i+1;s<r.length;s++)if(a){if(r[s]!==a)break}else{if("0"!==r[s]&&"9"!==r[s])break;a=r[s]}return r.substr(0,Math.max(i+5,s+t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.numberToDecimalString=n,t.numberToStatsConfidenceLatex=i}),define("math/features/printLatex",["require","parsenodes","graphing/label","lib/number-to-latex"],function(e){function t(){return u.identifierToLatex(this._symbol)+" "}function r(e){switch(e){case">":return"\\\\gt ";case"<":return"\\\\lt ";case">=":return"\\\\ge ";case"<=":return"\\\\le ";case"=":return"="}}function n(e){return e.printLatex()}function i(){switch(this._symbol){case"sqrt":return"\\\\sqrt{"+this.args[0].printLatex()+"}";case"nthroot":return"\\\\sqrt["+this.args[1].printLatex()+"]{"+this.args[0].printLatex()+"}";case"logbase":return"\\\\log_{"+this.args[1].printLatex()+"}\\\\left("+this.args[0].printLatex()+"\\\\right)";default:return u.identifierToLatex(this._symbol)+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"}}function a(e){return e.isConstant&&!0===e.asValue()}function s(e){return e.isConstant&&e.isNaN()}var o=e("parsenodes"),u=e("graphing/label"),c=e("lib/number-to-latex").default;o.Identifier.prototype.printLatex=t,o.FreeVariable.prototype.printLatex=t,o.Constant.prototype.printLatex=function(){return c(this.asValue())},o.Negative.prototype.printLatex=function(){return"-\\\\left("+this.args[0].printLatex()+"\\\\right)"},o.Add.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)+\\\\left("+this.args[1].printLatex()+"\\\\right)"},o.PercentOf.prototype.printLatex=function(){return this.args[0].printLatex()+" \\\\% \\\\operatorname{of} "+this.args[1].printLatex()},o.Subtract.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)-\\\\left("+this.args[1].printLatex()+"\\\\right)"},o.Multiply.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)*\\\\left("+this.args[1].printLatex()+"\\\\right)"},o.Divide.prototype.printLatex=function(){return"\\\\frac{"+this.args[0].printLatex()+"}{"+this.args[1].printLatex()+"}"},o.Exponent.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)^{"+this.args[1].printLatex()+"}"},o.Assignment.prototype.printLatex=function(){return u.identifierToLatex(this._symbol)+"="+this._expression.printLatex()},o.Equation.prototype.printLatex=function(){return this._lhs.printLatex()+"="+this._rhs.printLatex()},o.BaseComparator.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+r(this.operator)+"\\\\left("+this.args[1].printLatex()+"\\\\right)"},o.DoubleInequality.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+r(this.args[1])+this.args[2].printLatex()+r(this.args[3])+"\\\\left("+this.args[4].printLatex()+"\\\\right)"},o.And.prototype.printLatex=function(){if(!(this.args[0]instanceof o.BaseComparator&&this.args[1]instanceof o.BaseComparator))throw new Error("Not implemented");if(this.args[0].args[1].printLatex()!==this.args[1].args[0].printLatex())throw new Error("Not implemented");return"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)"+r(this.args[0].operator)+"\\\\left("+this.args[0].args[1].printLatex()+"\\\\right)"+r(this.args[1].operator)+"\\\\left("+this.args[1].args[1].printLatex()+"\\\\right)"},o.NativeFunction.prototype.printLatex=i,o.TypedFunction.prototype.printLatex=i,o.ReducerFunction.prototype.printLatex=i,o.ParametrizedReducerFunction.prototype.printLatex=i,o.DoubleReducerFunction.prototype.printLatex=i,o.FunctionCall.prototype.printLatex=i,o.Distribution.prototype.printLatex=i,o.DotAccess.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")"},o.DotAccessExponent.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")^{"+this.args[2].printLatex()+"}"},o.Prime.prototype.printLatex=function(){switch(this.args[0]._symbol){case"logbase":return"\\\\log_{"+this.args[0].args[1].printLatex()+"}"+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)";default:return u.identifierToLatex(this.args[0]._symbol)+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args.map(n).join(", ")+"\\\\right)"}},o.List.prototype.printLatex=function(){return"\\\\left["+this.args.map(n).join(", ")+"\\\\right]"},o.Range.prototype.printLatex=function(){return"\\\\left["+this.args[0].args.map(n).join(", ")+" ... "+this.args[1].args.map(n).join(", ")+"\\\\right]"},o.ListAccess.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)\\\\left["+this.args[1].printLatex()+"\\\\right]"},o.OrderedPair.prototype.printLatex=function(){return"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},o.Sum.prototype.printLatex=function(){return"\\\\sum_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},o.Product.prototype.printLatex=function(){return"\\\\prod_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},o.Integral.prototype.printLatex=function(){return"\\\\int_{"+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)d"+this.args[0].printLatex()},o.FunctionExponent.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)^{"+this.args[2].printLatex()+"}"},o.FunctionFactorial.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)!"},o.Piecewise.prototype.printLatex=function(){var e=this;if(a(e.args[0]))return e.args[1].printLatex();for(var t=["\\\\left\\\\{"];;){if(a(e.args[0])){t.push(e.args[1].printLatex());break}if(t.push(e.args[0].printLatex(),": "),s(e.args[2])){t.push(e.args[1].printLatex());break}if(t.push(e.args[1].printLatex(),", "),!(e.args[2]instanceof o.Piecewise)){t.push(e.args[2].printLatex());break}e=e.args[2]}return t.push("\\\\right\\\\}"),t.join("")},o.FunctionDefinition.prototype.printLatex=function(){return u.identifierToLatex(this._symbol)+"\\\\left("+this._argSymbols.map(u.identifierToLatex).join(", ")+"\\\\right) = "+this._expression.printLatex()},o.Derivative.prototype.printLatex=function(){return"\\\\frac{d}{d"+u.identifierToLatex(this._symbol)+"}\\\\left("+this.args[0].printLatex()+"\\\\right)"},o.Regression.prototype.printLatex=function(){return"\\\\left("+this._lhs.printLatex()+"\\\\right)\\\\sim\\\\left("+this._rhs.printLatex()+"\\\\right)"},o.Polygon.prototype.printLatex=function(){return"\\\\polygon\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},o.Histogram.prototype.printLatex=function(){return"\\\\histogram\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},o.DotPlot.prototype.printLatex=function(){return"\\\\dotplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},o.BoxPlot.prototype.printLatex=function(){return"\\\\boxplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},o.TTest.prototype.printLatex=function(){return"\\\\TTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},o.IndependentTTest.prototype.printLatex=function(){return"\\\\IndependentTTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},o.Stats.prototype.printLatex=function(){return"\\\\Stats\\\\left("+this.args.map(n).join(", ")+"\\\\right)"}}),define("math/features/statistics",["require","parsenodes","math/maybe-rational"],function(e){var t=e("parsenodes"),r=t.BuiltInFunction,n=e("math/maybe-rational").maybeRational,i=t.Constant(n(0,1)),a=t.Constant(n(1,1)),s=t.Constant(n(2,1)),o=t.Constant(-1/0);r.normaldist.prototype.pdf=function(e){return r.normalpdf([e[0],this.args[0],this.args[1]])},r.normaldist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=o,n=e[0]):(t=e[0],n=e[1]),r.normalcdf([t,n,this.args[0],this.args[1]])},r.normaldist.prototype.mean=function(){return this.args[0]},r.normaldist.prototype.median=function(){return this.args[0]},r.normaldist.prototype.stdev=function(){return r.abs([this.args[1]])},r.normaldist.prototype.var=function(){return t.Exponent([this.args[1],s])},r.normaldist.prototype.quantile=function(e){return t.Divide([t.Add([r.invNorm(e),this.args[0]]),this.args[1]])},r.tdist.prototype.pdf=function(e){return r.tpdf([e[0],this.args[0]])},r.tdist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=o,n=e[0]):(t=e[0],n=e[1]),r.tcdf([t,n,this.args[0]])},r.tdist.prototype.mean=function(){return i},r.tdist.prototype.median=function(){return i},r.tdist.prototype.quantile=function(e){return r.invT([e[0],this.args[0]])},r.tdist.prototype.stdev=function(){return r.sqrt([this.var()])},r.tdist.prototype.var=function(){var e=this.args[0];return t.Piecewise([t.Comparator[">="]([e,s]),t.Divide([e,t.Subtract([e,s])]),t.Constant(NaN)])},r.poissondist.prototype.pdf=function(e){return r.poissonpdf([e[0],this.args[0]])},r.poissondist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=o,n=e[0]):(t=e[0],n=e[1]),r.poissoncdf([t,n,this.args[0]])},r.poissondist.prototype.mean=function(){return this.args[0]},r.poissondist.prototype.stdev=function(){return r.sqrt([this.args[0]])},r.poissondist.prototype.var=function(){return this.args[0]},r.poissondist.prototype.quantile=function(e){return r.invPoisson([e[0],this.args[0]])},r.binomialdist.prototype.pdf=function(e){return r.binompdf([e[0],this.args[0],this.args[1]])},r.binomialdist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=o,n=e[0]):(t=e[0],n=e[1]),r.binomcdf([t,n,this.args[0],this.args[1]])},r.binomialdist.prototype.mean=function(){return t.Multiply([this.args[0],this.args[1]])},r.binomialdist.prototype.stdev=function(){return r.sqrt([this.var()])},r.binomialdist.prototype.var=function(){var e=this.args[0],r=this.args[1];return t.Multiply([e,t.Multiply([r,t.Subtract([a,r])])])},r.binomialdist.prototype.quantile=function(e){return r.invBinom([e[0],this.args[0],this.args[1]])}}),define("math/features/getExpressionType",["require","parsenodes","graphing/graphmode","math/expression-types","math/types"],function(e){var t=e("parsenodes"),r=e("graphing/graphmode"),n=e("math/expression-types"),i=e("math/types");t.Base.prototype.getExpressionType=function(e,t){return e===r.X||e===r.Y?n.X_OR_Y:e===r.XYPOINT||e===r.XYPOINT_MOVABLE?t===i.Point?n.SINGLE_POINT:n.POINT_LIST:e===r.PARAMETRIC?n.PARAMETRIC:e===r.POLAR?n.POLAR:e===r.IMPLICIT?n.IMPLICIT:n.X_OR_Y},t.Polygon.prototype.getExpressionType=function(e,t){return n.POLYGON},t.Histogram.prototype.getExpressionType=function(e,t){return n.HISTOGRAM},t.DotPlot.prototype.getExpressionType=function(e,t){return n.DOTPLOT},t.BoxPlot.prototype.getExpressionType=function(e,t){return n.BOXPLOT}}),define("parser",["require","math/baseparser","math/features/getConcreteTree","math/features/getValueType","math/features/typeCheck","math/features/repr","math/features/scalarEvalExpression","math/features/constantcollapsedcopy","math/features/polynomialorder","math/features/polynomialcoefficients","math/features/extractconditions","math/features/piecewiseDependsOn","math/features/bounddomain","math/features/derivative","math/features/substitute","math/features/solve","math/features/analyze","math/features/analyzeFourFunction","math/features/analyzeScientific","math/features/analyzeSingleExpressionScientific","math/features/getgraphmode","math/features/getgraphinfo","math/features/getMoveStrategy","math/features/getDefaultDragMode","math/features/tableinfo","math/features/tableerror","math/features/islinear","math/features/graph","math/features/elementAt","math/features/printLatex","math/features/statistics","math/features/getExpressionType"],function(e){var t=e("math/baseparser");return e("math/features/getConcreteTree"),e("math/features/getValueType"),e("math/features/typeCheck"),e("math/features/repr"),e("math/features/scalarEvalExpression"),e("math/features/constantcollapsedcopy"),e("math/features/polynomialorder"),e("math/features/polynomialcoefficients"),e("math/features/extractconditions"),e("math/features/piecewiseDependsOn"),e("math/features/bounddomain"),e("math/features/derivative"),e("math/features/substitute"),e("math/features/solve"),e("math/features/analyze"),e("math/features/analyzeFourFunction"),e("math/features/analyzeScientific"),e("math/features/analyzeSingleExpressionScientific"),e("math/features/getgraphmode"),e("math/features/getgraphinfo"),e("math/features/getMoveStrategy"),e("math/features/getDefaultDragMode"),e("math/features/tableinfo"),e("math/features/tableerror"),e("math/features/islinear"),e("math/features/graph"),e("math/features/elementAt"),e("math/features/printLatex"),e("math/features/statistics"),e("math/features/getExpressionType"),t}),define("math/finddependencyorder",["require","math/builtinframe","underscore"],function(e){function t(e,t,i){function a(e){y[e]=y[e]||{};var r,n=y[e];n.id=e,n.index=v,n.lowlink=v,b.push(n),n.instack=!0,v++;for(var i=t[e].getDependencies(),u=0;u<i.length;u++){var c=i[u];if(d.hasOwnProperty(c))for(var l=d[c],p=0;p<l.length;p++){var f=l[p];y.hasOwnProperty(f)?(r=y[f],r.instack&&(n.lowlink=Math.min(n.lowlink,r.index))):(a(f),r=y[f],n.lowlink=Math.min(n.lowlink,r.lowlink))}}if(n.lowlink===n.index)if(r=b.pop(),r.instack=!1,r===n)s(n);else{for(var h=[r];;)if(r=b.pop(),r.instack=!1,h.push(r),r===n)break;o(h)}}function s(e){x.push(e.id)}function o(r){var i,a,s=[];for(a=r.length-1;a>=0;a--){i=r[a];var o=t[i.id].getLegalExports(e);Array.prototype.push.apply(s,o),s.push(o[0]),x.push(i.id)}for(s=n.unique(s),s.sort(),a=0;a<s.length;a++)g[s[a]]=s}var u,c,l,p,f,h=[],d={},m={},g={},y={},v=0,b=[],x=[];if(!i){i=[];for(u in t)t.hasOwnProperty(u)&&i.push(u)}for(u in t)if(t.hasOwnProperty(u)){for(f=t[u].exportPenalty||0;h.length<f+1;)h.push([]);h[f].push(u)}for(f=0;f<h.length;f++){var _={};for(c=0;c<h[f].length;c++){u=h[f][c];var M=t[u].getLegalExports(e);for(l=0;l<M.length;l++)p=M[l],r[p]||d[p]||(_[p]=_[p]||[],_[p].push(u),_[p].length>1&&(m[p]=!0))}for(p in _)d[p]=_[p]}for(c=0;c<i.length;c++)y.hasOwnProperty(i[c])||a(i[c]);return{resolved:x,multiplyDefined:m,cyclicallyDefined:g}}var r=e("math/builtinframe"),n=e("underscore");return t}),define("math/findIntersections",["require","graphing/graphmode","./plotter","parsenodes","./distance"],function(e){function t(e){for(var t=[],r=0;r<e;r++)t[r]={x:[],y:[],intersects:[]};return t}function r(e,t,r,n){return r===l.X&&n===l.X||r===l.Y&&n===l.Y?function(r){return t(r)-e(r)}:(r===l.X&&n===l.Y||r===l.Y&&n===l.X)&&function(r){return r-t(e(r))}}function n(e){e instanceof f.SolvedEquation?e=e._expression:e instanceof f.OptimizedRegression&&(e=e.model);var t=[],r=[];return e instanceof f.DoubleInequality?f.List.eachArgs(e._expressions,function(e){t.push(e[0].getCompiledFunction()),r.push(e[0].isConstant&&e[1].isNaN()),t.push(e[1].getCompiledFunction()),r.push(e[1].isConstant&&e[1].isNaN())}):f.List.wrap(e).eachElement(function(e){t.push(e.getCompiledFunction()),r.push(e.isConstant&&e.isNaN())}),{functions:t,skipIntersecting:r}}function i(e,t){var r=[];for(var i in e)if(e.hasOwnProperty(i)&&String(i)!==String(t)&&e[i].shouldIntersect()){var a=e[i],s=n(a.concreteTree);r.push({id:i,graphMode:a.getGraphMode(),functions:s.functions,skipIntersecting:s.skipIntersecting})}return r}function a(e,t){e.intersects=Array(e.x.length);for(var r=0;r<e.x.length;r++)e.intersects[r]=t}function s(e,t){if(t===l.X){var r=e.y;e.y=e.x,e.x=r}}function o(e,t){Array.prototype.push.apply(e.x,t.x),Array.prototype.push.apply(e.y,t.y),Array.prototype.push.apply(e.intersects,t.intersects)}function u(e,t,r){var n=p.sampleXY(e,t),i=n.poi.zeros,a=n.poi.extrema,s=[],o=0,u=0;for(o=0;o<i.x.length;o++){for(;u<a.x.length&&a.x[u]<i.x[o];u++)h.approx(a.y[u],0)&&s.push(a.x[u]);s.push(i.x[o])}for(;u<a.x.length;u++)h.approx(a.y[u],0)&&s.push(a.x[u]);return{x:s,y:s.map(r)}}function c(e,c,l){var f=e[l],h=f.getGraphInfo(),m=f.getGraphMode(),g=n(f.concreteTree),y=t(g.functions.length),v=i(e,l);if(!v)return y;for(var b=0,x=0;x<v.length;x++)for(var _=v[x],M=0;M<g.functions.length;M++)if(!g.skipIntersecting[M])for(var S=g.functions[M].fn,E=p.computeDomain(c,h,S),w=0;w<_.functions.length;w++)if(!v[x].skipIntersecting[w]){var D=_.functions[w].fn,T=r(S,D,m,_.graphMode);if(T){var C=u(T,E,S);if((b+=C.x.length)>d)return t(g.functions.length);a(C,_.id),s(C,m),o(y[M],C)}}return y}var l=e("graphing/graphmode"),p=e("./plotter").default,f=e("parsenodes"),h=e("./distance"),d=100;return{findIntersections:c,findIndicatorZeros:u}}),define("math/interpolatedlabel",["require","exports","parsenodes","math/types","graphing/label"],function(e,t,r,n,i){"use strict";function a(e){return!(e.length<2)&&("`"===e[0]&&"`"===e[e.length-1])}function s(e){for(var t,r=["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\\\{[a-zA-Z0-9]+\\\\}"],n="\\\\$({"+r.join("})|\\\\$({")+"})",i=new RegExp(n,"g"),a=[],s=0,o=0;t=i.exec(e);){o=t.index,o>s&&a.push(e.substr(s,o-s));var u=t[0],c=u.replace(/[{}\\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");a.push({symbol:c,str:u}),s=t.index+u.length}return s<e.length&&a.push(e.substr(s)),{raw:e,parts:a}}function o(e,t){return t?"{"+i.truncatedLatexLabel(e,{bigCutoff:1e7,digits:8})+"}":i.truncatedPlainmathLabel(e,{bigCutoff:1e7,digits:8})}function u(e,t,i){for(var s=[],u=a(e.raw),c=0,l=e.parts;c<l.length;c++){var p=l[c];if("string"==typeof p)s.push(p);else{var f=r.Identifier(p.symbol).tryGetConcreteTree(t);if(f.valueType===n.Number){var h=f.asValue();if("number"==typeof h){s.push(o(h,u));continue}}else if(f.valueType===n.ListOfNumber&&f.args[i]){var h=f.args[i].asValue();if("number"==typeof h){s.push(o(h,u));continue}}u?s.push("{?}"):s.push("?")}}return s.join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.isMathLabel=a,t.parse=s,t.interpolate=u}),define("math/getCLSymbolMap",["require","exports","underscore"],function(e,t,r){"use strict";function n(){var e={},t={},n={},i=[];for(var a in this.statements)if(this.statements.hasOwnProperty(a)){var s=this.statements[a];switch(s.type){case"Error":break;case"Regression":n[a]=[],i.push(a);break;default:var o=s.getLegalExports(this.policy);if(o){for(var u=0,c=o;u<c.length;u++){var l=c[u];s.exportPenalty>0?t[l]=a:e[l]=a}n[a]=r.difference(s.getDependencies(),s.getDummyDependencies(),o)}}}for(var p=0,f=i;p<f.length;p++){var a=f[p],s=this.statements[a],h=s.userData.residualVariable;h&&(t[h]=a);for(var d=s.getDependencies().slice(),m={},l=void 0;l=d.pop();)if(!m[l]){m[l]=!0;var g=e[l]||t[l];g?(d.push.apply(d,n[g]),n[a].push(l)):t[l]=a}}return{exportMap:e,weakExportMap:t,dependencyMap:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCLSymbolMap=n}),define("math/policyFourFunction",["require"],function(e){return{assignmentForbidden:function(e){return"ans"!==e.slice(0,3)},isValidSlider:function(e){return!1},sliderVariables:function(){return[]},graphingEnabled:function(){return!1},ansEnabled:function(){return!0},disabledFeatures:function(){\nreturn["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"]}}}),define("math/policyScientific",["require"],function(e){return{assignmentForbidden:function(e){return"tmp"===e.slice(0,3)},isValidSlider:function(e){return!1},sliderVariables:function(){return[]},graphingEnabled:function(){return!1},ansEnabled:function(){return!0},disabledFeatures:function(){return["Sum","Product","Integral","Derivative","Piecewise"]}}}),define("math/policySingleExpressionScientific",["require"],function(e){return{assignmentForbidden:function(e){return"ans"!==e.slice(0,3)},isValidSlider:function(e){return!1},sliderVariables:function(){return[]},graphingEnabled:function(){return!1},ansEnabled:function(){return!1},disabledFeatures:function(){return["Sum","Product","Integral","Derivative","Piecewise","PercentOf"]}}}),define("math/policySingleExpressionFourFunction",["require"],function(e){return{assignmentForbidden:function(e){return"ans"!==e.slice(0,3)},isValidSlider:function(e){return!1},sliderVariables:function(){return[]},graphingEnabled:function(){return!1},ansEnabled:function(){return!1},disabledFeatures:function(){return["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"]}}}),define("math/policyGraphing",["require","graphing/graphmode","math/builtinframe"],function(e){var t=e("graphing/graphmode"),r=e("math/builtinframe"),n={assignmentForbidden:function(e){return"x"===e||"y"===e||"theta"===e||"tmp"===e.slice(0,3)||r.hasOwnProperty(e)},isValidSlider:function(e){return"x"===e||"y"===e||"ans"!==e.slice(0,3)&&!n.assignmentForbidden(e)},sliderVariables:function(e){return-1!==e.indexOf("theta")&&(e=e.filter(function(e){return"r"!==e})),e.filter(function(e){return!n.assignmentForbidden(e)&&"ans"!==e.slice(0,3)})},graphingEnabled:function(){return!0},ansEnabled:function(){return!1},validRegressionParameter:function(e){return"x"!==e&&"y"!==e},validLHS:function(e){return"theta"!==e},unplottablePolarFunction:function(e,t){return"theta"===e&&-1!==t.indexOf("r")},validDoubleInequalitySymbol:function(e){return"x"===e||"y"===e},validDoubleInequalityVariables:function(e){return!(e.length>2)&&e.every(n.validDoubleInequalitySymbol)},validExpressionVariable:function(e){return"x"===e},validSolvedVariable:function(e){return"x"===e||"y"===e||"r"===e},validImplicitVariables:function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return"x"===e[0]&&"y"===e[1]||"y"===e[0]&&"x"===e[1]||"r"===e[0]&&"theta"===e[1]||"theta"===e[0]&&"r"===e[1];default:return!1}},graphableListVariables:function(e,t){return"x"===e||"y"===e||"r"===e||"x"===t||"y"===t},validParametricVariable:function(e){return"t"===e},validParametricVariables:function(e){return 1===e.length&&n.validParametricVariable(e[0])},validInequalityVariables:function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return n.validImplicitVariables(e);default:return!1}},validFirstColumnVariable:function(e){return"y"!==e&&"r"!==e&&"theta"!==e&&!e.match(/y_(\\d+)/)},complicatedPolarImplicit:function(e,t){return"theta"===e||"r"===e&&1!==t},constantGraphMode:function(e){return"x"===e?t.X:"r"===e?t.POLAR:t.Y},graphMode:function(e,r){return"y"===r?t.X:"x"===e?t.X:"r"===e&&"theta"===r?t.POLAR:t.Y},tableableAsConstant:function(e){return"x"!==e&&("r"!==e&&"theta"!==e)},implicitIndependent:function(e){return"x"},implicitDependency:function(e){return"y"===e?"x":"theta"===e?"r":"y"},graphableAsConstant:function(e){return"y"===e||"x"===e||"r"===e},disabledFeatures:function(){return[]}};return n}),define("math/frameFourFunction",["require","math/parsenode/builtinfunction"],function(e){function t(e){var t={};return e.additionalFunctions&&-1!==e.additionalFunctions.indexOf("sqrt")&&(t.sqrt=r.sqrt),t}var r=e("math/parsenode/builtinfunction");return{getFrame:t}}),define("math/frameScientific",["require","math/builtinconstants","math/parsenode/builtinfunction"],function(e){function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+"\' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t={};return a.forEach(function(e){t[e]=n[e]}),s.forEach(function(e){t[e]=i[e]}),e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),t}var n=e("math/builtinconstants"),i=e("math/parsenode/builtinfunction"),a=["pi","e","trigAngleMultiplier"],s=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","mean","round","stdev","stdevp","nCr","nPr","exp","factorial"];return t(a,n),t(s,i),{getFrame:r}}),define("math/frameSingleExpressionScientific",["require","math/builtinconstants","math/parsenode/builtinfunction"],function(e){function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+"\' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t={};return a.forEach(function(e){t[e]=n[e]}),s.forEach(function(e){t[e]=i[e]}),e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),t}var n=e("math/builtinconstants"),i=e("math/parsenode/builtinfunction"),a=["pi","e","trigAngleMultiplier"],s=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","exp","factorial"];return t(a,n),t(s,i),{getFrame:r}}),define("math/frameGraphing",["require","math/builtinconstants","math/parsenode/builtinfunction"],function(e){function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+"\' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);for(t in i)i.hasOwnProperty(t)&&(!0===e.restrictedFunctions&&-1!==a.indexOf(t)||!1===e.distributions&&-1!==s.indexOf(t)||(r[t]=i[t]));return e.trigAngleMultiplier&&(r.trigAngleMultiplier=e.trigAngleMultiplier),r}var n=e("math/builtinconstants"),i=e("math/parsenode/builtinfunction"),a=["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov"],s=["erf","ttest","tscore","ittest","normaldist","tdist","poissondist","binomialdist","pdf","cdf","histogram","dotplot","boxplot"];return t(a,i),t(s,i),{getFrame:r}}),define("math/context",["require","console","pjs","underscore","./plotter","parser","math/parsenode/constant","math/parsenode/functioncall","math/parsenode/image","math/parsenode/slider","math/parsenode/table","math/parsenode/tablecolumn","math/parsenode/freevariable","math/finddependencyorder","math/errormsg","graphing/graphmode","worker/workerconfig","./findIntersections","./interpolatedlabel","math/types","math/expression-types","math/getCLSymbolMap","math/distribution-spec","math/maybe-rational","math/policyFourFunction","math/policyScientific","math/policySingleExpressionScientific","math/policySingleExpressionFourFunction","math/policyGraphing","math/frameFourFunction","math/frameFourFunction","math/frameScientific","math/frameSingleExpressionScientific","math/frameGraphing"],function(e){function t(e){var t=e.rawTree.userData,r=e.rawTree.metaData;return t.cdf&&t.cdf.show&&r.distributionSpec}var r=e("console"),n=e("pjs"),i=e("underscore"),a=e("./plotter").default,s=e("parser"),o=e("math/parsenode/constant"),u=e("math/parsenode/functioncall"),c=e("math/parsenode/image"),l=e("math/parsenode/slider"),p=e("math/parsenode/table"),f=e("math/parsenode/tablecolumn"),h=e("math/parsenode/freevariable"),d=e("math/finddependencyorder"),m=e("math/errormsg"),g=e("graphing/graphmode"),y=e("worker/workerconfig"),v=e("./findIntersections").findIntersections,b=e("./interpolatedlabel"),x=e("math/types"),_=e("math/expression-types"),M=e("math/getCLSymbolMap").getCLSymbolMap,S=e("math/distribution-spec"),E=e("math/maybe-rational").maybeRational,w={fourFunction:e("math/policyFourFunction"),scientific:e("math/policyScientific"),singleExpressionScientific:e("math/policySingleExpressionScientific"),singleExpressionFourFunction:e("math/policySingleExpressionFourFunction"),graphing:e("math/policyGraphing")},D={fourFunction:e("math/frameFourFunction"),singleExpressionFourFunction:e("math/frameFourFunction"),scientific:e("math/frameScientific"),singleExpressionScientific:e("math/frameSingleExpressionScientific"),graphing:e("math/frameGraphing")};return n(function(e){function n(e,t){return e?"0"===e?L:"1"===e?q:s.parse(e,t):F}function T(e,t){if(e)return s.parse(e,t)}function C(e){return"ans"!==e.slice(0,3)}function I(e,t){var r,n=e.multiplyDefined,i=e.cyclicallyDefined;for(r in n)n.hasOwnProperty(r)&&(t[r]=m.multiplyDefined(r));for(r in i)i.hasOwnProperty(r)&&(t[r]=m.cycle(i[r].filter(C)))}function P(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];e[i]||(e[i]=[]),e[i].push(t)}}function O(e,t,r){var n,i,a=e.evaluationState,s=e.rawTree,c=s.metaData.cdfMin,l=s.metaData.cdfMax,p=NaN,f=NaN,h={},d="Assignment"===s.type?s._expression:s,g=d&&d.metaData&&d.metaData.distributionSpec;if(a.variables)for(i=0;i<a.variables.length;i++)h[a.variables[i]]=!0;if(c){var y=c.tryGetConcreteTree(r);for(y.isConstant&&(p=y.asValue()),n=y.getDependencies(),i=0;i<n.length;i++)h[n[i]]=!0}else p=-1/0;if(l){var v=l.tryGetConcreteTree(r);for(v.isConstant&&(f=v.asValue()),n=v.getDependencies(),i=0;i<n.length;i++)h[n[i]]=!0}else f=1/0;var b=!0,x=!0;if(isNaN(p)&&(b=!1,p=NaN),isNaN(f)&&(x=!1,f=NaN),b?x?p>f&&(b=!1,x=!1,a.error=m.cdfMaxLessThanMin().getError()):a.error=m.cdfMaxInvalid().getError():a.error=m.cdfMinInvalid().getError(),b&&x){var _=u("cdf",[d,o(p),o(f)]);a.cdf_evaluation=+_.tryGetConcreteTree(r).asValue()}var M=-1/0,S=1/0;if(g&&(g.discrete&&(M=0),"binomialdist"===g.symbol&&d.args&&d.args[0])){var E=d.args[0].asValue();isFinite(E)&&(S=E)}s.metaData.evaluatedCDFMin=p,s.metaData.evaluatedCDFMax=f,a.cdf_min_valid=b,a.cdf_max_valid=x,a.cdf_min_default=M,a.cdf_max_default=S,a.is_single_identifier=!1,a.variables=t.sliderVariables(Object.keys(h))}function N(e,t,r){var n,i,a=e.evaluationState,s=e.rawTree,o=a.expression_type===_.POLAR?s.metaData.polarDomainMin:s.metaData.parametricDomainMin,u=a.expression_type===_.POLAR?s.metaData.polarDomainMax:s.metaData.parametricDomainMax,c=NaN,l=NaN,p=!1,f={};if(o){p=!0;var h=o.tryGetConcreteTree(r);for(h.isConstant&&(c=h.asValue()),n=h.getDependencies(),i=0;i<n.length;i++)f[n[i]]=!0}else c=0;if(u){p=!0;var d=u.tryGetConcreteTree(r);for(d.isConstant&&(l=d.asValue()),n=d.getDependencies(),i=0;i<n.length;i++)f[n[i]]=!0}else a.expression_type===_.PARAMETRIC?l=1:a.expression_type===_.POLAR&&(l=12*Math.PI/r.trigAngleMultiplier.asValue());var g=!0,y=!0;isFinite(c)||(g=!1,c=NaN),isFinite(l)||(y=!1,l=NaN),g?y?c>l&&(g=!1,y=!1,a.error=m.domainMaxLessThanMin().getError()):a.error=m.domainMaxInvalid().getError():a.error=m.domainMinInvalid().getError(),s.metaData.evaluatedDomainMin=c,s.metaData.evaluatedDomainMax=l,a.expression_type===_.POLAR&&(s.metaData.isExplicitDomain=p),a.domain_min_number=c,a.domain_max_number=l,a.domain_min_valid=g,a.domain_max_valid=y,a.expression_type===_.PARAMETRIC&&(delete f.t,a.variables=t.sliderVariables(Object.keys(f)))}function A(e,t,r){var n,i,a=e.evaluationState,s=e.rawTree,o=s.metaData.vizAxisOffset,u=s.metaData.vizBreadth,c=NaN,l=NaN,p={};if(o){var f=o.tryGetConcreteTree(r);for(f.isConstant&&(c=f.asValue()),n=f.getDependencies(),i=0;i<n.length;i++)p[n[i]]=!0}else c=1;if(u){var h=u.tryGetConcreteTree(r);for(h.isConstant&&(l=h.asValue()),n=h.getDependencies(),i=0;i<n.length;i++)p[n[i]]=!0}else l=1;var d=!0,g=!0;isFinite(c)||(d=!1,c=NaN),isFinite(l)||(g=!1,l=NaN),d?g||(a.error=m.boxplotBreadthInvalid().getError()):a.error=m.boxplotOffsetInvalid().getError(),s.metaData.evaluatedAxisOffset=c,s.metaData.evaluatedBreadth=l,a.viz_values={axisOffset:c,breadth:l},a.viz_valids={axisOffset:d,breadth:g},a.variables=t.sliderVariables(Object.keys(p))}e.triggerGraphComputed=function(){},e.triggerStatusChange=function(){},e.triggerRemoveGraph=function(){},e.triggerRender=function(){},e.triggerRenderSlowly=function(){},e.triggerDidAddStatement=function(){},e.triggerDidRemoveStatement=function(){},e.triggerDidUpdateIntersections=function(){},e.init=function(){this.statements={},this.analysis={},this.currentStatus={},this.currentLabel={},this.unpublishedIds={},this.intersectIds={},this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={},this.markedRegressionDirty=!1,this.setEvaluationMode("graphing"),this.setRestrictedFunctions(!1),this.setFunctionDefinition(!0),this.invalidate()},e.getCLSymbolMap=M,e.processChangeSet=function(e){e.isCompleteState&&(this.invalidate(),this.statements={},this.currentLabel={}),e.viewState&&this.setViewState(e.viewState),e.hasOwnProperty("degreeMode")&&this.setDegreeMode(e.degreeMode),e.hasOwnProperty("evaluationMode")&&this.setEvaluationMode(e.evaluationMode),e.hasOwnProperty("additionalFunctions")&&this.setAdditionalFunctions(e.additionalFunctions),e.hasOwnProperty("restrictedFunctions")&&this.setRestrictedFunctions(e.restrictedFunctions),e.hasOwnProperty("distributions")&&this.setDistributions(e.distributions),e.hasOwnProperty("functionDefinition")&&this.setFunctionDefinition(e.functionDefinition),e.hasOwnProperty("pointsOfInterest")&&this.setPointsOfInterest(e.pointsOfInterest),e.hasOwnProperty("plotSingleVariableImplicitEquations")&&this.setPlotSingleVariableImplicitEquations(e.plotSingleVariableImplicitEquations),e.hasOwnProperty("intersectIds")&&(this.intersectIds=e.intersectIds),this.processStatements(e),this.updateAnalysis(),e.hasOwnProperty("intersectId")&&this._updateIntersections(e.intersectId),this._publishAllStatuses(),this._computeAllLabels(),this._graphAllChanged(),this.unpublishedIds={},e.isCompleteState?this.triggerRenderSlowly():this.triggerRender()},e.processStatements=function(e){var t;if(e.statements)for(var r in e.statements){var n=e.statements[r];if(null===n){if(!e.isCompleteState&&this.statements.hasOwnProperty(r)&&(t=this.statements[r].getAllIds()),this.removeStatement(r),!e.isCompleteState&&t){for(var i=0;i<t.length;i++)this.triggerRemoveGraph(t[i]);this.triggerDidRemoveStatement(r)}}else this.addStatement(n),e.isCompleteState||this.triggerDidAddStatement(n)}},e.setViewState=function(e){if(!i.isEqual(e,this.viewState)){this.viewState=e;for(var t in this.statements)this.statements.hasOwnProperty(t)&&(this.unpublishedIds[t]=!0)}},e.getViewState=function(){if(this.viewState){var e=Object.create(this.viewState);return this.parent_frame&&this.parent_frame.trigAngleMultiplier?e.trigAngleMultiplier=this.parent_frame.trigAngleMultiplier.asValue():e.trigAngleMultiplier=1,e}},e.setDegreeMode=function(e){this.use_degrees=e,this.invalidate()},e.setEvaluationMode=function(e){this.evaluationMode=e,this.policy=w[e],this.invalidate()},e.setAdditionalFunctions=function(e){this.additionalFunctions=e,this.invalidate()},e.setRestrictedFunctions=function(e){this.restrictedFunctions=e,this.invalidate()},e.setDistributions=function(e){this.distributions=e,this.invalidate()},e.setFunctionDefinition=function(e){this.functionDefinition=e,this.invalidate()},e.setPointsOfInterest=function(e){e!==y.pointsOfInterest&&(y.pointsOfInterest=e,this.invalidate())},e.setPlotSingleVariableImplicitEquations=function(e){e!==y.plotSingleVariableImplicitEquations&&(y.plotSingleVariableImplicitEquations=e,this.invalidate())},e._publishAllStatuses=function(){var e={},t=this.currentStatus;this.currentStatus={};for(var r in this.unpublishedIds)if(this.analysis.hasOwnProperty(r)){var n=this.analysis[r].evaluationState;JSON.stringify(n)!==JSON.stringify(t[r])&&(e[r]=n),this.currentStatus[r]=n}this.triggerStatusChange(e)},e._computeAllLabels=function(){for(var e in this.currentLabel){var t=this.statements[e];if(t){var r=t.tryGetConcreteTree(this.frame),n=1;r.valueType===x.ListOfPoint&&(n=r.args.length);for(var a=[],s=0;s<n;s++)a.push(b.interpolate(this.currentLabel[e],this.frame,s));i.isEqual(a,t.computedLabels)||(t.computedLabels=a,this.unpublishedIds[e]=!0)}}},e._graphAllChanged=function(){var e=this.getViewState();if(a.validateViewState(e)){for(var t in this.unpublishedIds)if(this.analysis.hasOwnProperty(t)){var r=this.analysis[t],n=r.evaluationState.expression_type,s=n===_.SINGLE_POINT||n===_.POINT_LIST;if(r.rawTree.isTable)for(var o=r.graph(e),u=r.rawTree.getAllIds(),c=0;c<u.length;c++)o[u[c]]?this.triggerGraphComputed(u[c],o[u[c]]):this.triggerRemoveGraph(u[c]);else r.evaluationState.is_graphable&&(r.rawTree.userData.shouldGraph||r.rawTree.userData.showLabel&&s)?(this.triggerGraphComputed(t,r.graph(e)),this.intersectIds.hasOwnProperty(t)&&this._updateIntersections(t)):this.triggerRemoveGraph(t)}if(i.keys(this.unpublishedIds).length)for(var l in this.intersectIds)this.unpublishedIds.hasOwnProperty(l)||this.intersectIds.hasOwnProperty(l)&&this._updateIntersections(l)}},e._updateIntersections=function(e){if(this.viewState){if(!this.analysis[e]||!this.analysis[e].shouldIntersect())return void this.triggerDidUpdateIntersections(e,[]);var t=v(this.analysis,this.viewState,e);this.triggerDidUpdateIntersections(e,t)}},e.getDisabledFeatures=function(){var e,t=this.policy.disabledFeatures();e=!1===this.functionDefinition?t.concat("FunctionDefinition"):t;var r=this.additionalFunctions||[];return e=e.filter(function(e){return("Exponent"!==e||-1===r.indexOf("exponent"))&&("PercentOf"!==e||-1===r.indexOf("percent"))}.bind(this))};var L=o(E(0,1)),q=o(E(1,1)),F=o(NaN);e.addStatement=function(e){if(e){var t=e.id;this.markExportsDirty(t),this.markAsDirtyRoot(t);var r={index:this.policy.ansEnabled()?e.index:void 0,disabledFeatures:this.getDisabledFeatures()},i={};switch(e.type){case"table":var a=[];this.statements.hasOwnProperty(t)&&(a=this.statements[t].getAllIds()),e.shouldGraph=!0;for(var u,h,d,m=e.columns,g=[],y=0,v=0;v<m.length;v++)y=Math.max(m[v].values.length,y);for(var x=0;x<m.length;x++){u=s.parse(m[x].latex,r),h=[];for(var _=-1,M=0;M<m[x].values.length;M++)m[x].values[M].replace(/\\\\space/g,"").match(/\\S/)?(h.push(s.parse(m[x].values[M],r)),_=M):h.push(o(NaN));h=h.slice(0,_+1),d=f(u,y,h),d.id=m[x].id,d.header&&(d.header.userData=m[x]),d.header&&(d.header.metaData={}),g.push(d)}this.statements[t]=p(g);var E=this,w=this.statements[t].getAllIds();a.forEach(function(e){-1===w.indexOf(e)&&E.triggerRemoveGraph(e)});break;case"image":var D="-\\\\trigAngleMultiplier*\\\\arctan(\\\\sin("+e.angle+"),\\\\cos("+e.angle+"))";this.statements[t]=c({center:s.parse(e.center,r),radianAngle:s.parse(D,r),width:s.parse(e.width,r),height:s.parse(e.height,r),opacity:s.parse(e.opacity,r)});break;default:if(this.statements[t]=s.parse(e.latex,r),this.statements[t].shouldPromoteToSlider(this.policy)){var C=e.slider;this.statements[t]=l(this.statements[t],{sliderMin:T(C&&C.min,r),sliderMax:T(C&&C.max,r),sliderStep:T(C&&C.step,r)})}else if(e.polarDomain&&e.polarDomain.min&&(i.polarDomainMin=n(e.polarDomain.min,r)),e.polarDomain&&e.polarDomain.max&&(i.polarDomainMax=n(e.polarDomain.max,r)),e.parametricDomain&&e.parametricDomain.min&&(i.parametricDomainMin=n(e.parametricDomain.min,r)),e.parametricDomain&&e.parametricDomain.max&&(i.parametricDomainMax=n(e.parametricDomain.max,r)),e.vizProps&&(e.vizProps.axisOffset&&(i.vizAxisOffset=n(e.vizProps.axisOffset,r)),e.vizProps.breadth&&(i.vizBreadth=n(e.vizProps.breadth,r))),e.cdf&&e.cdf.show){var I=S.parseToplevelFunction(e.latex,r);I&&"distribution"===I.type&&(i.distributionSpec=I,i.cdfMin=T(e.cdf.min,r),i.cdfMax=T(e.cdf.max,r))}}if(this.statements[t].userData=e,this.statements[t].metaData=i,e.label){var P=this.currentLabel[t];P&&P.raw===e.label||(this.currentLabel[t]=b.parse(e.label))}else delete this.currentLabel[t]}},e.removeStatement=function(e){var t=this.statements[e];if(t){if(this.markExportsDirty(e),t.isTable){var r=this;t.getAllIds().forEach(function(e){r.triggerRemoveGraph(e)})}else this.triggerRemoveGraph(e);delete this.currentLabel[e],delete this.statements[e],delete this.analysis[e]}},e.invalidate=function(){for(var e in this.statements)this.statements.hasOwnProperty(e)&&this.markAsDirtyRoot(e);this.currentStatus={},this.analysis={},this.parent_frame=D[this.evaluationMode].getFrame({restrictedFunctions:this.restrictedFunctions,distributions:this.distributions,additionalFunctions:this.additionalFunctions,trigAngleMultiplier:o(this.use_degrees?Math.PI/180:E(1,1))}),this.frame=Object.create(this.parent_frame),this.lastFrame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)},e.markExportsDirty=function(e){if(this.statements[e]){this.statements[e].isRegression&&(this.markedRegressionDirty=!0);for(var t=this.statements[e].getLegalExports(this.policy),r=0;r<t.length;r++)this.dirtyExportedSymbolRoots[t[r]]=!0}},e.markAsDirtyRoot=function(e){this.dirtyStatementRoots[e]=!0},e.getFrame=function(){return this.updateAnalysis(),this.frame},e.getAnalysis=function(){return this.updateAnalysis(),this.analysis},e.getStatus=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].status},e.getEvaluationState=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].evaluationState},e._updateRegressions=function(e){var t,r=this.frame,n=this.lastFrame,i=this.regressionFrame,a=[];for(t in e)e.hasOwnProperty(t)&&e[t].isRegression&&a.push(t);var s=this;a.sort(function(e,t){var r=s.statements[e].userData&&s.statements[e].userData.residualVariable,n=s.statements[t].userData&&s.statements[t].userData.residualVariable;return r&&!n?-1:n&&!r?1:0});var o=d(this.policy,e,a);I(o,i);for(var u=o.resolved,c={},l=0;l<u.length;l++)if(t=u[l],this.statements[t].isRegression)this.analysis[t]=e[t].analyze(this.policy,i,r,n,c),this.analysis[t].exportTo(this.policy,r),delete e[t];else{var p=e[t].tryGetConcreteTree(i);e[t].exportTo(this.policy,p,i),c[t]={rawTree:e[t],concreteTree:p}}},e.buildSymbolToExpressionDirtyMap=function(){var e={};for(var t in this.statements)if(this.statements.hasOwnProperty(t)){var r=this.statements[t],n=r.metaData;P(e,t,r.getDependencies()),P(e,t,r.getLegalExports(this.policy)),n.polarDomainMin&&P(e,t,n.polarDomainMin.getDependencies()),n.polarDomainMax&&P(e,t,n.polarDomainMax.getDependencies()),n.parametricDomainMin&&P(e,t,n.parametricDomainMin.getDependencies()),n.parametricDomainMax&&P(e,t,n.parametricDomainMax.getDependencies()),n.vizBinWidth&&P(e,t,n.vizBinWidth.getDependencies()),n.vizBinCenter&&P(e,t,n.vizBinCenter.getDependencies()),n.vizAxisOffset&&P(e,t,n.vizAxisOffset.getDependencies()),n.vizBreadth&&P(e,t,n.vizBreadth.getDependencies()),n.cdfMin&&P(e,t,n.cdfMin.getDependencies()),n.cdfMax&&P(e,t,n.cdfMax.getDependencies())}return e},e.getDirtyIdsAndSymbols=function(){var e,t,r,n=this.buildSymbolToExpressionDirtyMap(),i={},a={},s=this.markedRegressionDirty,o=[],u=[];for(e in this.dirtyStatementRoots)this.dirtyStatementRoots[e]&&(a[e]=!0,o.push(e));for(r in this.dirtyExportedSymbolRoots)this.dirtyExportedSymbolRoots[r]&&(i[r]=!0,u.push(r));for(;o.length||u.length;){for(;o.length;){e=o.pop();var c=this.statements[e];if(c){c.isRegression&&(s=!0);var l=c.getLegalExports(this.policy);for(t=0;t<l.length;t++)r=l[t],i[r]||(i[r]=!0,u.push(r))}}for(;u.length;){r=u.pop();var p=n[r];if(p)for(t=0;t<p.length;t++)e=p[t],a[e]||(a[e]=!0,o.push(e))}}return{ids:a,symbols:i,hasDirtyRegression:s}},e.updateAnalysis=function(){var e,r,n,i=this.getDirtyIdsAndSymbols();if(i.hasDirtyRegression){n={};for(e in this.statements)this.statements[e]&&(n[e]=this.statements[e]);this.frame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)}else{var a=i.ids;n={};for(e in a)this.statements[e]&&(n[e]=this.statements[e]);var s=i.symbols;for(r in s)s[r]&&(delete this.frame[r],delete this.regressionFrame[r])}for(e in n)n[e]&&(this.unpublishedIds[e]=!0);this.markedRegressionDirty=!1,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={};var o=this.analysis,u=this.frame;"graphing"===this.evaluationMode&&this._updateRegressions(n);var c=d(this.policy,n);I(c,u);for(var l=c.resolved,p=0;p<l.length;p++)switch(e=l[p],this.evaluationMode){case"fourFunction":case"singleExpressionFourFunction":o[e]=this.statements[e].analyzeFourFunction(this.policy,u,o),o[e].exportTo(this.policy,u);break;case"scientific":o[e]=this.statements[e].analyzeScientific(this.policy,u,o),o[e].exportTo(this.policy,u);break;case"singleExpressionScientific":o[e]=this.statements[e].analyzeSingleExpressionScientific(this.policy,u,o),o[e].exportTo(this.policy,u);break;case"graphing":if(u.r){var f=Object.create(u);if(f.r=h("r"),o[e]=this.statements[e].analyze(this.policy,f,o),o[e].getGraphMode()===g.POLAR){o[e].exportTo(this.policy,u);continue}}o[e]=this.statements[e].analyze(this.policy,u,o),o[e].exportTo(this.policy,u)}if("graphing"===this.evaluationMode)for(p=0;p<l.length;p++){e=l[p];var m=o[e],y=m.evaluationState.expression_type;y===_.PARAMETRIC||y===_.POLAR?N(o[e],this.policy,u):y===_.BOXPLOT?A(o[e],this.policy,u):t(o[e])&&O(o[e],this.policy,u)}this.lastFrame=Object.create(this.parent_frame);for(r in u)u.hasOwnProperty(r)&&(this.lastFrame[r]=u[r])},e.evaluateOnce=function(e){return r.log("Deprecated console.evaluateOnce - this should not run in production code"),this.analysis[e].concreteTree.asValue()},e.compile=function(e){return r.log("Deprecated console.compile - this should not run in production code"),this.analysis[e].concreteTree.getCompiledFunction()},e.evalStrings=function(e){return r.log("Deprecated console.evalStrings - this should not run in production code"),this.analysis[e].concreteTree.getEvalStrings()}})}),define("worker/workercore",["require","math/context","math/functions"],function(e){var t=e("math/context"),r=e("math/functions");return function(e){var n=t();return n.triggerGraphComputed=function(t,n){r.dehydrateGraphData(n),e("graphComputed",{id:t,graphData:n})},n.triggerDidUpdateIntersections=function(t,r){e("updateIntersections",{id:t,intersections:r})},n.triggerRender=function(){e("render")},n.triggerRenderSlowly=function(){e("renderSlowly")},n.triggerRemoveGraph=function(t){e("removeGraph",t)},n.triggerStatusChange=function(t){e("statusChange",t)},{processChangeSet:function(t){n.processChangeSet(t),e("processChangeSet",t)}}}}),define("worker/worker",["require","worker/workercore","console"],function(e){var t=e("worker/workercore"),r={};e("console").log=function(e){self.postMessage({log:JSON.stringify(e)})};var n=self;n.window=n,n.onmessage=function(e){var i=e.data&&e.data.connectionId;if(i)if("destroy"===e.data.originalMessage.type)delete r[i];else{var a=r[i];a||(a=t(function(e,t){n.postMessage({connectionId:i,originalMessage:{type:e,payload:t}})}),r[i]=a),a.processChangeSet(e.data.originalMessage)}},n.loadMessageQueue&&(n.loadMessageQueue.forEach(function(e){n.onmessage(e)}),delete n.loadMessageQueue)}),"undefined"==typeof window&&(void 0===requirejs&&(importScripts("../vendor/require.js"),importScripts("config.js")),self.loadMessageQueue=[],self.onmessage=function(e){self.loadMessageQueue.push(e)},requirejs(["worker/worker"])),define("toplevel/worker",function(){});\n'
}),define("worker_src",["require","text!worker_src_underlying"],function(e){return e("text!worker_src_underlying")}),define("worker/create_worker_url",["require","worker_src"],function(e){var t=e("worker_src");return function(){if(!t.length)return"/assets/generated/combined/toplevel/worker.js";var e;try{e=new Blob([t],{type:"application/javascript"})}catch(i){try{var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new n;r.append(t),e=r.getBlob("application/javascript")}catch(e){return null}}return(window.URL||window.webkitURL).createObjectURL(e)}}),define("worker/fakeworker",["require","worker/workercore"],function(e){var t=e("worker/workercore");return function(e){function n(t,n){e({type:t,payload:n})}var r={},i=t(n);return r.postMessage=function(e){setTimeout(function(){i.processChangeSet(e)},0)},r}}),define("lib/urlparser",["require"],function(e){return{getParameter:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[void 0,""])[1].replace(/\+/g,"%20"))||null}}}),define("worker/workerpool",["require","console","./create_worker_url","pjs","underscore_model","./fakeworker","underscore","lib/urlparser"],function(e){function t(e){return u?function(t){d=Math.max(Date.now(),d)+u,setTimeout(e,d-Date.now(),t)}:e}var n=e("console"),r=e("./create_worker_url"),i=e("pjs"),o=e("underscore_model").UnderscoreModel,s=e("./fakeworker"),a=e("underscore"),l=e("lib/urlparser"),c=l.getParameter("workerThrottle"),u=parseInt(c,10),d=0;return i(o,function(e,i){e.init=function(e){i.init.call(this),this.workers=[],this.maxWorkers=e,this.workerURL=r()},e.allowedToSpawnWorker=function(){return this.workerURL&&this.workers.length<this.maxWorkers},e.killWorker=function(e){-1!==a.indexOf(this.workers,e)&&(e.terminate(),this.workers=a.without(this.workers,e),a.shuffle(a.values(e.__connections)).forEach(function(e){e&&e.onWorkerKilled&&e.onWorkerKilled()}))},e.spawnWorker=function(){try{var e=new Worker(this.workerURL);return e.__connections={},e.__isFake=!1,e.onerror=function(e){n.log(e)},e.addEventListener("message",t(function(t){var n=t.data;if((!n||!n.log)&&n&&n.connectionId){var r=e.__connections[n.connectionId];r&&r.onResponse(n.originalMessage)}})),this.workers.push(e),e}catch(e){return null}},e.spawnFakeWorker=function(){var e=s(t(function(t){var n=a.values(e.__connections)[0];n&&n.onResponse(t)}));return e.__isFake=!0,e.__connections={},e},e.findLeastUsedWorker=function(){var e=function(e){return a.size(e.__connections)};return a.sortBy(this.workers,e)[0]},e.allocateWorker=function(){var e=null;return this.allowedToSpawnWorker()&&(e=this.spawnWorker()),e||(e=this.findLeastUsedWorker()),e||(e=this.spawnFakeWorker()),e}})}),define("main/evaluator",["require","exports","worker/workerpoolconnection","worker/workerpool","math/functions","lib/deepCopy"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.listeners={processChangeSet:function(e){for(var t=e.syncId;this.syncRequests.length&&void 0!==t&&this.syncRequests[0].id<=t;){this.syncRequests.shift().callback()}this.resume(),this.__state.droppedMessage=!1,this.clearJobTimer(),this._processChangeSet()},removeGraph:function(e){delete this.__addedGraphsBuffer[e],delete this.__intersectionsBuffer[e],this.__removedGraphsBuffer[e]=!0},graphComputed:function(e){i.rehydrateGraphData(e.graphData),delete this.__removedGraphsBuffer[e.id],this.__addedGraphsBuffer[e.id]=e.graphData},updateIntersections:function(e){this.__intersectionsBuffer[e.id]=e.intersections},statusChange:function(e){this.triggerStatusChange(e)},render:function(){this.triggerGraphData(this.getGraphDataFromBuffer()),this.clearBuffers(),this.triggerRender()},renderSlowly:function(){this.triggerGraphData(this.getGraphDataFromBuffer()),this.clearBuffers(),this.triggerRenderSlowly()}},this.__state={},this.changeSet=null,this.cumulativeChangeSet={},this.__isSuspended=!1,this.clearJobTimer(),this.syncId=1,this.syncRequests=[],this.clearBuffers(),e||(e=r()),this.workerPool=e,this.createWorkerPoolConnection()}return e.prototype.triggerStatusChange=function(e){},e.prototype.triggerGraphData=function(e){},e.prototype.triggerRender=function(){},e.prototype.triggerRenderSlowly=function(){},e.prototype.createWorkerPoolConnection=function(){var e=this;this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){}),this.workerPoolConnection=n(this.workerPool),this.workerPoolConnection.onResponse=function(t){e.isSuspended()&&"processChangeSet"!==t.type||e.listeners[t.type].call(e,t.payload)},this.workerPoolConnection.onWorkerKilled=function(){e.createWorkerPoolConnection(),e.resume(),e.hasJobInWorker()?(e.changeSet=o.default(e.cumulativeChangeSet),e.__state.changed=!0,e.__state.droppedMessage=!0,e.clearJobTimer()):(e.changeSet=o.default(e.cumulativeChangeSet),e.__state.changed=!1),e.processChangeSet()}},e.prototype.clearBuffers=function(){this.__addedGraphsBuffer={},this.__removedGraphsBuffer={},this.__intersectionsBuffer={}},e.prototype.getGraphDataFromBuffer=function(){return{addedGraphs:this.__addedGraphsBuffer,removedGraphs:this.__removedGraphsBuffer,intersections:this.__intersectionsBuffer}},e.prototype.destroy=function(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){},this.workerPoolConnection.destroy())},e.prototype.isSuspended=function(){return this.__isSuspended},e.prototype.suspend=function(){this.__isSuspended=!0},e.prototype.resume=function(){this.__isSuspended=!1},e.prototype.clearJobTimer=function(){this.__jobStartTime=-1},e.prototype.startJobTimer=function(){this.__jobStartTime=(new Date).getTime()},e.prototype.hasJobInWorker=function(){return-1!==this.__jobStartTime},e.prototype.getJobElapsedTime=function(){return this.hasJobInWorker()?(new Date).getTime()-this.__jobStartTime:NaN},e.prototype.tick=function(){this._processChangeSet()},e.prototype.processChangeSet=function(){this.__processChangeSetRequested=!0},e.prototype._processChangeSet=function(){if(this.__processChangeSetRequested){var e=this.getJobElapsedTime()>=4e3;if(this.__state.droppedMessage&&e)return void this.workerPoolConnection.killWorker();if(this.__state.changed&&this.changeSet)if(this.hasJobInWorker())this.changeSet.isCompleteState&&e&&this.workerPoolConnection.killWorker();else{var t=this.changeSet;this.changeSet=null,this.__state.changed=!1,this.startJobTimer(),this.workerPoolConnection.sendMessage(t),this.__processChangeSetRequested=!1}}},e.prototype.notifyWhenSynced=function(e){var t=this;if(!this.hasJobInWorker()&&!this.__processChangeSetRequested)return void setTimeout(e,0);this.syncId++,this.syncRequests.push({id:this.syncId,callback:e}),this.applyToChangeSets(function(e){e.syncId=t.syncId})},e.prototype.applyToChangeSets=function(e){this.__state.changed=!0,this.changeSet||(this.changeSet={}),this.cumulativeChangeSet||(this.cumulativeChangeSet={}),e(this.changeSet),e(this.cumulativeChangeSet),this.processChangeSet()},e.prototype.setViewState=function(e){this.applyToChangeSets(function(t){t.viewState=o.default(e)})},e.prototype.clearStatementsAndStartCompleteState=function(){this.clearBuffers(),this.hasJobInWorker()&&this.suspend(),this.applyToChangeSets(function(e){e.isCompleteState=!0,delete e.statements}),this.cumulativeChangeSet=o.default(this.changeSet)},e.prototype.addStatement=function(e){this.applyToChangeSets(function(t){t.statements||(t.statements={}),t.statements[e.id]=o.default(e)})},e.prototype.addStatements=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.addStatement(r)}},e.prototype.removeStatement=function(e){this.applyToChangeSets(function(t){t.statements||(t.statements={}),t.statements[e]=null})},e.prototype.removeStatements=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.removeStatement(r)}},e.prototype.setIntersectIds=function(e){this.applyToChangeSets(function(t){t.intersectIds=o.default(e)})},e.prototype.updateIntersections=function(e){this.applyToChangeSets(function(t){t.intersectId=e})},e.prototype.setDegreeMode=function(e){this.applyToChangeSets(function(t){t.degreeMode=e})},e.prototype.setEvaluationMode=function(e){this.applyToChangeSets(function(t){t.evaluationMode=e})},e.prototype.setAdditionalFunctions=function(e){this.applyToChangeSets(function(t){t.additionalFunctions=e})},e.prototype.setRestrictedFunctions=function(e){this.applyToChangeSets(function(t){t.restrictedFunctions=e})},e.prototype.setDistributions=function(e){this.applyToChangeSets(function(t){t.distributions=e})},e.prototype.setFunctionDefinition=function(e){this.applyToChangeSets(function(t){t.functionDefinition=e})},e.prototype.setPointsOfInterest=function(e){this.applyToChangeSets(function(t){t.pointsOfInterest=e})},e.prototype.setPlotSingleVariableImplicitEquations=function(e){this.applyToChangeSets(function(t){t.plotSingleVariableImplicitEquations=e})},e}();t.Evaluator=s}),define("jquery.disabletextselection",["require","jquery"],function(e){var t=e("jquery");t.fn.disableTextSelection=function(e){return e&&this.each(function(){t(this).bind("mousedown touchstart",function(){t(document.activeElement).focusout()})}),this.each(function(){t(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}}),define("graphing/canvaslayer",["require","jquery","pjs","browser","lib/i18n","jquery.disabletextselection"],function(e){var t=e("jquery"),n=e("pjs"),r=e("browser"),i=e("lib/i18n");return e("jquery.disabletextselection"),n(function(e){e.init=function(e){this.grapher=e,this.$=t("<div class='dcg-graph-outer' role='img'></div>").attr("aria-roledescription",this.t("graph paper")).disableTextSelection(r.IS_IE),this.canvas_node=t("<canvas class='dcg-graph-inner'></canvas>").css("position","relative").css("display","block").disableTextSelection(r.IS_IE),this.devicePixelRatio=window.devicePixelRatio||1,this.ctx=this.canvas_node[0].getContext("2d"),this.resize(0,0),r.IS_IOS&&r.IS_IN_IFRAME&&(this.$.css("-webkit-transform","translate3d(0,-.25px,0)"),this.$.append('<div style="width:1px; height:.5px; pointer-events:none; opacity: 0;" aria-hidden="true">text</div>')),this.$.append(this.canvas_node)},e.resize=function(e,t,n){n=n||this.devicePixelRatio,e===this.width&&t===this.height||(this.width=e,this.height=t,this.canvas_node.css("width",e+"px").css("height",t+"px").attr("width",e*n).attr("height",t*n),this.ctx=this.canvas_node[0].getContext("2d"),this.ctx.scale(n,n))},e.t=function(e,t){return i.t(e,t,this.grapher.settings.language)},e.getAriaLabel=function(e){var t="";if(0===e)return this.t("Empty graph paper.");t=1===e?this.t("Graph paper showing 1 graph."):this.t("Graph paper showing __count__ graphs.",{count:e});var n=this.grapher.getAudioTrace();if(n&&!n.getAudioTraceActive()){void 0!==n.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!1})&&(r.IS_APPLE?t+=this.t(" Press OPTION+T for audio trace."):t+=this.t(" Press ALT+T for audio trace."))}return t},e.updateAria=function(e,t){this.$.attr("aria-hidden",!e||!this.grapher.settings.config.graphpaper).attr("tabindex",e&&this.grapher.settings.config.graphpaper&&this.grapher.settings.config.enableTabindex&&t>0?0:-1).attr("aria-label",this.getAriaLabel(t))},e.redraw=function(){}})}),define("loadcss!poi",function(){}),define("graphing/clipping",[],function(){function e(e){return Math.max(-1e40,Math.min(1e40,e))}var t={TOP:1,BOTTOM:2,LEFT:4,RIGHT:8,ALL:15,X:12,Y:3,POLAR_RADIAN_EQUALITY:1,POLAR_RADIAN_INEQUALITY:2,POLAR_DEGREE_EQUALITY:3,POLAR_DEGREE_INEQUALITY:4,Y_EQUALS:5,X_EQUALS:6,mapSegmentToCanvas:function(e,n,r,i){var o,s,a,l,c,u=[],d=n.xmin,p=n.ymin,h=n.xmax-n.xmin,f=n.ymax-n.ymin,g=r.width,m=r.height,y=g/h,v=-m/f,b=e.length;if(i===t.Y_EQUALS)for(o=0;o<b;o+=2)s=(e[o]-d)*y-.5,a=(e[o+1]-p)*v+m-.5,u.push(s,a);else if(i===t.X_EQUALS)for(o=0;o<b;o+=2)s=(e[o+1]-d)*y-.5,a=(e[o]-p)*v+m-.5,u.push(s,a);else if(i===t.POLAR_RADIAN_EQUALITY)for(o=0;o<e.length;o+=2)l=e[o],c=e[o+1],s=(c*Math.cos(l)-d)*y-.5,a=(c*Math.sin(l)-p)*v+m-.5,u.push(s,a);else if(i===t.POLAR_RADIAN_INEQUALITY)for(o=0;o<e.length;o+=2)l=e[o],c=e[o+1],c<0&&(c=0),s=(c*Math.cos(l)-d)*y-.5,a=(c*Math.sin(l)-p)*v+m-.5,u.push(s,a);else if(i===t.POLAR_DEGREE_EQUALITY)for(o=0;o<e.length;o+=2)l=e[o]*Math.PI/180,c=e[o+1],s=(c*Math.cos(l)-d)*y-.5,a=(c*Math.sin(l)-p)*v+m-.5,u.push(s,a);else if(i===t.POLAR_DEGREE_INEQUALITY)for(o=0;o<e.length;o+=2)l=e[o]*Math.PI/180,c=e[o+1],c<0&&(c=0),s=(c*Math.cos(l)-d)*y-.5,a=(c*Math.sin(l)-p)*v+m-.5,u.push(s,a);return u},clipStrokeEdges:function(e,n){return t.clipFillEdges(e,n,t.ALL,!0)},clipFillEdge:function(e,t,n,r){var i,o,s,a,l=[],c=[].push;r?(o=e[0],s=e[1],i=2,(a=t(o,s))&&l.push(o,s)):(o=e[e.length-2],s=e[e.length-1],i=0,a=t(o,s));for(var u=i;u<e.length;u+=2){var d=o,p=s,h=a;o=e[u],s=e[u+1],a=t(o,s),(a||h)&&(a&&h&&l.push(o,s),a&&!h&&(c.apply(l,n(o,s,d,p)),l.push(o,s)),!a&&h&&c.apply(l,n(d,p,o,s)))}return l},clipFillEdges:function(n,r,i,o){var s=r.xmin,a=r.xmax,l=r.ymin,c=r.ymax,u=function(e,t){return e>=s},d=function(e,t){return e<=a},p=function(e,t){return t>=l},h=function(e,t){return t<=c},f=function(t,n,r,i){return t=e(t),n=e(n),r=e(r),i=e(i),[s,n+(i-n)*(s-t)/(r-t)]},g=function(t,n,r,i){return t=e(t),n=e(n),r=e(r),i=e(i),[a,n+(i-n)*(a-t)/(r-t)]},m=function(t,n,r,i){return t=e(t),n=e(n),r=e(r),i=e(i),[t+(r-t)*(l-n)/(i-n),l]},y=function(t,n,r,i){return t=e(t),n=e(n),r=e(r),i=e(i),[t+(r-t)*(c-n)/(i-n),c]},v=n;return i&t.LEFT&&(v=t.clipFillEdge(n,u,f,o)),i&t.BOTTOM&&(v=t.clipFillEdge(v,p,m,o)),i&t.RIGHT&&(v=t.clipFillEdge(v,d,g,o)),i&t.TOP&&(v=t.clipFillEdge(v,h,y,o)),v},clipAllFillEdges:function(e,n){return t.clipFillEdges(e,n,t.ALL,!1)},computePolarFill:function(e,t,n){var r,i=[],o=e[0],s=o+n,a=[];i.push(a);for(var l=0;l<e.length;l+=2){r=e[l];var c=e[l+1];if(c<0&&(c=0),r>=s){for(a=[],i.push(a),o=e[l-2],s=o;r>=s;)s+=n;l-=4}else a.push(r,c)}if(0===t)for(l=0;l<i.length;l++)i[l].push(0,0);else{var u=n/16,d=t;for(l=0;l<i.length;l++){var p=i[l];for(o=p[0],s=p[p.length-2],r=s;r>o;r-=u)p.push(r,d);p.push(o,d)}}return i},computeCartesianFill:function(e,t){return e=e.slice(),e.push(e[e.length-2],t),e.push(e[0],t),[e]}};return t}),define("graphing/constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ANIMATE_ZOOM_DURATION=500,t.DOUBLETAP_ZOOM=2,t.ZOOM_FACTOR=1.0625,t.MAX_DOTTED_SEGMENTS=1e3,t.FILL_ALPHA=.4,t.POINT_ALPHA=.9,t.HIGHLIGHTED_POINT_ALPHA=.6,t.POLAR_ALPHA=.2,t.POI_ALPHA=.01,t.OFFSCREEN_RENDER_MARGIN=20}),define("graphing/dasheddrawer",["require","./constants","math/distance"],function(e){function t(e,t,r){return this.pattern=r,this.replen=this.pattern[0]+this.pattern[1],null!==t&&t/this.replen>n.MAX_DOTTED_SEGMENTS&&(this.pattern[0]=t*this.pattern[0]/this.replen/n.MAX_DOTTED_SEGMENTS,this.pattern[1]=t*this.pattern[1]/this.replen/n.MAX_DOTTED_SEGMENTS),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null,this.ctx=e,this}var n=e("./constants"),r=e("math/distance");return t.getTotalSegmentLength=function(e){if(e.length<4)return 0;for(var t=0,n=e[0],i=e[1],o=2;o<e.length;o+=2){var s=e[o],a=e[o+1];t+=r.hypot(s-n,a-i),n=s,i=a}return t},t.prototype.start=function(e,t){this.ctx.desmos_batching||this.ctx.beginPath(),this.px=e,this.py=t},t.prototype.next=function(e,t){var n=this.pattern[this.pstate],r=Math.sqrt(Math.pow(e-this.px,2)+Math.pow(t-this.py,2));if(r>1e-5){for(;r+this.dstaccum>=n;){var i=e-this.px,o=t-this.py,s=n-this.dstaccum;i*=s/r,o*=s/r,0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(this.px+i,this.py+o)),this.dstaccum=0,this.px+=i,this.py+=o,this.pstate=1-this.pstate,n=this.pattern[this.pstate],r-=s}0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(e,t))}this.px=e,this.py=t,this.dstaccum+=r},t.prototype.skip=function(e,t){this.px=e,this.py=t},t.prototype.close=function(){this.ctx.desmos_batching||this.ctx.stroke(),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null},t}),define("graphing/draw-image-to-ctx",["require","exports","graphing-calc/models/list"],function(e,t,n){"use strict";function r(e,t,r){if(e.computed_x)for(var i=0;i<e.computed_x.length;i++){var o=e.computed_x[i],s=e.computed_y[i],a=e.computed_width[i],l=e.computed_height[i],c=e.computed_radian_angle[i];if(isFinite(o)&&isFinite(s)&&isFinite(a)&&isFinite(l)&&isFinite(c)){t.save(),t.globalAlpha=e.computed_opacity[i];var u=r.mapy(l)-r.mapy(0),d=r.mapx(a)-r.mapx(0),p=0===c?1:Math.abs(d/a*(l/u)),h=r.mapx(o),f=r.mapy(s),g=h-d/2,m=f+u*p/2,y=l<0?-1:1,v=a<0?-1:1,b=g*v,x=m*y,w=Math.abs(d),_=Math.abs(u);0!==c&&(t.translate(h,f),t.scale(1,1/p),t.rotate(c),t.translate(-h,-f)),t.scale(v,y),t.drawImage(e.imageObj,b,x,w,_*p),n.isItemSelected(e)&&(t.beginPath(),t.rect(b,x,w,_*p),t.restore(),t.save(),t.strokeStyle="#6993C7",t.lineWidth=2,t.stroke()),t.restore()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.drawImageToCtx=r}),define("graphing/graphslayer",["require","pjs","./clipping","./dasheddrawer","./constants","./viewport","graphing/graphmode","expressions/colors","expressions/styles","expressions/styles","./draw-image-to-ctx"],function(e){var t=e("pjs"),n=e("./clipping"),r=e("./dasheddrawer"),i=e("./constants"),o=e("./viewport").Viewport,s=e("graphing/graphmode"),a=e("expressions/colors"),l=e("expressions/styles").PointStyle,c=e("expressions/styles").LineStyle,u={},d=e("./draw-image-to-ctx").drawImageToCtx,p=function(e){return new o(-3,e.width+3,-3,e.height+3)},h=function(e){return Math.round(e-.5)+.5},f=t(function(e){e.init=function(e){if(e.config.plaidMode)for(var t in a)a.hasOwnProperty(t)&&"string"==typeof a[t]&&(u[a[t]]=document.createElement("img"),u[a[t]].setAttribute("src","/assets/img/april-fools/"+t.toLowerCase()+".png"))},e.redrawToCtx=function(e,t,n,r,i){if(void 0===i)throw new Error("Programming Error: missing drawOrder argument to redrawToCtx");i.forEach(function(i){var o=n[i],s=r[i];void 0!==o&&o.visible&&f.drawSketchToCtx(n[i],e,t),s&&s.shouldGraph&&s.foreground&&d(s,e,t)})}});return f.eachSegment=function(e,t){for(var n=0;n<e.branches.length;n++)for(var r=e.branches[n],i=0;i<r.segments.length;i++){var o=r.segments[i];t(r,o)}},f.drawSketchToCtx=function(e,t,n){if(e.branches&&e.branches.length){var r=t.lineWidth,o=n.settings.globalCurveColor?n.settings.globalCurveColor:e.color,a=u[o];if(a&&a.complete&&a.naturalWidth>0){var l=t.createPattern(a,"repeat");t.fillStyle=l}else t.fillStyle=o;t.strokeStyle=o,t.lineJoin="round",t.lineCap="round";for(var d=!!n.settings.takingScreenshot,p=0;p<e.branches.length;p++){var h=e.branches[p];if(h.graphMode!==s.XYPOINT&&h.graphMode!==s.XYPOINT_MOVABLE){h.graphMode!==s.POLAR&&(t.desmos_batching=!0,t.beginPath());for(var g=0;g<h.segments.length;g++){var m=h.segments[g],y=s.Y;if(h.flip&&(y=s.X),h.graphMode&&(y=h.graphMode),y===s.POLYGONFILL)f.fillPolygonToCtx(t,n,m,h.fillOpacity);else if(y!==s.IMPLICIT){var v=h.operator,b="<"==v||">"==v||"<="==v||">="==v||"\\leq"==v||"\\le"==v||"\\geq"==v||"\\ge"==v,x="<="==v||"<"==v||"\\leq"==v||"\\le"==v;b&&f.fillGraphStrokeToCtx(t,n,m,x,y)}}t.globalAlpha=h.fillOpacity||i.FILL_ALPHA,h.graphMode!==s.POLAR&&(t.fill(),t.desmos_batching=!1),t.globalAlpha=1}}t.lineWidth=n.settings.graphLineWidth,e.style===c.DOTTED&&(t.lineWidth=2*n.settings.graphLineWidth),f.eachSegment(e,function(r,i){if(r.graphMode!==s.XYPOINT&&r.graphMode!==s.XYPOINT_MOVABLE){var o=s.Y;r.flip&&(o=s.X),r.graphMode&&(o=r.graphMode);var a=r.operator,l="default";"<"==a||">"==a||"!="==a||e.style===c.DASHED||r.style===c.DASHED?l=c.DASHED:e.style===c.DOTTED||r.style===c.DOTTED?(l=c.DOTTED,t.lineWidth=2*n.settings.graphLineWidth):e.style!==c.SINGLE_PIXEL&&r.style!==c.SINGLE_PIXEL||(l=c.SINGLE_PIXEL,t.lineWidth=1),f.drawGraphStrokeToCtx(t,n,i,l,o,a)}}),t.lineWidth=r,f.eachSegment(e,function(r,i){if(r.graphMode===s.XYPOINT&&r.showPoint||r.graphMode===s.XYPOINT_MOVABLE&&d){var o,a=[];if(r.interactiveLabel&&e.labels)for(var l=0,c=e.labels.length;l<c;l++){var u=e.labels[l];a.push(u.interactiveLabelVisible),u.interactiveLabelHovered&&(o=l)}var p=1;"medium"===r.pointSize?p=1.5:"large"===r.pointSize&&(p=2.25),f.drawPointsToCtx(t,n,i,r.style,a,o,p)}})}},f.drawGraphStrokeToCtx=function(e,t,i,o,s,a){e.globalAlpha=t.settings.curveOpacity;var l,u,d=f.getClippingGraphType(s,"="!==a,t.settings),g=n.mapSegmentToCanvas(i,t.viewport,t.screen,d),m=n.clipStrokeEdges(g,p(t.screen));if(o==c.DASHED){for(u=new r(e,r.getTotalSegmentLength(m),[11,7]),u.start(m[0],m[1]),l=2;l<m.length;l+=2)u.next(m[l],m[l+1]);u.close()}else if(o==c.DOTTED){for(u=t.settings.config.projectorMode?new r(e,r.getTotalSegmentLength(m),[.1,16]):new r(e,r.getTotalSegmentLength(m),[.1,8]),u.start(m[0],m[1]),l=2;l<m.length;l+=2)u.next(m[l],m[l+1]);u.close()}else if(o===c.SINGLE_PIXEL){for(e.desmos_batching||e.beginPath(),e.moveTo(h(m[0]),h(m[1])),l=0;l<m.length;l+=2)e.lineTo(h(m[l]),h(m[l+1]));e.desmos_batching||e.stroke()}else{for(e.desmos_batching||e.beginPath(),e.moveTo(m[0],m[1]),l=0;l<m.length;l+=2)e.lineTo(m[l],m[l+1]);e.desmos_batching||e.stroke()}e.globalAlpha=1},f.mapPointToScreen=function(e,t,n){var r=e.mapx(t)-.5;if(r<-20||r>e.screen.width+20)return null;var i=e.mapy(n)-.5;return i<-20||i>e.screen.height+20?null:{x:r,y:i}},f.drawPointToCtx=function(e,t,n,r,o,s,a,c){var u,d=e.lineWidth,p=e.fillStyle,h=f.mapPointToScreen(t,n,r);if(!h)return!1;e.globalAlpha=o||i.POINT_ALPHA,e.desmos_batching||e.beginPath();var g=t.settings.pointLineWidth;return a&&(g=t.settings.config.projectorMode?17:11,e.lineWidth=g),c&&(g*=c,e.lineWidth=g),s===l.CROSS?(u=.4*g,e.moveTo(h.x-u,h.y-u),e.lineTo(h.x+u,h.y+u),e.moveTo(h.x+u,h.y-u),e.lineTo(h.x-u,h.y+u),e.lineWidth=.3*g):s===l.OPEN?(u=.42*g,e.moveTo(h.x+u,h.y),e.arc(h.x,h.y,u,0,2*Math.PI,!0),e.closePath(),e.fillStyle="white",e.lineWidth=.25*g,e.fill()):(e.moveTo(h.x-.1,h.y-.1),e.lineTo(h.x-.1,h.y+.1),e.lineTo(h.x+.1,h.y+.1),e.lineTo(h.x+.1,h.y-.1)),e.desmos_batching||e.stroke(),e.globalAlpha=1,e.lineWidth=d,e.fillStyle=p,!0},f.drawPointsToCtx=function(e,t,n,r,o,s,a){var l=e.lineWidth;e.lineWidth=t.settings.pointLineWidth;for(var c=0;c<n.length;c++)f.drawPointToCtx(e,t,n[c][0],n[c][1],s===c&&i.HIGHLIGHTED_POINT_ALPHA,r,o[c],a);e.lineWidth=l},f.fillGraphStrokeToCtx=function(e,t,r,o,a){e.globalAlpha=a===s.POLAR?i.POLAR_ALPHA:i.FILL_ALPHA;var l,c=null,u=null;if(a===s.POLAR){u=n.ALL;var d=o?0:t.viewport.polarDiameter(),h=t.settings.degreeMode?180:2*Math.PI;c=n.computePolarFill(r,d,h)}else a===s.Y?(u=n.Y,l=o?t.viewport.ymin:t.viewport.ymax,c=n.computeCartesianFill(r,l)):a===s.X&&(u=n.X,l=o?t.viewport.xmin:t.viewport.xmax,c=n.computeCartesianFill(r,l));for(var g=p(t.screen),m=0;m<c.length;m++){var y=f.getClippingGraphType(a,!0,t.settings),v=n.mapSegmentToCanvas(c[m],t.viewport,t.screen,y),b=n.clipFillEdges(v,g,u);if(b.length>=6){e.desmos_batching||e.beginPath(),e.moveTo(b[0],b[1]);for(var x=2;x<b.length;x+=2)e.lineTo(b[x],b[x+1]);e.lineTo(b[0],b[1]),e.desmos_batching||e.fill()}}e.globalAlpha=1},f.fillPolygonToCtx=function(e,t,r,o){e.globalAlpha=o||i.FILL_ALPHA;var s=p(t.screen),a=n.mapSegmentToCanvas(r,t.viewport,t.screen,n.Y_EQUALS),l=n.clipFillEdges(a,s,n.ALL);if(l.length>=6){e.desmos_batching||e.beginPath(),e.moveTo(l[0],l[1]);for(var c=2;c<l.length;c+=2)e.lineTo(l[c],l[c+1]);e.desmos_batching||e.fill()}e.globalAlpha=1},f.getClippingGraphType=function(e,t,r){switch(e){case s.X:return n.X_EQUALS;case s.IMPLICIT:case s.PARAMETRIC:case s.Y:return n.Y_EQUALS;case s.POLAR:return r.degreeMode?t?n.POLAR_DEGREE_INEQUALITY:n.POLAR_DEGREE_EQUALITY:t?n.POLAR_RADIAN_INEQUALITY:n.POLAR_RADIAN_EQUALITY}},f}),define("graphing/poidotslayer",["require","loadcss!poi","pjs","./graphslayer","./constants"],function(e){e("loadcss!poi");var t=e("pjs"),n=e("./graphslayer"),r=e("./constants"),i=t(function(e){e.init=function(){this.savedPOI=[]},e.redrawToCtx=function(e,t,n){var r=[];for(var o in n){var s=n[o];if(s.visible){s.showHighlight&&i.drawSketchHighlight(s,e,t);var a=s.getPOI();(s.showPOI||a.length&&a[0].isAttachedToPlottedPoint())&&r.push.apply(r,i.drawPOIs(a,e,"#AAAAAA",t))}}this.savedPOI=r},e.getDrawnPOI=function(){return this.savedPOI}});return i.drawSketchHighlight=function(e,t,r){r.settings.setProperty("highlight",!0),n.drawSketchToCtx(e,t,r),r.settings.setProperty("highlight",!1)},i.drawPOIs=function(e,t,i,o){t.lineWidth=o.settings.pointLineWidth,t.strokeStyle=i||"#AAAAAA",t.fillStyle=i||"#AAAAAA",t.lineJoin="round",t.lineCap="round";var s=t.globalAlpha;t.globalAlpha=r.POI_ALPHA;var a,l,c=[],u=e.length;if(u&&e[0].isAttachedToPlottedPoint())for(a=0;a<u;a++)l=e[a],n.mapPointToScreen(o,l.x,l.y)&&c.push(l);else for(a=0;a<u;a++)l=e[a],n.drawPointToCtx(t,o,l.x,l.y)&&c.push(l);return t.globalAlpha=s,c},i}),define("graphing/stepnumber",["require","pjs"],function(e){var t=e("pjs"),n=document.createElement("canvas").getContext("2d"),r=t(function(e){e.init=function(e,t){this._label=e,this._fontSize=t,this._layout=this._computeLayout(e,t)},e._computeLayout=function(e,t){var i={};return e.superscript?(i.mantissa_height=t,r.setCtxFontSize(n,i.mantissa_height),i.mantissa_width=n.measureText(e.mantissa).width,i.superscript_height=Math.round(.8*t),r.setCtxFontSize(n,i.superscript_height),i.superscript_width=n.measureText(e.superscript).width,i.mantissa_x=0,i.mantissa_y=t/5,i.superscript_x=i.mantissa_width/2+i.superscript_width/2,i.superscript_y=-t/4,i.top=i.superscript_y-i.superscript_height/2,i.bottom=i.mantissa_y+i.mantissa_height/2,i.left=i.mantissa_x-i.mantissa_width/2,i.right=i.superscript_x+i.superscript_width/2):(i.mantissa_height=t,r.setCtxFontSize(n,t),i.mantissa_width=n.measureText(e.string).width,i.mantissa_x=0,i.mantissa_y=0,i.top=i.mantissa_y-i.mantissa_height/2,i.bottom=i.mantissa_y+i.mantissa_height/2,i.left=i.mantissa_x-i.mantissa_width/2,i.right=i.mantissa_x+i.mantissa_width/2),i},e.getRect=function(){return this.getRectWhenCenteredAt({x:0,y:0})},e.getRectWhenCenteredAt=function(e){return{left:this._layout.left+e.x,right:this._layout.right+e.x,top:this._layout.top+e.y,bottom:this._layout.bottom+e.y}},e.getWidth=function(){return this._layout.right-this._layout.left},e.getHeight=function(){return this._layout.bottom-this._layout.top},e.clampBoundsWithinRect=function(e,t){var n={};return e.x+this._layout.left<t.left?n.x=t.left-this._layout.left:e.x+this._layout.right>t.right?n.x=t.right-this._layout.right:n.x=e.x,e.y+this._layout.top<t.top?n.y=t.top-this._layout.top:e.y+this._layout.bottom>t.bottom?n.y=t.bottom-this._layout.bottom:n.y=e.y,n},e.getValue=function(){return this._label.value},e.getMinusWidth=function(){return this.getValue()<0?(r.setCtxFontSize(n,this._fontSize),n.measureText("-1").width-n.measureText("1").width):0},e.getString=function(){return this._label.superscript?this._label.mantissa+"^"+this._label.superscript:this._label.string},e.drawCenteredAt=function(e,t){var n=t.x,i=t.y;e.save(),r.setCtxFontSize(e,this._fontSize),this._label.superscript?(e.strokeText(this._label.mantissa,this._layout.mantissa_x+n,this._layout.mantissa_y+i),e.strokeText(this._label.superscript,this._layout.superscript_x+n,this._layout.superscript_y+i),e.fillText(this._label.mantissa,this._layout.mantissa_x+n,this._layout.mantissa_y+i),e.fillText(this._label.superscript,this._layout.superscript_x+n,this._layout.superscript_y+i)):(e.strokeText(this._label.string,this._layout.mantissa_x+n,this._layout.mantissa_y+i),e.fillText(this._label.string,this._layout.mantissa_x+n,this._layout.mantissa_y+i)),e.restore()}});return r.setCtxFontSize=function(e,t){e.font=t+"px Arial",e.textAlign="center",e.textBaseline="middle"},r}),define("graphing/computestepsizes",["require","./stepnumber","./label"],function(e){function t(e){return e?{base:10,major:[e,2*e,5*e],minor:[4,4,5]}:i.RATIONAL_STEPS}var n=e("./stepnumber"),r=e("./label"),i={},o=function(e,t,n,r){var i=Math.ceil(e/n),o=Math.floor(t/n),s=1/n;if(!(i>o||o-i>1e4))for(var a=i;a<=o;a++)r(a/s)};return i.RATIONAL_STEPS={base:10,major:[1,2,5],minor:[5,4,5]},i.PI_STEPS={base:10,major:[Math.PI,2*Math.PI,5*Math.PI],minor:[4,4,5]},i.PI_FRAC_STEPS={base:2,major:[Math.PI/3],minor:[3]},i.bestStep=function(e,t){for(var n,r,i,o,s=1/0,a=0;a<t.major.length;a++)n=t.major[a],i=Math.ceil(Math.log(e/n)/Math.log(t.base)),(o=n*Math.pow(t.base,i))<s&&(s=o,r=s/t.minor[a]);return{major:s,minor:r}},i.countStepsInRange=function(e,t,n){return 1+(t-e)/n},i.calculateSpaceBetweenRects=function(e,t){var n,r;return r=e.right<t.left?t.left-e.right:t.right<e.left?e.left-t.right:0,n=e.bottom<t.top?t.top-e.bottom:t.bottom<e.top?e.top-t.bottom:0,Math.max(n,r)},i.estimateMajors=function(e){var t=e.screen.width,n=e.screen.height,r=e.viewport.xmax-e.viewport.xmin,i=e.viewport.ymax-e.viewport.ymin,o=e.settings.pixelsPerLabel;return{majorStepX:o/t*r,majorStepY:o/n*i}},i.cartesian=function(e){var s,a={},l=Math.abs(e.settings.xAxisStep),c=Math.abs(e.settings.yAxisStep),u=e.viewport.xmax-e.viewport.xmin,d=e.viewport.ymax-e.viewport.ymin,p=r.value(l,u).string.indexOf("π")>=0,h=r.value(c,d).string.indexOf("π")>=0,f=i.countStepsInRange(e.viewport.xmin,e.viewport.xmax,l),g=i.countStepsInRange(e.viewport.ymin,e.viewport.ymax,c),m=i.estimateMajors(e),y=e.settings.labelSize;if(l&&l!==Math.PI&&f>=3&&f<100){var v=0;e.settings.xAxisNumbers&&o(e.viewport.xmin,e.viewport.xmax,l,function(e){var t=n(r.value(e,u),y);v=Math.max(t.getWidth(),v)}),s=v+10,e.settings.xAxisNumbers||(s=1===e.settings.xAxisMinorSubdivisions?8:20),f*s<=e.screen.width&&(a.majorStepX=l,a.minorStepX=3===l||5===l?1:l/4)}if(c&&c!==Math.PI&&g>=3&&g<100){var b=0;e.settings.yAxisNumbers&&o(e.viewport.ymin,e.viewport.ymax,c,function(e){var t=n(r.value(e,d),y);b=Math.max(t.getHeight(),b)}),s=b+10,e.settings.yAxisNumbers||(s=1===e.settings.yAxisMinorSubdivisions?8:20),g*s<=e.screen.height&&(a.majorStepY=c,a.minorStepY=3===c||5===c?1:c/4)}if(!a.majorStepX){var x;x=p?m.majorStepX>=1?i.PI_STEPS:i.PI_FRAC_STEPS:t(l);var w=i.bestStep(m.majorStepX,x);a.majorStepX=w.major,a.minorStepX=w.minor}if(!a.majorStepY){var _;_=h?m.majorStepY>=1?i.PI_STEPS:i.PI_FRAC_STEPS:t(c);var E=i.bestStep(m.majorStepY,_);a.majorStepY=E.major,a.minorStepY=E.minor}if(l===c){var S=e.screen.width/u/(e.screen.height/d);S>=1&&S<=2?(a.majorStepX=a.majorStepY,a.minorStepX=a.minorStepY):S<=1&&S>=.5&&(a.majorStepY=a.majorStepX,a.minorStepY=a.minorStepX)}return e.settings.xAxisMinorSubdivisions>0&&(a.minorStepX=a.majorStepX/e.settings.xAxisMinorSubdivisions),e.settings.yAxisMinorSubdivisions>0&&(a.minorStepY=a.majorStepY/e.settings.yAxisMinorSubdivisions),a},i.polar=function(e){var t=i.estimateMajors(e),n=i.bestStep(t.majorStepX,i.RATIONAL_STEPS),r=i.bestStep(t.majorStepY,i.RATIONAL_STEPS),o=n.major>r.major?n:r;return{majorStepR:o.major,minorStepR:o.minor}},i}),define("graphing/gridlayer",["require","pjs","./stepnumber","./label","./computestepsizes","graphing-calc/json/graph-settings"],function(e){var t=e("pjs"),n=e("./stepnumber"),r=e("./label"),i=e("./computestepsizes"),o=e("graphing-calc/json/graph-settings").AxisArrowModes,s=t(function(e){e.redrawToCtx=function(e,t,n){var r,o,s=t.settings.showGrid;t.settings.polarMode&&s?(r=i.polar(t),this.drawPolarGrid(e,t,r),this.drawAxes(e,t,n),o=this.drawPolarStepNumbers(e,t,r),this.drawLabels(e,t,o)):(r=i.cartesian(t),s&&this.drawCartesianGrid(e,t,r),this.drawAxes(e,t,n),o=this.drawCartesianStepNumbers(e,t,r),this.drawLabels(e,t,o))},e.addTextShadow=function(e,t){e.strokeStyle=t.settings.getBackgroundColor(),e.lineWidth=3,e.miterLimit=2},e.drawPolarGrid=function(e,t,n){e.save();var r=t.settings.minorAxisOpacity,i=t.settings.majorAxisOpacity,o=1-(1-i)/(1-r),s=Math.round(t.mapx(0))-.5,l=Math.round(t.mapy(0))-.5,c=t.screen.height/(t.viewport.ymax-t.viewport.ymin),u=t.screen.width/(t.viewport.xmax-t.viewport.xmin),d=c/u,p=u/c,h=l/d,f=t.viewport.smallestR(),g=t.viewport.largestR(),m=n.minorStepR*Math.max(1,Math.floor(f/n.minorStepR)),y=n.majorStepR*Math.max(1,Math.floor(f/n.majorStepR));e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+r+")",
e.save(),a(m,g,n.minorStepR,function(n){e.beginPath(),e.scale(1,d);var r=t.mapx(n)-s;e.moveTo(s+r,h),e.arc(s,h,r,0,2*Math.PI),e.scale(1,p),e.stroke()}),e.restore(),a(0,359,f>0?5:15,function(n){if((0!==n&&180!==n||!t.settings.showXAxis)&&(90!==n&&270!==n||!t.settings.showYAxis)){e.beginPath(),e.moveTo(s,l);var r=t.mapx(g*Math.cos(n*Math.PI/180)),i=t.mapy(g*Math.sin(n*Math.PI/180));e.lineTo(Math.round(r)-.5,Math.round(i)-.5),e.stroke()}}),e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+o+")",e.save(),a(y,g,n.majorStepR,function(n){e.beginPath(),e.scale(1,d);var r=t.mapx(n)-s;e.moveTo(s+r,h),e.arc(s,h,r,0,2*Math.PI),e.scale(1,p),e.stroke()}),e.restore()},e.drawCartesianGrid=function(e,t,n){e.save();var r=t.viewport.xmin,i=t.viewport.ymin,o=t.viewport.xmax,s=t.viewport.ymax,l=t.screen.width,c=t.screen.height,u=c,d=0;t.settings.restrictGridToFirstQuadrant&&(r=0,i=0,u=t.mapy(0),d=t.mapx(0));var p=t.settings.minorAxisOpacity,h=t.settings.majorAxisOpacity;e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+p+")",a(r,o,n.minorStepX,function(n){if(0!==n||!t.settings.showYAxis){var r=Math.round(t.mapx(n));r!==l&&(e.beginPath(),e.moveTo(r-.5,0),e.lineTo(r-.5,u),e.stroke())}}),a(i,s,n.minorStepY,function(n){if(0!==n||!t.settings.showXAxis){var r=Math.round(t.mapy(n));r!==c&&(e.beginPath(),e.moveTo(d,r-.5),e.lineTo(l,r-.5),e.stroke())}});var f=1-(1-h)/(1-p);e.strokeStyle="rgba(0, 0 , 0, "+f+")",a(r,o,n.majorStepX,function(n){if(0!==n||!t.settings.showYAxis){var r=Math.round(t.mapx(n));r!==l&&(e.beginPath(),e.moveTo(r-.5,0),e.lineTo(r-.5,u),e.stroke())}}),a(i,s,n.majorStepY,function(n){if(0!==n||!t.settings.showXAxis){var r=Math.round(t.mapy(n));r!==c&&(e.beginPath(),e.moveTo(d,r-.5),e.lineTo(l,r-.5),e.stroke())}}),e.restore()},e.drawAxes=function(e,t,n){function r(t,n,r){e.save();var i=Math.PI/12,o=8*Math.max(e.lineWidth,1.5);e.lineJoin="round",e.fillStyle=l,e.strokeStyle=l,e.beginPath(),e.moveTo(t,n),e.lineTo(t+Math.cos(r-i)*o,n+Math.sin(r-i)*o),e.lineTo(t+Math.cos(r+i)*o,n+Math.sin(r+i)*o),e.lineTo(t,n),e.lineTo(t+Math.cos(r-i)*o,n+Math.sin(r-i)*o),e.stroke(),e.fill(),e.restore()}var i=t.settings.axisLineOffset,s=t.settings.axisOpacity.toString(),a="rgba(127,205,230,"+s+")",l="rgba(0,0,0,"+s+")",c=t.settings.xAxisArrowMode,u=t.settings.yAxisArrowMode,d=t.settings.showXAxis,p=t.settings.showYAxis,h=Math.round(t.mapx(0))-i,f=Math.round(t.mapy(0))-i,g=t.screen.height,m=t.screen.width,y=g,v=0;t.settings.restrictGridToFirstQuadrant&&(y=f,v=h,c===o.BOTH&&(c=o.POSITIVE),u===o.BOTH&&(u=o.POSITIVE)),p&&(e.lineWidth=1*t.settings.axisLineWidth,e.strokeStyle="y"===n?a:l,u===o.BOTH?(e.beginPath(),e.moveTo(h,2*t.settings.axisLineWidth),e.lineTo(h,g-2*t.settings.axisLineWidth),e.stroke(),r(h,g-t.settings.axisLineWidth,3*Math.PI/2),r(h,t.settings.axisLineWidth,Math.PI/2)):u===o.POSITIVE?(e.beginPath(),e.moveTo(h,2*t.settings.axisLineWidth),e.lineTo(h,y),e.stroke(),r(h,t.settings.axisLineWidth,Math.PI/2)):(e.beginPath(),e.moveTo(h,0),e.lineTo(h,y),e.stroke())),d&&(e.lineWidth=1*t.settings.axisLineWidth,e.strokeStyle="x"===n?a:l,c===o.BOTH?(e.beginPath(),e.moveTo(2*t.settings.axisLineWidth,f),e.lineTo(m-2*t.settings.axisLineWidth,f),e.stroke(),r(t.settings.axisLineWidth,f,0),r(m-t.settings.axisLineWidth,f,Math.PI)):c===o.POSITIVE?(e.beginPath(),e.lineTo(v,f),e.lineTo(m-2*t.settings.axisLineWidth,f),e.stroke(),r(m-t.settings.axisLineWidth,f,Math.PI)):(e.beginPath(),e.lineTo(v,f),e.lineTo(m,f),e.stroke()))},e.drawPolarStepNumbers=function(e,t,i){function o(e,n,r){var i=Math.sqrt(e*e-n*n);v<=i&&i<=b&&r.push({x:t.mapx(n),y:t.mapy(i)}),v<=-i&&-i<=b&&r.push({x:t.mapx(n),y:t.mapy(-i)})}function s(e,n,r){var i=Math.sqrt(e*e-n*n);m<=i&&i<=y&&r.push({x:t.mapx(i),y:t.mapy(n)}),m<=-i&&-i<=y&&r.push({x:t.mapx(-i),y:t.mapy(n)})}e.save();var u=t.settings.showGrid,d=t.settings.xAxisNumbers&&t.settings.showXAxis,p=t.settings.yAxisNumbers&&t.settings.showYAxis,h=u&&t.settings.polarNumbers,f=t.viewport.largestR(),g=t.viewport.smallestR(),m=t.viewport.xmin,y=t.viewport.xmax,v=t.viewport.ymin,b=t.viewport.ymax,x=t.screen.width,w=t.screen.height,_={left:3,right:x-3,top:3,bottom:w-3},E=t.settings.labelHangingColor,S=t.settings.getTextColor(),M=t.settings.labelSize,k=M;e.textAlign="center",e.textBaseline="middle",this.addTextShadow(e,t),e.font=M.toString()+"px Arial",e.fillStyle=S;var I=t.mapx(0),C=t.mapy(0),T=v<=0&&0<=b,P=m<=0&&0<=y,D=T&&d,A=P&&p,L="";if(!D&&!A&&u){var O,F,q,N,R=Math.abs(I),B=Math.abs(I-x),j=Math.abs(C),V=Math.abs(C-w);R<=B?(O="left",q=R):(O="right",q=B),j<=V?(F="top",N=j):(F="bottom",N=V),d&&p?L=q<=N?O:F:p?L=O:d&&(L=F)}var U={left:0,right:x,top:C-1,bottom:C+1},z={left:I-1,right:I+1,top:0,bottom:w};if(a(0,f,i.majorStepR,function(i){var a=[],l=[],u=[],h=n(r.value(i,f),M),g=h.getRect();switch(i>0?(A&&v<=i&&i<=b&&l.push({x:I-g.right-5,y:t.mapy(i)}),A&&v<=-i&&-i<=b&&l.push({x:I-g.right-5,y:t.mapy(-i)}),D&&m<=i&&i<=y&&a.push({x:t.mapx(i),y:C-g.top+3}),D&&m<=-i&&-i<=y&&a.push({x:t.mapx(-i),y:C-g.top+3})):A&&!d&&v<=i&&i<=b?l.push({x:I-g.right-5,y:t.mapy(i)}):D&&!p&&m<=i&&i<=y&&a.push({x:t.mapx(i),y:C-g.top+3}),L){case"top":s(i,b,u);break;case"bottom":s(i,v,u);break;case"left":o(i,m,u);break;case"right":o(i,y,u)}a.forEach(function(t){t=h.clampBoundsWithinRect(t,_),h.drawCenteredAt(e,t),c(U,h.getRectWhenCenteredAt(t))}),l.forEach(function(t){t=h.clampBoundsWithinRect(t,_),h.drawCenteredAt(e,t),c(z,h.getRectWhenCenteredAt(t))}),u.forEach(function(t){t=h.clampBoundsWithinRect(t,_),h.drawCenteredAt(e,t)})}),h){var G=Math.ceil(g/i.majorStepR),H=Math.floor(f/i.majorStepR),K=Math.ceil((G+H)/2),W=K*i.majorStepR;a(0,359,g>0?15:30,function(n){var i;i=t.settings.degreeMode?n.toString()+"°":r.value(n*Math.PI/180,2*Math.PI).string;var o=e.measureText(i).width/2,s=W/1.05,a=s*Math.cos(n*Math.PI/180),c=s*Math.sin(n*Math.PI/180);if(!(a<m||a>y||c<v||c>b)){var u=t.mapx(a),d=t.mapy(c);0===n||180===n?d-=k:90!==n&&270!==n||(u+=o+3);var p=l(u,3+o,x-3-o),h=l(d,3+k,w-3-k);e.fillStyle=E,e.strokeText(i,p,h),e.fillText(i,p,h)}})}return e.restore(),{x:U,y:z}},e.drawLabels=function(e,t,n){var r=t.viewport.xmin,i=t.viewport.xmax,o=t.viewport.ymin,s=t.viewport.ymax,a=t.screen.width,l=t.screen.height,c=(i-r)/a,d=(s-o)/l,p=t.settings.getTextColor(),h=t.mapx(0),f=t.mapy(0),g=t.settings.labelSize,m=t.settings.showXAxis&&t.settings.xAxisLabel,y=t.settings.showYAxis&&t.settings.yAxisLabel,v=n.x,b=n.y;if(m&&v){e.save(),e.fillStyle=p;var x;if(e.__xLabelOffset&&t.settings.isViewportTransient&&u(e.__xLabelOffset.xscale,c)&&u(e.__xLabelOffset.yscale,d)&&(x={x:e.__xLabelOffset.x+h,y:e.__xLabelOffset.y+f}),this._setAxisLabelFont(e,m,g,t),!x){var w=e.measureText(m).width,_=a-w-15,E=g;x=v.bottom+E<l?{x:_,y:v.bottom+E}:{x:_,y:v.top-E/2},e.__xLabelOffset={x:x.x-h,y:x.y-f,xscale:c,yscale:d}}e.strokeText(m,x.x,x.y),e.fillText(m,x.x,x.y),e.restore()}else e.__xLabelPosition=null;if(y&&b){e.save(),e.fillStyle=p;var S;if(e.__yLabelOffset&&t.settings.isViewportTransient&&u(e.__yLabelOffset.xscale,c)&&u(e.__yLabelOffset.yscale,d)&&(S={x:e.__yLabelOffset.x+h,y:e.__yLabelOffset.y+f}),this._setAxisLabelFont(e,y,g,t),!S){var M=e.measureText(y).width,k=g,I=M+5;if(!this._isShortMathyLabel(y)){var C=M;M=k,k=C,I=.5*M}var T=15+k;S=b.left-M>0?{x:b.left-I,y:T}:{x:b.right+M,y:T},e.__yLabelOffset={x:S.x-h,y:S.y-f,xscale:c,yscale:d}}e.translate(S.x,S.y),this._isShortMathyLabel(y)||e.rotate(-Math.PI/2),e.strokeText(y,0,0),e.fillText(y,0,0),e.restore()}else e.__yLabelPosition=null},e._isShortMathyLabel=function(e){return e.trim().match(/^([a-zA-Z]?)\(?([a-zA-Z]?)\)?$/)},e._setAxisLabelFont=function(e,t,n,r){this.addTextShadow(e,r),this._isShortMathyLabel(t)?e.font="italic "+Math.round(1.4*n.toString())+"px Times":e.font=Math.round(1.2*n.toString())+"px Arial"},e.drawCartesianStepNumbers=function(e,t,i){e.save();var o=t.settings.showXAxis,s=t.settings.showYAxis,l=o&&t.settings.xAxisNumbers,u=s&&t.settings.yAxisNumbers,d=t.viewport.xmin,p=t.viewport.xmax,h=t.viewport.ymin,f=t.viewport.ymax,g=t.screen.width,m=t.screen.height,y={left:3,top:3,right:g-3,bottom:m-3};t.settings.restrictGridToFirstQuadrant&&(d=0,h=0);var v=t.settings.labelHangingColor,b=t.settings.getTextColor(),x=t.mapx(0),w=t.mapy(0),_=t.settings.labelSize;this.addTextShadow(e,t);var E={left:0,right:g,top:w-1,bottom:w+1},S={left:x-1,right:x+1,top:0,bottom:m},M=!1;if(o&&s&&(l||u)){M=!0,e.fillStyle=b;var k=n(r.value(0,1),_);k.drawCenteredAt(e,{x:x-k.getRect().right-5,y:w-k.getRect().top+3})}return l&&a(d,p,i.majorStepX,function(i){var o=n(r.value(i,p-d),_),s={x:t.mapx(o.getValue())-.5*o.getMinusWidth(),y:w-o.getRect().top+5},a=o.clampBoundsWithinRect(s,y);e.fillStyle=s.y===a.y?b:v,"0"===o.getString()&&M||(o.drawCenteredAt(e,a),c(E,o.getRectWhenCenteredAt(a)))}),u&&a(h,f,i.majorStepY,function(i){var o=n(r.value(i,f-h),_),s={x:x-5-o.getRect().right,y:t.mapy(o.getValue())},a=o.clampBoundsWithinRect(s,y);e.fillStyle=s.x===a.x?b:v,"0"===o.getString()&&M||(o.drawCenteredAt(e,a),c(S,o.getRectWhenCenteredAt(a)))}),e.restore(),{x:E,y:S}}}),a=function(e,t,n,r){var i=Math.ceil(e/n),o=Math.floor(t/n);if(isFinite(o-i)&&!(o-i>1e4))for(var s=i;s<=o;s++)r(s*n)},l=function(e,t,n){return e<t?t:e>n?n:e},c=function(e,t){t.left<e.left&&(e.left=t.left),t.right>e.right&&(e.right=t.right),t.top<e.top&&(e.top=t.top),t.bottom>e.bottom&&(e.bottom=t.bottom)},u=function(e,t){var n=Math.abs(e),r=Math.abs(t);return Math.abs(n-r)<=1e-4*(n<r?r:n)};return s}),define("graphing/imagelayer",["require","pjs","underscore","./draw-image-to-ctx"],function(e){var t=e("pjs"),n=e("underscore"),r=e("./draw-image-to-ctx").drawImageToCtx;return t(function(e){e.redrawToCtx=function(e,t,i,o){(void 0===o||o.length<n.size(i))&&(o=n.keys(i));for(var s=0;s<o.length;s++){var a=i[o[s]];a&&a.shouldGraph&&!a.foreground&&r(a,e,t)}}})}),define("math/recttransformation",["require","exports"],function(e,t){"use strict";function n(e,t){var n=e-1;return 1+n*n*n==1?t*(1+n*(t-1)*(.5+1/6*n*(t-2))):(Math.pow(e,t)-1)/n}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=n),this.tx=e,this.ty=t,this.sx=n,this.sy=r}return e.prototype.toJSON=function(){return{tx:this.tx,ty:this.ty,sx:this.sx,sy:this.sy}},e.prototype.compose=function(t){return new e(this.sx*t.tx+this.tx,this.sy*t.ty+this.ty,this.sx*t.sx,this.sy*t.sy)},e.prototype.translate=function(t,n){var r=void 0===n?t.x:n.x-t.x,i=void 0===n?t.y:n.y-t.y;return new e(this.tx+r,this.ty+i,this.sx,this.sy)},e.prototype.scale=function(t,n){return e.scale(t,n).compose(this)},e.prototype.scaleAtPoint=function(t,n,r){return void 0===r&&(r=n),e.scaleAtPoint(t,n,r).compose(this)},e.prototype.inverse=function(){return new e(-this.tx/this.sx,-this.ty/this.sy,1/this.sx,1/this.sy)},e.prototype.div=function(t){return new e((this.tx*t.sx-this.sx*t.tx)/t.sx,(this.ty*t.sy-this.sy*t.ty)/t.sy,this.sx/t.sx,this.sy/t.sy)},e.prototype.conjugate=function(t){return new e(this.tx*t.sx+t.tx*(1-this.sx),this.ty*t.sy+t.ty*(1-this.sy),this.sx,this.sy)},e.prototype.pow=function(t){return new e(this.tx*n(this.sx,t),this.ty*n(this.sy,t),Math.pow(this.sx,t),Math.pow(this.sy,t))},e.prototype.mapX=function(e){return this.sx*e+this.tx},e.prototype.mapY=function(e){return this.sy*e+this.ty},e.prototype.mapPoint=function(e){return{x:this.mapX(e.x),y:this.mapY(e.y)}},e.prototype.mapRect=function(e){return{left:this.mapX(e.left),right:this.mapX(e.right),bottom:this.mapY(e.bottom),top:this.mapY(e.top)}},e.scale=function(t,n){return void 0===n&&(n=t),new e(0,0,t,n)},e.translate=function(t,n){return(new e).translate(t,n)},e.scaleAtPoint=function(t,n,r){return void 0===r&&(r=n),void 0===r&&(r=n),new e(t.x*(1-n),t.y*(1-r),n,r)},e.fromRects=function(t,n){var r=(n.right-n.left)/(t.right-t.left),i=(n.top-n.bottom)/(t.top-t.bottom);return new e(n.left-r*t.left,n.bottom-i*t.bottom,r,i)},e.fromJSON=function(t){return new e(t.tx,t.ty,t.sx,t.sy)},e}();t.RT=r}),define("graphing/projection",["require","exports","math/recttransformation"],function(e,t,n){"use strict";function r(e){return{left:0,right:e.width,top:0,bottom:e.height}}function i(e){return{left:e.xmin,right:e.xmax,bottom:e.ymin,top:e.ymax}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,o){this.screen=e,this.viewport=t,this.settings=o,this.mathCoordinates=i(t),this.pixelCoordinates=r(e),this.mathToPixels=n.RT.fromRects(this.mathCoordinates,this.pixelCoordinates),this.pixelsToMath=n.RT.fromRects(this.pixelCoordinates,this.mathCoordinates)}return e.prototype.mapx=function(e){return this.mathToPixels.mapX(e)},e.prototype.mapy=function(e){return this.mathToPixels.mapY(e)},e.prototype.map_pt=function(e){return this.mathToPixels.mapPoint(e)},e.prototype.reverse_mapx=function(e){return this.pixelsToMath.mapX(e)},e.prototype.reverse_mapy=function(e){return this.pixelsToMath.mapY(e)},e.prototype.reverse_map_pt=function(e){return this.pixelsToMath.mapPoint(e)},e.prototype.coordsAreOnscreen=function(e,t,n){return n=void 0===n?0:n,e>-n&&t>-n&&e<this.screen.width+n&&t<this.screen.height+n},e.prototype.closestPointOnScreen=function(e){var t=this.pixelCoordinates;return{x:Math.min(Math.max(e.x,t.left),t.right),y:Math.min(Math.max(e.y,t.top),t.bottom)}},e}();t.Projection=o}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery.mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=l.call(arguments,1),c=0,u=0,d=0,p=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in s&&(d=-1*s.deltaY,c=d),"deltaX"in s&&(u=s.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===s.deltaMode){var h=e.data(this,"mousewheel-line-height");c*=h,d*=h,u*=h}else if(2===s.deltaMode){var f=e.data(this,"mousewheel-page-height");c*=f,d*=f,u*=f}return p=Math.max(Math.abs(d),Math.abs(u)),(!o||p<o)&&(o=p,r(s,p)&&(o/=40)),r(s,p)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),t.deltaX=u,t.deltaY=d,t.deltaFactor=o,t.deltaMode=0,a.unshift(t,c,u,d),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function n(){o=null}function r(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var i,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=s.length;c;)e.event.fixHooks[s[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),define("graphing/viewportcontroller",["require","jquery","pjs","lib/aria","lib/i18n","math/recttransformation","./viewport","math/distance","./constants","lib/animation-frame","./projection","keys","jquery.handleevent","vendor/jquery.mousewheel"],function(e){var t=e("jquery"),n=e("pjs"),r=e("lib/aria"),i=e("lib/i18n"),o=e("math/recttransformation").RT,s=e("./viewport").Viewport,a=e("math/distance"),l=e("./constants"),c=e("lib/animation-frame"),u=e("./projection").Projection,d=e("keys");return e("jquery.handleevent"),e("vendor/jquery.mousewheel"),n(function(e){function n(e,t){var n=t.x-e.x,r=t.y-e.y,i=.5*(e.x+t.x),o=.5*(e.y+t.y),s=.5*a.hypot(n,r);return{center:f(i,o),radius:s}}function p(e,t){return n(t,{x:2*e.x-t.x,y:2*e.y-t.y})}function h(e,t){for(var n=[],r=0;r<e.length;r++)n.push(f(e[r].x-t.left,e[r].y-t.top));return n}function f(e,t){return{x:e,y:t}}function g(e){return f(.5*(e.left+e.right),.5*(e.bottom+e.top))}var m=0;e.init=function(e,t){this.grapher=e,this.$=this.grapher.$,this.__id=m++,this.controller=t,this.isScalingEnabled=!1,this.mousePt=f(0,0),this.lastScrollZoom=Date.now(),this.preventScrollZoom=!1,this.addMouseWheelEventHandler(),this.addTouchEventHandler()},e.remove=function(){t(window).off(".viewportcontroller-"+this.__id)},e.t=function(e,t){return i.t(e,t,this.grapher.settings.language)},e.getViewport=function(){return this.grapher.getProjection().viewport},e.getProjection=function(){return this.grapher.getProjection()},e.updateMouse=function(e){var t=this.$[0].getBoundingClientRect();this.mousePt=f(e.clientX-t.left,e.clientY-t.top)},e.updateScaleAxis=function(){this.isMouseInViewport()&&(this.isMouseNearYAxis()?this.grapher.scaleAxis="y":this.isMouseNearXAxis()?this.grapher.scaleAxis="x":this.grapher.scaleAxis="both"),this.updateCursor(),this.grapher.redrawAllLayers()},e.updateCursor=function(){this.$.toggleClass("dcg-scale-horizontal","x"===this.grapher.scaleAxis),this.$.toggleClass("dcg-scale-vertical","y"===this.grapher.scaleAxis),this.$.toggleClass("dcg-scale-both","both"===this.grapher.scaleAxis)},e.isMouseNearOrigin=function(){var e=this.getProjection(),t=e.mathToPixels.mapPoint(f(0,0));return Math.abs(this.mousePt.x-t.x)<50&&Math.abs(this.mousePt.y-t.y)<50},e.isMouseNearXAxis=function(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapY(0);return n=Math.min(Math.max(t.top,n),t.bottom),Math.abs(this.mousePt.y-n)<40&&e.settings.showXAxis},e.isMouseNearYAxis=function(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapX(0);return n=Math.min(Math.max(t.left,n),t.right),Math.abs(this.mousePt.x-n)<40&&e.settings.showYAxis},e.isMouseInViewport=function(){var e=this.getProjection(),t=e.mathCoordinates,n=e.pixelsToMath.mapPoint(this.mousePt);return n.x>=t.left&&n.x<=t.right&&n.y>=t.bottom&&n.y<=t.top},e.getDefaultViewport=function(){return this.controller.getDefaultStateViewport()||this.grapher.getDefaultViewport()},e._setViewportWithoutCancellingAnimation=function(e){if(e.isValid()&&!e.equals(this.getViewport())){var t=this.getProjection();this.grapher._setProjection(new u(t.screen,e,t.settings))}},e.setViewport=function(e){this.cancelAnimation(),this._setViewportWithoutCancellingAnimation(e)},e.setScreen=function(e){var t=this.getProjection(),n=t.settings.squareAxes,r=new u(e,this.getViewportForScreen(t.viewport,e,n),t.settings);this.grapher._setProjection(r)},e.getTransformedViewport=function(e){var t=this.getProjection(),n=t.pixelsToMath.div(e).mapRect(t.pixelCoordinates);return new s(n.left,n.right,n.bottom,n.top)},e.transformViewport=function(e){this.setViewport(this.getTransformedViewport(e))},e.animateTransformation=function(e){function t(s){r||(r=s);var a=(s-r)/l.ANIMATE_ZOOM_DURATION;o+=a,o<1?(n.__animationTimeout=c.requestAnimationFrame(t),n._setViewportWithoutCancellingAnimation(n.getTransformedViewport(e.pow(a))),n.grapher.debounceUserRequestedViewportChange()):(n.setViewport(i),n.grapher.debounceUserRequestedViewportChange())}var n=this;this.cancelAnimation();var r,i=this.getTransformedViewport(e),o=0;this.__animationTimeout=c.requestAnimationFrame(t)},e.cancelAnimation=function(){c.cancelAnimationFrame(this.__animationTimeout)},e.addMouseWheelEventHandler=function(){var e,n,r=this,i=!1;t(window).on("scroll.viewportcontroller-"+this.__id,function(e){i=!0}),t(window).on("mousewheel.viewportcontroller-"+this.__id,function(t){e=t.originalEvent.clientX,n=t.originalEvent.clientY}),t(window).on("mousemove.viewportcontroller-"+this.__id,function(t){if(i){var r=t.originalEvent.clientX-e,o=t.originalEvent.clientY-n;r*r+o*o<100||(i=!1)}});var s=0,a=function(e,t){var n=Date.now();if(r.preventScrollZoom&&n-r.lastScrollZoom>50&&(r.preventScrollZoom=!1),r.lastScrollZoom=n,!r.preventScrollZoom){var a=this.getProjection();if(!a.settings.config.lockViewport){var u=a.mathToPixels;if(!i){e.preventDefault(),r.updateMouse(e);var d=u.mapPoint(f(0,0)),p=r.isMouseNearOrigin()&&t>0?d:r.mousePt;if(!(s>0)){s+=1,c.requestAnimationFrame(function(){s--}),t=t>0?1:-1;var h=t>0?l.ZOOM_FACTOR:1/l.ZOOM_FACTOR,g=r.grapher.scaleAxis,m="x"!==g&&"both"!==g&&g?1:h,y="y"!==g&&"both"!==g&&g?1:h;this.transformViewport(o.scaleAtPoint(p,m,y)),this.grapher.debounceUserRequestedViewportChange()}}}}};this.$.mousewheel(a.bind(this))},e.handleDoubleClick=function(e){var t=this.getProjection();if(!t.settings.config.lockViewport&&!t.settings.config.disable_dblclick_zooming&&!e.wasHandled()){e.preventDefault();var n=this.$[0].getBoundingClientRect(),r=f(e.clientX-n.left,e.clientY-n.top);this.animateTransformation(o.scaleAtPoint(r,l.DOUBLETAP_ZOOM))}},e.applyPanTouchChanges=function(e,t){if(!this.getProjection().settings.config.lockViewport&&!this.isScalingEnabled){var n=f(t[0].x-e[0].x,t[0].y-e[0].y);this.transformViewport(o.translate(n)),this.grapher.debounceUserRequestedViewportChange()}},e.chooseDragScaleCenter=function(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapX(0),r=e.mathToPixels.mapY(0);return n=Math.min(Math.max(t.left,n),t.right),r=Math.min(Math.max(t.top,r),t.bottom),f(n,r)},e.applyScaleTouchChanges=function(e,t){if(!this.getProjection().settings.config.lockViewport){var r,i,s=this.grapher.scaleAxis;if(2===e.length&&2===t.length)r=n(e[0],e[1]),i=n(t[0],t[1]);else{if(1!==t.length)return;var a=this.chooseDragScaleCenter();r=p(a,e[0]),i=p(a,t[0])}var l=i.radius/r.radius,c="y"===s?1:l,u="x"===s?1:l,d=o.scaleAtPoint(r.center,c,u).translate(r.center,i.center);this.transformViewport(d),this.grapher.debounceUserRequestedViewportChange()}},e.addTouchEventHandler=function(){var e=this,n=[],r=!1,i=!0,o=!0,s=function(t){var n=e.grapher.getProjection();r||n.settings.config.lockViewport||(e.updateMouse(t),e.isScalingEnabled&&e.updateScaleAxis())};t(window).on("mousemove.viewportcontroller-"+this.__id,s);var a=function(n){var s=e.getProjection();if(!s.settings.config.lockViewport&&!n.wasHandled()&&!r&&n.touches.length===n.changedTouches.length){r=!0,e.grapher.isDragging=!0,e.updateMouse(n);var a=s.mathToPixels.mapPoint(f(0,0)),l=e.grapher.scaleAxis;"x"!==l&&"both"!==l||(i=e.mousePt.x>a.x),"y"!==l&&"both"!==l||(o=e.mousePt.y>a.y),e.controller.dispatch({type:"grapher/drag-start"}),t(document).on("dcg-tapmove.graphdrag",m),t(document).on("dcg-tapstart.graphdrag dcg-tapend.graphdrag dcg-tapcancel.graphdrag",y)}},l=function(t){if(!(t.length<2)){var n=e.grapher.getProjection(),r=n.pixelCoordinates,i=n.mathToPixels.mapX(0),o=n.mathToPixels.mapY(0);i=Math.min(Math.max(r.left,i),r.right),o=Math.min(Math.max(r.top,o),r.bottom);var s=t[1].x-t[0].x,a=t[1].y-t[0].y;return Math.abs(t[0].x-i)<40&&Math.abs(t[1].x-i)<40&&Math.abs(a)>3*Math.abs(s)&&n.settings.showYAxis?"y":Math.abs(t[0].y-o)<40&&Math.abs(t[1].y-o)<40&&Math.abs(s)>3*Math.abs(a)&&n.settings.showXAxis?"x":"both"}},c=function(t){return e.grapher.scaleAxis||(e.grapher.scaleAxis=l(t)),e.grapher.scaleAxis},u=function(){e.grapher.scaleAxis&&(e.grapher.scaleAxis=void 0,e.grapher.redrawAllLayers(),e.updateCursor())},p=function(){e.isScalingEnabled=!1,e.preventScrollZoom=!0,u()},g=function(e){return e.altKey||e.ctrlKey||e.metaKey},m=function(t){if(r&&!e.getProjection().settings.config.lockViewport){var s=h(t.touches,e.$.offset());if(2===n.length&&2===s.length)c(s),e.applyScaleTouchChanges(n,s);else if(1===n.length&&e.isScalingEnabled){e.updateMouse(t);var a,l,d=e.grapher.scaleAxis,p=e.getProjection(),g=p.mathToPixels.mapPoint(f(0,0)),m=i?1:-1,y=o?1:-1;if("x"!==d&&"both"!==d||(a=e.mousePt.x>g.x+5*m),"y"!==d&&"both"!==d||(l=e.mousePt.y>g.y+5*y),"x"===d&&i!==a)return;if("y"===d&&o!==l)return;if("both"===d&&i!==a&&o!==l)return;e.applyScaleTouchChanges(n,s)}else u();1===n.length&&e.applyPanTouchChanges(n,s),e.controller.dispatch({type:"grapher/drag-move"}),n=s}},y=function(i){r&&(e.cancelAnimation(),n=h(i.touches,e.$.offset()),0===i.touches.length&&(r=!1,e.grapher.isDragging=!1,t(document).off(".graphdrag"),e.grapher.debounceUserRequestedViewportChange(),e.controller.dispatch({type:"grapher/drag-end"})),(0===i.touches.length||1===i.touches.length&&!e.isScalingEnabled)&&u())};this.$.css("touch-action","none"),this.$.on("dcg-tapstart",a),this.$.on("dblclick",this.handleDoubleClick.bind(this)),t(window).on("keydown.viewportcontroller-"+this.__id,function(e){this.getProjection().settings.config.lockViewport||(d.lookup(e)!==d.SHIFT||g(e)?p():(this.isScalingEnabled=!0,this.grapher.scaleAxis||this.updateScaleAxis()))}.bind(this)),t(window).on("keyup.viewportcontroller-"+this.__id+" blur.viewportcontroller-"+this.__id,p)},e.zoom=function(e){var t=this.getProjection().pixelCoordinates;if("in"===e)this.animateTransformation(o.scaleAtPoint(g(t),2));else if("out"===e)this.animateTransformation(o.scaleAtPoint(g(t),.5));else if("default"===e){var n=this.getDefaultViewport();this.animateTransformation(this.getCustomZoomTransformation(n))}else if("square"===e){var i=this.getSquareViewport();this.animateTransformation(this.getCustomZoomTransformation(i))}r.alert(this.t("Graph zoom __action__",{action:e}))},e.zoomCustom=function(e){this.animateTransformation(this.getCustomZoomTransformation(e)),r.alert(this.t("Graph viewport updated."))},e.getCustomZoomTransformation=function(e){var t=this.getProjection().viewport,n=this.getProjection().pixelCoordinates,r=this.getProjection().mathCoordinates,i=(t.xmax-t.xmin)/(e.xmax-e.xmin),s=(t.ymax-t.ymin)/(e.ymax-e.ymin),a=function(){return{x:0,y:0}},l=o.fromRects(r,n),c=new o.translate(l.mapPoint(a()),a()),u=new o.scale(i,s),d=o.fromRects({left:e.xmin,right:e.xmax,bottom:e.ymin,top:e.ymax},n);return new o.translate(a(),d.mapPoint(a())).compose(u.compose(c))},e.isZoomRestored=function(){var e=this.getProjection(),t=e.viewport,n=this.getDefaultViewport();return e.settings.squareAxes&&Math.abs((t.xmin-n.xmin)/t.xmin)<.05&&Math.abs((t.xmax-n.xmax)/t.xmax)<.05&&Math.abs((t.ymin-n.ymin)/t.ymin)<.05&&Math.abs((t.ymax-n.ymax)/t.ymax)<.05},e.getViewportForScreen=function(e,t,n){return n?"y"==this.getProjection().settings.lastChangedAxis?e.squareXAxis(t):e.squareYAxis(t):e},e.getSquareViewport=function(){var e=this.getProjection();return this.getViewportForScreen(e.viewport,e.screen,!0)},e.enforceSquareAxes=function(){var e=this.getProjection();e.settings.squareAxes&&(e.viewport.isSquare(e.screen)||this.setViewport(this.getViewportForScreen(e.viewport,e.screen,!0)))}})}),define("graphing/poicontroller",["require","jquery","math/distance","lib/rounding","graphing/graphmode","lib/conditional_blur","keys","lib/aria","./label"],function(e){function t(e,t){this.manager=e,this.controller=e.controller,this.graphSettings=t,this.$=this.manager.$,this.__id=u++,this.graphSettings.config.graphpaper&&!this.graphSettings.config.disableMouseInteractions&&(this.addTouchEventHandlers(),this.addHoverEventHandler(),this.addKeydownEventHandler())}var n=e("jquery"),r=e("math/distance"),i=e("lib/rounding"),o=e("graphing/graphmode"),s=e("lib/conditional_blur").default,a=e("keys"),l=e("lib/aria"),c=e("./label"),u=0;return t.prototype.getExpressionModel=function(e){return this.controller.getItemModel(e)},t.prototype.remove=function(){this.removeAllGlobalMouseListeners()},t.prototype.addGlobalMouseListener=function(e,t){for(var r=e.split(" "),i=0;i<r.length;i++)n(document).on(r[i]+".dcg-poiController-"+this.__id,t)},t.prototype.removeAllGlobalMouseListeners=function(){n(document).off(".dcg-poiController-"+this.__id)},t.prototype.getToleranceByDevice=function(e){return"touch"===e?20:10},t.prototype.addHoverEventHandler=function(){this.$.on("dcg-tapmove",function(e){if("touch"!==e.device){var t,r=n(document.elementFromPoint(e.clientX,e.clientY)).closest(".dcg-grapher").length,i=this.manager.poiLabelsLayer,o=this.getMouseRelativeToGrapher(e),s=this.getToleranceByDevice(e.device),a=r?this.getPOIUnderPoint(o,s):null;a&&a.isMovable()&&(t=a.getMovablePoint().id);var l=a&&a.hasInteractiveLabel()?a:null,c=i.getHoveredInteractiveLabel();l!==c&&(c&&!i.isOpenInteractiveLabel(c.id)&&(c.setInteractiveLabelVisible(!1),c.setInteractiveLabelHovered(!1)),l&&!i.isOpenInteractiveLabel(l.id)&&(l.setInteractiveLabelVisible(!0),l.setInteractiveLabelHovered(!0)),i.setHoveredInteractiveLabel(l),this.manager.redrawAllLayers());var u=a&&!a.isAttachedToPlottedPoint()?a:null;if(u!==i.getHoveredPOI()){if(!1===this.graphSettings.config.trace)return;i.setHoveredPOI(u),this.manager.redrawAllLayers()}this.manager.movablePointsLayer.setHoveredPointId(t)}}.bind(this))},t.prototype.addTouchEventHandlers=function(){this.$.on("dblclick",function(e){var t=this.getMouseRelativeToGrapher(e),n=this.getToleranceByDevice(e.device);(this.getPOIUnderPoint(t,n)||this.getBranchInfoUnderPoint(t,n))&&(e.preventDefault(),e.handle())}.bind(this)),this.$.css("touch-action","none"),this.$.on("dcg-tapstart",function(e){var t=this.getMouseRelativeToGrapher(e),n=this.getToleranceByDevice(e.device);s();var r=this.getPOIUnderPoint(t,n),i=this.manager.poiLabelsLayer;if(r&&r.hasInteractiveLabel())return i.isOpenInteractiveLabel(r.id)?(r.setInteractiveLabelVisible(!1),r.setInteractiveLabelHovered(!1),i.closeInteractiveLabel(r)):(r.setInteractiveLabelVisible(!0),r.setInteractiveLabelHovered(!1),i.openInteractiveLabel(r)),e.handle(),e.handle("do-not-clear-poi-labels"),void this.manager.redrawAllLayers();if((!r||!r.isMovable()&&!r.isBareLabel())&&this.togglePOIUnderPoint(t,n))return e.handle(),void e.handle("do-not-clear-poi-labels");if(r&&(r.isMovable()&&(this.controller.dispatch({type:"start-moving-point",pointInfo:r.getMovablePoint()}),this.startMovingPoint(r),e.handle()),!r.isBareLabel()))return void e.handle("do-not-clear-poi-labels");var o=this.getBranchInfoUnderPoint(t,n);if(this.graphSettings.config.onlyTraceSelected){if(o&&o.sketch&&o.sketch.selected)return this.startTracingBranch(o,t),e.handle(),void e.handle("do-not-clear-poi-labels")}else if(o){if(this.controller.dispatch({type:"set-selected-id",id:o.id}),!1===this.graphSettings.config.trace)return;return this.startTracingBranch(o,t),e.handle(),void e.handle("do-not-clear-poi-labels")}o||this.getImgUnderMouse(t,n)||this.controller.dispatch({type:"set-none-selected"});var a=this;this.addGlobalMouseListener("dcg-tapmove",function(){a.removeAllGlobalMouseListeners()}),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",function(e){a.removeAllGlobalMouseListeners();var r=a.getBranchInfoUnderPoint(t,n);if(r&&r.sketch&&!r.sketch.selected)return void this.controller.dispatch({type:"set-selected-id",id:r.id});var i=a.getImgUnderMouse(t,n);return i?void this.controller.dispatch({type:"set-selected-id",id:i.id}):void 0}.bind(this))}.bind(this))},t.prototype.addKeydownEventHandler=function(){this.$.on("keydown",function(e){var t=this.manager.movablePointsLayer.getFocusedPoint();if(t){var n=a.lookup(e),r=a.lookupChar(e);"Up"===n||"Down"===n||"Left"===n||"Right"===n?(e.stopPropagation(),e.preventDefault(),this.movePointFromKeyboard(t,e)):"X"!==r&&"Y"!==r&&"L"!==r||this.speakPoint(t,r)}}.bind(this))},t.prototype.getMouseRelativeToGrapher=function(e){var t=this.$[0].getBoundingClientRect(),n=e.touches?e.touches[0]:e;return{x:n.clientX-t.left,y:n.clientY-t.top}},t.prototype._getClosestPoint=function(e,t,n){for(var i=n,o=null,s=this.manager.getProjection(),a=0;a<e.length;a++){var l=e[a],c=s.map_pt(l),u=r.hypot(c.x-t.x,c.y-t.y);u<i&&(i=u,o=l)}return o},t.prototype.getPOIUnderPoint=function(e,t){for(var n=[],r=[],i=[],o={},s=this.manager.__sketchOrder,a=s.length-1;a>=0;a--){var l=s[a];o[l]=a}var c=this.getIndexOfForegroundImageUnderMouse(e,t);return this.manager.poiDotsLayer.getDrawnPOI().forEach(function(e){
e.isMovable()?n.push(e):e.isAttachedToPlottedPoint()?(e.sketch.showHighlight||o[e.sketch.id]>c)&&r.push(e):i.push(e)}),this._getClosestPoint(n,e,t)||this._getClosestPoint(i,e,t)||this._getClosestPoint(r,e,t)},t.prototype.clearOpenedPOI=function(){this.manager.poiLabelsLayer.clearOpenedPOI(),this.manager.poiLabelsLayer.clearOpenedInteractiveLabels(),this.manager.redrawAllLayers()},t.prototype.togglePOIUnderPoint=function(e,t){if(!1!==this.graphSettings.config.trace){var n=this.getPOIUnderPoint(e,t);return!!n&&(this.manager.poiLabelsLayer.isOpenPOI(n)?(this.manager.poiLabelsLayer.closePOI(n),this.manager.poiLabelsLayer.setHoveredPOI(null)):(this.manager.poiLabelsLayer.openPOI(n),this.speakPoint(n)),this.manager.redrawAllLayers(),!0)}},t.prototype.getIndexOfForegroundImageUnderMouse=function(e,t){var n=this.getImgUnderMouse(e,t);return n&&n.img&&n.img.foreground?n.index:-1},t.prototype.getImgUnderMouse=function(e,t){for(var n=this.manager.getProjection(),r=n.reverse_map_pt(e),i=null,o=function(e,t,n,r){return e<t+.5*Math.abs(n)+r&&e>t-.5*Math.abs(n)+r},s=this.manager.__sketchOrder,a=s.length-1;a>=0;a--){var l=s[a],c=this.manager.graphImages[l];if(c&&c.computed_x&&c.computed_y&&c.computed_width&&c.computed_height&&!c.hidden&&!this.controller.isItemSecret(c.id)&&(c.foreground||!i)){for(var u=!1,d=0;d<c.computed_x.length;d++){var p=c.computed_x[d],h=c.computed_y[d],f=c.computed_radian_angle[d],g=p+Math.cos(f)*(r.x-p)-Math.sin(f)*(r.y-h),m=h+Math.sin(f)*(r.x-p)+Math.cos(f)*(r.y-h);if(o(g,c.computed_x[d],c.computed_width[d],0)&&o(m,c.computed_y[d],c.computed_height[d],0)){u=!0;break}}if(u&&(i={id:l,img:c,index:a},c.foreground))return i}}return i},t.prototype.getBranchInfoUnderPoint=function(e,n){for(var r=null,i=n,o=this.manager.getProjection(),s=o.reverse_map_pt(e),a=this.getIndexOfForegroundImageUnderMouse(e,n),l=this.manager.__sketchOrder,c=l.length-1;c>=0;c--){var u=l[c],d=this.manager.graphSketches[u];if(d&&d.visible){var p=d.branches;if(p&&p.length&&(d.showHighlight||!(c<a)))for(var h=0;h<p.length;h++){var f=t.calculateDistanceFromBranch(p[h],s,o);f<i&&(i=f,r={id:u,branch:h,sketch:d})}}}return r},t.calculateDistanceFromBranch=function(e,n,r){var i=t.getBranchesDistanceInfo(e,n,r);return i?i.minDistance:1/0},t.getBranchesDistanceInfo=function(e,t,n){var i=n.screen.width/(n.viewport.xmax-n.viewport.xmin),s=n.screen.height/(n.viewport.ymax-n.viewport.ymin),a=t.x,l=t.y;switch(e.graphMode){case o.Y:break;case o.X:var c=a;a=l,l=c,c=i,i=s,s=c;break;default:return null}for(var u,d,p=1/0,h=1/0,f=0;f<e.segments.length;f++)for(var g=e.segments[f],m=0;m<g.length-3;m+=2){var y=g[m],v=g[m+1],b=g[m+2],x=g[m+3],w=r.closestPointOnSegment(0,0,(y-a)*i,(v-l)*s,(b-a)*i,(x-l)*s),_=r.hypot(w[0],w[1]);w[0]<0?_<p&&(p=_,u=w):_<h&&(h=_,d=w)}var E=p<h?u:d;if(!E)return null;var S=E[0]/i+a,M=E[1]/s+l;return{closestPoint:{x:e.graphMode===o.Y?S:M,y:e.graphMode===o.Y?M:S},minDistance:Math.min(p,h),secondDistance:Math.max(p,h)}},t.getBranchesTracePoint=function(e,n,r){if(e&&e.compiled&&e.compiled.fn){var s=e.compiled.fn,a=r.screen.width/(r.viewport.xmax-r.viewport.xmin),l=r.screen.height/(r.viewport.ymax-r.viewport.ymin),c=this.getBranchesDistanceInfo(e,n,r);if(!c)return null;var u=c.minDistance/c.secondDistance;u*=u;var d=e.graphMode===o.Y?"x":"y",p=c.closestPoint[d]*(1-u)+n[d]*u,h=1/(2*a),f=1/(2*l),g=s(p-h),m=s(p),y=s(p+h),v=h*Math.min(1,f/Math.abs(g-m)),b=h*Math.min(1,f/Math.abs(y-m));isFinite(v)||(v=h),isFinite(b)||(b=h),p=i.shortestDecimalBetween(p-v,p+b);var x=t.fillHole(s,p,a,l,n.x,n.y);return{x:e.graphMode===o.Y?p:x,y:e.graphMode===o.Y?x:p}}},t.prototype.startMovingPoint=function(e){var t=!1;this.manager.movablePointsLayer.setPressedPointId(e.isMovable()?e.getMovablePoint().id:void 0);var n=null,r=function(){if(n){t=!0;var r=this.manager.getProjection(),i=this.getMouseRelativeToGrapher(n);n=null,this.controller.dispatch({type:"on-move-point",pointInfo:e.getMovablePoint(),screenPt:i,projection:r})}}.bind(this);this.manager.registerMovablePointListener(r),this.addGlobalMouseListener("dcg-tapmove",function(e){n=e}),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",function(n){if(r(),this.manager.deregisterMovablePointListener(),this.removeAllGlobalMouseListeners(),this.manager.movablePointsLayer.setPressedPointId(void 0),this.controller.dispatch({type:"stop-moving-point",pointInfo:e.getMovablePoint()}),!t){var i=this.manager.getProjection(),o=this.getToleranceByDevice(n.device),s=i.map_pt(e);this.togglePOIUnderPoint(s,o)}}.bind(this))},t.prototype.startTracingBranch=function(e,n){this.manager.markLabelsDirty(),this.last_screen_pt=n;var r=this.manager.getProjection(),i=r.reverse_map_pt(n),o=e.sketch,s=o.branches[e.branch],a=t.getBranchesTracePoint(s,i,r);a&&this.speakPoint(a),this.manager.traceLayer.setTraceInfo({pt:a,branchInfo:e}),this.manager.redrawAllLayers(),this.addGlobalMouseListener("dcg-tapmove",this.handleTraceUpdate.bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",this.stopTracingBranch.bind(this))},t.prototype.stopTracingBranch=function(e){this.manager.markLabelsDirty();var t=this.manager.poiLabelsLayer.getHoveredPOI();t&&!this.manager.poiLabelsLayer.isOpenPOI(t)&&(this.manager.poiLabelsLayer.openPOI(t),this.speakPoint(t),this.manager.redrawAllLayers()),this.last_screen_pt=null,this.manager.traceLayer.setTraceInfo(void 0),this.manager.redrawAllLayers(),this.removeAllGlobalMouseListeners()},t.prototype.handleTraceUpdate=function(e){if(this.manager.traceLayer.traceInfo){var n,r=this.manager.getProjection();if(e)n=this.getMouseRelativeToGrapher(e),this.last_screen_pt=n,this.manager.markLabelsDirty();else{if(!this.last_screen_pt)return;n=this.last_screen_pt}var i=r.reverse_map_pt(n),o=1/0,s=-1,a=this.manager.traceLayer.traceInfo,l=this.manager.graphSketches[a.branchInfo.sketch.id];if(l){a.branchInfo.sketch=l;for(var c=a.branchInfo.sketch.branches,u=0;u<c.length;u++){var d=t.calculateDistanceFromBranch(c[u],i,r);d<o&&(s=u,o=d)}var p=c[s],h=p?t.getBranchesTracePoint(p,i,r):null;h&&this.speakPoint(h),this.manager.traceLayer.traceInfo.branchInfo.branch=s,this.manager.traceLayer.traceInfo.pt=h,this.manager.redrawAllLayers()}}},t.prototype.speakPoint=function(e){var t=this.manager.getAudioTrace();t&&e&&t.queueCoordinates(e,void 0,!0)},t.fillHole=function(e,t,n,i,o,s){var a=e(t);if(isFinite(a))return a;var l=t-1e-11,c=t+1e-11,u=e(l),d=e(c);if(isNaN(u)&&isNaN(d))return NaN;if(isNaN(u))return d;if(isNaN(d))return u;var p=(o-l)*n,h=(o-c)*n,f=(s-u)*i,g=(s-d)*i;return r.hypot(p,f)<r.hypot(h,g)?u:d},t.prototype.movePointFromKeyboard=function(e,t){if(e&&t&&"movable-point"===e.type){var n,r=this.manager.getProjection(),i=r.map_pt({x:e.x,y:e.y}),o=0,s=0,l=t.shiftKey?10:2,c=t.shiftKey?"big":"",u=a.lookup(t);if("Up"===u?(n="y",s-=l,c+="up"):"Down"===u?(n="y",s+=l,c+="down"):"Left"===u?(n="x",o-=l,c+="down"):"Right"===u&&(n="x",o+=l,c+="up"),0!==o||0!==s){var d,p={x:i.x+o,y:i.y+s};"x"===n?d=[c,""]:"y"===n&&(d=["",c]),this.controller.dispatch({type:"on-move-point",pointInfo:e,screenPt:p,projection:r,keyboardDirection:d})}}},t.prototype.speakPoint=function(e,t){if(e){var n=this.manager.getProjection();if(n){var r=n.viewport;switch(t){case"X":l.alert("X: "+c.value(e.x,r.xmax-r.xmin).ariaString);break;case"Y":l.alert("Y: "+c.value(e.y,r.ymax-r.ymin).ariaString);break;case"L":l.alert(e.label||this.controller.t("Graph point"))}}}},t}),define("graphing/screen",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.width=e,this.height=t}return e}();t.Screen=n}),define("graphing/poi",["require","exports","math/poi-type","./graphmode"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=1,o=function(){function e(e,t,n,r,o,s,a,l,c){this.x=e,this.y=t,this.type=n,this.sketch=r,this.branch=o,this.pointIdxOnBranch=s,this.bareLabel=void 0!==a&&a,this.interactiveLabelVisible=void 0!==l&&l,this.interactiveLabelHovered=void 0!==c&&c,this.id=i++}return e.prototype.getLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return this.type===n.LABEL&&e&&"labels"in e&&e.labels?e.labels[this.pointIdxOnBranch]||"":""},e.prototype.getInteractiveLabelVisible=function(){return this.interactiveLabelVisible},e.prototype.setInteractiveLabelVisible=function(e){this.interactiveLabelVisible=!this.bareLabel&&e},e.prototype.getInteractiveLabelHovered=function(){return this.interactiveLabelHovered},e.prototype.setInteractiveLabelHovered=function(e){this.interactiveLabelHovered=!this.bareLabel&&e},e.prototype.getGraphMode=function(){return this.sketch.branches[this.branch].graphMode},e.prototype.getCompiledFunction=function(){var e=this.sketch.branches[this.branch];if("compiled"in e&&e.compiled)return e.compiled.fn},e.prototype.isAttachedToPlottedPoint=function(){return this.type===n.DEFINITION||this.type===n.LABEL},e.prototype.isMovable=function(){return this.getGraphMode()===r.XYPOINT_MOVABLE},e.prototype.isPersistent=function(){return this.type===n.LABEL},e.prototype.getLabelSize=function(){var e=this.sketch&&this.sketch.branches[this.branch];if(this.type===n.LABEL&&e&&"labelSize"in e)return e.labelSize},e.prototype.getVerticalLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return!!(this.type===n.LABEL&&e&&"verticalLabel"in e)&&!!e.verticalLabel},e.prototype.hasInteractiveLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return!!(e&&"interactiveLabel"in e)&&!!e.interactiveLabel},e.prototype.isBareLabel=function(){return this.bareLabel},e.prototype.getMovablePoint=function(){return this.sketch.getMovablePointByIndex(this.pointIdxOnBranch)},e}();t.POI=o}),define("graphing/graphsketch",["require","exports","math/poi-type","./graphmode","./poi","math/poi-type"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var r=this;this.color="#000000",this.style="normal",this.visible=!0,this.showPOI=!1,this.showHighlight=!1,this.selected=!1,this.labels=[],this.id=e,this.branches=void 0!==t?t:[],this.getPOI().forEach(function(e){e.type===n.LABEL&&r.labels.push(e)})}return e.prototype.getPOI=function(){if(this.__cachedPOI)return this.__cachedPOI;this.__cachedPOI=[],this.__cachedPOIIds={};for(var e=0;e<this.branches.length;e++){var t=this.branches[e],i=t.poi;if(t.graphMode===r.X||t.graphMode===r.Y)this._pushPOI(i.zeros,e,n.ZERO),this._pushPOI(i.intercept,e,n.INTERCEPT),this._pushPOI(i.extrema,e,n.EXTREMUM),i.intersections&&this._pushPOI(i.intersections,e,n.INTERSECTION);else if(t.graphMode===r.XYPOINT||t.graphMode===r.XYPOINT_MOVABLE){t.graphMode;var o=t.graphMode===r.XYPOINT&&!0===t.interactiveLabel;if(!0===t.showLabel||o){var s=t.nakedLabel;i.defined&&this._pushPOI(i.defined,e,n.LABEL,s)}else i.defined&&this._pushPOI(i.defined,e,n.DEFINITION)}}return this.__cachedPOI},e.prototype.getBranchPOI=function(e){return this.getPOI().filter(function(t){return t.branch===e})},e.prototype.getMovablePoints=function(){if(this.__cachedMovablePoints)return this.__cachedMovablePoints;this.__cachedMovablePoints=[];var e=this.branches[0];if(e&&1===e.segments.length&&e.graphMode===r.XYPOINT_MOVABLE)for(var t=e.segments[0],n=0;n<t.length;n++){var i=void 0;e.tableId&&(i={tableId:e.tableId,columnId:this.id,rowIndex:e.movablePointInfo[n].index,dragX:e.movablePointInfo[n].dragX,dragY:e.movablePointInfo[n].dragY});var o=e.scaleFactors?e.scaleFactors[0][n]:void 0,s=i?i.rowIndex:n;this.__cachedMovablePoints.push({type:"movable-point",id:"movable:["+this.id+","+s+"]",sketch:this,color:this.color,tableInfo:i,scaleFactor:o,x:t[n][0],y:t[n][1],label:1===e.segments.length&&e.labels&&e.labels[n]?e.labels[n]:void 0})}return this.__cachedMovablePoints},e.prototype.getMovablePointByIndex=function(e){return this.getMovablePoints()[e]},e.prototype.getStaticLabeledPoints=function(){var e=this;if(this.__cachedStaticLabeledPoints)return this.__cachedStaticLabeledPoints;var t=this.branches[0];return this.__cachedStaticLabeledPoints=[],this.getPOI().forEach(function(n){if((n.type===o.DEFINITION||n.type===o.LABEL)&&t.graphMode===r.XYPOINT){var i=t.showLabel,s=t.labels&&t.labels[0];(i||s)&&e.__cachedStaticLabeledPoints.push({type:"static-labeled-point",id:"static["+e.id+","+n.id+"]",x:n.x,y:n.y,sketch:n.sketch,label:s})}}),this.__cachedStaticLabeledPoints},e.prototype._pushPOI=function(e,t,n,r){void 0===r&&(r=!1);for(var o=0,s=e.x.length;o<s;o++){var a=new i.POI(e.x[o],e.y[o],n,this,t,o,r);e.intersects&&(a.intersects=e.intersects[o]),this.__cachedPOI.push(a),this.__cachedPOIIds[a.id]=a}},e.prototype.updateIntersections=function(e){for(var t=this,i=0,o=this.branches.length;i<o;i++)this.branches[i].poi.intersections=e[i];var s=this.__cachedPOI;this.__cachedPOI=[],s.forEach(function(e){e.type!==n.INTERSECTION?t.__cachedPOI.push(e):delete t.__cachedPOIIds[e.id]});for(var i=0;i<this.branches.length;i++){var a=this.branches[i],l=a.graphMode,c=a.poi;l!==r.X&&l!==r.Y||c.intersections&&this._pushPOI(c.intersections,i,n.INTERSECTION)}},e.prototype.getPOIById=function(e){return this.__cachedPOIIds[e]},e.prototype.updateFrom=function(e){if(e){this.visible=!0,this.showPOI=e.showPOI,this.showHighlight=e.showHighlight,this.selected=e.selected;var t=this.branches[0].graphMode;if(t===r.XYPOINT||t===r.XYPOINT_MOVABLE){for(var n=!0,i=0;i<this.__cachedPOI.length;i++){var o=e.__cachedPOI[i],s=this.__cachedPOI[i];if(!o||o.type!==s.type){n=!1;break}}if(n)for(var i=0;i<this.__cachedPOI.length;i++){var o=e.__cachedPOI[i],s=this.__cachedPOI[i];delete this.__cachedPOIIds[s.id],this.__cachedPOIIds[o.id]=s,s.id=o.id}}}},e}();t.GraphSketch=s}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("base64",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.base64js=e()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({"/":[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,s,a,l=e.length;s=r(e),a=new d(3*l/4-s),i=s>0?l-4:l;var c=0;for(t=0,n=0;t<i;t+=4,n+=3)o=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],a[c++]=o>>16&255,a[c++]=o>>8&255,a[c++]=255&o;return 2===s?(o=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,a[c++]=255&o):1===s&&(o=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,a[c++]=o>>8&255,a[c++]=255&o),a}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function a(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(s(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i="",o=[],s=0,l=n-r;s<l;s+=16383)o.push(a(e,s,s+16383>l?l:s+16383));return 1===r?(t=e[n-1],i+=c[t>>2],i+=c[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=c[t>>10],i+=c[t>>4&63],i+=c[t<<2&63],i+="="),o.push(i),o.join("")}n.byteLength=i,n.toByteArray=o,n.fromByteArray=l;for(var c=[],u=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,f=p.length;h<f;++h)c[h]=p[h],u[p.charCodeAt(h)]=h;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}]},{},[])("/")}),define("bin",["base64"],function(e){var t={};return{load:function(e,n,r,i){var o=n.toUrl("assets_src/"+e);if(i.isBuild){var s=require.nodeRequire("fs");t[e]=s.readFileSync(o).toString("base64"),r()}else{var a=new XMLHttpRequest;a.open("GET",o,!0),a.responseType="arraybuffer",a.onload=function(){r(a.response)},a.send()}},write:function(e,n,r,i){n in t?r("define('"+e+"!"+n+"', ['base64'], function (base64) {  return base64.toByteArray('"+t[n]+"').buffer;});"):console.log("ERROR - failed to find file "+n+" in buildMap")}}}),define("bin!audio/poi.mp3",["base64"],function(e){return e.toByteArray("//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAIAAAHVwAgICAgICAgICAgICBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBggICAgICAgICAgICAoKCgoKCgoKCgoKCgoMDAwMDAwMDAwMDAwODg4ODg4ODg4ODg4OD///////////////8AAAA5TEFNRTMuOThyAaUAAAAALmcAABRAJAiwQgAAQAAAB1cctrbdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjsKyK0YYABp52xtx8wAgAgBd34IAhAgnsECEe7QIAAgsPxACDgcBAEHQfD/g+D4PggCAIf///ghLny4Pg+D5+sHz/wf+XPwfB8H3iMHwfwffUCYPvz/Y7Hg/H4/H4/H4HAwADcoDwAP7XfuAFtXrhzjsjOXP8iCYM4IBVoH2DGAhQR2hm5vikA2IVEPX9nQaITi6IiLCKX/fxcg/DdGmS5BP7fIGQ0hw7DQi5Q//8midImXygdJ0tlz/1NAgXIANV6MA2Vy2y27jv/+1LEBIALOHOTvGGAMXWhbnTxGZ+LOa2FNMsDtj9/jUmPqqqARrNvlVjDDoGZqq0T11A0DVqeEnlQk8q4sVEp0FcqdxLoEJ0RPYWvIlQkbGA0Anw6VJJgqRKw1NJaAXkR4ag0/FwCCABbbdbJA0fzVgdvgvu5Px6Rwiv3VllZVDREqmWntLyBDka3sz951iTve+ddHP0/M3P/+ydU4zbqOZOeop5jfu1kwk8VezPeGc1hRMbWrJNv6SO/fH0Mc15KYvKqAAAAdrdsrbBDuBpp4v/7UsQGgguVE2ekjNP5aSBo6YSNgKAQUoCZEBJK8q73G/nhJFFmLY5dNc4b7gjBRyEs5yjJokY9TBoU/pXQBglyNjeiA87V8vkzaw019YTu2fxY0t6gteLMI37f9fYw7UVnWoE4NJOSpQBu3GfVAIVACgw+IikZZAnB7UKlLGnha4PDbIhsBhk4RYmlE2hYZ8NrQ5HnyEUvZxDyVG1hM33ZZH0OlrJV5///3/51qTGtJgxhREVLEfoO1w6686eRAAAAUicksbA1qegZCe2AuEgJ//tSxAkCDF0XSaw8ailyn+l1h4w1BvVY04S56fYY5nGkBZHMGLBjHDUMlORG4wcCT9R6RB+3vM8jVMU1hmlOoXIOMKqotE2HxWYNJq/7EZ2l63NJ+Z2aTA4Yq+7t0PhOxCz9WP1mA3DJZZGDkRfq+qFAGwhwHUAVqBfDiMUlypaMWApR1VoWLChfUpJzkBDMCTf85UZr6jyHa1psZnTS5iKatTVKcX/Ker9zMvM1T0okGyiQcreJbU1tc+Yj/ms3395FBIADkjlkjbAZNdiwgRD/+1LEBwAL8Tdbp6Rh+XmT6XWHjCx5U4sTCtlUidNtS9I7oUx7oxdIZlOghkIQYzB0vxtMs6QgCg4WMVakQMM5HRfrsdIEftM0yfOHnNGkiPRMoWCKSsxsChat8/vYw4c4t+CMMB5AAAAXZrftWiEVdbSgnURZoWvK2KhK9GfCkIGnQKxIqbYJ0JCNFJ3St1wuUNRLW4Kw5VhLVGrmgYKhhRe1qzzC7SqFFyjJlIqXcPD6gw//epZ9bwQFw+s+rdVAFtzl0AAAA3I3JK0QJxtCHv/7UsQGAApAM0WssGFpSCKqNYMMvgZph6CwIhKEt0yEiMwFKpnDBBajVc5jbTM7KayRt3I43h8Ag05kd9AtqO0bItmf/+Aevzf7dx28sK0hvP//3/izNwf1pfEAgANutuOJACSqWvuW+SKNLQSpOQKsrX3XxnZxy2Rus0Q1irPy9Mkg4kZGJFRQUax4R+jsACwavqYd2bmRX/6VnKrLk2Z2VGYwQNCIEasJh7/oBScAAMtBNgBWssKw0uCAgKkVpJirpZyBklUCwqaSIkW6BgIY//tSxBIDSYw3Km0kSoEzi9KAliSw9QNAydBqoFQVEQNBwiJYiBWdDqxiwVBUGqg6JgaBoGj3//////huVcFQsIRoPjBXLBGA8AkCwOhcD4KAmFAtEYcR6E8gD2OAXJ2N//uSJVZVJNRdh0gkLCwuKioqz4sLC3//////4sLC31ioqKpAoqKirOgFqkxBTUUzLjk4LjKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEIwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==").buffer}),define("graphing/tonegenerator",["require","exports","bin!audio/poi.mp3","tslib","browser","lib/animation-frame","bugsnag","graphing/graphmode"],function(e,t,n,r,i,o,s,a){"use strict";function l(){return{amplitude:0,phase:0,noiseVal:0,lowerOctaveGain:0,upperOctaveGain:0}}function c(e,t){var n=t.independentMin,r=t.independentMax,i=Math.abs((e-n)/(r-n));return isFinite(i)||(i=.5),i=Math.max(Math.min(i,1),0),{left:Math.cos(Math.PI/2*i),right:Math.sin(Math.PI/2*i)}}function u(e,t,n,r,i){var o=t.independent,s=t.dependent,a=e.phase,l=e.noiseVal,c=e.lowerOctaveGain,u=e.upperOctaveGain,f=n.dependentMin,g=n.dependentMax,m=0,y=0,v=0;if(!isNaN(s)&&f<=s&&s<=g){a+=d((s-f)/(g-f))/r,i<4*O?(y=0,v=0):(y=.5,v=o<0?.5:0),s<0&&(l=h(l),m+=.15*l)}else l=h(l),m+=.15*l;return c+=(y-c)/(r*O),u+=(v-u)/(r*O),m+=c*p(a)+u*p(2*a),{amplitude:m,phase:a,noiseVal:l,lowerOctaveGain:c,upperOctaveGain:u}}function d(e){return Math.min(Math.max(q*Math.pow(2,e),F),N)}function p(e){return Math.abs(4*e+1-4*Math.floor((4*e+3)/4))-1}function h(e){return(e+.2*(2*Math.random()-1))/1.02}function f(e,t){return e[0]-t[0]}function g(e){e=r.__assign({},e);var t=e.segments[0].slice();return t.sort(f),e.segments=[t],e}function m(e,t,n,r){for(var i=e.getChannelData(0),o=t.getChannelData(0),s=t.getChannelData(1),a=0;a<i.length&&a+n<o.length;a++)o[a+n]+=i[a]*r.left,s[a+n]+=i[a]*r.right}function y(e){for(var t=0,n=e.branches;t<n.length;t++){if(v(n[t]))return!0}return!1}function v(e){switch(e.graphMode){case a.X:case a.Y:case a.XYPOINT:case a.XYPOINT_MOVABLE:return e.segments.length>0;default:return!1}}function b(e){for(var t=0;t<e.branches.length;t++)if(v(e.branches[t]))return t;return 0}function x(e,t){for(var n=0,r=0;r<=t;r++)v(e.branches[r])&&(n+=1);return n}function w(e){switch(e.graphMode){case a.X:case a.Y:case a.XYPOINT:case a.XYPOINT_MOVABLE:return!0;default:return!1}}function _(e,t,n){switch(e.graphMode){case a.Y:case a.X:if(t<0||t>=e.segments.length)return!1;var r=e.segments[t],i=2*n;return i>=0&&i<r.length;case a.XYPOINT:case a.XYPOINT_MOVABLE:return n>=0&&n<=1&&t>=0&&t<e.segments[0].length;default:return!1}}function E(){return{independent:NaN,dependent:NaN}}function S(e,t,n,r,i){if(!_(e,t,n))return E();switch(e.graphMode){case a.Y:case a.X:var o=e.segments[t],s=2*n;return s+1>=o.length?E():{independent:o[s],dependent:o[s+1]};case a.XYPOINT:case a.XYPOINT_MOVABLE:var l=e.segments[0][t][1],o=e.segments[0],c=.5*(r.xmax-r.xmin)/i*L;if(0===n){var u=-1/0;_(e,t-1,0)&&(u=.5*(o[t][0]+o[t-1][0]));var d=Math.max(o[t][0]-c,u);return{independent:d,dependent:l}}var p=1/0;_(e,t+1,0)&&(p=.5*(o[t][0]+o[t+1][0]));var d=Math.min(o[t][0]+c,p);return{independent:d,dependent:l};default:return E()}}function M(e){switch(e.graphMode){case a.Y:case a.X:return e.segments.length;case a.XYPOINT:case a.XYPOINT_MOVABLE:return e.segments[0].length;default:return 0}}function k(e,t,n,r){if(!_(e,t,0))return NaN;switch(e.graphMode){case a.Y:case a.X:var i=e.segments[t];return i[i.length-2];case a.XYPOINT:case a.XYPOINT_MOVABLE:var i=e.segments[0],o=1/0;_(e,t+1,0)&&(o=.5*(i[t][0]+i[t+1][0]));var s=.5*(n.xmax-n.xmin)/r*L;return Math.min(i[t][0]+s,o);default:return NaN}}function I(e,t){switch(t){case a.Y:case a.XYPOINT:case a.XYPOINT_MOVABLE:return{independentMin:e.xmin,independentMax:e.xmax,dependentMin:e.ymin,dependentMax:e.ymax};case a.X:return{independentMin:e.ymin,independentMax:e.ymax,dependentMin:e.xmin,dependentMax:e.xmax};default:throw P(t)}}function C(e){switch(e.graphMode){case a.Y:case a.XYPOINT:case a.XYPOINT_MOVABLE:return{independent:e.x,dependent:e.y};case a.X:return{independent:e.y,dependent:e.x};default:throw P(e.graphMode)}}function T(e,t){if(e===a.X)return t.y;if(e===a.Y)return t.x;throw P(e)}function P(e){return"Unexpected graph mode. Received "+e}function D(e,t,n,r){var i=e.sampleRate,o=e.getChannelData(0),s=e.getChannelData(1),d=t.graphMode,p=I(n,d),h=p.independentMin,f=p.independentMax,y=f-h,v=0,b=0,x=o.length-1,w=x/i;t.graphMode!==a.XYPOINT&&t.graphMode!==a.XYPOINT_MOVABLE||(t=g(t));for(var E=l(),C=0;C<o.length;C++){for(var P=NaN,D=(x-C)/x*h+C/x*f,A=c(D,p);v<M(t)&&S(t,v,b,n,w).independent<D;)b+=1,_(t,v,b)||(v+=1,b=0);var L=(k(t,v,n,w)-D)*(w/y),O=S(t,v,b,n,w),F=S(t,v,b-1,n,w),q=O.independent-F.independent;P=(O.independent-D)/q*F.dependent+(D-F.independent)/q*O.dependent,E=u(E,{independent:D,dependent:P},p,i,L),o[C]+=E.amplitude*A.left,s[C]+=E.amplitude*A.right}if(r&&(d===a.X||d===a.Y)&&t.poi.intersections)for(var N=T(d,t.poi.intersections),R=0,B=N;R<B.length;R++){var D=B[R],C=Math.round((D-h)/(f-h)*x);m(r,e,C,c(D,p))}}function A(e,t,n,r){for(var i=e.sampleRate,o=e.getChannelData(0),s=e.getChannelData(1),a=t.graphMode,d=I(n,a),p=o.length-1,h=l(),f=C(t),g=f.independent,y=f.dependent,v=c(g,d),b=0;b<o.length;b++){h=u(h,{independent:g,dependent:y},d,i,(p-b)/i),o[b]+=h.amplitude*v.left,s[b]+=h.amplitude*v.right}r&&void 0!==t.intersects&&m(r,e,0,v)}Object.defineProperty(t,"__esModule",{value:!0});var L=.075,O=.0015,F=125,q=500,N=2e3,R=function(){function e(e){var t=e.audioPointMove,n=e.audioPointReset;this.audioSpeed=50,this.audioPointMove=t,this.audioPointReset=n}return e.prototype.suspend=function(){this.playbackSupported&&this.audioCtx&&(this.stop(),this.audioCtx.suspend())},e.prototype.resume=function(){if(!this.audioCtx){var e=window.AudioContext||window.webkitAudioContext;if(i.IS_IE)this.playbackSupported=!1,this.audioCtx=void 0;else try{this.audioCtx=e?new e:void 0,this.playbackSupported=!0}catch(e){s.notify(e),this.playbackSupported=!1,this.audioCtx=void 0}}this.playbackSupported&&this.audioCtx&&("suspended"===this.audioCtx.state&&this.audioCtx.resume(),this.loadPOI())},e.prototype.stop=function(){this.playTimeout&&(o.cancelAnimationFrame(this.playTimeout),this.playTimeout=void 0),this.bufferSource&&(this.bufferSource.stop(),this.bufferSource.disconnect(),this.bufferSource=void 0),this.audioPointReset()},e.prototype.getAudioSpeed=function(){return this.audioSpeed},e.prototype.setAudioSpeed=function(e){this.audioSpeed=e},e.prototype.getPlaybackSupported=function(){return this.playbackSupported},e.prototype.playBranchByIndex=function(e,t,n){var r=this;if(!(t<0||t>=e.branches.length)&&v(e.branches[t])){var i=function(){return r.stop()};this.playBranch(e.branches[t],t,n,i)}},e.prototype.playSketch=function(e,t){var n=this,r=e.branches;if(0!==r.length){var i=-1,o=function(){for(i+=1;i<r.length&&!v(r[i]);)i+=1;i<r.length?n.playBranch(r[i],i,t,o):n.stop()};o()}},e.prototype.playPoint=function(e,t){if(this.audioCtx&&w(e)){var n=this.audioCtx.sampleRate,r=n*L,i=this.audioCtx.createBuffer(2,r,n);A(i,e,t,this.poiBuffer),this.connectBuffer(i)}},e.prototype.connectBuffer=function(e){if(this.audioCtx){var t=this.audioCtx.createGain();t.connect(this.audioCtx.destination),t.gain.value=i.IS_APPLE?1:.5;var n=this.audioCtx.createBufferSource();this.bufferSource=n,n.buffer=e,n.connect(t),n.start()}},e.prototype.playBranch=function(e,t,n,r){var i=this;if(this.audioCtx){var s=this.audioSpeed/10,a=this.audioCtx.sampleRate,l=a*s,c=this.audioCtx.createBuffer(2,l,a);D(c,e,n,this.poiBuffer),this.connectBuffer(c);var u=this.audioCtx.currentTime,d=function(){if(void 0!==i.playTimeout&&o.cancelAnimationFrame(i.playTimeout),i.audioCtx){var a=i.audioCtx.currentTime,l=a-u,c=e.graphMode,p=I(n,c),h=p.independentMin,f=p.independentMax,g=(s-l)/s*h+l/s*f;i.audioPointMove(t,g),l<s?i.playTimeout=o.requestAnimationFrame(d):r()}};d()}},e.prototype.loadPOI=function(){var e=this;this.playbackSupported&&!this.poiBuffer&&this.audioCtx&&this.audioCtx.decodeAudioData(n.slice(0),function(t){e.poiBuffer=t})},e}();t.default=R,t.canPlaySketch=y,t.canPlayBranch=v,t.getFirstPlayableBranchIndex=b,t.getReportedBranch=x}),define("graphing/audiographnavigator",["require","exports","main/propagate_selection","tslib","underscore","graphing/graphmode","graphing/label","math/poi","graphing/tonegenerator","lib/aria"],function(e,t,n,r,i,o,s,a,l,c){"use strict";function u(e,t,n){return{x:e.x,y:e.y,branch:e.branch,reportedBranch:n,type:e.type,graphMode:t,intersects:e.intersects}}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,n){this.grapher=n,this.controller=e,this.audiograph=t,this.reset()}return e.prototype.reset=function(){this.currentPoint=void 0,this.resetToFirstBranch(),this.sampledPoints=[],this.pois=[],this.independent=0,this.xstep=0,this.ystep=0},e.prototype.resetToFirstBranch=function(){var e=this.getCurrentSketch();this.branch=e?l.getFirstPlayableBranchIndex(e):0},e.prototype.getBranchPoints=function(e){var t=[];if(e>=0)for(var n=0,r=this.getSampledPoints();n<r.length;n++){var i=r[n];i.branch===e&&t.push(i)}return t},e.prototype.resetTracePoint=function(){this.drawTrace(this.getCurrentPoint())},e.prototype.drawTrace=function(e){var t=this.getCurrentSketch();if(e&&t){var n=t.branches[this.branch];if(n){if(n.graphMode!==o.XYPOINT){var r={x:e.x,y:e.y};this.grapher.traceLayer.setTraceInfo({branchInfo:{branch:e.branch,id:t.id,sketch:t},pt:r}),this.grapher.redrawAllLayers()}}}},e.prototype.moveToOrigin=function(){var e=this.getCurrentSketch();if(e&&l.canPlaySketch(e)){var t=e.branches[this.branch];if(l.canPlayBranch(t)){var n=t.graphMode;if(n===o.Y)this.setIndependent("x",0);else if(n===o.X)this.setIndependent("y",0);else if(n===o.XYPOINT){var r=this.getSortedPOI()[0];this.setIndependent("x",r?r.x:0)}}}},e.prototype.getCurrentSketch=function(){var e,t=this.getSelectedItem();if(t){var n=this.audiograph.getFocusedCell();e="table"===t.type&&n?this.getGraphSketchForTableCell(t,n):this.grapher.getGraphSketch(t.id)}return e},e.prototype.getFirstTraceableSketch=function(e){for(var t,n=this.controller.getItemCount(),r=this.controller.shouldAudioTraceReverseExpressions(),i=0;i<n;i++){var o=r?n-1-i:i,s=this.controller.getItemModelByIndex(o);if(s&&this.canTrace(s)){var a=r?this.prevTableColumn(s):this.nextTableColumn(s);if(a?(this.audiograph.setFocusedCell(a),t=this.getGraphSketchForTableCell(s,a)):t=this.grapher.getGraphSketch(s.id),t){e&&e.selectAssociatedExpression&&this.controller.dispatch({type:"set-selected-index",index:o});break}}}return t},e.prototype.canTrace=function(e){if("shouldGraph"in e){var t=this.grapher.getGraphSketch(e.id);return!!t&&l.canPlaySketch(t)}return!1},e.prototype.getTraceableExpressionCount=function(){for(var e=0,t=this.controller.getItemCount(),n=0;n<t;n++){var r=this.controller.getItemModelByIndex(n);r&&(this.canTrace(r)&&e++)}return e},e.prototype.computeStepSizes=function(){var e=this.grapher.getProjection().viewport;if(e){this.viewport=e;var t=e.xmin,n=e.xmax;this.xstep=Math.abs(n-t)/100,this.xscale=n-t;var r=e.ymin,i=e.ymax;this.ystep=Math.abs(i-r)/100,this.yscale=i-r;var s=this.getCurrentSketch();if(s&&l.canPlaySketch(s)){var a=s.branches[this.branch];if(l.canPlayBranch(a)){var c=a.graphMode;if(c===o.Y)this.independent<t?this.independent=t:this.independent>n&&(this.independent=n);else if(c===o.X)this.independent<r?this.independent=r:this.independent>i&&(this.independent=i);else if(c===o.XYPOINT){var u=void 0,d=void 0;this.independent<t?(d=this.getSortedPOI()[0],this.independent=d&&void 0!==d.x?d.x:0):this.independent>n&&(u=this.getSortedPOI(),d=u[u.length-1],this.independent=d&&void 0!==d.x?d.x:0)}}}}},e.prototype.getPoint=function(e,t){var n,r=this.getCurrentSketch();if(!r||!l.canPlaySketch(r))return n;var i,s,a,c=0,u=r.branches[e];if(u){var d=l.getReportedBranch(r,e);return"compiled"in u&&u.compiled&&(a=u.compiled.fn),s=u.graphMode,s===o.Y?(i=this.getInterveningPOIs(t,t+this.xstep,e,s)[0],i&&i.x===t&&i.branch===e||(i=void 0,c=a?a(t):0),i?n={x:i.x,y:i.y,type:i.type,typeChain:i.typeChain,branch:i.branch,reportedBranch:d,graphMode:s,intersects:i.intersects}:a&&(n={x:t,y:c,branch:e,reportedBranch:d,graphMode:s})):s===o.X?(i=this.getInterveningPOIs(t,t+this.ystep,e,s)[0],i&&i.y===t&&i.branch===e||(i=void 0,c=a?a(t):0),i?n={x:i.x,y:i.y,type:i.type,typeChain:i.typeChain,branch:i.branch,reportedBranch:d,graphMode:s,intersects:i.intersects}:a&&(n={y:t,x:c,branch:e,reportedBranch:d,graphMode:s})):s===o.XYPOINT&&(i=this.getInterveningPOIs(t,t+this.xstep,e,s)[0],n=i&&i.x===t&&i.branch===e?{x:i.x,y:i.y,type:i.type,typeChain:i.typeChain,branch:i.branch,reportedBranch:d,graphMode:s,intersects:i.intersects}:{x:t,y:NaN,branch:e,reportedBranch:d,graphMode:s}),n}},e.prototype.getSampledPoints=function(){return 0===this.sampledPoints.length&&this.updateSampledPoints(),this.sampledPoints},e.prototype.updateSampledPoints=function(){var e=this.getCurrentSketch();if(e&&l.canPlaySketch(e)){for(var t=[],n=0;n<e.branches.length;n++){var r=e.branches[n];if(l.canPlayBranch(r)){var i=r.graphMode,a=0,c=0,u=0,d=[];if(i===o.Y||i===o.XYPOINT?(a=this.viewport.xmin,c=this.viewport.xmax,u=this.xstep):i===o.X&&(a=this.viewport.ymin,c=this.viewport.ymax,u=this.ystep),0!==a||0!==c||0!==u){for(var p=0;s.value(a+p*u).value<=c;p++){var h=s.value(a+p*u).value,f=this.getInterveningPOIs(h,h+u,n,i);if(f.length>0)d.push.apply(d,f);else{var g=this.getPoint(n,h);g&&d.push(g)}}t.push.apply(t,this.removeDuplicates(d,i))}}}this.sampledPoints=t}},e.prototype.getCurrentPoint=function(){return this.currentPoint||this.updateCurrentPoint(),this.currentPoint},e.prototype.updateCurrentPoint=function(e){
if(e){this.currentPoint=e;var t=e.graphMode;t===o.Y||t===o.XYPOINT?this.independent=void 0!==e.x?e.x:0:t===o.X&&(this.independent=void 0!==e.y?e.y:0),this.branch=e.branch}else this.currentPoint=this.getPoint(this.branch,this.independent)},e.prototype.prevPoint=function(){this.moveToPoint(-1)},e.prototype.nextPoint=function(){this.moveToPoint(1)},e.prototype.firstPoint=function(){var e=this.getSampledPoints();e.length>0&&this.updateCurrentPoint(e[0])},e.prototype.lastPoint=function(){var e=this.getSampledPoints();e.length>0&&this.updateCurrentPoint(e[e.length-1])},e.prototype.moveToPoint=function(e){var t=this.getCurrentPoint();if(t){if(t.graphMode===o.XYPOINT)return void this.moveToPOI(e);var n=this.getSampledPoints(),r=this.getPointIndex(n,t);if(-1!==r){var i=r+e;i<=0?(i=0,c.queue(this.controller.t("First point"))):i>=n.length-1&&(i=n.length-1,c.queue(this.controller.t("Last point")));var s=n[i];this.updateCurrentPoint(s)}}},e.prototype.prevPOI=function(){this.moveToPOI(-1)},e.prototype.nextPOI=function(){this.moveToPOI(1)},e.prototype.getSortedPOI=function(){return this.pois&&0!==this.pois.length||this.updatePOI(),this.pois},e.prototype.updatePOI=function(){var e,t=[],n=[],r=this.getCurrentSketch();if(r&&l.canPlaySketch(r)){for(var s=0;s<r.branches.length;s++){var a=r.branches[s];if(a){var c=l.getReportedBranch(r,s),d=a.graphMode;if(n=[],e=r.getBranchPOI(s),e.length>0){d===o.Y||d===o.XYPOINT?n=i.sortBy(e,"x"):d===o.X&&(n=i.sortBy(e,"y"));for(var p=[],h=0,f=n;h<f.length;h++){var g=f[h];p.push(u(g,d,c))}t.push.apply(t,this.removeDuplicates(p,d))}}}this.pois=t}},e.prototype.removeDuplicates=function(e,t){for(var n=[],i=0,o=e;i<o.length;i++){var l=o[i];if(l=r.__assign({},l),l.graphMode=t,0!==n.length){var c=n[n.length-1];s.value(c.x).value===s.value(l.x).value&&s.value(c.y).value===s.value(l.y).value&&c.branch===l.branch?(c.typeChain||(c.typeChain=void 0!==c.type?[c.type]:[]),void 0!==l.type&&-1===c.typeChain.indexOf(l.type)&&c.typeChain.push(l.type),l.type===a.default.INTERSECTION&&l.intersects&&void 0===c.intersects&&(c.intersects=l.intersects)):n.push(l)}else n.push(l)}return n},e.prototype.getInterveningPOIs=function(e,t,n,r){for(var i=[],s=this.getSortedPOI(),a=NaN,l=0,c=s;l<c.length;l++){var u=c[l];u&&(r!==o.Y&&r!==o.XYPOINT||isNaN(u.x)?r!==o.X||isNaN(u.y)||(a=u.y):a=u.x,u.branch===n&&!isNaN(a)&&(e<=a&&a<t||t<=a&&a<e)&&i.push(u))}return e>t?i.reverse():i},e.prototype.setIndependent=function(e,t){for(var n=this.getSampledPoints(),r=0,i=n;r<i.length;r++){var o=i[r];if(o&&o.hasOwnProperty(e)&&o[e]===t){if("x"===e)return this.independent=void 0!==o.x?o.x:0,void this.updateCurrentPoint();if("y"===e)return this.independent=void 0!==o.y?o.y:0,void this.updateCurrentPoint()}}var s=!0;if(n.length>0){var a=Math.floor((n.length-1)/2),l=n[a];l&&("x"===e?(this.independent=void 0!==l.x?l.x:0,s=!1):"y"===e&&(this.independent=void 0!==l.y?l.y:0,s=!1))}s&&(this.independent=0),this.resetToFirstBranch(),this.updateCurrentPoint()},e.prototype.moveToPOI=function(e){var t=this.getCurrentPoint();if(t){var n=this.getSampledPoints(),r=this.getPointIndex(n,t);if(-1!==r){for(var i=t.graphMode,s=-1,a=1===e?n.length-1:0,l=r;l!==a+e;l+=e){var u=n[l];if(((i===o.Y||i===o.XYPOINT)&&t.x!==u.x||i===o.X&&t.y!==u.y)&&void 0!==u.type){s=l;break}}-1===s?c.queue(this.controller.t("No more points of interest")):this.updateCurrentPoint(n[s])}}},e.prototype.getPointIndex=function(e,t){var n=-1;if(e.length>0&&t)for(var r=t.graphMode,i=0;i<e.length;i++){var s=e[i];if(((r===o.Y||r===o.XYPOINT)&&s.x===t.x||r===o.X&&s.y===t.y)&&s.branch===t.branch){n=i;break}}return n},e.prototype.prevCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveDown():this.curveUp()},e.prototype.nextCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveUp():this.curveDown()},e.prototype.curveUp=function(){var e=this.getSelectedItem();if(e){var t=this.prevTableColumn(e);if(t)this.audiograph.setFocusedCell(t);else{var n=e.index,r=this.findPrevTraceableIndex(n);if(-1!==r){var i=this.controller.getItemModelByIndex(r);i&&this.controller.dispatch({type:"set-selected-id",id:i.id})}}(t||this.getSelectedItem()!==e)&&this.audiograph.enterAudioTrace()}},e.prototype.curveDown=function(){var e=this.getSelectedItem();if(e){var t=this.nextTableColumn(e);if(t)this.audiograph.setFocusedCell(t);else{var n=e.index,r=this.findNextTraceableIndex(n);if(-1!==r){var i=this.controller.getItemModelByIndex(r);i&&this.controller.dispatch({type:"set-selected-id",id:i.id})}}(t||this.getSelectedItem()!==e)&&this.audiograph.enterAudioTrace()}},e.prototype.findPrevTraceableIndex=function(e){var t;do{e--,t=this.controller.getItemModelByIndex(e);var n=t&&this.prevTableColumn(t);if(n)return this.audiograph.setFocusedCell(n),e}while(t&&!this.canTrace(t));return t?e:-1},e.prototype.findNextTraceableIndex=function(e){var t;do{e++,t=this.controller.getItemModelByIndex(e);var n=t&&this.nextTableColumn(t);if(n)return this.audiograph.setFocusedCell(n),e}while(t&&!this.canTrace(t));return t?e:-1},e.prototype.prevTableColumn=function(e){return this.tableColumn(e,-1)},e.prototype.nextTableColumn=function(e){return this.tableColumn(e,1)},e.prototype.tableColumn=function(e,t){var n;if(e&&"table"===e.type){var r=this.audiograph.getFocusedCell(),i=void 0,o=void 0,s=void 0;-1===t?(i=r?Math.max(r.location.column-1,0):NaN,o=r&&r.tableId===e.id&&!isNaN(i)?i:e.columnModels.length-1,s=0):(i=r?Math.min(r.location.column+1,e.columnModels.length-1):NaN,o=r&&r.tableId===e.id&&!isNaN(i)?i:0,s=e.columnModels.length-1);var a=(s-o)/t;if(isFinite(a)&&a>=0)for(var l=o;l!==s;l+=t){var c=e.columnModels[l];if(c){var u=this.grapher.getGraphSketch(c.id);if(u){n={tableId:e.id,location:{column:l,row:0}};break}}}}return n},e.prototype.getGraphSketchForTableCell=function(e,t){if(e&&"table"===e.type&&t){var n=e.columnModels[t.location.column];return n?this.grapher.getGraphSketch(n.id):void 0}},e.prototype.getXScale=function(){return this.xscale},e.prototype.getYScale=function(){return this.yscale},e.prototype.getSelectedItem=function(){var e=this.controller.getSelectedItem();return e&&"folder"===e.type?this.controller.getItemModel(n.getSelectedId(e)):e},e}();t.default=d}),define("graphing/audiograph",["require","exports","tslib","browser","keys","lib/aria","graphing/audiographnavigator","graphing/tonegenerator","graphing/graphmode","graphing/label","math/poi","graphing-calc/models/table"],function(e,t,n,r,i,o,s,a,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){var n=this;this.grapher=t,this.controller=e,this.audioTraceActive=!1,this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.sliderTraceActive=!1,this.sliderIndex=0,this.sliderArray=[],this.lastSpokenBranch=1,this.agNavigator=new s.default(e,this,this.grapher),this.tonegen=new a.default({audioPointMove:function(e,t){n.agNavigator.drawTrace(n.agNavigator.getPoint(e,t))},audioPointReset:function(){n.agNavigator.resetTracePoint()}}),this.tonegen.suspend()}return e.prototype.remove=function(){},e.prototype.handleKeydown=function(e){var t=e.altKey||e.metaKey,n=e.altKey&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey,o=e.ctrlKey&&!e.metaKey&&!e.altKey,s=r.IS_APPLE?o:t,a=s&&(61===e.which||187===e.which),l=s&&!e.shiftKey&&(173===e.which||189===e.which),c=s&&!e.shiftKey&&"0"===i.lookupChar(e);n&&"S"===i.lookupChar(e)?this.agNavigator.getSelectedItem()&&(this.audioTraceActive||this.isFocusInExpressionsView())&&(e.preventDefault(),e.stopPropagation(),this.describeGraph()):n&&"T"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.toggleAudioTrace()):a?(e.preventDefault(),e.stopPropagation(),this.zoom("in")):l?(e.preventDefault(),e.stopPropagation(),this.zoom("out")):c?(e.preventDefault(),e.stopPropagation(),this.zoom("default")):this.audioTraceActive&&(this.sliderTraceActive?this.sliderTraceKeydown(e):this.audioTraceKeydown(e))},e.prototype.sliderTraceKeydown=function(e){var t=e.altKey||e.metaKey,n=!t&&!e.ctrlKey&&!e.shiftKey;n&&i.lookup(e)===i.LEFT||"J"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.decrementSliderValue()):n&&i.lookup(e)===i.RIGHT||"L"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.incrementSliderValue()):n&&i.lookup(e)===i.PAGEDOWN?(e.preventDefault(),e.stopPropagation(),this.decrementBigSliderValue()):n&&i.lookup(e)===i.PAGEUP?(e.preventDefault(),e.stopPropagation(),this.incrementBigSliderValue()):t||i.lookup(e)!==i.DOWN&&(e.shiftKey||i.lookup(e)!==i.TAB)&&"K"!==i.lookupChar(e)?!t&&(i.lookup(e)===i.UP||e.shiftKey&&i.lookup(e)===i.TAB||"I"===i.lookupChar(e))?(e.preventDefault(),e.stopPropagation(),this.prevSlider()):n&&i.lookup(e)===i.HOME||"U"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMin()):n&&i.lookup(e)===i.END||"N"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMax()):(this.stopAnimations(),this.audioTraceKeydown(e)):(e.preventDefault(),e.stopPropagation(),this.nextSlider())},e.prototype.audioTraceKeydown=function(e){var t=this,n=e.altKey||e.metaKey,r=n&&!e.ctrlKey&&!e.shiftKey,s=!n&&!e.ctrlKey&&!e.shiftKey,l=i.lookupChar(e);if(i.lookup(e)===i.UP&&r)e.preventDefault(),e.stopPropagation(),this.agNavigator.prevCurve();else if(i.lookup(e)===i.DOWN&&r)e.preventDefault(),e.stopPropagation(),this.agNavigator.nextCurve();else if(s&&i.lookup(e)===i.LEFT||i.lookup(e)===i.UP||"J"===l)e.preventDefault(),e.stopPropagation(),this.agNavigator.prevPoint(),this.reportAudioTrace();else if(s&&i.lookup(e)===i.RIGHT||i.lookup(e)===i.DOWN||"L"===l)e.preventDefault(),e.stopPropagation(),this.agNavigator.nextPoint(),this.reportAudioTrace();else if(n||i.lookup(e)!==i.PAGEDOWN&&(e.shiftKey||i.lookup(e)!==i.TAB)&&"I"!==l)if(!n&&(i.lookup(e)===i.PAGEUP||e.shiftKey&&i.lookup(e)===i.TAB||"K"===l))e.preventDefault(),e.stopPropagation(),this.agNavigator.prevPOI(),this.reportAudioTrace();else if(s&&i.lookup(e)===i.HOME||"U"===l)e.preventDefault(),e.stopPropagation(),this.agNavigator.firstPoint(),this.reportAudioTrace();else if(s&&i.lookup(e)===i.END||"N"===l)e.preventDefault(),e.stopPropagation(),this.agNavigator.lastPoint(),this.reportAudioTrace();else if(s&&"X"===l)e.preventDefault(),e.stopPropagation(),this.reportAudioTrace("x");else if(s&&"P"===l)e.preventDefault(),e.stopPropagation(),this.queuePOICount(),o.alert();else if(s&&"Y"===l)e.preventDefault(),e.stopPropagation(),this.reportAudioTrace("y");else if(s&&"T"===l)e.preventDefault(),e.stopPropagation(),this.reportAudioTrace("type");else if(s&&"B"===l)e.preventDefault(),e.stopPropagation(),this.reportAudioTrace("branch");else if(s&&"O"===l)e.preventDefault(),e.stopPropagation(),this.agNavigator.moveToOrigin(),this.reportAudioTrace();else if(s&&"H"===l)if(e.preventDefault(),e.stopPropagation(),this.tonegen.getPlaybackSupported()){this.tonegen.stop();var c=this.agNavigator.getCurrentSketch();c&&a.canPlaySketch(c)?(o.alert(this.controller.t("Playing graph.")),clearTimeout(this.playTimeout),this.playTimeout=setTimeout(function(){return t.tonegen.playSketch(c,t.grapher.getCurrentViewport())},500)):o.alert(this.controller.t("Unable to audio trace this expression."))}else o.alert(this.controller.t("Unable to play audio."));else if(s&&"string"==typeof l&&l>="0"&&l<="9"){e.preventDefault(),e.stopPropagation(),this.tonegen.stop();var u=this.agNavigator.getCurrentSketch();if(u){var d=void 0;d=48===e.which?9:e.which-49;for(var p=d,h=-1,f=0;f<u.branches.length;f++)if(a.canPlayBranch(u.branches[f])&&(p-=1),p<0){h=f;break}h>=0?this.tonegen.getPlaybackSupported()?(o.alert(this.controller.t("Branch __branch__",{branch:d+1})),clearTimeout(this.playTimeout),this.playTimeout=setTimeout(function(){return t.tonegen.playBranchByIndex(u,h,t.grapher.getCurrentViewport())},500)):o.alert(this.controller.t("Unable to play audio.")):o.alert(this.controller.t("Branch __branch__ does not exist.",{branch:d+1}))}else o.alert(this.controller.t("No graph selected."))}else n&&"string"==typeof l&&l>="1"&&l<="5"?(e.preventDefault(),e.stopPropagation(),this.adjustPlaybackSpeed(l)):s&&"A"===l?(e.preventDefault(),e.stopPropagation(),this.queueAnimatingPoints(!0),o.alert()):s&&"S"===l&&this.controller.isListEnabled()?(e.preventDefault(),e.stopPropagation(),this.toggleSliderTrace()):s&&this.exitAudioTrace();else e.preventDefault(),e.stopPropagation(),this.agNavigator.nextPOI(),this.reportAudioTrace()},e.prototype.describeGraph=function(){var e=this.agNavigator.getCurrentSketch();if(e){var t=a.getReportedBranch(e,e.branches.length-1);t>1&&o.queue(this.controller.t("Branches: __branches__.",{branches:t}));var n=this.agNavigator.getSortedPOI();if(o.queue(this.controller.t("Points of interest: __poiCount__.",{poiCount:n.length})),n.length>0)for(var r=0;r<n.length;r++)this.queueCoordinates(n[r])}else o.queue(this.controller.t("No graph information available."));o.alert()},e.prototype.queueCoordinates=function(e,t,n){if(void 0===n&&(n=!1),e){var r=this.agNavigator.getCurrentSketch();(e.hasOwnProperty("branch")&&r&&r.branches.length>1&&this.lastSpokenBranch!==e.reportedBranch||"branch"===t)&&o.queue(this.controller.t("Branch __branch__.",{branch:e.reportedBranch})),this.lastSpokenBranch=e.reportedBranch?e.reportedBranch:e.branch+1,e.hasOwnProperty("type")&&!t?o.queue(this.controller.t("__type__ at",{type:this.describePOI(e)})):"type"===t&&o.queue(this.describePOI(e)),t&&"x"!==t||o.queue(this.controller.t("X: __x__.",{x:c.value(e.x,this.agNavigator.getXScale()).ariaString})),t&&"y"!==t||o.queue(this.controller.t("Y: __y__.",{y:c.value(e.y,this.agNavigator.getYScale()).ariaString})),n&&o.alert()}},e.prototype.describePOI=function(e){if(e.typeChain){for(var t=[],n=0;n<e.typeChain.length;n++)t.push(this.poiTypeToText(e,n));return t.join(", ")}return this.poiTypeToText(e)},e.prototype.poiTypeToText=function(e,t){switch(t&&e.typeChain?e.typeChain[t]:e.type){case u.default.INTERSECTION:var n=this.getIntersectingCurves(e);return""!==n?this.controller.t("Intersection with __curves__",{curves:n}):this.controller.t("Intersection");case u.default.ZERO:return this.controller.t("Zero");case u.default.INTERCEPT:return this.controller.t("Intercept");case u.default.EXTREMUM:return this.controller.t("Extremum");case u.default.EDGE:return this.controller.t("Edge");case u.default.DEFINITION:return this.controller.t("Point");case u.default.TRACE:return this.controller.t("Trace");case u.default.LABEL:return this.controller.t("Label");default:return this.controller.t("Not a P O I")}},e.prototype.getIntersectingCurves=function(e){return e&&e.intersects?this.getExpressionAriaLabel(e.intersects):""},e.prototype.getExpressionAriaLabel=function(e){var t=this.controller.getItemModel(e);return t?"expression"===t.type&&t.label?t.label:this.controller.isItemSecret(t.id)?this.controller.t("Secret expression __index__",{index:t.secretIndex}):"table"===t.type&&this.focusedCell?this.controller.t("Expression __index__ column __column__",{index:t.displayIndex,column:this.focusedCell.location.column+1}):this.controller.t("Expression __index__",{index:t.displayIndex}):""},e.prototype.exitAudioTrace=function(e){if(this.audioTraceActive){if(this.audioTraceActive=!1,e||(e=this.controller.t("Audio trace off.")),this.controller.dispatch({type:"toast/close"}),this.wasFocusInExpressionsView){var t=this.agNavigator.getSelectedItem();t&&this.controller.isItemSelectable(t.id)||(t=this.controller.getFirstFullyVisibleItem()),t&&this.controller.isItemSelectable(t.id)&&this.controller.dispatch({type:"move-focus-to-item",id:t.id,where:"table"===t.type&&void 0!==this.focusedCell?n.__assign({location:"cell"},this.focusedCell.location):"end"})}this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.stopAnimations(),this.sliderTraceActive=!1,this.sliderIndex=0,this.tonegen.stop(),this.tonegen.suspend(),this.agNavigator.reset(),this.lastSpokenBranch=1,this.grapher.traceLayer.setTraceInfo(void 0),this.grapher.redrawAllLayers(),o.alert(e),this.resumeAnimations()}},e.prototype.isFocusInExpressionsView=function(){return!!this.controller.getFocusedItem()},e.prototype.enterAudioTrace=function(){var e=this,t=this.agNavigator.getSelectedItem(),n=!1;this.audioTraceActive||(this.wasFocusInExpressionsView=this.isFocusInExpressionsView(),n=!this.wasFocusInExpressionsView);var i;if(n)i=this.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!0});else{if(t&&"expression"===t.type&&t.formula&&t.formula.error)return this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("No graph to trace.")}});if(t&&"table"===t.type){var s=d.getSelectedCell(t);this.focusedCell&&this.focusedCell.tableId===t.id&&(!s||s.column===this.focusedCell.location.column&&s.row===this.focusedCell.location.row)||(this.focusedCell=void 0!==s?{tableId:t.id,location:s}:void 0)}else this.focusedCell=void 0;i=this.agNavigator.getCurrentSketch()}if(!i)return this.agNavigator.reset(),this.lastSpokenBranch=1,this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("No graph to trace.")}});var a=i.branches[0].graphMode;return a===l.IMPLICIT?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace implicit curves yet.")}})):a===l.PARAMETRIC?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace parametric curves yet.")}})):a===l.POLAR?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace polar curves yet.")}})):(this.agNavigator.reset(),this.agNavigator.computeStepSizes(),this.lastSpokenBranch=1,this.grapher.traceLayer.clearOpenedPOI(),this.grapher.redrawAllLayers(),this.audioTraceActive||(this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Audio trace on."),noAria:!0,onHide:function(){return e.exitAudioTrace()},hideAfter:0}}),o.queue(this.controller.t("Audio trace on.")),this.pauseAnimations(),this.queueAnimatingPoints(!1),o.queue(this.controller.t("Use Arrow keys to navigate.")),this.tonegen.resume(),this.tonegen.getPlaybackSupported()&&o.queue(this.controller.t("To hear the graph, press H.")),this.agNavigator.getTraceableExpressionCount()>1&&(r.IS_APPLE?o.queue(this.controller.t("To move between expressions, press COMMAND+Up-Arrow or COMMAND+Down-Arrow.")):o.queue(this.controller.t("To move between expressions, press ALT+Up-Arrow or ALT+Down-Arrow."))),r.IS_APPLE?o.queue(this.controller.t("To disable audio trace, press OPTION+T.")):o.queue(this.controller.t("To disable audio trace, press ALT+T.")),this.wasFocusInExpressionsView&&this.controller.find$(".dcg-graph-outer").one("focusin",function(){setTimeout(function(){o.alert()},0)}).focus()),this.agNavigator.moveToOrigin(),t&&o.queue(this.getExpressionAriaLabel(t.id)),this.reportAudioTrace(),this.wasFocusInExpressionsView||o.alert(),void(this.audioTraceActive=!0))},e.prototype.checkIfSelectedItemChanged=function(e){this.lastSelectedId!==e&&(this.lastSelectedId=e,this.audioTraceActive&&(e?(o.queue(this.getExpressionAriaLabel(e)),this.exitSliderTrace(),this.agNavigator.updatePOI(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),o.alert()):this.exitAudioTrace()))},e.prototype.pauseAnimations=function(){var e=this;this.sliderArray.length=0,this.controller.getAllModelsWithSliders().forEach(function(t){t.slider.isPlaying&&(e.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!1}),e.sliderArray.push(t))})},e.prototype.resumeAnimations=function(){if(0!==this.sliderArray.length){for(var e=0;e<this.sliderArray.length;e++){var t=this.sliderArray[e];!0!==t.slider.isPlaying&&this.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!0})}this.sliderArray.length=0}},e.prototype.stopAnimations=function(){var e=this;this.controller.getAllModelsWithSliders().forEach(function(t){t.slider.isPlaying&&e.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!1})})},e.prototype.getAnimatingVars=function(){for(var e=[],t=0;t<this.sliderArray.length;t++)e.push('"'+this.sliderArray[t].dependent+'"');return e},e.prototype.hasActiveSliders=function(){for(var e=this.controller.getAllModelsWithSliders(),t=0;t<e.length;t++)if(e[t].slider.isPlaying)return!0;return!1},e.prototype.queueAnimatingPoints=function(e){1===this.sliderArray.length?o.queue(this.controller.t("One animating slider was paused.")):this.sliderArray.length>1?o.queue(this.controller.t("__sliders__ animating sliders were paused.",{sliders:this.sliderArray.length})):e&&o.queue(this.controller.t("No animating sliders were paused."))},e.prototype.queueSliderLatex=function(){this.hasActiveSliders()||this.tonegen.stop();var e=this.getSelectedSlider();e?o.queue(e.latex):o.queue(this.controller.t("Unable to determine slider value"))},e.prototype.getSelectedSlider=function(){var e=this.controller.getAllModelsWithSliders();return this.sliderIndex<=e.length-1?e[this.sliderIndex]:null},e.prototype.incrementSliderValue=function(){this.adjustSlider("up")},e.prototype.decrementSliderValue=function(){this.adjustSlider("down")},e.prototype.incrementBigSliderValue=function(){this.adjustSlider("bigup")},e.prototype.decrementBigSliderValue=function(){this.adjustSlider("bigdown")},e.prototype.nextSlider=function(){this.adjustSlider("next")},e.prototype.prevSlider=function(){this.adjustSlider("prev")},e.prototype.sliderMin=function(){this.adjustSlider("min")},e.prototype.sliderMax=function(){this.adjustSlider("max")},e.prototype.adjustSlider=function(e){var t=this.getSelectedSlider();if(!t)return void o.queue(this.controller.t("Unable to adjust slider"));var n=t.latex,r=this.controller.getAllModelsWithSliders().length;switch(e){case"up":case"down":case"bigup":case"bigdown":case"min":case"max":this.controller.dispatch({type:"adjust-slider-by-keyboard",id:t.id,adjustment:e}),this.queueSliderLatex(),o.alert();break;case"next":return this.sliderIndex++,this.sliderIndex>=r&&(o.queue(this.controller.t("Last slider.")),this.sliderIndex=r-1),this.queueSliderLatex(),void o.alert();case"prev":return this.sliderIndex--,this.sliderIndex<0&&(o.queue(this.controller.t("First slider.")),this.sliderIndex=0),this.queueSliderLatex(),void o.alert()}t.slider.isPlaying||n===t.latex||(this.queueSliderLatex(),o.alert())},e.prototype.toggleAudioTrace=function(){this.audioTraceActive?this.exitAudioTrace():this.enterAudioTrace()},e.prototype.toggleSliderTrace=function(){this.sliderTraceActive?this.exitSliderTrace():this.enterSliderTrace()},e.prototype.enterSliderTrace=function(){if(!this.sliderTraceActive){this.sliderIndex=0;0!==this.controller.getAllModelsWithSliders().length?(o.queue(this.controller.t("Slider trace on.")),this.queueSliderLatex(),this.sliderTraceActive=!0):(o.queue(this.controller.t("No sliders to trace.")),this.sliderTraceActive=!1),o.alert()}},e.prototype.exitSliderTrace=function(){this.sliderTraceActive&&(o.queue(this.controller.t("Slider trace off.")),this.sliderTraceActive=!1,this.sliderIndex=0,o.alert())},e.prototype.recomputePoints=function(){this.audioTraceActive&&(this.agNavigator.updatePOI(),this.agNavigator.updateSampledPoints(),this.agNavigator.updateCurrentPoint(),this.agNavigator.resetTracePoint(),this.agNavigator.resetTracePoint(),this.agNavigator.computeStepSizes())},e.prototype.queuePOICount=function(){var e=this.agNavigator.getCurrentSketch(),t=e?e.getPOI().length:0;o.queue(this.controller.t("Points of interest, __x__.",{x:t}))},e.prototype.reportAudioTrace=function(e,t){var n=this.agNavigator.getCurrentPoint();if(n&&(e||(t||this.tonegen.stop(),this.tonegen.playPoint(n,this.grapher.getCurrentViewport())),!t)){this.queueCoordinates(n,e);var r=e?0:100;setTimeout(function(){o.alert()},r)}},e.prototype.adjustPlaybackSpeed=function(e){switch(e){case"1":return this.tonegen.setAudioSpeed(150),o.alert(this.controller.t("Graph playback very slow"));case"2":return this.tonegen.setAudioSpeed(100),o.alert(this.controller.t("Graph playback slow"));case"3":return this.tonegen.setAudioSpeed(50),o.alert(this.controller.t("Graph playback normal"));case"4":return this.tonegen.setAudioSpeed(30),o.alert(this.controller.t("Graph playback fast"));case"5":return this.tonegen.setAudioSpeed(16),o.alert(this.controller.t("Graph playback very fast"));default:return this.tonegen.setAudioSpeed(50),o.alert(this.controller.t("Graph playback normal"))}},e.prototype.zoom=function(e){this.grapher.viewportController.zoom(e)},e.prototype.getFocusedCell=function(){return this.focusedCell},e.prototype.setFocusedCell=function(e){this.focusedCell=e},e.prototype.getAudioTraceActive=function(){return this.audioTraceActive},e}();t.default=p}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("abraham",[],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=26)}([function(e,t,n){function r(e,t){var n=i.map(e,t);return e.warnings&&(n.warnings=e.warnings),n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22);t.map=r},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?f=h.concat(f):m=-1,f.length&&a())}function a(){if(!g){var e=i(s);g=!0;for(var t=f.length;t;){for(h=f,f=[];++m<t;)h&&h[m].run();m=-1,t=f.length}h=null,g=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,f=[],g=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||g||i(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){function r(e){for(var t=!1,n=0,r="",i="",o=0,s=e;o<s.length;o++){var a=s[o];if("terminal"!==a.type||!/[A-Za-z]/.test(a.value))break;r+=a.value,n++}return i=r.replace(c,"\\operatorname{$1}"),t=n>0&&i!==r,{modified:t,terminalCount:n,value:i}}function i(e){return-1!==d.indexOf(e.toLowerCase())}function o(e){if(!Array.isArray(e))throw new Error("Operator names must be an array, got "+typeof e);for(var t=0,n=e;t<n.length;t++){var r=n[t];if("string"!=typeof r)throw new Error("Operator names must be strings, found "+typeof r)}d=e,a()}function s(){d=u,c=p}function a(){c=l(d)}function l(e){var t=e.sort(function(e,t){return e.length-t.length||e.localeCompare(t)}).join("|");return new RegExp("("+t+")","g")}Object.defineProperty(t,"__esModule",{value:!0});var c,u=["abs","ans","arccosh","arccot","arccoth","arccsc","arccsch","arcsec","arcsech","arcsinh","arctanh","binomialdist","boxplot","cdf","ceil","corr","cov","csch","distance","dotplot","erf","floor","gcf","histogram","IndependentTTest","iTTest","ittest","lcm","length","mad","mcd","mcm","mean","median","midpoint","mod","nCr","normaldist","nPr","pdf","poissondist","polygon","quantile","quartile","round","sech","sign","signum","stdDev","stddev","stdDevP","stddevp","stdev","stdevp","tdist","total","TScore","TScore","Tscore","tscore","tscore","TTest","ttest","var","variance","varp"],d=u,p=l(u);t.getAutoOperator=r,t.containsValue=i,t.setOperatorNames=o,t.resetOperatorNames=s},function(e,t,n){function r(e){if(!f.isSixDotCells(e))throw new Error("EncodingError: Expected input to be six-dot unicode braille characters.")}function i(e,n){return r(e),d.default(t.UnicodeBraille.toBrailleAscii(e),n)}function o(e,n){return n&&n.operatorNames?l.setOperatorNames(n.operatorNames):l.resetOperatorNames(),p.map(c.default(e),t.UnicodeBraille.coerceToSixDotCells)}function s(e,n){return r(e),h.default(t.UnicodeBraille.toBrailleAscii(e),n)}function a(e,n){return n&&n.operatorNames?l.setOperatorNames(n.operatorNames):l.resetOperatorNames(),p.map(u.default(e),t.UnicodeBraille.coerceToSixDotCells)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),c=n(14),u=n(15),d=n(16),p=n(0),h=n(23),f=n(25);t.nemethToLatex=i,t.latexToNemeth=o,t.uebToLatex=s,t.latexToUeb=a,t.UnicodeBraille={coerceToSixDotCells:f.coerceToSixDotCells,toBrailleAscii:f.toBrailleAscii,toExpandedBrailleAscii:f.toExpandedBrailleAscii},t.version="1.0.3"},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===s(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,l=0;l<s;l++)if(i[l]!==o[l]){a=l;break}for(var c=[],l=a;l<i.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(1))},function(e,t,n){function r(e){if(!e.hash)throw e;return{_diagnostic:{expected:e.hash.expected,message:e.message,text:e.hash.text,token:e.hash.token},location:e.hash.loc}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){function r(e){return{type:"terminal",value:e}}function i(e){return{type:"command",value:e}}function o(e){return{type:"greek",
value:e}}function s(e){return{subscript:e._,superscript:e["^"],type:"level"}}function a(e,t){var n=[],r=e.match(/'+/);if(null!==r)for(var o=r[0].length,s=0;s<o;s++)n.push(i("\\prime"));return d(n,t)}function l(e,t){return{type:"fraction",numerator:e,denominator:t}}function c(e,t){return{name:e,type:"typeform",value:t}}function u(e,t){return{type:"radical",index:t,radicand:e}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=r,t.command=i,t.greek=o,t.level=s,t.processPrimes=a,t.fraction=l,t.typeform=c,t.radical=u,t.group=d},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e,r){var i=function(){function e(){this.yy={}}var t=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},n=[1,11],r=[1,12],i=[1,13],o=[1,69],s=[1,70],a=[1,68],l=[1,38],c=[1,39],u=[1,58],d=[1,59],p=[1,60],h=[1,61],f=[1,62],g=[1,63],m=[1,64],y=[1,65],v=[1,66],b=[1,67],x=[1,40],w=[1,34],_=[1,35],E=[1,36],S=[1,37],M=[1,41],k=[1,42],I=[1,43],C=[1,44],T=[1,45],P=[1,46],D=[1,47],A=[1,48],L=[1,49],O=[1,50],F=[1,51],q=[1,52],N=[1,17],R=[1,53],B=[1,54],j=[1,55],V=[1,56],U=[1,57],z=[5,11,12,13,17,23,24],G=[5,10,11,12,13,14,16,17,19,20,22,23,24,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,81],H=[5,10,11,12,13,14,16,17,19,20,22,23,24,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,76,77,78,79,81],K=[1,75],W=[5,10,11,12,13,14,16,17,19,20,22,23,24,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81],Y={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,element:6,index_element:7,modified_expression:8,radical:9,OPEN_MODEXP:10,MODEXP_UNDER:11,MODEXP_OVER:12,CLOSE_MODEXP:13,RADICAL_INDEX:14,index_group:15,OPEN_RADICAL:16,CLOSE_RADICAL:17,level:18,LEVEL:19,BASELINE:20,frac:21,OPEN_FRAC:22,SLASH:23,CLOSE_FRAC:24,subscript_head:25,primes:26,number:27,atom:28,command:29,greek:30,letter:31,comma:32,period:33,space:34,operation:35,comparison:36,level_with_comparison:37,ellipsis:38,colon:39,infinity:40,integral:41,factorial:42,ampersand:43,question_mark:44,bracket:45,",":46,".":47,"[":48,"{":49,"(":50,"]":51,"}":52,")":53,LANGLE:54,RANGLE:55,PIPE:56,DOUBLE_PIPE:57,SPACE:58,COMMAND:59,GREEK:60,LETTER:61,CAPITAL_LETTER:62,"+":63,"-":64,CDOT:65,TIMES:66,"*":67,"/":68,DIV:69,PERCENT:70,COMPARISON:71,LEVEL_WITH_COMPARISON:72,ELLIPSIS:73,COLON:74,NUMBER:75,INFINITY:76,INTEGRAL:77,FACTORIAL:78,"&":79,PRIMES:80,"?":81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"OPEN_MODEXP",11:"MODEXP_UNDER",12:"MODEXP_OVER",13:"CLOSE_MODEXP",14:"RADICAL_INDEX",16:"OPEN_RADICAL",17:"CLOSE_RADICAL",19:"LEVEL",20:"BASELINE",22:"OPEN_FRAC",23:"SLASH",24:"CLOSE_FRAC",46:",",47:".",48:"[",49:"{",50:"(",51:"]",52:"}",53:")",54:"LANGLE",55:"RANGLE",56:"PIPE",57:"DOUBLE_PIPE",58:"SPACE",59:"COMMAND",60:"GREEK",61:"LETTER",62:"CAPITAL_LETTER",63:"+",64:"-",65:"CDOT",66:"TIMES",67:"*",68:"/",69:"DIV",70:"PERCENT",71:"COMPARISON",72:"LEVEL_WITH_COMPARISON",73:"ELLIPSIS",74:"COLON",75:"NUMBER",76:"INFINITY",77:"INTEGRAL",78:"FACTORIAL",79:"&",80:"PRIMES",81:"?"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,1],[8,7],[8,6],[8,5],[8,6],[8,5],[8,5],[8,4],[8,3],[8,2],[9,5],[9,4],[9,4],[9,3],[9,3],[9,2],[18,1],[18,1],[21,5],[21,4],[21,4],[21,3],[15,2],[15,1],[7,3],[7,2],[7,2],[7,2],[7,2],[7,1],[7,1],[7,1],[25,1],[25,1],[25,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[32,1],[33,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[34,1],[29,1],[30,1],[31,1],[31,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[37,1],[38,1],[39,1],[27,1],[40,1],[41,1],[42,1],[43,1],[26,1],[44,1]],performAction:function(e,t,n,r,i,o,s){var a=o.length-1;switch(i){case 1:return o[a-1];case 2:return r.group();case 3:case 29:case 33:case 34:case 35:this.$=r.group(o[a-1],o[a]);break;case 4:case 30:this.$=r.group(o[a]);break;case 8:this.$=r.modified_expression(o[a-5],o[a-3],o[a-1]);break;case 9:this.$=r.modified_expression(o[a-4],o[a-2]);break;case 10:this.$=r.modified_expression(o[a-3],o[a-1]);break;case 11:this.$=r.modified_expression(o[a-4],r.group(),o[a-1]);break;case 12:this.$=r.modified_expression(o[a-3],r.group(),o[a-1]);break;case 13:this.$=r.modified_expression(o[a-3],r.group(),r.group());break;case 14:this.$=r.modified_expression(o[a-2],r.group());break;case 15:this.$=r.modified_expression(o[a-1]);break;case 16:this.$=r.modified_expression(r.group());break;case 17:this.$=r.radical(o[a-1],o[a-3]);break;case 18:this.$=r.radical(o[a-1],r.group());break;case 19:this.$=r.radical(r.group(),o[a-2]);break;case 20:this.$=r.radical(r.group(),r.group());break;case 21:this.$=r.radical(o[a-1]);break;case 22:this.$=r.radical(r.group());break;case 23:this.$=r.level(o[a]);break;case 24:this.$=r.baseline();break;case 25:this.$=r.fraction(o[a-3],o[a-1]);break;case 26:this.$=r.fraction(o[a-2],r.group());break;case 27:this.$=r.fraction(r.group(),o[a-1]);break;case 28:this.$=r.fraction(r.group(),r.group());break;case 31:this.$=r.group(r.simple_subscript(o[a-2],o[a]),o[a-1]);break;case 32:this.$=r.simple_subscript(o[a-1],o[a]);break;case 58:this.$=r.terminal(",");break;case 59:this.$=r.terminal(".");break;case 60:this.$=r.terminal("[");break;case 61:this.$=r.terminal("\\{");break;case 62:this.$=r.terminal("(");break;case 63:this.$=r.terminal("]");break;case 64:this.$=r.terminal("\\}");break;case 65:this.$=r.terminal(")");break;case 66:this.$=r.terminal("\\langle ");break;case 67:this.$=r.terminal("\\rangle ");break;case 68:this.$=r.terminal("|");break;case 69:this.$=r.terminal("\\|");break;case 70:this.$=r.terminal(" ");break;case 71:this.$=r.command(o[a].toLowerCase());break;case 72:this.$=r.terminal(r.greek(o[a]));break;case 73:this.$=r.terminal(o[a].toLowerCase());break;case 74:this.$=r.terminal(o[a].toUpperCase());break;case 75:this.$=r.terminal("+");break;case 76:this.$=r.terminal("-");break;case 77:this.$=r.terminal("\\cdot ");break;case 78:this.$=r.terminal("\\times ");break;case 79:this.$=r.terminal("*");break;case 80:this.$=r.terminal("/");break;case 81:this.$=r.terminal("\\div ");break;case 82:this.$=r.terminal("\\%");break;case 83:this.$=r.comparison(o[a].trim());break;case 84:this.$=r.level_with_comparison(o[a].trim());break;case 85:this.$=r.terminal("\\ldots ");break;case 86:this.$=r.terminal(":");break;case 87:this.$=r.terminal(o[a]);break;case 88:this.$=r.terminal("\\infty ");break;case 89:this.$=r.terminal("\\int ");break;case 90:this.$=r.terminal("!");break;case 91:this.$=r.terminal("\\&");break;case 92:this.$=r.primes(o[a]);break;case 93:this.$=r.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:n,14:r,16:i,18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},{1:[3]},{5:[1,71]},{1:[2,2]},t(z,[2,4],{6:4,7:5,8:6,9:7,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,21:32,18:33,4:72,10:n,14:r,16:i,19:o,20:s,22:a,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U}),t(G,[2,5]),t(G,[2,6]),t(G,[2,7]),t(H,[2,36],{26:73,27:74,75:N,80:K}),t(G,[2,37],{26:76,80:K}),t(G,[2,38],{26:77,80:K}),{4:78,6:4,7:5,8:6,9:7,10:n,13:[1,79],14:r,16:i,18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},{7:82,15:80,16:[1,81],18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},{4:83,6:4,7:5,8:6,9:7,10:n,14:r,16:i,17:[1,84],18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},t(W,[2,39]),t(W,[2,40]),t(W,[2,41]),t(W,[2,87]),t(W,[2,42]),t(W,[2,43]),t(W,[2,44]),t(W,[2,45]),t(W,[2,46]),t(W,[2,47]),t(W,[2,48]),t(W,[2,49]),t(W,[2,50]),t(W,[2,51]),t(W,[2,52]),t(W,[2,53]),t(W,[2,54]),t(W,[2,55]),t(W,[2,56]),t(W,[2,57]),t(W,[2,71]),t(W,[2,72]),t(W,[2,73]),t(W,[2,74]),t(W,[2,58]),t(W,[2,59]),t(W,[2,70]),t(W,[2,75]),t(W,[2,76]),t(W,[2,77]),t(W,[2,78]),t(W,[2,79]),t(W,[2,80]),t(W,[2,81]),t(W,[2,82]),t(W,[2,83]),t(W,[2,84]),t(W,[2,85]),t(W,[2,86]),t(W,[2,88]),t(W,[2,89]),t(W,[2,90]),t(W,[2,91]),t(W,[2,93]),t(W,[2,60]),t(W,[2,61]),t(W,[2,62]),t(W,[2,63]),t(W,[2,64]),t(W,[2,65]),t(W,[2,66]),t(W,[2,67]),t(W,[2,68]),t(W,[2,69]),{4:85,6:4,7:5,8:6,9:7,10:n,14:r,16:i,18:33,19:o,20:s,21:32,22:a,23:[1,86],25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},t(W,[2,23]),t(W,[2,24]),{1:[2,1]},t(z,[2,3]),t(H,[2,33],{27:87,75:N}),t(G,[2,32]),t(G,[2,92]),t(G,[2,34]),t(G,[2,35]),{11:[1,88],12:[1,89],13:[1,90]},t(G,[2,16]),{16:[1,91]},{4:92,6:4,7:5,8:6,9:7,10:n,14:r,16:i,17:[1,93],18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},{7:82,15:94,16:[2,30],18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},{17:[1,95]},t(G,[2,22]),{23:[1,96]},{4:97,6:4,7:5,8:6,9:7,10:n,14:r,16:i,18:33,19:o,20:s,21:32,22:a,24:[1,98],25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},t(G,[2,31]),{4:99,6:4,7:5,8:6,9:7,10:n,12:[1,100],13:[1,101],14:r,16:i,18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},{4:102,6:4,7:5,8:6,9:7,10:n,14:r,16:i,18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},t(G,[2,15]),{4:103,6:4,7:5,8:6,9:7,10:n,14:r,16:i,17:[1,104],18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},{17:[1,105]},t(G,[2,20]),{16:[2,29]},t(G,[2,21]),{4:106,6:4,7:5,8:6,9:7,10:n,14:r,16:i,18:33,19:o,20:s,21:32,22:a,24:[1,107],25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},{24:[1,108]},t(W,[2,28]),{12:[1,109],13:[1,110]},{4:111,6:4,7:5,8:6,9:7,10:n,13:[1,112],14:r,16:i,18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},t(G,[2,14]),{13:[1,113]},{17:[1,114]},t(G,[2,19]),t(G,[2,18]),{24:[1,115]},t(W,[2,26]),t(W,[2,27]),{4:116,6:4,7:5,8:6,9:7,10:n,13:[1,117],14:r,16:i,18:33,19:o,20:s,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:d,50:p,51:h,52:f,53:g,54:m,55:y,56:v,57:b,58:x,59:w,60:_,61:E,62:S,63:M,64:k,65:I,66:C,67:T,68:P,69:D,70:A,71:L,72:O,73:F,74:q,75:N,76:R,77:B,78:j,79:V,81:U},t(G,[2,10]),{13:[1,118]},t(G,[2,13]),t(G,[2,12]),t(G,[2,17]),t(W,[2,25]),{13:[1,119]},t(G,[2,9]),t(G,[2,11]),t(G,[2,8])],defaultActions:{3:[2,2],71:[2,1],94:[2,29]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,l=0,c=0,u=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(p.yy[h]=this.yy[h]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var f=d.yylloc;i.push(f);var g=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,v,b,x,w,_,E,S,M=function(){var e;return e=d.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e},k={};;){if(v=n[n.length-1],this.defaultActions[v]?b=this.defaultActions[v]:(null!==m&&void 0!==m||(m=M()),b=o[v]&&o[v][m]),void 0===b||!b.length||!b[0]){var I="";S=[];for(w in o[v])this.terminals_[w]&&w>2&&S.push("'"+this.terminals_[w]+"'");I=d.showPosition?"Parse error on line "+(a+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(I,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:f,expected:S})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+m);switch(b[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(b[1]),m=null,y?(m=y,y=null):(l=d.yyleng,s=d.yytext,a=d.yylineno,f=d.yylloc,c>0&&c--);break;case 2:if(_=this.productions_[b[1]][1],k.$=r[r.length-_],k._$={first_line:i[i.length-(_||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(_||1)].first_column,last_column:i[i.length-1].last_column},g&&(k._$.range=[i[i.length-(_||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(k,[s,l,a,p.yy,b[1],r,i].concat(u))))return x;_&&(n=n.slice(0,-1*_*2),r=r.slice(0,-1*_),i=i.slice(0,-1*_)),n.push(this.productions_[b[1]][0]),r.push(k.$),i.push(k._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},X=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return this.begin("modexp"),10;case 1:return 20;case 2:return this.begin("modexp"),10;case 3:return 11;case 4:return 12;case 5:return this.popState(),13;case 6:return 63;case 7:return 64;case 8:return 65;case 9:return 66;case 10:return 67;case 11:return 68;case 12:return 69;case 13:return 54;case 14:return 48;case 15:return 49;case 16:return 50;case 17:return 55;case 18:return 51;case 19:return 52;case 20:return 53;case 21:return 57;case 22:return 56;case 23:return 74;case 24:return 70;case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:return 72;case 33:return 71;case 34:case 35:return 72;case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:return 71;case 45:return 73;case 46:return 19;case 47:return 47;case 48:return 20;case 49:return 80;case 50:return 60;case 51:return 14;case 52:return this.begin("radical"),16;case 53:return this.popState(),17;case 54:return 17;case 55:return 77;case 56:return 79;case 57:return 78;case 58:case 59:return 59;case 60:return t.yytext=this.matches[1],75;case 61:return 22;case 62:return 23;case 63:return 24;case 64:return t.yytext=this.matches[1],62;case 65:return 61;case 66:return 76;case 67:return 81;case 68:return 46;case 69:return 47;case 70:return 58;case 71:return 5}},rules:[/^(?:"(?=[^>\]]+%))/,/^(?:")/,/^(?:"(?=[^>\]]+\]|[^>\]]+%))/,/^(?:%)/,/^(?:<)/,/^(?:\])/,/^(?:[+])/,/^(?:[-])/,/^(?:[*])/,/^(?:[@][*])/,/^(?:[@][\#])/,/^(?:[_][\/])/,/^(?:[.][\/])/,/^(?:[.][.][(])/,/^(?:[@][(])/,/^(?:[.][(])/,/^(?:[(])/,/^(?:[.][.][)])/,/^(?:[@][)])/,/^(?:[.][)])/,/^(?:[)])/,/^(?:[\\][\\])/,/^(?:[\\])/,/^(?:[_][3])/,/^(?:[@][0])/,/^(?:[ ][\^;]+[.]K[ ])/,/^(?:[\^;]+[=])/,/^(?:[ ][\^;]+[\/][.]K[ ])/,/^(?:[ ][\^;]+["]K[:][ ])/,/^(?:[ ][\^;]+[.]1[:][ ])/,/^(?:[ ][\^;]+["]K[ ])/,/^(?:[ ][\^;]+[.]1[ ])/,/^(?:[ ][\^;]+[\/][$][L][ ])/,/^(?:[ ][.]K[ ])/,/^(?:[ ][\^;]+[\/]?[$][L][ ])/,/^(?:[ ][\^;]+[$]P[ ])/,/^(?:[=])/,/^(?:[ ][\/][.]K[ ])/,/^(?:[ ]["]K[:][ ])/,/^(?:[ ][.]1[:][ ])/,/^(?:[ ]["]K[ ])/,/^(?:[ ][.]1[ ])/,/^(?:[@][:])/,/^(?:[ ][\/]?[$][L][ ])/,/^(?:[ ][$]P[ ])/,/^(?:[ ]?['][']['][ ]?)/,/^(?:[\^;]+)/,/^(?:[.]["])/,/^(?:["])/,/^(?:[']+)/,/^(?:[.][,]?[ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[.]*[<])/,/^(?:[.]*[>])/,/^(?:[.]*\])/,/^(?:[.]*\])/,/^(?:!)/,/^(?:[_]&)/,/^(?:&)/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:#?(\d*\.?\d+))/,/^(?:[,]*[?])/,/^(?:[,]*[\/])/,/^(?:[,]*#)/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,][=])/,/^(?:[_][8])/,/^(?:[,][ ]?)/,/^(?:[.])/,/^(?:[ ])/,/^(?:$)/],conditions:{radical:{rules:[0,1,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0},modexp:{rules:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0},INITIAL:{rules:[2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0}}}}();return Y.lexer=X,e.prototype=Y,Y.Parser=e,new e}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){(function(e,r){var i=function(){function e(){this.yy={}}var t=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},n=[1,15],r=[1,16],i=[1,17],o=[1,36],s=[1,18],a=[1,37],l=[1,38],c=[1,14],u=[1,46],d=[1,47],p=[1,39],h=[1,40],f=[1,41],g=[1,56],m=[1,42],y=[1,43],v=[1,44],b=[1,45],x=[1,54],w=[1,55],_=[1,57],E=[1,58],S=[1,59],M=[1,60],k=[1,61],I=[1,62],C=[1,63],T=[1,64],P=[1,65],D=[1,66],A=[1,67],L=[1,68],O=[1,69],F=[1,70],q=[1,71],N=[1,72],R=[1,73],B=[1,74],j=[1,48],V=[1,49],U=[1,50],z=[1,51],G=[1,52],H=[1,75],K=[1,53],W=[5,14,18,19,29,52,53,54],Y=[5,10,13,14,15,18,19,29,52,53,54],X=[5,10,13,14,15,17,18,19,21,23,24,28,29,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86],$=[1,83],Q=[1,84],Z=[1,85],J=[10,13,15,17,21,23,24,28,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86],ee={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,expression_group:6,delimited_expression:7,level:8,radical:9,LEVEL:10,basic_token:11,bracketed_expression:12,RADICAL_WITH_INDEX:13,CLOSE_RADICAL:14,RADICAL:15,frac:16,OPEN_FRAC:17,OVER:18,CLOSE_FRAC:19,simple_frac:20,NUMBER:21,NUMBER_FRAC_DENOMINATOR:22,NUMBER_FRAC_NUMERATOR_BAD:23,NUMBER_FRAC_DENOMINATOR_BAD:24,atom:25,lbracket:26,rbracket:27,OPEN_GROUP:28,CLOSE_GROUP:29,command:30,greek:31,letter:32,comma:33,period:34,colon:35,infinity:36,integral:37,factorial:38,ampersand:39,question_mark:40,bracket:41,space:42,operation:43,comparison:44,ellipsis:45,primes:46,",":47,".":48,"[":49,"{":50,"(":51,"]":52,"}":53,")":54,SPACE:55,COMMAND:56,GREEK:57,CAPITAL_LETTER:58,LETTER:59,PIPE:60,DOUBLE_PIPE:61,"+":62,"-":63,CDOT:64,TIMES:65,"*":66,DIV:67,SLASH:68,PERCENT:69,"=":70,NEQ:71,"<":72,">":73,LEQ:74,GEQ:75,TILDE:76,PARALLEL:77,PERPENDICULAR:78,ELLIPSIS:79,COLON:80,INFINITY:81,INTEGRAL:82,FACTORIAL:83,"&":84,PRIMES:85,"?":86,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"LEVEL",13:"RADICAL_WITH_INDEX",14:"CLOSE_RADICAL",15:"RADICAL",17:"OPEN_FRAC",18:"OVER",19:"CLOSE_FRAC",21:"NUMBER",22:"NUMBER_FRAC_DENOMINATOR",23:"NUMBER_FRAC_NUMERATOR_BAD",24:"NUMBER_FRAC_DENOMINATOR_BAD",28:"OPEN_GROUP",29:"CLOSE_GROUP",47:",",48:".",49:"[",50:"{",51:"(",52:"]",53:"}",54:")",55:"SPACE",56:"COMMAND",57:"GREEK",58:"CAPITAL_LETTER",59:"LETTER",60:"PIPE",61:"DOUBLE_PIPE",62:"+",63:"-",64:"CDOT",65:"TIMES",66:"*",67:"DIV",68:"SLASH",69:"PERCENT",70:"=",71:"NEQ",72:"<",73:">",74:"LEQ",75:"GEQ",76:"TILDE",77:"PARALLEL",78:"PERPENDICULAR",79:"ELLIPSIS",80:"COLON",81:"INFINITY",82:"INTEGRAL",83:"FACTORIAL",84:"&",85:"PRIMES",86:"?"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[7,1],[7,1],[8,2],[8,2],[8,2],[9,4],[9,3],[9,3],[9,2],[9,4],[9,3],[9,2],[16,5],[16,4],[16,4],[16,3],[16,2],[20,2],[20,1],[20,1],[11,1],[11,1],[11,1],[6,2],[6,2],[6,1],[6,1],[12,3],[12,2],[12,3],[12,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[33,1],[34,1],[26,1],[26,1],[26,1],[27,1],[27,1],[27,1],[42,1],[30,1],[31,1],[32,1],[32,1],[41,1],[41,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[45,1],[35,1],[36,1],[37,1],[38,1],[39,1],[46,1],[40,1]],performAction:function(e,t,n,r,i,o,s){var a=o.length-1;switch(i){case 1:return o[a-1];case 2:return r.group();case 3:case 35:this.$=r.group(o[a-2],o[a-1],o[a]);break;case 4:case 6:case 31:case 32:case 36:this.$=r.group(o[a-1],o[a]);break;case 5:case 7:case 33:case 34:this.$=r.group(o[a]);break;case 10:case 11:case 12:this.$=r.basic_level(o[a-1],r.group(o[a]));break;case 13:case 17:this.$=r.radical(o[a-1],r.group(o[a-2]));break;case 14:case 15:this.$=r.radical(r.group(),r.group(o[a-1]));break;case 16:this.$=r.radical(r.group(),r.group());break;case 18:this.$=r.radical(o[a-1]);break;case 19:this.$=r.radical(r.group());break;case 20:this.$=r.fraction(o[a-3],o[a-1]);break;case 21:this.$=r.fraction(o[a-2],r.group());break;case 22:this.$=r.fraction(r.group(),o[a-1]);break;case 23:case 24:this.$=r.fraction(r.group(),r.group());break;case 25:this.$=r.fraction(r.group(r.terminal(r.to_number(o[a-1]))),r.group(r.terminal(r.to_number(o[a]))));break;case 26:this.$=r.fraction(r.group(r.terminal(r.to_number(o[a]))),r.group());break;case 27:this.$=r.fraction(r.group(),r.group(r.terminal(r.to_number(o[$01]))));break;case 37:this.$=r.group(o[a-1]);break;case 38:this.$=r.group();break;case 39:this.$=r.terminal(r.to_number(o[a]));break;case 57:this.$=r.terminal(",");break;case 58:this.$=r.terminal(".");break;case 59:this.$=r.terminal("[");break;case 60:this.$=r.terminal("\\{");break;case 61:this.$=r.terminal("(");break;case 62:this.$=r.terminal("]");break;case 63:this.$=r.terminal("\\}");break;case 64:this.$=r.terminal(")");break;case 65:this.$=r.terminal(" ");break;case 66:this.$=r.command("\\"+o[a].trim().toLowerCase());break;case 67:this.$=r.terminal(r.greek(o[a]));break;case 68:this.$=r.terminal(o[a].toUpperCase());break;case 69:this.$=r.terminal(o[a].toLowerCase());break;case 70:this.$=r.terminal("|");break;case 71:this.$=r.terminal("\\|");break;case 72:this.$=r.terminal("+");break;case 73:this.$=r.terminal("-");break;case 74:this.$=r.terminal("\\cdot ");break;case 75:this.$=r.terminal("\\times ");break;case 76:this.$=r.terminal("*");break;case 77:this.$=r.terminal("\\div ");break;case 78:this.$=r.terminal("/");break;case 79:this.$=r.terminal("\\%");break;case 80:this.$=r.terminal("=");break;case 81:this.$=r.terminal("\\neq ");break;case 82:this.$=r.terminal("<");break;case 83:this.$=r.terminal(">");break;case 84:this.$=r.terminal("\\leq ");break;case 85:this.$=r.terminal("\\geq ");break;case 86:this.$=r.terminal("\\sim ");break;case 87:this.$=r.terminal("\\parallel ");break;case 88:this.$=r.terminal("\\perp ");break;case 89:this.$=r.terminal("\\ldots ");break;case 90:this.$=r.terminal(":");break;case 91:this.$=r.terminal("\\infty ");break;case 92:this.$=r.terminal("\\int ");break;case 93:this.$=r.terminal("!");break;case 94:this.$=r.terminal("\\&");break;case 95:this.$=r.primes(o[a]);break;case 96:this.$=r.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,15:i,16:11,17:o,20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},{1:[3]},{5:[1,76]},{1:[2,2]},t(W,[2,5],{8:8,9:9,7:77,10:n,13:r,15:i}),t(W,[2,7],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:78,10:n,13:r,15:i,17:o,21:s,23:a,24:l,28:c,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K}),t(Y,[2,33],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:79,17:o,21:s,23:a,24:l,28:c,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,
81:V,82:U,83:z,84:G,85:H,86:K}),t(Y,[2,34],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:80,17:o,21:s,23:a,24:l,28:c,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K}),t(X,[2,8]),t(X,[2,9]),t(X,[2,28]),t(X,[2,29]),t(X,[2,30]),{4:81,6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,15:i,16:11,17:o,20:12,21:s,23:a,24:l,25:10,26:13,27:82,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,52:$,53:Q,54:Z,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},{4:86,6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,15:i,16:11,17:o,20:12,21:s,23:a,24:l,25:10,26:13,28:c,29:[1,87],30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},{9:90,11:88,12:89,13:r,15:i,16:11,17:o,20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},{11:91,12:92,14:[1,93],16:11,17:o,20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},{4:94,6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,14:[1,95],15:i,16:11,17:o,20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},t(X,[2,39],{22:[1,96]}),t(X,[2,40]),t(X,[2,41]),t(X,[2,42]),t(X,[2,43]),t(X,[2,44]),t(X,[2,45]),t(X,[2,46]),t(X,[2,47]),t(X,[2,48]),t(X,[2,49]),t(X,[2,50]),t(X,[2,51]),t(X,[2,52]),t(X,[2,53]),t(X,[2,54]),t(X,[2,55]),t(X,[2,56]),{4:97,6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,15:i,16:11,17:o,18:[1,98],19:[1,99],20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},t(X,[2,26]),t(X,[2,27]),t(J,[2,59]),t(J,[2,60]),t(J,[2,61]),t(X,[2,66]),t(X,[2,67]),t(X,[2,68]),t(X,[2,69]),t(X,[2,57]),t(X,[2,58]),t(X,[2,90]),t(X,[2,91]),t(X,[2,92]),t(X,[2,93]),t(X,[2,94]),t(X,[2,96]),t(X,[2,70]),t(X,[2,71]),t(X,[2,65]),t(X,[2,72]),t(X,[2,73]),t(X,[2,74]),t(X,[2,75]),t(X,[2,76]),t(X,[2,77]),t(X,[2,78]),t(X,[2,79]),t(X,[2,80]),t(X,[2,81]),t(X,[2,82]),t(X,[2,83]),t(X,[2,84]),t(X,[2,85]),t(X,[2,86]),t(X,[2,87]),t(X,[2,88]),t(X,[2,89]),t(X,[2,95]),{1:[2,1]},t(W,[2,4],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:100,10:n,13:r,15:i,17:o,21:s,23:a,24:l,28:c,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K}),t(W,[2,6]),t(Y,[2,31]),t(Y,[2,32]),{27:101,52:$,53:Q,54:Z},t(X,[2,36]),t(X,[2,62]),t(X,[2,63]),t(X,[2,64]),{29:[1,102]},t(X,[2,38]),t(X,[2,10]),t(X,[2,11]),t(X,[2,12]),{4:103,6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,14:[1,104],15:i,16:11,17:o,20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},{4:106,6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,14:[1,105],15:i,16:11,17:o,20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},t(X,[2,16]),{14:[1,107]},t(X,[2,19]),t(X,[2,25]),{18:[1,108]},{4:109,6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,15:i,16:11,17:o,19:[1,110],20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},t(X,[2,24]),t(W,[2,3]),t(X,[2,35]),t(X,[2,37]),{14:[1,111]},t(X,[2,15]),t(X,[2,14]),{14:[1,112]},t(X,[2,18]),{4:113,6:4,7:5,8:8,9:9,10:n,11:6,12:7,13:r,15:i,16:11,17:o,19:[1,114],20:12,21:s,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:d,49:p,50:h,51:f,55:g,56:m,57:y,58:v,59:b,60:x,61:w,62:_,63:E,64:S,65:M,66:k,67:I,68:C,69:T,70:P,71:D,72:A,73:L,74:O,75:F,76:q,77:N,78:R,79:B,80:j,81:V,82:U,83:z,84:G,85:H,86:K},{19:[1,115]},t(X,[2,23]),t(X,[2,13]),t(X,[2,17]),{19:[1,116]},t(X,[2,21]),t(X,[2,22]),t(X,[2,20])],defaultActions:{3:[2,2],76:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,l=0,c=0,u=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(p.yy[h]=this.yy[h]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var f=d.yylloc;i.push(f);var g=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,v,b,x,w,_,E,S,M=function(){var e;return e=d.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e},k={};;){if(v=n[n.length-1],this.defaultActions[v]?b=this.defaultActions[v]:(null!==m&&void 0!==m||(m=M()),b=o[v]&&o[v][m]),void 0===b||!b.length||!b[0]){var I="";S=[];for(w in o[v])this.terminals_[w]&&w>2&&S.push("'"+this.terminals_[w]+"'");I=d.showPosition?"Parse error on line "+(a+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(I,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:f,expected:S})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+m);switch(b[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(b[1]),m=null,y?(m=y,y=null):(l=d.yyleng,s=d.yytext,a=d.yylineno,f=d.yylloc,c>0&&c--);break;case 2:if(_=this.productions_[b[1]][1],k.$=r[r.length-_],k._$={first_line:i[i.length-(_||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(_||1)].first_column,last_column:i[i.length-1].last_column},g&&(k._$.range=[i[i.length-(_||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(k,[s,l,a,p.yy,b[1],r,i].concat(u))))return x;_&&(n=n.slice(0,-1*_*2),r=r.slice(0,-1*_),i=i.slice(0,-1*_)),n.push(this.productions_[b[1]][0]),r.push(k.$),i.push(k._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},te=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return void this.begin("captext");case 1:return 58;case 2:return this.popState(),58;case 3:return 62;case 4:return 63;case 5:return 64;case 6:return 65;case 7:return 66;case 8:return 67;case 9:return 49;case 10:return 50;case 11:return 51;case 12:return 52;case 13:return 53;case 14:return 54;case 15:return 71;case 16:return 74;case 17:return 75;case 18:return 70;case 19:return 72;case 20:return 73;case 21:return 76;case 22:return 69;case 23:return 79;case 24:return 13;case 25:return 15;case 26:return 14;case 27:return 10;case 28:return 28;case 29:return 29;case 30:return 82;case 31:return 83;case 32:return 84;case 33:return 17;case 34:return 18;case 35:return 19;case 36:return 77;case 37:return 78;case 38:return 81;case 39:return t.yytext=this.matches[1],21;case 40:return t.yytext=this.matches[1],22;case 41:return t.yytext=this.matches[1],24;case 42:return 68;case 43:return 47;case 44:return 48;case 45:return 85;case 46:return 61;case 47:return 60;case 48:return 80;case 49:case 50:return 56;case 51:return 57;case 52:return t.yytext=this.matches[1],58;case 53:return 59;case 54:return;case 55:return 86;case 56:return;case 57:return 55;case 58:return 5}},rules:[/^(?:([,][,])(?=[A-Z]))/,/^(?:[A-Z](?=[A-Z]))/,/^(?:[A-Z])/,/^(?:["][6])/,/^(?:["][-])/,/^(?:["][4])/,/^(?:["][8])/,/^(?:["][9])/,/^(?:["][\/])/,/^(?:[.][<])/,/^(?:[_][<])/,/^(?:["][<])/,/^(?:[.][>])/,/^(?:[_][>])/,/^(?:["][>])/,/^(?:["][7][@][:])/,/^(?:[_][@][<])/,/^(?:[_][@][>])/,/^(?:["][7])/,/^(?:[@][<])/,/^(?:[@][>])/,/^(?:[@][9])/,/^(?:[.][0])/,/^(?:[4][4][4])/,/^(?:[%][9])/,/^(?:[%])/,/^(?:[\+])/,/^(?:[95]+)/,/^(?:[<])/,/^(?:[>])/,/^(?:!)/,/^(?:[6])/,/^(?:[@]&)/,/^(?:[(])/,/^(?:[.][\/])/,/^(?:[)])/,/^(?:#[L])/,/^(?:#-)/,/^(?:#=)/,/^(?:#([A-J4]+))/,/^(?:[\/]([A-J4]+))/,/^(?:[#][\/]([A-J4]+))/,/^(?:[_]?[\/])/,/^(?:[1])/,/^(?:[4])/,/^(?:[7]+)/,/^(?:[_][\\][_][\\])/,/^(?:[_][\\])/,/^(?:[3])/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:[,]?[.][ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,]['])/,/^(?:[8])/,/^(?:[;])/,/^(?:[ ])/,/^(?:$)/],conditions:{captext:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}}}();return ee.lexer=te,e.prototype=ee,ee.Parser=e,new e}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){function r(e){for(var t=[],n=0;n<e.length;n++){var d=e[n];switch(d.type){case"command":var p=d.value.slice(1).trim();c.hasOwnProperty(d.value)?t.push(a.command(c[d.value])):s.containsValue(p)?t.push(a.typeform("operator_name",i(p))):u[d.value]||t.push(d);break;case"level":var h={subscript:d.subscript&&d.subscript.length>0?r(d.subscript):void 0,superscript:d.superscript&&d.superscript.length>0?r(d.superscript):void 0,type:d.type};(h.subscript||h.superscript)&&t.push(h);break;case"fraction":t.push({denominator:r(d.denominator),numerator:r(d.numerator),type:d.type});break;case"radical":t.push({index:d.index?r(d.index):void 0,radicand:r(d.radicand),type:d.type});break;case"terminal":o(e.slice(n))?(t.push({type:"command",value:"\\ldots"}),n+=2):t.push({type:d.type,value:l.hasOwnProperty(d.value)?l[d.value]:d.value});break;case"typeform":t.push(d);break;case"greek":t.push({type:d.type,value:l.hasOwnProperty(d.value)?l[d.value]:d.value});break;default:throw new Error("Unexpected item:\n"+JSON.stringify({group:e,item:d}))}}return t}function i(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push(a.terminal(i))}return t}function o(e){for(var t=0,n=0;n<Math.min(3,e.length);n++){var r=e[n];"terminal"===r.type&&"."===r.value&&t++}return 3===t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),a=n(7),l={"~":"\\ "},c={"\\,":"\\ ","\\Vert":"\\|","\\ge":"\\geq","\\le":"\\leq","\\vert":"|"},u={"\\space":!0};t.default=r},function(e,t,n){function r(e){try{return{isError:!1,value:o.parser.parse(e)}}catch(e){return{isError:!0,error:i.default(e)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(13),s=n(7);o.parser.yy=s,t.default=r},function(e,t,n){(function(e,r){var i=function(){function e(){this.yy={}}var t=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},n=[1,13],r=[1,14],i=[1,15],o=[1,16],s=[1,17],a=[1,20],l=[1,18],c=[1,19],u=[1,21],d=[1,22],p=[1,27],h=[1,29],f=[1,30],g=[1,31],m=[1,32],y=[1,28],v=[5,21,26,37],b=[5,19,21,22,23,24,25,26,27,31,32,33,34,35,36,37],x=[5,10,12,13,14,19,21,22,23,24,25,26,27,31,32,33,34,35,36,37],w=[5,10,19,21,22,23,24,25,26,27,31,32,33,34,35,36,37],_={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,level:6,expression:7,subscript:8,superscript:9,_:10,atom:11,"^":12,"PRIMES^":13,PRIMES:14,delimited_group:15,typeform:16,frac:17,radical:18,LEFT:19,delimiter:20,RIGHT:21,FRAC:22,OPERATOR_NAME:23,MATHRM:24,RADICAL_OPTARG:25,CLOSE_OPTARG:26,RADICAL:27,curly_group:28,greek:29,command:30,SYMBOL:31,DELIMITER:32,DELIMITER_COMMAND:33,GREEK:34,COMMAND:35,"{":36,"}":37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"_",12:"^",13:"PRIMES^",14:"PRIMES",19:"LEFT",21:"RIGHT",22:"FRAC",23:"OPERATOR_NAME",24:"MATHRM",25:"RADICAL_OPTARG",26:"CLOSE_OPTARG",27:"RADICAL",31:"SYMBOL",32:"DELIMITER",33:"DELIMITER_COMMAND",34:"GREEK",35:"COMMAND",36:"{",37:"}"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[6,2],[6,2],[6,1],[6,1],[8,2],[9,2],[9,2],[9,1],[7,1],[7,1],[7,1],[7,1],[7,1],[15,5],[15,4],[17,3],[16,2],[16,2],[18,4],[18,3],[18,2],[18,2],[11,1],[11,1],[11,1],[11,1],[11,1],[20,1],[20,1],[29,1],[30,1],[28,3],[28,2]],performAction:function(e,t,n,r,i,o,s){var a=o.length-1;switch(i){case 1:return o[a-1];case 2:return r.group();case 3:this.$=r.group(o[a-2],o[a-1],o[a]);break;case 4:case 6:this.$=r.group(o[a-1],o[a]);break;case 5:case 7:this.$=r.group(o[a]);break;case 8:this.$=r.level({_:r.group(o[a-1]),"^":r.group(o[a])});break;case 9:this.$=r.level({_:r.group(o[a]),"^":r.group(o[a-1])});break;case 10:this.$=r.level({"^":r.group(o[a])});break;case 11:this.$=r.level({_:r.group(o[a])});break;case 12:case 13:this.$=o[a];break;case 14:this.$=r.processPrimes(o[a-1],o[a]);break;case 15:this.$=r.processPrimes(o[a],r.group());break;case 21:this.$=r.group(o[a-3],o[a-2],o[a]);break;case 22:this.$=r.group(o[a-2],o[a]);break;case 23:this.$=r.fraction(r.group(o[a-1]),r.group(o[a]));break;case 24:this.$=r.typeform("operator_name",r.group(o[a]));break;case 25:this.$=r.typeform("mathrm",r.group(o[a]));break;case 26:this.$=r.radical(o[a],r.group(o[a-2]));break;case 27:this.$=r.radical(r.group(o[a]),r.group());break;case 28:case 29:this.$=r.radical(r.group(o[a]));break;case 34:case 35:this.$=r.terminal(o[a]);break;case 36:case 38:this.$=r.command(o[a]);break;case 37:this.$=r.greek(o[a]);break;case 39:this.$=o[a-1];break;case 40:this.$=r.group()}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:n,11:12,12:r,13:i,14:o,15:8,16:9,17:10,18:11,19:s,20:24,22:a,23:l,24:c,25:u,27:d,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},{1:[3]},{5:[1,33]},{1:[2,2]},t(v,[2,5],{15:8,16:9,17:10,18:11,11:12,28:23,20:24,29:25,30:26,7:34,19:s,22:a,23:l,24:c,25:u,27:d,31:p,32:h,33:f,34:g,35:m,36:y}),t(v,[2,7],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,28:23,20:24,29:25,30:26,4:35,10:n,12:r,13:i,14:o,19:s,22:a,23:l,24:c,25:u,27:d,31:p,32:h,33:f,34:g,35:m,36:y}),t(b,[2,11],{9:36,12:r,13:i,14:o}),t(b,[2,10],{8:37,10:n}),t(x,[2,16]),t(x,[2,17]),t(x,[2,18]),t(x,[2,19]),t(x,[2,20]),{11:38,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},{11:39,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},{11:40,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},t(w,[2,15]),{20:41,32:h,33:f},{11:42,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},{11:43,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},{11:44,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},{4:45,6:4,7:5,8:6,9:7,10:n,11:12,12:r,13:i,14:o,15:8,16:9,17:10,18:11,19:s,20:24,22:a,23:l,24:c,25:u,26:[1,46],27:d,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},{11:47,17:48,20:24,22:a,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},t(x,[2,30]),t(x,[2,31]),t(x,[2,32]),t(x,[2,33]),t(x,[2,34]),{4:49,6:4,7:5,8:6,9:7,10:n,11:12,12:r,13:i,14:o,15:8,16:9,17:10,18:11,19:s,20:24,22:a,23:l,24:c,25:u,27:d,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y,37:[1,50]},t(x,[2,35]),t(x,[2,36]),t(x,[2,37]),t(x,[2,38]),{1:[2,1]},t(v,[2,4],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,28:23,20:24,29:25,30:26,4:51,10:n,12:r,13:i,14:o,19:s,22:a,23:l,24:c,25:u,27:d,31:p,32:h,33:f,34:g,35:m,36:y}),t(v,[2,6]),t(b,[2,8]),t(b,[2,9]),t([5,12,13,14,19,21,22,23,24,25,26,27,31,32,33,34,35,36,37],[2,12]),t(w,[2,13]),t(w,[2,14]),{4:52,6:4,7:5,8:6,9:7,10:n,11:12,12:r,13:i,14:o,15:8,16:9,17:10,18:11,19:s,20:24,21:[1,53],22:a,23:l,24:c,25:u,27:d,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},t(x,[2,24]),t(x,[2,25]),{11:54,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},{26:[1,55]},{11:56,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},t(x,[2,28]),t(x,[2,29]),{37:[1,57]},t(x,[2,40]),t(v,[2,3]),{21:[1,58]},{20:59,32:h,33:f},t(x,[2,23]),{11:60,20:24,28:23,29:25,30:26,31:p,32:h,33:f,34:g,35:m,36:y},t(x,[2,27]),t(x,[2,39]),{20:61,32:h,33:f},t(x,[2,22]),t(x,[2,26]),t(x,[2,21])],defaultActions:{3:[2,2],33:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,l=0,c=0,u=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(p.yy[h]=this.yy[h]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var f=d.yylloc;i.push(f);var g=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,v,b,x,w,_,E,S,M=function(){var e;return e=d.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e},k={};;){if(v=n[n.length-1],this.defaultActions[v]?b=this.defaultActions[v]:(null!==m&&void 0!==m||(m=M()),b=o[v]&&o[v][m]),void 0===b||!b.length||!b[0]){var I="";S=[];for(w in o[v])this.terminals_[w]&&w>2&&S.push("'"+this.terminals_[w]+"'");I=d.showPosition?"Parse error on line "+(a+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(I,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:f,expected:S})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+m);switch(b[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(b[1]),m=null,y?(m=y,y=null):(l=d.yyleng,s=d.yytext,a=d.yylineno,f=d.yylloc,c>0&&c--);break;case 2:if(_=this.productions_[b[1]][1],k.$=r[r.length-_],k._$={first_line:i[i.length-(_||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(_||1)].first_column,last_column:i[i.length-1].last_column},g&&(k._$.range=[i[i.length-(_||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(k,[s,l,a,p.yy,b[1],r,i].concat(u))))return x;_&&(n=n.slice(0,-1*_*2),r=r.slice(0,-1*_),i=i.slice(0,-1*_)),n.push(this.productions_[b[1]][0]),r.push(k.$),i.push(k._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},E=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return this.begin("optarg"),25;case 2:return this.popState(),26;case 3:return 23;case 4:return 24;case 5:return 27;case 6:return 22;case 7:return 13;case 8:return 14;case 9:return 12;case 10:return 10;case 11:return 19;case 12:return 21;case 13:return 33;case 14:return 32;case 15:return 36;case 16:return 37;case 17:case 18:case 19:return 31;case 20:case 21:return 34;case 22:return 35;case 23:return 31;case 24:return 5}},rules:[/^(?:\s+)/,/^(?:(\\sqrt)\s*\[)/,/^(?:\])/,/^(?:(\\operatorname))/,/^(?:(\\mathrm))/,/^(?:(\\sqrt))/,/^(?:(\\frac))/,/^(?:'+\^)/,/^(?:'+)/,/^(?:\^)/,/^(?:[_])/,/^(?:(\\left))/,/^(?:(\\right))/,/^(?:(\\langle|\\rangle|\\vert|\\Vert))/,/^(?:\[|\]|\\\{|\\\}|\(|\)|\||\\\|)/,/^(?:\{)/,/^(?:\})/,/^(?:\\(infty))/,/^(?:\\(int))/,/^(?:!)/,/^(?:\\(alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|omicron|pi|rho|sigma|tau|xi|upsilon|phi|chi|psi|omega))/,/^(?:\\(Alpha|Beta|Gamma|Delta|Epsilon|Zeta|Eta|Theta|Iota|Kappa|Lambda|Mu|Nu|Omicron|Pi|Rho|Sigma|Tau|Xi|Upsilon|Phi|Chi|Psi|Omega))/,/^(?:\\[A-Za-z]+)/,/^(?:\\.|.)/,/^(?:$)/],conditions:{optarg:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],inclusive:!0},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],inclusive:!0}}}}();return _.lexer=E,e.prototype=_,_.Parser=e,new e}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){function r(e){return S.map(E.default(e),function(e){return x(_.default(e))})}function i(e){return/^[a-z]$/.test(e.value)?e.value.toUpperCase():/^[A-Z]$/.test(e.value)?","+e.value:/^[0-9.]$/.test(e.value)?e.value:/^[+\-()]$/.test(e.value)?e.value:M.hasOwnProperty(e.value)?M[e.value]:"[terminal: "+e.value+"]"}function o(e){return k.hasOwnProperty(e.value)?k[e.value]:e.value.slice(1).toUpperCase()+" "}function s(e){return I.hasOwnProperty(e.value)?I[e.value]:e.value.slice(1).toUpperCase()+" "}function a(e){return"\\space"===e.value}function l(e,t){
return e.isStartOfLine&&/^-?$/.test(t)||/\s-?$/.test(t)||e.wasFraction}function c(e){return"\\sum"===e.value||"\\prod"===e.value}function u(e,t){if(t>=e.length)return!1;var n=e[t];if("terminal"===n.type){if(/^[0-9]$/.test(n.value))return!0;if("."!==n.value)return!1;if(t+1>=e.length)return!1;if(n=e[t+1],"terminal"===n.type)return/^[0-9]$/.test(n.value)}return!1}function d(e,t){for(var n="",r=e.levelIndicator,g=0,y=!1,x=0;x<t.length;x++){u(t,x)&&(""===r&&/[A-Z]$/.test(n)?n+=m(r):l(e,n)&&(n+="#"));var w=t[x],_=x<t.length-1?t[x+1]:null;switch("level"!==w.type&&r!==e.levelIndicator&&(b(w)?r="":(e.wasModifiedExpression&&""===e.levelIndicator?e=v(e,{wasModifiedExpression:!1}):n+=m(e.levelIndicator),r=e.levelIndicator)),w.type){case"terminal":!e.wasModifiedExpression&&""!==r&&b(w)?n+=" "+m(r)+i(w).trim()+" ":n+=i(w),"."===w.value&&_&&("terminal"===_.type&&/^[^_\d,]/.test(i(_))||"greek"===_.type)&&(n+='"'),e=v(e,{wasFraction:!1,wasRomanCommand:!1});break;case"command":if(!a(w)){var E=c(w);E&&(n+='"'),!E&&""!==r&&b(w)?n+=" "+m(r)+o(w).trim()+" ":n+=o(w),e=v(e,{wasFraction:!1,wasModifiedExpression:E,wasRomanCommand:!0})}break;case"greek":n+=s(w),e=v(e,{wasFraction:!1});break;case"fraction":var S=p(e,w);n+=S.value,g=Math.max(g,S.fractionLevel),e=v(e,{wasFraction:!0,wasRomanCommand:!1});break;case"radical":var M=h(e,w);n+=M.value,g=Math.max(g,M.fractionLevel),e=v(e,{wasFraction:!1,wasRomanCommand:!1});break;case"level":!e.wasModifiedExpression&&e.wasRomanCommand?(y=/\s$/.test(n))&&(n=n.replace(/\s$/,"")):y=!1;var k=n.length>0&&!0===/[A-Za-z]/.test(n[n.length-1]),I=f(e,k,y,w);n+=I.value,r=I.levelIndicator,e=v(e,{wasFraction:!1,wasRomanCommand:!1});break;case"typeform":n+=d(e,w.value).value,"operator_name"===w.name&&(n+=" "),e=v(e,{wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1})}}return{fractionLevel:g,levelIndicator:r,value:n}}function p(e,t){e=v(e,{isStartOfLine:!1});for(var n=d(e,t.numerator),r=d(e,t.denominator),i=Math.max(n.fractionLevel,r.fractionLevel),o="",s=0;s<i;s++)o+=",";var a=o+"?"+n.value;return n.levelIndicator!==e.levelIndicator&&(a+=m(e.levelIndicator)),/\.$/.test(n.value)&&(a+='"'),a+=o+"/"+r.value,r.levelIndicator!==e.levelIndicator&&(a+=m(e.levelIndicator)),/\.$/.test(r.value)&&(a+='"'),a+=o+"#",{fractionLevel:i+1,value:a}}function h(e,t){for(var n=e.radicalLevel,r="",i="",o=0;o<n;o++)i+=".";if(t.index){r+=i+"<";var s=d(v(e,{isStartOfLine:!1}),t.index);r+=s.value,/\.$/.test(s.value)&&(r+='"'),s.levelIndicator!==e.levelIndicator&&(r+=m(e.levelIndicator)),r+=">"}else r+=i+">";var a=d(v(e,{isStartOfLine:!1,radicalLevel:n+1}),t.radicand);return r+=a.value,/\.$/.test(a.value)&&(r+='"'),a.levelIndicator!==e.levelIndicator&&(r+=m(e.levelIndicator)),r+=i+"]",{fractionLevel:a.fractionLevel,value:r}}function f(e,t,n,r){var i=e.levelIndicator,o="",s=g(r.superscript);if(o+=s,r.subscript){e.wasModifiedExpression&&(o+="%"),i=e.levelIndicator+";";var a=d(v(e,{isStartOfLine:!1,levelIndicator:i}),r.subscript);t&&/^[0-9]*(\.|\,)?[0-9]+$/.test(a.value)&&i.length<=1?i=e.levelIndicator:!e.wasModifiedExpression&&r.subscript[0]&&"level"!==r.subscript[0].type&&(o+=m(i)),o+=a.value,/\.$/.test(a.value)&&(o+='"')}if(r.superscript){e.wasModifiedExpression&&(o+="<"),i=e.levelIndicator+"^";var l=d(v(e,{isStartOfLine:!1,levelIndicator:i}),r.superscript.slice(s.length));!e.wasModifiedExpression&&r.superscript[0]&&"level"!==r.superscript[0].type&&""!==l.value&&(o+=m(i)),o+=l.value,/\.$/.test(l.value)&&(o+='"')}return e.wasModifiedExpression?o+="]":e.wasRomanCommand&&n&&(o+=" ",i=i.slice(0,i.length-1)),{levelIndicator:i,value:o}}function g(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if("command"!==i.type||"\\prime"!==i.value)break;t+="'"}return t}function m(e){return e||'"'}function y(){return{isStartOfLine:!0,levelIndicator:"",radicalLevel:0,wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1}}function v(e,t){return w({},e,t)}function b(e){return("terminal"===e.type||"command"===e.type)&&/^<|>|\=|\\leq?|\\geq?|\\neq?$/.test(e.value)}function x(e){return d(y(),e).value}var w=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var _=n(11),E=n(12),S=n(0);t.default=r;var M={"!":"&","*":"@#",",":", ","/":"_/",":":"_3","<":' "K ',"=":" .K ",">":" .1 ","?":"_8","[":"@(","\\ ":" ","\\%":"@0","\\&":"_&","\\,":" ","\\infty":",=","\\int":"!","\\{":".(","\\|":"\\\\","\\}":".)","]":"@)","|":"\\"},k={"\\Vert":"\\\\","\\cdot":"*","\\div":"./","\\ge":" .1: ","\\geq":" .1: ","\\langle":"..(","\\ldots":" ''' ","\\le":' "K: ',"\\leq":' "K: ',"\\ne":" /.K ","\\neq":" /.K ","\\nparallel":" /$L ","\\parallel":" $L ","\\perp":" $P ","\\prime":"'","\\prod":".,P","\\rangle":"..)","\\sim":"@:","\\sum":".,S","\\times":"@*","\\vert":"\\"},I={"\\Alpha":".,A","\\Beta":".,B","\\Chi":".,&","\\Delta":".,D","\\Epsilon":".,E","\\Eta":".,:","\\Gamma":".,G","\\Iota":".,I","\\Kappa":".,K","\\Lambda":".,L","\\Mu":".,M","\\Nu":".,N","\\Omega":".,W","\\Omicron":".,O","\\Phi":".,F","\\Pi":".,P","\\Psi":".,Y","\\Rho":".,R","\\Sigma":".,S","\\Tau":".,T","\\Theta":".,?","\\Upsilon":".,U","\\Xi":".,X","\\Zeta":".,Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"}},function(e,t,n){function r(e){return k.map(M.default(e),function(e){return w(S.default(e))})}function i(e,t,n){var r="",i=t.value,o=n&&"terminal"===n.type?n.value:"";return d(i,e)&&(r+=";"),/^[\D]/.test(i)&&(e=x(e,{wasNumber:!1})),/^[a-z]$/.test(i)?e.capsLock?(e=x(e,{capsLock:!1}),r+=",'"+i.toUpperCase()):r+=i.toUpperCase():/^[A-Z]$/.test(i)?e.capsLock?r+=i:/[A-Z]/.test(o)?(e=x(e,{capsLock:!0}),r+=",,"+i):r+=","+i:(e=x(e,{capsLock:!1}),/^[0-9.]$/.test(i)?r+=c(i):I.hasOwnProperty(i)?r+=I[i]:r+="[terminal: "+i+"]"),{value:r,ctx:e}}function o(e,t){var n;return n=C.hasOwnProperty(e.value)?C[e.value]:e.value.slice(1).toUpperCase()+" ",d(n,t)&&(n=";"+n),/^[\D]/.test(n)&&(t=x(t,{wasNumber:!1})),{value:n,ctx:t}}function s(e){return T.hasOwnProperty(e.value)?T[e.value]:e.value.slice(1).toUpperCase()+" "}function a(e){return"\\space"===e.value}function l(e,t){if(t<e.length){var n=e[t];if("terminal"===n.type){if(/^\d$/.test(n.value))return!0;if("."!==n.value)return!1;if(t+1>=e.length)return!1;if(n=e[t+1],"terminal"===n.type)return/^\d$/.test(n.value)}}return!1}function c(e){for(var t="",n="A".charCodeAt(0)-1,r=0,i=e;r<i.length;r++){var o=i[r];t+=","===o?"1":"."===o?"4":"0"===o?"J":String.fromCharCode(n+Number(o))}return t}function u(e,t){for(var n,r,c="",d=!0,h=0;h<t.length;h++){l(t,h)?(e=x(e,{wasNumber:!0}),d&&(c+="#",d=!1)):d=!0;var m=t[h];switch(m.type){case"terminal":n=i(e,m,h<t.length-1?t[h+1]:void 0),e=n.ctx,c+=n.value," "===c[c.length-1]&&(d=!0);break;case"command":a(m)||(r=o(m,e),e=r.ctx,c+=r.value," "===c[c.length-1]&&(d=!0));break;case"greek":c+=s(m)," "===c[c.length-1]&&(d=!0);break;case"fraction":var y=p(e,m);c+=y.value,e=y.ctx,d=!1;break;case"radical":c+=f(e,m).value,d=!0;break;case"level":var v=g(e,m);c+=v.value,e=v.ctx,d=!0;break;case"typeform":var b=u(e,m.value).value;c+=b,/(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?/.test(b)&&(c+=" ")}}return{ctx:e,value:c}}function d(e,t){return t.wasNumber&&/^[A-Ja-j]/.test(e)}function p(e,t){var n,r=u(e,t.numerator),i=u(e,t.denominator);return h(r.value)&&h(i.value)?(e=x(e,{wasNumber:!0}),n=r.value+"/"+i.value.slice(1)):(e=x(e,{wasNumber:!1}),n="("+r.value+"./"+i.value+")"),{ctx:e,value:n}}function h(e){return/^\#[A-J41]+$/.test(e)}function f(e,t){var n="%";if(t.index){n+=u(e,E.group(E.level({"^":t.index}))).value}return n+=u(e,t.radicand).value+"+",{ctx:e,value:n}}function g(e,t){var n="",r=y(t.superscript);n+=r;var i;if(t.subscript){var o=u(e,t.subscript);i=v(t.subscript,o.value,0)?"<"+m(o.value)+">":o.value,e=x(e,{wasNumber:o.ctx.wasNumber}),""!==i&&(n+="5"+i)}if(t.superscript){var s=u(e,t.superscript.slice(r.length));i=v(t.superscript,s.value,r.length)?"<"+m(s.value)+">":s.value,e=x(e,{wasNumber:s.ctx.wasNumber}),""!==r&&""===i||(n+="9"+i)}return{ctx:e,value:n}}function m(e){return/^;/.test(e)?e.slice(1):e}function y(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if("command"!==i.type||"\\prime"!==i.value)break;t+="7"}return t}function v(e,t,n){var r=e[0],i=(t.match(/\</g)||[]).length,o=/^["|\.|_]?\</.test(t),s=(t.match(/\>/g)||[]).length,a=/["|\.|_]?\>$/.test(t);return!h(t)&&e.length-n>1&&0===i&&0===s||i>0&&s>0&&(!o||!a)||i>1||s>1||r&&"typeform"===r.type}function b(){return{capsLock:!1,wasNumber:!1}}function x(e,t){return _({},e,t)}function w(e){return u(b(),e).value}var _=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var E=n(7),S=n(11),M=n(12),k=n(0);t.default=r;var I={"!":"6","(":'"<',")":'">',"*":'"9',"+":'"6',",":"1","-":'"-',".":"4","/":"_/",":":"3","<":"@<","=":'"7',">":"@>","?":"8","[":".<","\\ ":" ","\\%":".0","\\&":"@&","\\,":" ","\\infty":"#=","\\int":"!","\\{":"_<","\\|":"_\\_\\","\\}":"_>","]":".>","|":"_\\"},C={"\\Vert":"_\\_\\","\\cdot":'"4',"\\div":'"/',"\\ge":"_@>","\\geq":"_@>","\\langle":"@<","\\ldots":"444","\\le":"_@<","\\leq":"_@<","\\ne":'"7@:',"\\neq":'"7@:',"\\parallel":"#L","\\perp":"#-","\\prime":"7","\\prod":",.P","\\rangle":"@>","\\sim":"@9","\\sum":",.S","\\times":'"8',"\\vert":"_\\"},T={"\\Alpha":",.A","\\Beta":",.B","\\Chi":",.&","\\Delta":",.D","\\Epsilon":",.E","\\Eta":",.:","\\Gamma":",.G","\\Iota":",.I","\\Kappa":",.K","\\Lambda":",.L","\\Mu":",.M","\\Nu":",.N","\\Omega":",.W","\\Omicron":",.O","\\Phi":",.F","\\Pi":",.P","\\Psi":",.Y","\\Rho":",.R","\\Sigma":",.S","\\Tau":",.T","\\Theta":",.?","\\Upsilon":",.U","\\Xi":",.X","\\Zeta":",.Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"}},function(e,t,n){function r(e,t){for(var n="",o=t,s="",a=!1,u="",d="",h=i(e),f=0;f<e.length;f++){var y=e[f],v=f+1<e.length?e[f+1]:null;switch(y.type){case"terminal":var b=p.getAutoOperator(e.slice(f));""!==b.value?(n+=b.value,f+=b.terminalCount-1,a=a||b.modified):" "===y.value?(a?(s=u,n+=c(o,s),o=s):n+="\\ ",a=!1):(h[f]===g?n+="\\left":h[f]===m&&(n+="\\right"),n+=y.value);break;case"comparison":s="",n+=c(o,s),o=s,a=!1,n+=y.value;break;case"level_with_comparison":n+=c(o,y.level),o=y.level,a=!1,n+=y.value;break;case"command":var x=y.value.slice(1).trim();v&&"terminal"===v.type&&/[a-z]/.test(v.value)?(n+=x,a=!1):p.containsValue(x)?(n+="\\operatorname{"+x+"}",a=!0):(n+=y.value,a=!0),u=o;break;case"expression":n+=y.value;break;case"fraction":n+=l(y.numerator,y.denominator,o);break;case"modified_expression":n+=r(y.expression,o)+" ",y.under&&(n+="_{"+r(y.under,o)+"}"),y.over&&(n+="^{"+r(y.over,o)+"}");break;case"radical":n+="\\sqrt",y.index&&(n+="["+r(y.index,o)+"]"),n+="{"+r(y.value,o)+"}";break;case"simple_subscript":""===o?(n+=y.base.value+"_{"+y.subscript.value+"}","command"===y.base.type&&(a=!0,u=o)):n+=y.base.value+y.subscript.value;break;case"level":n+=c(o,y.value,d),o=y.value,"^"===y.value&&""!==d&&(d="");break;case"primes":v&&"level"===v.type&&";"===v.value?d=y.value:""!==o?(n+=Array(y.value.length+1).join("\\prime "),d=""):(n+=y.value,d="")}}return n+=c(o,t)+d,n.replace(/([^\\])( )$/,"$1")}function i(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];if(o(i))t.push({direction:g,index:r}),n.push(y);else if(s(i)){for(;t.length&&t[t.length-1].direction===v;)t.pop();if(t.length){var l=t.pop();if(l){var c=l.index;n[c]=g,n.push(m)}}else n.push(y)}else if(a(i))if(t.length&&t[t.length-1].direction===v){var l=t.pop();if(l){var c=l.index;n[c]=g,n.push(m)}}else t.push({direction:v,index:r}),n.push(y);else n.push(y)}return n}function o(e){return"terminal"===e.type&&/^(\\langle |\[|\(|\\{)$/.test(e.value)}function s(e){return"terminal"===e.type&&/^(\\rangle |\]|\)|\\})$/.test(e.value)}function a(e){return"terminal"===e.type&&/^(\\\||\|)$/.test(e.value)}function l(e,t,n){return"\\frac{"+r(e,n)+"}{"+r(t,n)+"}"}function c(e,t,n){var r,i,o,s="",a=Math.max(e.length,t.length);for(r=0;r<a&&e[r]===t[r];r++);for(i=e.length-1;i>=r;i--)s+="}";for(o=r;o<t.length;o++)"^"===t[o]&&(n&&(s+=n),s+="^{"),";"===t[o]&&(s+="_{");return s}function u(e){return r(e,"")}function d(e,t){return t&&t.operatorNames?p.setOperatorNames(t.operatorNames):p.resetOperatorNames(),f.map(h.default(e,t),u)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(2),h=n(18),f=n(0),g=1,m=-1,y=0,v=2;t.default=d},function(e,t,n){function r(e){return{type:"terminal",value:e}}function i(e){return{type:"command",value:"\\"+e.trim()+" "}}function o(e){var t=/[\^;]+/.exec(e),n=t?t.toString():"",r=e.slice(a.length);return{type:"level_with_comparison",level:n,value:y[r]}}function s(e){return{type:"comparison",value:y[e]}}function a(e){return{type:"level",value:e}}function l(){return a("")}function c(e){return{type:"primes",value:e}}function u(e,t){return{type:"fraction",numerator:e,denominator:t}}function d(e,t,n){return{type:"modified_expression",expression:e,under:t,over:n}}function p(e,t){return{type:"radical",value:e,index:t}}function h(e){return{type:"expression",value:e}}function f(e,t){return{type:"simple_subscript",base:e,subscript:t}}function g(e){if(v.hasOwnProperty(e))return v[e]+" ";throw new Error("Unknown Greek letter")}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=r,t.command=i;var y={'"K':"<",'"K:':"\\leq ",$L:"\\parallel ",$P:"\\perp ",".1":">",".1:":"\\geq ",".K":"=","/$L":"\\nparallel ","/.K":"\\neq ","=":"=","@:":"\\sim "};t.level_with_comparison=o,t.comparison=s,t.level=a,t.baseline=l,t.primes=c,t.fraction=u,t.modified_expression=d,t.radical=p,t.expression=h,t.simple_subscript=f;var v={".&":"\\chi",".,&":"\\Chi",".,:":"\\Eta",".,?":"\\Theta",".,A":"\\Alpha",".,B":"\\Beta",".,D":"\\Delta",".,E":"\\Epsilon",".,F":"\\Phi",".,G":"\\Gamma",".,I":"\\Iota",".,K":"\\Kappa",".,L":"\\Lambda",".,M":"\\Mu",".,N":"\\Nu",".,O":"\\Omicron",".,P":"\\prod",".,R":"\\Rho",".,S":"\\sum",".,T":"\\Tau",".,U":"\\Upsilon",".,W":"\\Omega",".,X":"\\Xi",".,Y":"\\Psi",".,Z":"\\Zeta",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=g,t.group=m},function(e,t,n){function r(e,t){t||(t={});var n=s.parser;t.strict?n.yy=a:(n.yy=i({warnings:[]},a),n.lexer=l.default);try{return{isError:!1,value:n.parse(e),warnings:n.yy.warnings||[]}}catch(e){return{error:o.default(e),isError:!0}}}var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),s=n(9),a=n(17),l=n(20);t.default=r},function(e,t,n){function r(e,t){t||(t={});var n=a.parser;t.strict?n.yy=l:(n.yy=i({warnings:[]},l),n.lexer=s.default);try{return{isError:!1,value:n.parse(e),warnings:n.yy.warnings||[]}}catch(e){return{error:o.default(e),isError:!0}}}var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),s=n(21),a=n(10),l=n(24);t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=r.parser.lexer,o=Object.create(i);t.default=o;var s=r.parser.terminals_,a=r.parser.symbols_;o.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],i.setInput.call(this,e,t)},o.lex=function(){var e=-1;if(!this)return e;if(this.outputQueue.length)return this.outputQueue.shift();var t,n,r=i.lex.call(this),o=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(s[r]){case"OPEN_FRAC":case"OPEN_MODEXP":this.delimiterStack.push(r);break;case"RADICAL_INDEX":o===a.RADICAL_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(o)),this.delimiterStack.push(r);break;case"OPEN_RADICAL":o===a.RADICAL_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(r);break;case"SLASH":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===a.OPEN_FRAC){t=!0;break}this.pushCloseTokens(n)}t||this.pushOpenTokens(r),this.delimiterStack.push(r);break;case"CLOSE_FRAC":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===a.SLASH){t=!0;break}if(n===a.OPEN_FRAC){this.addMissingToken(a.SLASH),t=!0;break}this.pushCloseTokens(n)}if(!t)return this.warn(),this.lex();break;case"CLOSE_RADICAL":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===a.OPEN_RADICAL){t=!0;break}if(n===a.RADICAL_INDEX){t=!0,this.addMissingToken(a.OPEN_RADICAL);break}this.pushCloseTokens(n)}t||this.pushOpenTokens(r);break;case"CLOSE_MODEXP":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===a.OPEN_MODEXP){t=!0;break}this.pushCloseTokens(n)}t||this.pushOpenTokens(r);break;case"EOF":for(;this.delimiterStack.length;)n=this.delimiterStack.pop()||-1,this.pushCloseTokens(n)}return this.outputQueue.push(r),e=this.outputQueue.shift()||-1},o.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},o.addMissingToken=function(e){this.outputQueue.push(e),this.warn()},o.pushCloseTokens=function(e){switch(s[e]){case"OPEN_FRAC":this.addMissingToken(a.SLASH),this.addMissingToken(a.CLOSE_FRAC);break;case"SLASH":this.addMissingToken(a.CLOSE_FRAC);break;case"RADICAL_INDEX":this.addMissingToken(a.OPEN_RADICAL),this.addMissingToken(a.CLOSE_RADICAL);break;case"OPEN_RADICAL":this.addMissingToken(a.CLOSE_RADICAL);break;case"OPEN_MODEXP":this.addMissingToken(a.CLOSE_MODEXP)}},o.pushOpenTokens=function(e){switch(s[e]){case"SLASH":this.addMissingToken(a.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(a.OPEN_FRAC),this.addMissingToken(a.SLASH);break;case"CLOSE_RADICAL":this.addMissingToken(a.OPEN_RADICAL);break;case"CLOSE_MODEXP":this.addMissingToken(a.OPEN_MODEXP)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=r.parser.lexer,o=Object.create(i);t.default=o;var s=r.parser.terminals_,a=r.parser.symbols_;o.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],i.setInput.call(this,e,t)},o.lex=function(){if(this.outputQueue.length)return this.outputQueue.shift();var e,t,n=i.lex.call(this),r=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(s[n]){case"OPEN_FRAC":case"OPEN_GROUP":this.delimiterStack.push(n);break;case"RADICAL_WITH_INDEX":r===a.RADICAL_WITH_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(r)),this.delimiterStack.push(n);break;case"RADICAL":r===a.RADICAL_WITH_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(n);break;case"OVER":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OPEN_FRAC){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(n),this.delimiterStack.push(n);break;case"CLOSE_FRAC":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OVER){e=!0;break}if(t===a.OPEN_FRAC){this.outputQueue.push(a.OVER),e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(n);break;case"CLOSE_GROUP":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OPEN_GROUP){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(n);break;case"CLOSE_RADICAL":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.RADICAL||t===a.RADICAL_WITH_INDEX){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(n);break;case"EOF":for(;this.delimiterStack.length;)t=this.delimiterStack.pop()||-1,this.pushCloseTokens(t)}return this.outputQueue.push(n),this.outputQueue.shift()||-1},o.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},o.addMissingToken=function(e){this.outputQueue.push(e),this.warn()},o.pushCloseTokens=function(e){switch(s[e]){case"OPEN_FRAC":this.addMissingToken(a.OVER),this.addMissingToken(a.CLOSE_FRAC);break;case"OVER":this.addMissingToken(a.CLOSE_FRAC);break;case"OPEN_GROUP":this.addMissingToken(a.CLOSE_GROUP);break;case"RADICAL_WITH_INDEX":case"RADICAL":this.addMissingToken(a.CLOSE_RADICAL)}},o.pushOpenTokens=function(e){switch(s[e]){case"OVER":this.addMissingToken(a.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(a.OPEN_FRAC),this.addMissingToken(a.OVER);break;case"CLOSE_GROUP":this.addMissingToken(a.OPEN_GROUP);break;case"CLOSE_RADICAL":this.addMissingToken(a.RADICAL)}}},function(e,t,n){function r(e){return e.isError}function i(e){return!e.isError}function o(e,t){return r(e)?e:{isError:!1,value:t(e.value)}}Object.defineProperty(t,"__esModule",{value:!0}),t.isErr=r,t.isOk=i,t.map=o},function(e,t,n){function r(e,t){for(var n="",o=!1,s="",a=i(e),d=0;d<e.length;d++){var h=e[d],f=d+1<e.length?e[d+1]:null;switch(h.type){case"terminal":var y=p.getAutoOperator(e.slice(d));""!==y.value?(n+=y.value,d+=y.terminalCount-1):" "!==h.value||o?(a[d]===g?n+="\\left":a[d]===m&&(n+="\\right"),n+=h.value):n+="\\ ",o=!1;break;case"command":var v=h.value.slice(1).trim();f&&"terminal"===f.type&&/[a-z]/.test(f.value)?(n+=v,o=!1):p.containsValue(v)?(n+="\\operatorname{"+v+"}",o=!0):(n+=h.value,o=!0);break;case"expression":n+=h.value;break;case"fraction":n+=l(h.numerator,h.denominator);break;case"radical":n+="\\sqrt",h.index&&(n+="["+r(h.index)+"]"),n+="{"+r(h.value)+"}";break;case"basic_level":n+=c(h.level,h.value,s),"9"===h.level&&(s="");break;case"bracketed_level":n+=u(h.level,h.lbrack,h.value,h.rbrack,s),"9"===h.level&&(s="");break;case"primes":!f||"basic_level"!==f.type&&"bracketed_level"!==f.type||"5"!==f.level?t&&""!==t?(n+=Array(h.value.length+1).join("\\prime "),s=""):(n+=h.value,s=""):s=h.value}}return n+=s,n.replace(/([^\\])( )$/,"$1")}function i(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];if(o(i))t.push({direction:g,index:r}),n.push(y);else if(s(i)){for(;t.length&&t[t.length-1].direction===v;)t.pop();if(t.length){var l=t.pop();if(l){var c=l.index;n[c]=g,n.push(m)}}else n.push(y)}else if(a(i))if(t.length&&t[t.length-1].direction===v){var l=t.pop();if(l){var c=l.index;n[c]=g,n.push(m)}}else t.push({direction:v,index:r}),n.push(y);else n.push(y)}return n}function o(e){return"terminal"===e.type&&/^(\\langle |\[|\(|\\{)$/.test(e.value)}function s(e){return"terminal"===e.type&&/^(\\rangle |\]|\)|\\})$/.test(e.value)}function a(e){return"terminal"===e.type&&/^(\\\||\|)$/.test(e.value)}function l(e,t){return"\\frac{"+r(e)+"}{"+r(t)+"}"}function c(e,t,n){var i="",o="{"+r(t,e)+"}";return"9"===e?i+=n+"^"+o:"5"===e&&(i+="_"+o),i}function u(e,t,n,i,o){var s="",a="{"+t+r(n,e)+i+"}";return"9"===e?s+=o+"^"+a:"5"===e&&(s+="_"+a),s}function d(e,t){return t&&t.operatorNames?p.setOperatorNames(t.operatorNames):p.resetOperatorNames(),f.map(h.default(e,t),function(e){return b(e,"")})}Object.defineProperty(t,"__esModule",{value:!0});var p=n(2),h=n(19),f=n(0),g=1,m=-1,y=0,v=2,b=r;t.default=d},function(e,t,n){function r(e){return{type:"terminal",value:e}}function i(e){return{type:"command",value:e}}function o(e,t){return{type:"basic_level",level:e,value:t}}function s(e,t,n,r){return{type:"bracketed_level",level:e,lbrack:t,value:n,rbrack:r}}function a(e){return{type:"primes",value:e.length>0?Array(e.length+1).join("'"):""}}function l(e,t){return{type:"fraction",numerator:e,denominator:t}}function c(e,t){return{type:"radical",value:e,index:t}}function u(e){return{type:"expression",value:e}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}function p(e){if(f.hasOwnProperty(e))return f[e]+" ";throw new Error("Unknown Greek letter")}function h(e){for(var t="",n="A".charCodeAt(0)-1,r=0,i=e;r<i.length;r++){var o=i[r];t+="4"===o?".":"J"===o?"0":o.charCodeAt(0)-n}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=r,t.command=i,t.basic_level=o,t.bracketed_level=s,t.primes=a,t.fraction=l,t.radical=c,t.expression=u,t.group=d;var f={",.&":"\\Chi",",.:":"\\Eta",",.?":"\\Theta",",.A":"\\Alpha",",.B":"\\Beta",",.D":"\\Delta",",.E":"\\Epsilon",",.F":"\\Phi",",.G":"\\Gamma",",.I":"\\Iota",",.K":"\\Kappa",",.L":"\\Lambda",",.M":"\\Mu",",.N":"\\Nu",",.O":"\\Omicron",",.P":"\\prod",",.R":"\\Rho",",.S":"\\sum",",.T":"\\Tau",",.U":"\\Upsilon",",.W":"\\Omega",",.X":"\\Xi",",.Y":"\\Psi",",.Z":"\\Zeta",".&":"\\chi",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=p,t.to_number=h},function(e,t,n){function r(e){return String.fromCharCode(h+e)}function i(e){return e.charCodeAt(0)-h}function o(e){return p[e]}function s(e){return p.indexOf(e)}function a(e){for(var t="",n=0,i=e;n<i.length;n++){t+=r(s(i[n]))}return t}function l(e){for(var t="",n=0,r=e;n<r.length;n++){t+=o(i(r[n]))}return t}function c(e){return l(e).replace(/[@-^]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+32)})}function u(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.charCodeAt(0);96<=o&&o<=127&&(o-=32,i=String.fromCharCode(o)),32<=o&&o<=95&&(i=a(i),o=i.charCodeAt(0)),10305<=o&&o<=10495&&(o=10240+(o-1024)%64,i=String.fromCharCode(o)),t+=10240<=o&&o<=10304?i:String.fromCharCode(10240)}return t}function d(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<10240||n>10304)return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var p=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=",h=10240;t.toBrailleAscii=l,t.toExpandedBrailleAscii=c,t.coerceToSixDotCells=u,t.isSixDotCells=d},function(e,t,n){n(3),e.exports=n(3)}])}),define("graphing/canvas-braille",["require","exports","tslib","./projection","./screen","graphing-calc/json/graph-settings","abraham"],function(e,t,n,r,i,o,s){"use strict";function a(e,t,n,r,i){var o=e.dotSpacing,s=1+o,a=i.charCodeAt(0)-q;1&a&&t.fillRect(n,r,1,1),2&a&&t.fillRect(n,r+s,1,1),4&a&&t.fillRect(n,r+2*s,1,1),8&a&&t.fillRect(n+s,r,1,1),16&a&&t.fillRect(n+s,r+s,1,1),32&a&&t.fillRect(n+s,r+2*s,1,1)}function l(e,t,n,r,i){for(var o=u(e,i),s=d(e,i),a=t.getImageData(n-e.cellPadding,r-e.cellPadding,o+2*e.cellPadding,s+2*e.cellPadding).data,l=3;l<a.length;l+=3)if(0!==a[l])return!1;return!0}function c(e,t,n,r,i){for(var o=e.dotSpacing,s=3+2*o,l=0;l<i.length;l++)a(e,t,n+s*l,r,i[l])}function u(e,t){var n=e.dotSpacing;return(2+n)*t.length+(1+n)*(t.length-1)}function d(e,t){return 3+2*e.dotSpacing}function p(e,t,n,r,i){var o=e.cellPadding;t.fillRect(n-o,r-o,u(e,i)+2*o,d(e,i)+2*o)}function h(e,t,n){return Math.min(Math.max(e,t),n)}function f(e,t,n,r,i){var o=t.targetCtx,s=t.checkCtx;if(n=h(n,0,o.canvas.width-u(e,i)),r=h(r,0,o.canvas.height-d(e,i)),!s||l(e,s,n,r,i)){var a=o.fillStyle;o.fillStyle="white",p(e,o,n,r,i),o.fillStyle="black",c(e,o,n,r,i),o.fillStyle=a}}function g(e,t,n,r,i){var o=e.cellPadding;n=Math.round(n-.5*(u(e,i)+2*o)),f(e,t,n,r,i)}function m(e,t,n,r,i){var o=e.cellPadding;n=Math.round(n-(u(e,i)+o)),f(e,t,n,r,i)}function y(e){return e.replace(/\u283C(?!$)/g,"")}function v(e,t){var n="nemeth"===t?s.latexToNemeth(e):s.latexToUeb(e);return n.isError?"":y(n.value)}function b(e,t){return t>=0?e*Math.pow(10,t):e/Math.pow(10,-t)}function x(e,t,n,r){var i=n[0],o=n[1],s=Math.ceil(Math.log(o-i)/Math.LN10)-1,a=s,l=5;e:for(var c=s;s-c<4;c--)for(var d=0,p=[5,2,1];d<p.length;d++){var h=p[d],f=b(h,c),g=Math.floor(i/f)+1,m=Math.ceil(o/f)-1,y=Math.abs(r(f)-r(0)),x=v(String(b(g*h,c)),t),w=v(String(b(m*h,c)),t);if(y<u(e,x)+u(e," ")||y<u(e,w)+u(e," "))break e;if(m-g>=15)break e;a=c,l=h}return{int:l,exp:a}}function w(e,t,n){return x(e,t,[n.viewport.xmin,n.viewport.xmax],function(e){return n.mapx(e)})}function _(e,t,n){return n.viewport.isSquare(n.screen)?w(e,t,n):x(e,t,[n.viewport.ymin,n.viewport.ymax],function(e){return n.mapy(e)})}function E(e,t){for(var n=e.int,r=e.exp,i=t[0],o=t[1],s=Math.ceil(i/b(n,r)),a=Math.floor(o/b(n,r)),l=[],c=s;c<=a;c++)l.push(b(c*n,r));return l}function S(e,t,n){return{x:E(w(e,t,n),[n.viewport.xmin,n.viewport.xmax]),y:E(_(e,t,n),[n.viewport.ymin,n.viewport.ymax])}}function M(e,t,s,a,l){if(void 0!==s.margins&&void 0!==t){var c=k(a),p=s.margins,h=n.__assign({},t.settings),g=h.showGrid&&I(a),y=!!h.showXAxis,b=!!h.showYAxis,x=!!h.xAxisNumbers,w=h.xAxisArrowMode,_=!!h.yAxisNumbers,E=h.yAxisArrowMode,M=c.graphLineWidth,q={showGrid:!1,xAxisNumbers:!1,xAxisArrowMode:o.AxisArrowModes.NONE,yAxisNumbers:!1,yAxisArrowMode:o.AxisArrowModes.NONE,showXAxis:!1,showYAxis:!1,graphLineWidth:M,pointLineWidth:2.5,curveOpacity:1,globalCurveColor:"#000"};for(var N in q)t.settings[N]=q[N];var R=e.width-p.right-p.left,B=e.height-p.top-p.bottom,j=new i.Screen(R,B),V=t.getProjection().viewport;t.settings.squareAxes&&(V=V.squareCrop(j));var U=new r.Projection(j,V,t.settings),z=e.getContext("2d"),G=document.createElement("canvas");G.width=R,G.height=B;var H=G.getContext("2d"),K=document.createElement("canvas");K.width=R,K.height=B;var W=K.getContext("2d");if(null!==z&&null!==H&&null!==W){var Y=z.fillStyle;z.fillStyle="white",z.fillRect(0,0,e.width,e.height),z.fillStyle=Y,t.screenshotToCanvas(G,{width:R,height:B,targetPixelRatio:1,transparentBackground:!0});var X=Math.round(U.mapx(0)),$=Math.round(U.mapy(0)),Q=""!==h.xAxisLabel?h.xAxisLabel.replace(/ /g,"\\ "):"x",Z=""!==h.yAxisLabel?h.yAxisLabel.replace(/ /g,"\\ "):"y";if(y&&U.coordsAreOnscreen(R-6,$-8,0)){var J=2+2*d(c,Q);m(c,{targetCtx:H},R-2,$-J,v(Q,l))}b&&U.coordsAreOnscreen(X+4,1,0)&&f(c,{targetCtx:H},X+4,1,v(Z,l));for(var ee=S(c,l,U),te=ee.x,ne=ee.y,re=0,ie=te;re<ie.length;re++){var oe=ie[re],se=Math.round(U.mapx(oe));se<2||se>U.screen.width-2||(b&&0===oe||(g?P(W,T(a),se,0,B):y&&P(W,T(a),se,$-3,$+2)))}for(var ae=0,le=ne;ae<le.length;ae++){var ce=le[ae],ue=Math.round(U.mapy(ce));ue<2||ue>U.screen.height-2||(y&&0===ce||(g?D(W,T(a),ue,0,R):b&&D(W,T(a),ue,X-3,X+2)))}y&&D(W,C(a),Math.round(U.mapy(0)),0,R),b&&P(W,C(a),Math.round(U.mapx(0)),0,B),E!==o.AxisArrowModes.NONE&&(F(W,C(a),Math.round(U.mapx(0)),0),E===o.AxisArrowModes.BOTH&&O(W,C(a),Math.round(U.mapx(0)),B-1)),w!==o.AxisArrowModes.NONE&&(A(W,C(a),R-1,Math.round(U.mapy(0))),w===o.AxisArrowModes.BOTH&&L(W,C(a),0,Math.round(U.mapy(0))));var de=$+4,pe=X-4;if(y)for(var he=0,fe=te;he<fe.length;he++){var oe=fe[he];if(0!==oe||!b){var se=Math.round(U.mapx(oe));if(!(se<2||se>U.screen.width-2)&&x){var ge=u(c,v("-1",l))-u(c,v("1",l)),me=oe<0?ge+1:1;f(c,{targetCtx:W,checkCtx:H},se-me,de,v(""+oe,l))}}}if(b)for(var ye=0,ve=ne;ye<ve.length;ye++){var ce=ve[ye];if(0!==ce||!y){var ue=Math.round(U.mapy(ce));if(!(ue<2||ue>U.screen.height-2)){var J=-Math.ceil(d(c," ")/2);_&&m(c,{targetCtx:W,checkCtx:H},pe,ue+J,v(""+ce,l))}}}var be=X-2,xe=$+2;U.coordsAreOnscreen(be,xe,0)&&y&&b&&m(c,{targetCtx:W,checkCtx:H},be,xe,v(x||_?"0":"o",l)),z.drawImage(K,p.left,p.top),z.drawImage(G,p.left,p.top)}for(var N in q)t.settings[N]=h[N]}}function k(e){if("etc8"===e||"etc11"===e)return{dotSpacing:0,cellPadding:1,graphLineWidth:1.75};if("vpmax8"===e||"vpmax11"===e)return{dotSpacing:1,cellPadding:2,graphLineWidth:1};var t=e;throw new Error("Unexpected embosser model "+t)}
function I(e){if("etc8"===e||"etc11"===e)return!1;if("vpmax8"===e||"vpmax11"===e)return!0;var t=e;throw new Error("Unexpected embosser model "+t)}function C(e){switch(e){case"vpmax8":case"vpmax11":return"rgb(145, 145, 145)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:var t=e;throw new Error("Unexpected embosser model: "+t)}}function T(e){switch(e){case"vpmax8":case"vpmax11":return"rgb(219, 219, 219)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:var t=e;throw new Error("Unexpected embosser model: "+t)}}function P(e,t,n,r,i){var o=e.fillStyle;e.fillStyle=t,e.fillRect(n-1,r,1,i-r),e.fillStyle=o}function D(e,t,n,r,i){var o=e.fillStyle;e.fillStyle=t,e.fillRect(r,n-1,i-r,1),e.fillStyle=o}function A(e,t,n,r){var i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n-Math.abs(o),r-1+o,1,1);e.fillStyle=i}function L(e,t,n,r){var i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n+Math.abs(o),r-1+o,1,1);e.fillStyle=i}function O(e,t,n,r){var i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n-1+o,r-Math.abs(o),1,1);e.fillStyle=i}function F(e,t,n,r){var i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n-1+o,r+Math.abs(o),1,1);e.fillStyle=i}Object.defineProperty(t,"__esModule",{value:!0});var q=10240;t.drawBrailleWithBackgroundHorizontallyCentered=g,t.createBrailleImage=M}),define("graphing/braille-size-options",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brailleSizes={},t.brailleSizes.vpmax8={width:170,height:170,margins:{left:5,top:15,right:5,bottom:0},name:"VP Max/Columbia (8.5 x 11 in)"},t.brailleSizes.vpmax11={width:230,height:220,margins:{left:15,top:15,right:5,bottom:5},name:"VP Max/Columbia (11.5 x 11 in)"},t.brailleSizes.etc8={width:96,height:96,margins:{left:5,top:15,right:0,bottom:0},name:"ETC Romeo/Juliet (8.5 x 11 in)"},t.brailleSizes.etc11={width:132,height:134,margins:{left:10,top:15,right:5,bottom:5},name:"ETC Romeo/Juliet (11.5 x 11 in)"}}),define("graphing/movablepointslayer",["require","exports","tslib","dcgview","browser","graphing/label","lib/aria","./constants","jquery","jquery.disabletextselection"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components.For,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.grapher=this.props.grapher(),this.renderedPointsIdOrder=[],this.renderedPoints={}},t.prototype.template=function(){var e=this;return r.createElement(c,{each:function(){return e.renderedPointsIdOrder}},r.createElement("div",{class:r.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:function(){return e.requestRedrawNextFrame()},onFocusout:function(){return e.requestRedrawNextFrame()},didMount:this.didMountRoot.bind(this)},function(t){return r.createElement("div",{class:e.const({"dcg-tabbable-point":!0,"dcg-movable-point":"movable"===e.renderedPoints[t].type}),style:function(){return{transform:e.getTransform(t)}},role:r.const("button"),"aria-roledescription":r.const("point"),"dcg-mp-id":e.const(t),tabindex:e.bindFn(e.getTabIndex),"aria-hidden":e.bindFn(e.getAriaHidden)})}))},t.prototype.redraw=function(e,t,n){var r=this,i=this.grapher.graphSketches,o=this.renderedPoints;this.renderedPoints={},this.renderedPointsIdOrder=[];var s,a=this.getFocusedPointId(),l=function(i){var s=r.processPOI(e,t,i,o[i.id],n,a);s&&(r.renderedPoints[i.id]=s,r.renderedPointsIdOrder.push(i.id))};for(s in i){var c=i[s];c.visible&&(c.getMovablePoints().forEach(l),c.getStaticLabeledPoints().forEach(l))}var u=this.renderedPoints[this.hoveredPointId],d=this.renderedPoints[this.pressedPointId],p=u&&u.poi,h=d&&d.poi;p||this.setHoveredPointId(void 0),h||this.setPressedPointId(void 0);var f,g,m=h||p;m?(f="movable-point"===m.type&&m.tableInfo&&m.tableInfo.dragX,g="movable-point"===m.type&&m.tableInfo&&m.tableInfo.dragY,f&&g||!f&&!g?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point"):f?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ew"):this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ns")):this.grapher.setLayerClass("movablePoints",void 0),this.update(),this.speakAriaAlert()},t.prototype.drawForScreenshot=function(e,t,n,r){var i=this,o=this.grapher.graphSketches;for(var s in o){var a=o[s];a.visible&&a.getMovablePoints().forEach(function(o){var s={screenX:t.mapx(o.x),screenY:t.mapy(o.y),color:o.color,animationPercent:0};i.drawMovablePointOnCtx(e,s,n,r)})}},t.prototype.processPOI=function(e,t,n,r,i,o){var s=n.id,l=n.x,c=n.y,u=t.mapx(l),d=t.mapy(c),p=o===s,h=t.coordsAreOnscreen(u,d,a.OFFSCREEN_RENDER_MARGIN);if(h||p)return r||(r="movable-point"===n.type?{type:"movable",id:s,pointOnScreen:h,poi:n,projection:t,screenX:screenX,screenY:screenY,color:n.color,pointIsHovered:!1,pointIsPressed:!1,lastHoverActionTime:0,animationPercent:0}:{type:"static",id:s,pointOnScreen:h,poi:n,projection:t,screenX:screenX,screenY:screenY}),r.pointOnScreen=h,r.poi=n,r.projection=t,r.screenX=u,r.screenY=d,"movable"===r.type&&(r.color=r.poi.color),"movable"===r.type&&(this.updateMovablePointAnimation(r),this.drawMovablePointOnCtx(e,r,i)),r},t.prototype.drawMovablePointOnCtx=function(e,t,n,r){var i;i=r||(this.grapher.settings.config.projectorMode?13.5:10.5);var o=t.color,s=t.screenX,a=t.screenY,l=t.animationPercent||0;n.push({left:s-i,right:s+i,top:a-i,bottom:a+i}),e.save(),e.fillStyle=o,e.globalAlpha=.35,e.beginPath(),e.moveTo(s+i,a),e.arc(s,a,i,0,2*Math.PI,!0),e.closePath(),e.fill(),e.globalAlpha=1,i*=.3+.7*l,e.beginPath(),e.moveTo(s+i,a),e.arc(s,a,i,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()},t.prototype.updateMovablePointAnimation=function(e){var t=Date.now(),n=e.id,r=this.hoveredPointId===n,i=this.pressedPointId===n;e.pointIsPressed=i,r!==e.pointIsHovered&&(e.pointIsHovered=r,e.lastHoverActionTime=t);var o=e.animationPercent||0,s=t-e.lastHoverActionTime,a=.004*s;i?o=1:r?(o+=a,o>=1?o=1:this.requestRedrawNextFrame()):(o-=a,o<=0?o=0:this.requestRedrawNextFrame()),e.animationPercent=o},t.prototype.getTransform=function(e){var t=this.renderedPoints[e];if(t)return i.translateRule(t.screenX,t.screenY)},t.prototype.getTabIndex=function(){var e=this.grapher.settings;return e.config.graphpaper&&e.config.enableTabindex?0:-1},t.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},t.prototype.speakAriaAlert=function(){var e=this.getAriaAlert(this.lastAriaAlert);this.lastAriaAlert=e,e&&e.completeMessage&&s.alert(e.completeMessage)},t.prototype.getAriaAlert=function(e){var t=this.getFocusedPointId();if(t){var n=this.renderedPoints[t];if(n){e&&e.id!==t&&(e=void 0);var r=n.poi,i=n.pointOnScreen,s=n.projection;if(r&&s){var a=s.viewport;if(a){var l,c=e&&e.label,u=r.label,d=c!==u,p=e&&e.coordX,h=e&&e.coordY,f=r.x,g=r.y,m=f!==p||g!==h,y="X: "+o.value(f,a.xmax-a.xmin).ariaString+". Y: "+o.value(g,a.ymax-a.ymin).ariaString+".",v=this.grapher.controller.t,b=u||v("Graph point"),x="movable-point"===r.type?v(" is movable. Press Arrows or Shift+Arrows to adjust."):"",w=i?"":v(" not visible on screen");return l=e?d?b+w:m?y+w:"":b+". "+y+x+w,{id:t,coordX:f,coordY:g,label:u,completeMessage:l}}}}}},t.prototype.setHoveredPointId=function(e){e!==this.hoveredPointId&&(this.hoveredPointId=e,this.requestRedrawNextFrame())},t.prototype.setPressedPointId=function(e){e!==this.pressedPointId&&(this.pressedPointId=e,this.requestRedrawNextFrame())},t.prototype.getFocusedPointId=function(){if(document.activeElement&&l.contains(this.rootNode,document.activeElement)){return l(document.activeElement).attr("dcg-mp-id")}},t.prototype.getFocusedPoint=function(){var e=this.getFocusedPointId();if(e){var t=this.renderedPoints[e];if(t){return t.poi}}},t.prototype.didMountRoot=function(e){this.rootNode=e,l(e).disableTextSelection(i.IS_IE)},t.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},t}(r.Class);t.default=u}),define("graphing/integral-image",["require","exports"],function(e,t){"use strict";function n(e,t,n){return Math.max(t,Math.min(n,e))}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=e.data,n=e.width,r=e.height;this.imageData=e;for(var i=1;i<n;i++)t[i]+=t[i-1];for(var o=1;o<r;o++)t[o*n]+=t[o*n-n];for(var s=n*r-n-r+1,a=n-1,l=0;l<s;l++){var i=1+l%a,o=1+Math.floor(l/a),c=o*n,u=i-1+c,d=i+c-n,p=i-1+c-n;t[c+i]+=t[u]+t[d]-t[p]}}return e.prototype.getSumForValidRect=function(e){var t=e.left-1,n=e.right-1,r=e.top-1,i=e.bottom-1,o=this.imageData.width,s=this.imageData.data,a=s[t+r*o],l=s[n+r*o],c=s[t+i*o],u=s[n+i*o];return t>=0&&r>=0?u-l-c+a:t>=0?u-c:r>=0?u-l:u},e.prototype.getSum=function(e){var t={left:n(Math.floor(e.left),0,this.imageData.width),right:n(Math.ceil(e.right),0,this.imageData.width),top:n(Math.floor(e.top),0,this.imageData.height),bottom:n(Math.ceil(e.bottom),0,this.imageData.height)};return t.left>=t.right||t.top>=t.bottom?0:this.getSumForValidRect(t)},e}();t.default=r}),define("graphing/automatic-label-placer",["require","exports","graphing/integral-image","underscore"],function(e,t,n,r){"use strict";function i(e,t){if(!(t.width*t.height>0))return new n.default({width:0,height:0,data:[]});b.width=0,b.width=Math.round(t.width*v),b.height=Math.round(t.height*v);var r=b.getContext("2d");r.save(),r.scale(b.width/e.canvas.width,b.height/e.canvas.height),r.drawImage(e.canvas,0,0),r.restore();var i=r.getImageData(0,0,b.width,b.height),o=i.data;o.length,x.length,x=new Array(o.length/4);for(var s=x,a=0;a<s.length;a++)s[a]=o[4*a+3];return new n.default({width:i.width,height:i.height,data:s})}function o(e){for(var t=0;t<e.length;t++){var n=s(t,e);e[t]=[n]}return e.map(function(e){return e[0]})}function s(e,t){var n=1/0,r=-1,i=t[e];if(1===i.length)return i[0];for(var o=0;o<i.length;o++){var s=t[e][o].staticScore,l=a(e,o,t),c=s+l;(-1===r||c<n)&&(n=c,r=o)}return i[r]}function a(e,t,n){for(var r=0,i=n[e][t],o=0;o<n.length;o++)if(o!==e){for(var s=0,a=n[o],l=a.length-1;l>=0;l--){var c=a[l],u=Math.max(0,Math.min(i.right,c.right)-Math.max(i.left,c.left)),d=Math.max(0,Math.min(i.bottom,c.bottom)-Math.max(i.top,c.top));s+=u*d}r+=s/a.length}return r}function l(e,t){var n=t.getSum({left:e.left*v,right:e.right*v,top:e.top*v,bottom:e.bottom*v});return n/=200,n/=v*v}function c(e,t){var n=0;return t.forEach(function(t){n+=d(e,t)}),n}function u(e,t){var n=d(e,t);return 10*(e.width*e.height-n)}function d(e,t){return Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top))}function p(e,t,n){var r;return function(){return r||(r={domObstructions:n,viewport:{left:0,right:t.width,top:0,bottom:t.height},integralImage:i(e,t)}),r}}function h(e,t){if(!(t.length<=1))for(var n=e(),r=0,i=t;r<i.length;r++){var o=i[r];o.staticScore+=u(o,n.viewport),o.staticScore+=c(o,n.domObstructions),o.staticScore+=l(o,n.integralImage)}}function f(e,t){var n=t.nakedLabel?0:t.pt_radius,i=Math.round(n/Math.sqrt(2)),o=[],s=t.pt_x,a=t.pt_y,l=t.width,c=t.height;o.push({left:s-l/2,top:a-c/2,staticScore:-1/0,orientation:"center"}),o.push({left:s+n+3,top:a-c/2,staticScore:400,orientation:"right"}),o.push({left:s-(n+l)-3,top:a-c/2,staticScore:400,orientation:"left"}),o.push({left:s-l/2,top:a-(c+n),staticScore:400,orientation:"above"}),o.push({left:s-(l+i),top:a-(c+i),staticScore:400,orientation:"tl"}),o.push({left:s+i,top:a-(c+i),staticScore:400,orientation:"tr"}),o.push({left:s-l/2,top:a+n,staticScore:400,orientation:"below"}),o.push({left:s-(l+i),top:a+i,staticScore:400,orientation:"bl"}),o.push({left:s+i,top:a+i,staticScore:400,orientation:"br"});var u=o.map(function(e){var n=Math.round(e.left),r=Math.round(e.left+l),i=Math.round(e.top),o=Math.round(e.top+c);return{pt_x:Math.round(s),pt_y:Math.round(a),left:n,right:r,top:i,bottom:o,width:r-n,height:o-i,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation}});return u=t.enforceOrientation&&"default"!==t.enforceOrientation?r.filter(u,function(e){return e.orientation===t.enforceOrientation}):t.nakedLabel?r.filter(u,function(e){return"center"===e.orientation}):t.keepOrientation&&t.priorOrientation?r.filter(u,function(e){return e.orientation===t.priorOrientation}):r.filter(u,function(e){return"center"!==e.orientation}),h(e,u),u}function g(e,t){for(var n=[],i=t.width,o=t.height,s=i/2,a=o/2,l=t.pt_x1,c=t.pt_y1,u=t.pt_x2,d=t.pt_y2,p=(d-c)/(u-l),f=Math.atan2(d-c,u-l)+Math.PI/2,g=5*Math.cos(f),m=5*Math.sin(f),y=Math.min(c,d)-Math.abs(m)-o,v=Math.max(c,d)+Math.abs(m),b=[.5,.4,.6,.2,.8],x=[0,20,20,40,40],w=[],_=0,E=b;_<E.length;_++){var S=E[_];w.push({x:l*(1-S)+u*S,y:c*(1-S)+d*S})}for(var M=0;M<w.length;M++){var k,I,C,T,P=w[M];if(p>=2||p<=-2){C=T=P.y-a;var D=Math.abs((u-l)/(d-c)*a)+Math.abs(g);k=P.x+D,I=P.x-D-i}else if(p<=.05&&p>=-.05){k=I=P.x-s;var A=Math.abs(p*s)+Math.abs(m);C=P.y-A-o,T=P.y+A}else g>0?(k=P.x+g,I=P.x-g-i):(k=P.x+g-i,I=P.x-g),m>0?(C=P.y+m,T=P.y-m-o):(C=P.y+m-o,T=P.y-m);C<y?C=y:C>v&&(C=v),T<y?T=y:T>v&&(T=v);var L=(u-l)*(C-c)-(d-c)*(k-l)>0;n.push({pt_x:P.x,pt_y:P.y,left:k,top:C,staticScore:x[M],orientation:M.toString()+(L?"-a":"-b")}),n.push({pt_x:P.x,pt_y:P.y,left:I,top:T,staticScore:x[M],orientation:M.toString()+(L?"-b":"-a")})}var O=n.map(function(e){var n=Math.round(e.left),r=Math.round(e.left+i),s=Math.round(e.top),a=Math.round(e.top+o);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),left:n,right:r,top:s,bottom:a,width:r-n,height:a-s,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation}});return t.keepOrientation&&t.priorOrientation&&(O=r.filter(O,function(e){return e.orientation===t.priorOrientation})),h(e,O),O}function m(e,t){var n=[],i=t.pt_x,o=t.pt_y,s=t.width,a=t.height,l=t.startAngle,c=t.endAngle;c<l&&(c+=2*Math.PI);var u=(l+c)/2,d=t.isRightAngle?t.radius*Math.sqrt(2):t.radius+4,p=d+Math.sqrt(t.width*t.width/4+t.height*t.height/4),f=[],g=p*Math.sin(u);g>d+.5*a&&(g=d+.5*a),g<-d-.5*a&&(g=-d-.5*a),f.push({x:i+p*Math.cos(u)-s/2,y:o+g-a/2});for(var m=0;m<f.length;m++){var y=f[m];n.push({pt_x:y.x,pt_y:y.y,left:y.x,top:y.y,staticScore:0,orientation:m.toString()+"-a"})}var v=n.map(function(e){var n=Math.round(e.left),r=Math.round(e.left+s),i=Math.round(e.top),o=Math.round(e.top+a);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),left:n,right:r,top:i,bottom:o,width:r-n,height:o-i,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation}});return t.keepOrientation&&t.priorOrientation&&(v=r.filter(v,function(e){return e.orientation===t.priorOrientation})),h(e,v),v}function y(e,t){for(var n=[],i=t.width,o=t.height,s=Math.round(10/Math.sqrt(2)),a=0,l=0,c=0,u=0;u<t.path.length-2;u+=2)c+=1,a+=t.path[u],l+=t.path[u+1];var d=a/c,p=l/c;n.push({left:d-i/2,top:p-o/2,staticScore:0,orientation:"center"}),n.push({left:d+10+3,top:p-o/2,staticScore:50,orientation:"right"}),n.push({left:d-(10+i)-3,top:p-o/2,staticScore:50,orientation:"left"}),n.push({left:d-i/2,top:p-(o+10),staticScore:50,orientation:"top"}),n.push({left:d-(i+s),top:p-(o+s),staticScore:50,orientation:"tl"}),n.push({left:d+s,top:p-(o+s),staticScore:50,orientation:"tr"}),n.push({left:d-i/2,top:p+10,staticScore:50,orientation:"bottom"}),n.push({left:d-(i+s),top:p+s,staticScore:50,orientation:"bl"}),n.push({left:d+s,top:p+s,staticScore:50,orientation:"br"});var f=n.map(function(e){var n=Math.round(e.left),r=Math.round(e.left+i),s=Math.round(e.top),a=Math.round(e.top+o);return{pt_x:Math.round(d),pt_y:Math.round(p),left:n,right:r,top:s,bottom:a,width:r-n,height:a-s,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation}});return t.keepOrientation&&t.priorOrientation&&(f=r.filter(f,function(e){return e.orientation===t.priorOrientation})),h(e,f),f}Object.defineProperty(t,"__esModule",{value:!0});var v=.5,b=document.createElement("canvas"),x=[];t.getIntegralImage=i,t.computePositions=o,t.buildStaticEnvGetter=p,t.generateCandidatesForPoint=f,t.generateCandidatesForSegment=g,t.generateCandidatesForAngle=m,t.generateCandidatesForPolygon=y}),define("graphing/poilabelslayer",["require","exports","tslib","dcgview","jquery","./label","graphing/graphmode","main/label-sizes","math/poi-type","./constants","./poi","./automatic-label-placer","lib/color-helpers","math/interpolatedlabel","browser","../dcgview-helpers/static-mathquill-view","jquery.disabletextselection"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g){"use strict";function m(e,t){return t&&t.visible?t.getPOIById(e):null}function y(e,t){var n,r=t.xmax-t.xmin,i=t.ymax-t.ymin,a=e.getGraphMode();if(e.type===l.TRACE){var c=a===s.X,u=c?e.y:e.x,d=e.getCompiledFunction();if(n=o.point(u,r,i,d),c){var p=n[0];n[0]=n[1],n[1]=p}}else n=[o.value(e.x,r),o.value(e.y,i)];var f=!isFinite(n[1].value),g=e.getLabel();if(g)return h.isMathLabel(g)?{is_hole:f,type:"latex",text:g.substr(1,g.length-2)}:{is_hole:f,type:"text",text:g};var m=n[0].superscript?n[0].mantissa+"^{"+n[0].superscript+"}":n[0].string,y=n[1].superscript?n[1].mantissa+"^{"+n[1].superscript+"}":n[1].string;return"undefined"===m&&(m="\\mathrm{undefined}"),"undefined"===y&&(y="\\mathrm{undefined}"),{is_hole:f,type:"latex",text:"\\left("+m+",\\space "+y+"\\right)"}}Object.defineProperty(t,"__esModule",{value:!0});var v=r.Components,b=v.For,x=v.Switch,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelsDirty=!1,t}return n.__extends(t,e),t.prototype.init=function(){this.grapher=this.props.grapher(),this.cachedLabelDict={},this.cachedLabelOrder=[],this.hoveredPOI=void 0,this.hoveredInteractiveLabel=void 0,this.openedPOI2Sketch={},this.openedInteractiveLabels={}},t.prototype.template=function(){var e=this;return r.createElement(b,{each:function(){return e.cachedLabelOrder}},r.createElement("div",{class:r.const("dcg-graph-outer"),style:this.const({"z-index":0}),didMount:this.didMountRoot.bind(this)},function(t){return r.createElement("div",{class:function(){return e.getLabelClasses(t)},style:function(){return e.getLabelStyles(t)}},r.createElement("div",{class:r.const("dcg-pt"),style:function(){return e.getDotStyles(t)}}),r.createElement("div",{class:r.const("dcg-label"),didMount:function(n){return e.linkLabelNode(t,n)}},e.renderLabelContent(t)))}))},t.prototype.renderLabelContent=function(e){var t=this;return r.createElement(x,{key:function(){return t.getLabelContent(e).type}},function(n){return"text"===n?r.createElement("span",null,function(){return t.getLabelContent(e).text}):r.createElement(g.default,{latex:function(){return t.getLabelContent(e).text}})})},t.prototype.linkLabelNode=function(e,t){var n=this.cachedLabelDict[e];n&&(n.labelDOM=t)},t.prototype.getLabelClasses=function(e){var t=this.cachedLabelDict[e];return t?t.classes:{}},t.prototype.getLabelStyles=function(e){var t=this.cachedLabelDict[e];return t?t.styles:{}},t.prototype.getDotStyles=function(e){var t=this.cachedLabelDict[e];return t?t.dotStyles:{}},t.prototype.getLabelContent=function(e){var t=this.cachedLabelDict[e];return t?t.content:{is_hole:!1,type:"text",text:""}},t.prototype.didMountRoot=function(e){i(e).disableTextSelection(f.IS_IE)},t.prototype.computeHoveredLabel=function(e,t){var n;this.hoveredPOI?this.isOpenPOI(this.hoveredPOI)?this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-opened-poi"):(n=this.computeLabel(this.hoveredPOI,e,t,"hovered"),this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-closed-poi")):this.grapher.setLayerClass("hoveredPOI",void 0);var r=this.getHoveredInteractiveLabel();return r&&!r.bareLabel?this.grapher.setLayerClass("interactiveLabel","dcg-mouse-over-opened-poi"):this.grapher.setLayerClass("interactiveLabel",void 0),n},t.prototype.computeTraceLabel=function(e,t){if(this.traceInfo){var n=this.traceInfo.pt;if(n){var r=new u.POI(n.x,n.y,l.TRACE,this.traceInfo.branchInfo.sketch,this.traceInfo.branchInfo.branch,0);return this.computeLabel(r,e,t,"trace")}}},t.prototype.computeLabel=function(e,t,n,r){var i=e.id+"";"trace"===r&&(i="*trace*");var o=t.mapx(e.x),s=t.mapy(e.y);if(t.coordsAreOnscreen(o,s,c.OFFSCREEN_RENDER_MARGIN)){if(e.hasInteractiveLabel()&&!1===e.interactiveLabelVisible)return;var l=!1,u=void 0,d=e.sketch&&e.sketch.branches[0];d&&(l=!!("nakedLabel"in d&&d.nakedLabel),u="labelOrientation"in d?d.labelOrientation:void 0);var h=y(e,t.viewport),f=e.getLabelSize(),g=e.getVerticalLabel(),m=e.isPersistent(),v=e.isAttachedToPlottedPoint(),b=e.hasInteractiveLabel(),x=e.sketch.color,w=!m,_=!!v;b&&(_=!0,w=!0),"trace"===r&&(_=!1,w=!0);var E=n[i],S=E&&E.labelDOM,M=E&&E.orientation,k={"dcg-poi-label":!0,"dcg-tracept":"trace"===r,"dcg-opened":"opened"===r,"dcg-hole":h.is_hole,"dcg-size-small":f===a.LabelSize.SMALL,"dcg-size-medium":f===a.LabelSize.MEDIUM,"dcg-size-large":f===a.LabelSize.LARGE,"dcg-vertical-label":!!g,"dcg-show-border":w,"dcg-hide-dot":_},I={left:o+"px",top:s+"px"};if(m&&x){var C=b&&!this.isOpenInteractiveLabel(i)?.5:.3;I.color=p.shadeColor(x,C)}var T={};return"trace"===r&&(T["background-color"]=x,T["border-color"]=x),{id:i,screenX:o,screenY:s,labelDOM:S,forcedOrientation:u,isNakedLabel:l,orientation:M,classes:k,styles:I,dotStyles:T,content:h}}},t.prototype.computeAllLabels=function(e,t){var n,r,i={},o=this.grapher.graphSketches;for(n in o){var s=o[n];if(s.visible){var a=s.labels;if(a.length)for(var l=0;l<a.length;l++)(r=this.computeLabel(a[l],e,t,"opened"))&&(i[r.id]=r)}}var c={};for(n in this.openedPOI2Sketch){var u=m(n,o[this.openedPOI2Sketch[n]]);u&&(c[n]=u.sketch.id,(r=this.computeLabel(u,e,t,"opened"))&&(i[r.id]=r))}return this.openedPOI2Sketch=c,i},t.prototype.markLabelsDirty=function(){this.labelsDirty=!0},t.prototype.positionLabels=function(e,t,n,r){var o=!this.labelsDirty;this.labelsDirty=!1;var s=this.grapher.settings.config.projectorMode?14:10,a=[];t.forEach(function(e){var t=n[e];if(t&&t.labelDOM){var r=t.screenX,i=t.screenY,l=t.labelDOM.getBoundingClientRect(),c=l.width,u=l.height;c>0&&u>0&&a.push({renderedLabel:t,pt_x:r,pt_y:i,pt_radius:s,nakedLabel:t.isNakedLabel,width:c,height:u,keepOrientation:o,priorOrientation:t.orientation,enforceOrientation:t.forcedOrientation})}});var l=e.canvas.getBoundingClientRect(),c={width:l.width,height:l.height},u=d.buildStaticEnvGetter(e,c,r),p=a.map(function(e){return d.generateCandidatesForPoint(u,e)});d.computePositions(p).forEach(function(e,t){var n=a[t].renderedLabel;n.orientation=e.orientation;var r=n.labelDOM;r&&(r.style.left=e.left-e.pt_x+"px",r.style.top=e.top-e.pt_y+"px",i(r).data("orientation",e.orientation))})},t.prototype.redraw=function(e,t,n){var r=this.computeAllLabels(e,this.cachedLabelDict),i=this.computeHoveredLabel(e,this.cachedLabelDict);i&&(r[i.id]=i);var o=this.computeTraceLabel(e,this.cachedLabelDict);o&&(r[o.id]=o),this.cachedLabelDict=r,this.cachedLabelOrder=Object.keys(r),this.update(),this.positionLabels(t,this.cachedLabelOrder,this.cachedLabelDict,n)},t.prototype.clearOpenedPOI=function(){this.openedPOI2Sketch={}},t.prototype.closePOI=function(e){delete this.openedPOI2Sketch[e.id]},t.prototype.openPOI=function(e){this.openedPOI2Sketch[e.id]=e.sketch.id},t.prototype.isOpenPOI=function(e){return this.openedPOI2Sketch.hasOwnProperty(e.id)},t.prototype.setHoveredPOI=function(e){this.hoveredPOI=e},t.prototype.getHoveredPOI=function(){return this.hoveredPOI},t.prototype.setTraceInfo=function(e){this.traceInfo=e},t.prototype.openInteractiveLabel=function(e){this.openedInteractiveLabels[e.id]=e},t.prototype.closeInteractiveLabel=function(e){delete this.openedInteractiveLabels[e.id]},t.prototype.clearOpenedInteractiveLabels=function(){for(var e in this.openedInteractiveLabels)if(this.openedInteractiveLabels.hasOwnProperty(e)){var t=this.openedInteractiveLabels[e];t.setInteractiveLabelVisible(!1),t.setInteractiveLabelHovered(!1)}this.openedInteractiveLabels={}},t.prototype.isOpenInteractiveLabel=function(e){return this.openedInteractiveLabels.hasOwnProperty(e)},t.prototype.setHoveredInteractiveLabel=function(e){this.hoveredInteractiveLabel=e},t.prototype.getHoveredInteractiveLabel=function(){return this.hoveredInteractiveLabel},t}(r.Class);t.default=w}),define("graphing/grapher",["require","exports","main/graph_settings","./canvaslayer","./poidotslayer","./gridlayer","./graphslayer","./imagelayer","./viewportcontroller","./poicontroller","dcgview","jquery","underscore","./viewport","./screen","./graphsketch","./projection","underscore_model","./audiograph","./canvas-braille","./braille-size-options","lib/deepCopy","lib/animation-frame","lib/default-spec","graphing-calc/json/graph-settings","graphing/tonegenerator","./movablepointslayer","./poilabelslayer"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m,y,v,b,x,w,_,E,S,M,k,I){"use strict";function C(){return new f.Screen(1024,768)}function T(){return new h.Viewport(-10,10,-10,10)}Object.defineProperty(t,"__esModule",{value:!0});var P=function(){function e(t,n,h,f){var g=this;this.thumbnail=e.prototype.screenshot,this._layerClasses={},this.$=t,this.evaluator=f,this.controller=h,this.settings=n;var b=C(),x=T().squareYAxis(b);this.setUserRequestedViewport(x),this.__projection=new m.Projection(b,x,n),this.markLabelsDirty=p.debounce(function(){g.evaluator.notifyWhenSynced(function(){g.__isRedrawingSlowly?g.notifyAfterRedraw(function(){g.poiLabelsLayer.markLabelsDirty(),g.redrawAllLayers()}):(g.poiLabelsLayer.markLabelsDirty(),g.redrawAllLayers())})},300),this.poiController=new c(this,n),this.viewportController=l(this,this.controller),this.showPOIDots=!0,this.$.css("overflow","hidden"),this.graphSketches={},this.graphImages={},this.canvasLayer=r(this),this.$.append(this.canvasLayer.$),this.imageLayer=a(),this.gridLayer=o(),this.poiDotsLayer=i(),this.graphsLayer=s(this.settings);var w=d("<div></div>");this.$.append(w);var _=this;this.movablePointsLayer=u.mountToNode(k.default,w[0],{grapher:function(){return _}});var E=d("<div></div>");this.$.append(E),this.poiLabelsLayer=u.mountToNode(I.default,E[0],{grapher:function(){return _}}),this.traceLayer=this.poiLabelsLayer,this.scaleAxis=void 0,this.__sketchOrder=[],this.selectedId=void 0,this.__redrawRequested=!1,this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.events=new y.UnderscoreModel,this.audioGraph=new v.default(h,this)}return e.prototype.remove=function(){this.$.remove(),this.poiController.remove(),this.viewportController.remove(),this.audioGraph.remove()},e.prototype.tick=function(e){this.__isRedrawingSlowly?this._redrawSlowly():this.__redrawRequested&&this._redrawAllLayers(),this.__movablePointListener&&this.__movablePointListener()},e.prototype.registerMovablePointListener=function(e){this.__movablePointListener=e},e.prototype.deregisterMovablePointListener=function(){this.__movablePointListener=void 0},e.prototype.setSketchOrder=function(e){p.isEqual(this.__sketchOrder,e)||(this.__sketchOrder=e,this.redrawAllLayers())},e.prototype.clear=function(){this.graphSketches={},this.graphImages={}},e.prototype.getGraphSketch=function(e){return this.graphSketches[e]},e.prototype.addGraphSketch=function(e){this.graphSketches[e.id]=e},e.prototype.removeGraphSketch=function(e){delete this.graphSketches[e]},e.prototype.addGraphImage=function(e){var t=this;e.imageObj.width&&e.imageObj.height?(this.graphImages[e.id]=e,this.redrawAllLayers()):d(e.imageObj).on("load.calc_load",function(){return t.addGraphImage(e)})},e.prototype.removeGraphImage=function(e){var t=this.graphImages[e];t&&d(t.imageObj).off("load.calc_load"),delete this.graphImages[e],this.redrawAllLayers()},e.prototype.getProjection=function(){return this.__projection},e.prototype._setProjection=function(e){this.__projection=e,this.redrawAllLayers()},e.prototype.getAudioTrace=function(){return this.audioGraph},e.prototype.getDefaultViewport=function(){var e=this.getProjection();return T().squareYAxis(e.screen)},e.prototype._updateScreenSize=function(e,t){if(!(e<=0||t<=0)){var n=this.getProjection(),r=n.screen;if(r.width!==e||r.height!==t){this.$.width(e);var i=new f.Screen(e,t);this.viewportController.setScreen(i)}}},e.prototype._setIsVisible=function(e){e!==this.isVisible&&(this.isVisible=e,e?this.redrawAllLayers():this.canvasLayer.resize(0,0))},e.prototype.update=function(){var e=this.controller.computeMajorLayout().grapher;e.width>0&&e.height>0?(this._setIsVisible(!0),this._updateScreenSize(e.width,e.height),this.$.css({position:"absolute",left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px"})):this._setIsVisible(!1)},e.prototype.hide=function(e){var t=this.getGraphSketch(e);t&&(t.visible=!1)},e.prototype.select=function(e){if(this.selectedId){var t=this.getGraphSketch(this.selectedId);t&&(t.selected=!1,t.showPOI=!1,t.showHighlight=!1)}var n=this.getGraphSketch(e);n&&(n.selected=!0,n.showPOI=!0,n.showHighlight=!0),this.selectedId=e},e.prototype.updateSketch=function(e,t){var n=this.getGraphSketch(e);if(!t.length)return this.hide(e);var r=new g.GraphSketch(e,t);r.color=t[0].color,r.style=t[0].style,n&&r.updateFrom(n);var i=String(e)===String(this.selectedId);r.selected=i,r.showPOI=i,r.showHighlight=i,this.addGraphSketch(r)},e.prototype.updateIntersections=function(e,t){var n=this.getGraphSketch(e);n&&n.updateIntersections(t)},e.prototype.redrawAllLayers=function(){this.cancelRedrawSlowly(),this.__redrawRequested=!0},e.prototype._clear=function(){var e=this.getProjection(),t=e.screen;this.canvasLayer.resize(e.screen.width,e.screen.height),this.canvasLayer.ctx.clearRect(0,0,t.width,t.height)},e.prototype._redrawAllLayers=function(){this.isVisible&&(this.__redrawRequested=!1,this._clear(),this._redrawImageLayer(),this._redrawGridLayer(),this._redrawGraphsLayer(),this._redrawPointsAndLabels(),this._updateCanvasLayerAria(),this.audioGraph.recomputePoints(),this.events.triggerEvent("redraw",void 0))},e.prototype.cancelRedrawSlowly=function(){this.__isRedrawingSlowly&&(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.redrawAllLayers())},e.prototype.redrawSlowly=function(){this.__isRedrawingSlowly||(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!0,this.audioGraph.recomputePoints())},e.prototype._redrawSlowly=function(){var e,t,n=this.__redrawSlowlyIndex;if(0===n&&(this._clear(),this._redrawGridLayer()),n>=this.__sketchOrder.length)return void this.cancelRedrawSlowly();var r=this.__sketchOrder[n],i=(e={},e[r]=this.graphSketches[r],e),o=(t={},t[r]=this.graphImages[r],t);(o[r]||i[r])&&this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),i,o,[r]),this.__redrawSlowlyIndex+=1},e.prototype._redrawGridLayer=function(){this.gridLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.scaleAxis)},e.prototype._redrawGraphsLayer=function(){this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphSketches,this.graphImages,this.__sketchOrder)},e.prototype._updateCanvasLayerAria=function(){var e=0;for(var t in this.graphSketches)M.canPlaySketch(this.graphSketches[t])&&(e+=1);this.canvasLayer.updateAria(this.isVisible,e)},e.prototype._redrawPointsAndLabels=function(){var e=this.getProjection(),t=[];this.movablePointsLayer.redraw(this.canvasLayer.ctx,e,t),this.showPOIDots&&this.poiDotsLayer.redrawToCtx(this.canvasLayer.ctx,e,this.graphSketches);var n=this.$[0].getBoundingClientRect();p.each([this.controller.find$(".dcg-overgraph-pillbox-elements")[0],this.controller.find$(".dcg-graphpaper-branding")[0]],function(e){if(e){var r=e.getBoundingClientRect();t.push({left:r.left-n.left,top:r.top-n.top,right:r.right-n.left,bottom:r.bottom-n.top})}}),this.poiLabelsLayer.redraw(e,this.canvasLayer.ctx,t)},e.prototype._redrawImageLayer=function(){this.imageLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphImages,this.__sketchOrder)},e.prototype._parseScreenshotOpts=function(e){var t,r,i,o,s,a,l,c,u=this.getProjection();return e?(t=e.width||e.height||u.screen.width,r=e.height||e.width||u.screen.height,i=e.targetPixelRatio||1,o=(t<256||r<256)&&!e.preserveAxisNumbers,s=n.fromObject(e.settings||this.settings),a=!!e.transparentBackground,l=!!e.showMovablePoints,c=e.movablePointsRadius):(t=u.screen.width,
r=u.screen.height,i=1,o=!1,s=n.fromObject(this.settings),a=!1,l=!1,c=void 0),o&&(s.setProperty("xAxisNumbers",!1),s.setProperty("yAxisNumbers",!1),s.setProperty("polarNumbers",!1)),{width:t,height:r,targetPixelRatio:i,settings:s,transparentBackground:a,showMovablePoints:l,movablePointsRadius:c}},e.prototype.screenshot=function(e){var t=document.createElement("canvas");if(e&&e.braille){var n=e.braille,r=n.embosserModel,i=n.brailleMode,o=x.brailleSizes[r];t.width=o.width,t.height=o.height,b.createBrailleImage(t,this,o,r,i)}else{var s=this._parseScreenshotOpts(e);t.width=s.width*s.targetPixelRatio,t.height=s.height*s.targetPixelRatio,this.screenshotToCanvas(t,e)}return t.toDataURL("image/png")},e.prototype.screenshotToCanvas=function(e,t){var n=this._parseScreenshotOpts(t),r=n.width,i=n.height,o=n.targetPixelRatio,s=n.settings,a=n.transparentBackground,l=n.showMovablePoints,c=n.movablePointsRadius;s.takingScreenshot=!0;var u=e.getContext("2d");u.scale(o,o);var d=new f.Screen(r,i),p=this.getProjection().viewport;this.getSetting("squareAxes")&&(p=p.squareCrop(d));var h=new m.Projection(d,p,s);a||(u.fillStyle="white",u.fillRect(0,0,d.width,d.height)),this.imageLayer.redrawToCtx(u,h,this.graphImages,this.__sketchOrder),this.gridLayer.redrawToCtx(u,h),this.graphsLayer.redrawToCtx(u,h,this.graphSketches,this.graphImages,this.__sketchOrder),l&&this.movablePointsLayer.drawForScreenshot(u,h,[],c)},e.prototype.getImageData=function(e,t,n,r){return this.canvasLayer.ctx.getImageData(e,t,n,r)},e.prototype.getSetting=function(e,t){var n=this.settings.getProperty(e);return void 0!==n?n:t},e.prototype.getState=function(e){var t=this,n={viewport:this.getCurrentViewport()};return this.settings.stateProperties.forEach(function(e){n[e]=t.getSetting(e)}),e.stripDefaults&&(n=E.stripDefaults(S.DefaultGraphSettings,n)),n},e.prototype.getUndoRedoState=function(){var e=this,t={};return this.settings.stateProperties.forEach(function(n){t[n]=e.getSetting(n)}),t.viewport=this.getUserRequestedViewport(),t},e.prototype.notifyAfterRedraw=function(e){var t=this;if(this.__isRedrawingSlowly)_.requestAnimationFrame(this.notifyAfterRedraw.bind(this,e));else if(this.__redrawRequested){this.notifyAfterRedraw_i?this.notifyAfterRedraw_i++:this.notifyAfterRedraw_i=1;var n="redraw.notifyAfterRedraw"+this.notifyAfterRedraw_i;this.events.observeEvent(n,function(){t.events.unobserveEvent(n),e()})}else e()},e.prototype.getCurrentViewport=function(){return this.viewportController.getViewport().toObject()},e.prototype.getUserRequestedViewport=function(){return this._lastUserRequestedViewport},e.prototype.setUserRequestedViewport=function(e){this._lastUserRequestedViewportUpdateToken||(this._lastUserRequestedViewportUpdateToken=0),this._lastUserRequestedViewportUpdateToken+=1,this._lastUserRequestedViewport=w.default(e)},e.prototype.debounceUserRequestedViewportChange=function(){var e=this;if(!this.__debouncedViewportCommit){this.__debouncedViewportCommit=p.debounce(function(t,n){if(!e.isDragging&&e._lastUserRequestedViewportUpdateToken===n){if(e._lastUserRequestedViewport){var r=h.Viewport.fromObject(e._lastUserRequestedViewport);if(e.computeConcreteViewport(r).equals(t))return}e.controller.dispatch({type:"commit-user-requested-viewport",viewport:t})}},1e3)}var t=this.getCurrentViewport();this.__debouncedViewportCommit(t,this._lastUserRequestedViewportUpdateToken)},e.prototype.setGrapherState=function(e,t){e=E.populateDefaults(S.DefaultGraphSettings,e),t&&t.doNotClear||this.clear();for(var n in S.DefaultGraphSettings)S.DefaultGraphSettings.hasOwnProperty(n)&&this.settings.setProperty(n,e[n]);if("viewport"in e){var r=h.Viewport.fromObject(e.viewport);this.setUserRequestedViewport(r);var i=this.computeConcreteViewport(r);this.viewportController.setViewport(i)}this.redrawAllLayers()},e.prototype.computeConcreteViewport=function(e){var t=this.getProjection().screen;return this.getSetting("squareAxes")&&!e.isSquare(t)?e.squareYAxis(t):e},e.prototype.setLayerClass=function(e,t){var n=this._layerClasses[e];this._layerClasses[e]=t,n!==t&&(n&&this.$.removeClass(n),t&&this.$.addClass(t))},e}();t.Grapher=P}),define("loadcss!tour",function(){}),define("loadcss!calculator_embed",function(){}),define("loadcss!buttons",function(){}),define("loadcss!dcg-normalize",function(){}),define("loadcss!projector_mode",function(){}),define("loadcss!desmos-icons",function(){}),define("loadcss!popovers",function(){}),define("main/calc_embed",["require","exports","main/graph_settings","tours/tour_manager","tslib","lib/i18n","jquery","main/controller","dcgview","main/instancehotkeys","lib/console","underscore","lib/defocus-mobile","graphing-calc/views/main","underscore_model","graphing/viewport","main/evaluator","graphing/grapher","../lib/color-helpers","loadcss!tour","loadcss!calculator_embed","loadcss!buttons","loadcss!dcg-normalize","loadcss!projector_mode","loadcss!desmos-icons","loadcss!popovers"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m,y,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=0,x=function(){function e(e,t,i,u){function p(){var e=S.computeMajorLayout(),t={left:e.grapher.left,right:e.grapher.left+e.grapher.width,width:e.grapher.width,top:e.grapher.top,bottom:e.grapher.top+e.grapher.height,height:e.grapher.height},n=I.getCurrentViewport(),r={top:n.ymax,bottom:n.ymin,left:n.xmin,right:n.xmax,width:n.xmax-n.xmin,height:n.ymax-n.ymin};d.isEqual(r,C.mathCoordinates)||C.setProperty("mathCoordinates",r),t.height>0&&t.width>0&&!d.isEqual(t,C.pixelCoordinates)&&C.setProperty("pixelCoordinates",t)}function g(){var e=I.getProjection();_.setProperty("zoomedDefault",I.viewportController.isZoomRestored()),_.setProperty("squareAxes",e.viewport.isSquare(e.screen))}function v(e,t){return o.t(e,t,_.config.language)}var x=this;e||(e=document.createElement("div"));var w=document.createElement("div");w.className="dcg-wrapper",w.style.width="100%",w.style.height="100%",e.appendChild(w),this.__id=b++;var _=new n;this.graphSettings=_;for(var E in i)_.config.setProperty(E,i[E]);var S=new a.default(_);this.controller=S,u&&S.dispatch({type:"ui/container-resized",size:u}),this.rootElt=w,this.view=l.mountToNode(h.default,this.rootElt,{controller:l.const(S)});var M=new m.Evaluator(t);this.controller.setEvaluator(M),this.controller.setRootElt(this.rootElt);var k=S.find$(".dcg-grapher"),I=new y.Grapher(k,_,this.controller,M);this.controller.setGrapher(I),_.registerCallbacks(I,M),this.controller.initStateStack(),_.config.redrawSlowly||(I.redrawSlowly=I.redrawAllLayers),M.triggerStatusChange=function(e){x.controller.dispatch({type:"on-evaluator-changes",changes:e})},M.triggerGraphData=function(e){S.dispatch({type:"process-graph-data",graphData:e})},M.triggerRender=function(){I.redrawAllLayers()},M.triggerRenderSlowly=function(){I.redrawSlowly()},this.unsubFunc=this.controller.subToChanges(function(){x.controller.doesDOMHaveSize()&&(x.view.update(),I.update()),p(),g()});var C=new f.UnderscoreModel;C.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=C,s(this.rootElt).on("keydown.calculator-"+this.__id,function(e){x.grapher&&x.grapher.audioGraph.handleKeydown(e),x.instanceHotkeys.handleKeydown(e)}),s(window).on("dcg-tapstart.calculator-"+this.__id,function(e){var t=s(e.target),n=!!t.closest(x.rootElt).length,r=e.wasHandled("create-expression-with-keyboard"),i=!!t.closest(".dcg-api-shared-keypad-root").length,o=!!t.hasClass("dcg-shell");if(n||i||o||r||S.dispatch({type:"set-none-selected"}),e.wasHandled("do-not-clear-poi-labels")||I.poiController.clearOpenedPOI(),S.isInEditListMode()){var a=0===t.closest(".dcg-exppanel").length&&0===t.closest(".dcg-options-menu").length&&0===t.closest(".dcg-expression-top-bar").length&&0===t.closest(".dcg-keypad").length;n&&!a||S.dispatch({type:"set-edit-list-mode",isEditListMode:!1})}}),this.grapher=I,this.evaluator=M,this.tourManager=r({evaluator:M}),this.controller.dispatch({type:"set-blank"});var T=["degreeMode"],P={};T.forEach(function(e){void 0!==i[e]&&(P[e]=i[e])}),_.setGraphSettings(P),_.config.expressionsCollapsed&&this.setOptions({expressionsCollapsed:!0}),_.config.capExpressionSize&&this.setOptions({capExpressionSize:!0}),_.config.hasOwnProperty("pointsOfInterest")&&this.setOptions({pointsOfInterest:_.config.pointsOfInterest}),_.config.hasOwnProperty("backgroundColor")&&this.setOptions({backgroundColor:_.config.backgroundColor}),_.config.hasOwnProperty("textColor")&&this.setOptions({textColor:_.config.textColor}),_.config.observe("language",function(){var e=x.controller.getState();x.controller.dispatch({type:"set-state",state:e}),x.tourManager&&(x.tourManager.closingMsg=["<b>__endingMessage__</b><br>",v("This message will self-destruct in __seconds__...")].join(""))}),this.instanceHotkeys=new c.default(S)}return e.prototype.setOption=function(e,t){this.controller.getGraphSettings().config.setProperty(e,t)},e.prototype.setOptions=function(e){var t,n=this.controller.getGraphSettings().config,r=i.__assign({},e);e.hasOwnProperty("backgroundColor")&&(v.isValidHexColor(e.backgroundColor)||(u.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete r.backgroundColor)),e.hasOwnProperty("textColor")&&(v.isValidHexColor(e.textColor)||(u.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete r.textColor)),e.hasOwnProperty("menus")&&(u.warn("Deprecated option: menus. Setting settingsMenu and expressionsTopbar instead."),e.hasOwnProperty("settingsMenu")||(r.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(r.expressionsTopbar=!!e.menus)),e.hasOwnProperty("solutions")&&(u.warn("Deprecated option: solutions. Setting pointsOfInterest instead."),e.hasOwnProperty("pointsOfInterest")||(r.pointsOfInterest=!!e.solutions)),e.hasOwnProperty("singleVariableSolutions")&&u.warn("Deprecated option: singleVariableSolutions has been removed."),!1===e.graphpaper&&(e.expressionsCollapsed&&(r.expressionsCollapsed=!1,u.warn("Cannot set graphpaper: false with expressionsCollapsed: true. Proceeding with expressionsCollapsed: false.")),n.expressionsCollapsed&&(r.expressionsCollapsed=!1,u.warn("Disabling the graphpaper with the expressions list collapsed is not supported.Setting expressionsCollapsed: false.")),e.zoomButtons&&(r.zoomButtons=!1,u.warn("Cannot set graphpaper: false with zoomButtons: true. Proceeding with zoomButtons: false.")),e.showResetButtonOnGraphpaper&&(r.showResetButtonOnGraphpaper=!1,u.warn("Cannot set graphpaper: false with showResetButtonOnGraphpaper: true. Proceeding with showResetButtonOnGraphpaper: false.")),n.zoomButtons&&(r.zoomButtons=!1,u.warn("Disabling the graphpaper with the zoomButtons visible is not supported. Setting zoomButtons: false.")),n.showResetButtonOnGraphpaper&&(r.showResetButtonOnGraphpaper=!1,u.warn("Disabling the graphpaper with the reset button visible is not supported. Setting showResetButtonOnGraphpaper: false."))),!1===n.graphpaper&&(e.expressionsCollapsed||e.zoomButtons||e.showResetButtonOnGraphpaper)&&(r.graphpaper=!0,u.warn("Must have visible graphpaper to proceed. Setting graphpaper: true.")),e.lockViewport&&e.zoomButtons&&(r.zoomButtons=!1,u.warn("Cannot set zoomButtons: true and lockViewport: true. Proceeding with zoomButtons: false.")),n.lockViewport&&e.zoomButtons&&(r.lockViewport=!1,u.warn("Cannot set zoomButtons: true while the viewport is locked. Setting lockViewport: false.")),n.zoomButtons&&e.lockViewport&&(r.zoomButtons=!1,u.warn("Cannot lock the viewport without hiding the zoom buttons. Setting zoomButtons: false."));for(t in r)if(r.hasOwnProperty(t))switch(t){case"expressionsCollapsed":this.setOption("expressionsCollapsed",!!r.expressionsCollapsed),r.expressionsCollapsed?this.controller.dispatch({type:"hide-expressions-list"}):this.controller.dispatch({type:"show-expressions-list"});break;case"qwertyKeyboard":this.setOption("qwertyKeyboard",!!r.qwertyKeyboard),this.controller.isLetterKeypadOpen()&&this.controller.dispatch({type:"keypad/abc"});break;case"degreeMode":this.setOption("degreeMode",!!r.degreeMode),this.controller.getGraphSettings().setGraphSettings({degreeMode:!!r.degreeMode});break;case"keypad":case"graphpaper":case"expressions":case"settingsMenu":case"zoomButtons":case"showResetButtonOnGraphpaper":case"expressionsTopbar":case"pointsOfInterest":case"trace":case"border":case"lockViewport":case"administerSecretFolders":case"advancedStyling":case"images":case"imageUploadCallback":case"folders":case"notes":case"links":case"restrictedFunctions":case"distributions":case"pasteGraphLink":case"pasteTableData":case"clearIntoDegreeMode":case"autosize":case"plotSingleVariableImplicitEquations":case"colors":case"branding":case"disableScrollFix":case"invertedColors":case"fontSize":case"projectorMode":case"language":case"redrawSlowly":case"onlyTraceSelected":case"disableMouseInteractions":case"nativeOnscreenKeypad":case"functionDefinition":case"plaidMode":case"pasteGraphLinkCallback":case"editOnWeb":case"crossOriginSaveTest":case"backgroundColor":case"textColor":case"enableTabindex":case"audioTraceReverseExpressions":case"showHamburger":case"decimalToFraction":case"capExpressionSize":case"transparentBackground":var o=r[t];void 0!==o&&this.setOption(t,o);break;default:var s=t;return s}},e.prototype.setViewport=function(e){this.grapher.viewportController.setViewport(new g.Viewport(e[0],e[1],e[2],e[3]))},e.prototype.resize=function(e){e&&this.controller.dispatch({type:"ui/container-resized",size:e})},e.prototype.interceptTouch=function(){var e=this.grapher.$,t=s(this.rootElt);e=e.add(t.find(".dcg-expression-top-bar")),e.add(t.find(".dcg-keypad")),e.on("touchstart",function(e){e.preventDefault()}),e.on("touchend",function(e){s(e.target).closest(".dcg-do-not-blur").length>0||p.default()})},e.prototype.destroy=function(){s(window).off(".calculator-"+this.__id);var e=s(this.rootElt);e.off(".calculator-"+this.__id),this.unsubFunc(),this.graphSettings.unobserveAll(),this.evaluator&&this.evaluator.destroy(),this.grapher&&this.grapher.remove(),l.unmountFromNode(this.rootElt),e.remove()},e.prototype.tick=function(e){this.controller.dispatch({type:"tick",time:e})},e.prototype.getState=function(e){return this.controller.getState(e)},e.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},e.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},e}();t.default=x}),define("lib/dom-change-detector",["require","exports","tslib","lib/animation-frame","jquery"],function(e,t,n,r,i){"use strict";function o(){c=!0,r.requestAnimationFrame(s)}function s(){t.testFixture.rafSPY&&t.testFixture.rafSPY(),c=!1;for(var e in l)l[e].detectAndEnqueueEvent(),c=!0;if(c){o();for(var e in l)l[e].dispatchQueuedEvent()}}Object.defineProperty(t,"__esModule",{value:!0});var a=1,l={},c=!1,u=!1;window&&window.location&&window.location.search&&(u=window.location.search.indexOf("dcgKnewtonDisableAutoSize")>=0),t.testFixture={},t.checkAllWatchingDetectors=s;var d=function(){function e(e,t){this.elt=e,this.cb=t,this.destroyed=!1,this.id=a.toString(),this.appliedScale={x:1,y:1},a++}return e.prototype.stopWatching=function(){delete l[this.id]},e.prototype.startWatching=function(){this.checkForChanges(),l[this.id]=this,c||o()},e.prototype.resetAppliedScalingAndGetBoundingClientRect=function(){var e=this.elt.getBoundingClientRect(),t={x:e.width/this.elt.offsetWidth,y:e.height/this.elt.offsetHeight};if(t.x===this.appliedScale.x&&t.y===this.appliedScale.y)return e;var n=i(this.elt).children(".dcg-wrapper")[0];return n&&(this.appliedScale=t,i(n).css({transform:"scale("+1/this.appliedScale.x+","+1/this.appliedScale.y+")",width:100*this.appliedScale.x+"%",height:100*this.appliedScale.y+"%"})),e},e.prototype.detectAndEnqueueEvent=function(){if(!this.destroyed){if(document.body&&document.body.contains(this.elt)){var e=void 0;e=u?{width:450,height:450}:this.resetAppliedScalingAndGetBoundingClientRect(),this.lastSize?e.width===this.lastSize.width&&e.height===this.lastSize.height||(this.lastSize.width=e.width,this.lastSize.height=e.height,this.queuedEvent={type:"resized",target:this.elt,size:n.__assign({},this.lastSize)}):(this.lastSize={width:e.width,height:e.height},this.queuedEvent={type:"added",target:this.elt,size:n.__assign({},this.lastSize)})}else this.lastSize&&(this.lastSize=void 0,this.queuedEvent={type:"removed",target:this.elt})}},e.prototype.dispatchQueuedEvent=function(){var e=this.queuedEvent;e&&(this.queuedEvent=void 0,this.cb(e))},e.prototype.checkForChanges=function(){this.detectAndEnqueueEvent(),this.dispatchQueuedEvent()},e.prototype.destroy=function(){this.stopWatching();for(var e in this)this.hasOwnProperty(e)&&delete this[e];this.destroyed=!0},e}();t.default=d}),define("graphing/compute-async-screenshot-bounds",["require","exports","lib/console"],function(e,t,n){"use strict";function r(e){var t=e.mode,r=e.width,i=e.height,o=e.currentBounds,s=e.graphpaperAspectRatio,a=e.mathAspectRatio,l=e.mathBounds,c=r/i,u={x:o.left+o.width/2,y:o.bottom+o.height/2};if(void 0===l.left!=(void 0===l.right)||void 0===l.bottom!=(void 0===l.top))return n.warn('asyncScreenshot: cannot specify "left" bound without "right" or "bottom" bound without "top". Got: '+l),o;var d,p,h,f,g,m,y,v,b,x,w=void 0!==l.left&&void 0!==l.right,_=void 0!==l.bottom&&void 0!==l.top,E=w&&_;switch(t){case"stretch":return E?l:w?{left:l.left,right:l.right,bottom:o.bottom,top:o.top}:_?{left:o.left,right:o.right,bottom:l.bottom,top:l.top}:o;case"contain":return E?(f=l.right-l.left,g=l.top-l.bottom,m={x:l.left+f/2,y:l.bottom+g/2},h=f/g,c>h?(p=g/i,d=p*a,{left:m.x-d*r/2,right:m.x+d*r/2,bottom:l.bottom,top:l.top}):(d=f/r,p=d/a,{left:l.left,right:l.right,bottom:m.y-p*i/2,top:m.y+p*i/2})):w?(y=l.right-l.left,v=l.left+y/2,h=y/o.height,c>h?(p=o.height/i,d=p*a,{left:v-d*r/2,right:v+d*r/2,bottom:o.bottom,top:o.top}):(d=y/r,p=d/a,{left:l.left,right:l.right,bottom:u.y-p*i/2,top:u.y+p*i/2})):_?(b=l.top-l.bottom,x=l.bottom+b/2,h=o.width/b,c>h?(p=b/i,d=p*a,{left:u.x-d*r/2,right:u.x+d*r/2,bottom:l.bottom,top:l.top}):(d=o.width/r,p=d/a,{left:o.left,right:o.right,bottom:x-p*i/2,top:x+p*i/2})):c>s?(p=o.height/i,d=p*a,{left:u.x-d*r/2,right:u.x+d*r/2,bottom:o.bottom,top:o.top}):(d=o.width/r,p=d/a,{left:o.left,right:o.right,bottom:u.y-p*i/2,top:u.y+p*i/2});case"preserveX":return E?(f=l.right-l.left,g=l.top-l.bottom,m={x:l.left+f/2,y:l.bottom+g/2},h=f/g,d=f/r,p=d/a,{left:l.left,right:l.right,bottom:m.y-p*i/2,top:m.y+p*i/2}):_?(b=l.top-l.bottom,x=l.bottom+b/2,h=o.width/b,d=o.width/r,p=d/a,{left:o.left,right:o.right,bottom:x-p*i/2,top:x+p*i/2}):w?(y=l.right-l.left,d=y/r,p=d/a,{left:l.left,right:l.right,bottom:u.y-p*i/2,top:u.y+p*i/2}):(y=o.right-o.left,d=y/r,p=d/a,{left:o.left,right:o.right,bottom:u.y-p*i/2,top:u.y+p*i/2});case"preserveY":return E?(f=l.right-l.left,g=l.top-l.bottom,m={x:l.left+f/2,y:l.bottom+g/2},h=f/g,p=g/i,d=p*a,{left:m.x-d*r/2,right:m.x+d*r/2,bottom:l.bottom,top:l.top}):w?(y=l.right-l.left,v=l.left+y/2,h=y/o.height,p=o.height/i,d=p*a,{left:v-d*r/2,right:v+d*r/2,bottom:o.bottom,top:o.top}):_?(b=l.top-l.bottom,p=b/i,d=p*a,{left:u.x-d*r/2,right:u.x+d*r/2,bottom:l.bottom,top:l.top}):(b=o.top-o.bottom,p=b/i,d=p*a,{left:u.x-d*r/2,right:u.x+d*r/2,bottom:o.bottom,top:o.top});default:return o}}Object.defineProperty(t,"__esModule",{value:!0}),t.computeBoundsFromScreenshotOpts=r}),define("dcgview-helpers/mathquill-proxy",["require","exports","dcgview-helpers/mathquill-view"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.mq=e,this.id=e.id,this.data=e.data}return e.prototype.simulateUserChangedLatex=function(){n.default.simulateUserChangedLatex(this.mq)},e.prototype.simulateKeypress=function(e){n.default.simulateKeypress(this.mq,e)},e.prototype.latex=function(e){return void 0===e?this.mq.latex():(this.mq.latex(e),void this.simulateUserChangedLatex())},e.prototype.reflow=function(){this.mq.reflow()},e.prototype.el=function(){return this.mq.el()},e.prototype.getAriaLabel=function(){return this.mq.getAriaLabel()},e.prototype.setAriaLabel=function(e){return this.mq.setAriaLabel(e)},e.prototype.html=function(){return this.mq.html()},e.prototype.mathspeak=function(){return this.mq.mathspeak()},e.prototype.select=function(){this.mq.select()},e.prototype.moveToRightEnd=function(){this.mq.moveToRightEnd()},e.prototype.cmd=function(e){this.mq.cmd(e),this.simulateUserChangedLatex()},e.prototype.write=function(e){this.mq.write(e),this.simulateUserChangedLatex()},e.prototype.keystroke=function(e){this.simulateKeypress(e)},e.prototype.typedText=function(e){this.mq.typedText(e),this.simulateUserChangedLatex()},e.prototype.clearSelection=function(){this.mq.clearSelection()},e.prototype.getAriaPostLabel=function(){return this.mq.getAriaPostLabel()},e.prototype.setAriaPostLabel=function(e,t){this.mq.setAriaPostLabel(e,t)},e.prototype.blur=function(){this.mq.blur()},e.prototype.focus=function(){this.mq.focus()},e.prototype.revert=function(){this.mq.revert()},e.prototype.ignoreNextMousedown=function(e){this.mq.ignoreNextMousedown(e)},e.prototype.clickAt=function(e,t,n){this.mq.clickAt(e,t,n)},e}();t.MathQuillProxy=r}),define("main/raf-loop",["require","lib/animation-frame"],function(e){function t(e){function t(r){n.requestAnimationFrame(t),e(r)}n.requestAnimationFrame(t)}var n=e("lib/animation-frame");return t}),define("main/shared-clock-bus",["require","exports","main/raf-loop","underscore_model"],function(e,t,n,r){"use strict";function i(e){return a+=1,s.observeEvent("tick."+a,function(t,n){e(n)}),a}function o(e){s.unobserveEvent("tick."+e)}Object.defineProperty(t,"__esModule",{value:!0});var s=new r.UnderscoreModel;n(function(e){s.triggerEvent("tick",e)});var a=0;t.subscribe=i,t.unsubscribe=o}),define("main/shared-worker-pool",["require","exports","worker/workerpool","lib/urlparser"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r.getParameter("nworkers"),o=4;i&&(o=parseInt(i,10)),t.default=new n(o)}),define("graphing-calc/json/config-options",["require","exports","tslib","lib/color-helpers","lib/console","main/font_sizes","expressions/colors","expressions/image_file_to_data_url","../../lib/deepCopy"],function(e,t,n,r,i,o,s,a,l){"use strict";function c(e){return!!d.hasOwnProperty(e)||(!!p.hasOwnProperty(e)||!!h.hasOwnProperty(e))}function u(e){var t=l.default(f);for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n]);return r.isValidHexColor(t.backgroundColor)||(t.backgroundColor=f.backgroundColor,i.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)")),r.isValidHexColor(t.textColor)||(t.textColor=f.textColor,i.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)")),void 0===e.zoomButtons&&(t.graphpaper&&!t.lockViewport||(t.zoomButtons=!1)),void 0===e.images&&(t.graphpaper||(t.images=!1)),e.hasOwnProperty("menus")&&(i.warn("As of API version 0.4, the 'menus' option is deprecated and has been split into 'settingsMenu' (boolean) and 'expressionsTopbar' (boolean)."),e.hasOwnProperty("settingsMenu")||(t.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(t.expressionsTopbar=!!e.menus)),e.hasOwnProperty("solutions")&&(i.warn("As of API v1.0, the 'solutions' option is deprecated and has been replaced with 'pointsOfInterest' (boolean)."),e.hasOwnProperty("pointsOfInterest")||(t.pointsOfInterest=!!e.solutions)),e.hasOwnProperty("singleVariableSolutions")&&i.warn("As of API v1.0, the 'singleVariableSolutions' has been removed. The calculator no longer displays solutions to single variable equations."),t.graphpaper||(t.expressionsCollapsed&&(t.expressionsCollapsed=!1,i.warn("Desmos API initialized with bad options. graphpaper: false and expressionsCollapsed: true are incompatible. Proceeding with expressionsCollapsed: false.")),t.zoomButtons&&(t.zoomButtons=!1,i.warn("Desmos API initialized with bad options. graphpaper: false and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),t.showResetButtonOnGraphpaper&&(t.showResetButtonOnGraphpaper=!1,i.warn("Desmos API initialized with bad options. graphpaper: false and showResetButtonOnGraphpaper: true are incompatible. Proceeding with showResetButtonOnGraphpaper: false."))),t.lockViewport&&t.zoomButtons&&(t.zoomButtons=!1,i.warn("Desmos API initialized with bad options. lockViewport: true and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),t}Object.defineProperty(t,"__esModule",{value:!0});var d={keypad:!0,graphpaper:!0,expressions:!0,settingsMenu:!0,zoomButtons:!0,showResetButtonOnGraphpaper:!1,expressionsTopbar:!0,capExpressionSize:!1,pointsOfInterest:!0,trace:!0,border:!0,lockViewport:!1,expressionsCollapsed:!1,administerSecretFolders:!1,advancedStyling:!1,images:!0,imageUploadCallback:a.imageFileToDataURL,folders:!0,notes:!0,links:!0,qwertyKeyboard:!0,restrictedFunctions:!1,pasteGraphLink:!1,pasteTableData:!0,degreeMode:!1,clearIntoDegreeMode:!1,autosize:!0,plotSingleVariableImplicitEquations:!0,colors:{RED:s.RED,BLUE:s.BLUE,GREEN:s.GREEN,ORANGE:s.ORANGE,PURPLE:s.PURPLE,BLACK:s.BLACK},invertedColors:!1,functionDefinition:!0,projectorMode:!1,decimalToFraction:!0,fontSize:o.MEDIUM,language:"en",backgroundColor:"#fff",textColor:"#000",distributions:!0};t.publicConfigOptions=Object.keys(d);var p={showHamburger:!1,disableScrollFix:!1,branding:!0,redrawSlowly:!1,onlyTraceSelected:!1,disableMouseInteractions:!1,nativeOnscreenKeypad:!1,plaidMode:!1,pasteGraphLinkCallback:void 0,editOnWeb:!1,crossOriginSaveTest:!1,enableTabindex:!0,audioTraceReverseExpressions:!1,transparentBackground:!1},h={solutions:!0,menus:!0,singleVariableSolutions:!0},f=n.__assign({},d,p);t.isConfigOption=c,t.validateConfigOptions=u}),define("api/graphing",["require","exports","tslib","lib/i18n","main/calc_embed","lib/deepCopy","underscore_model","math/recttransformation","graphing/braille-size-options","lib/dom-change-detector","graphing/compute-async-screenshot-bounds","graphing-calc/api/sanitize-expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-proxy","lib/console","underscore","main/shared-clock-bus","main/shared-worker-pool","graphing-calc/json/graph-settings","graphing-calc/json/config-options"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m,y,v,b){"use strict";function x(e,t){var n={},r={};for(var i in e)b.isConfigOption(i)?n[i]=e[i]:v.isGraphSetting(i)?r[i]=e[i]:t||f.warn("Unrecognized setting: "+i+". Ignoring.");return{configOptions:n,settingsOptions:r}}function w(e,t){var n={};return t.hasOwnProperty("x")&&(n.x=e.mapX(t.x)),t.hasOwnProperty("y")&&(n.y=e.mapY(t.y)),n}Object.defineProperty(t,"__esModule",{value:!0});var _,E=function(){function e(){this.model=new s.UnderscoreModel}return e.prototype.triggerEvent=function(e,t){this.model.triggerEvent(e,t)},e.prototype.observeEvent=function(e,t){this.model.observeEvent(e,t)},e.prototype.unobserveEvent=function(e){this.model.unobserveEvent(e)},e.prototype.setProperty=function(e,t){this[e]=t,this.model.setProperty(e,t)},e.prototype.observe=function(e,t){this.model.observe(e,t)},e.prototype.observeAndSync=function(e,t){this.model.observeAndSync(e,t)},e.prototype.unobserve=function(e){this.model.unobserve(e)},e}(),S=function(e){function t(n,r,o){var s=e.call(this)||this;if(!(s instanceof t))return new t(n,r,o);var a=x(r||{},!0),l=b.validateConfigOptions(a.configOptions),u=a.settingsOptions;return s._calc=new i.default(n,y.default,l),s._calc.interceptTouch(),s.controller=s._calc.controller,s.controller.onEventsEmitted=function(e){s.setProperty("isAnyExpressionSelected",!!s.controller.getSelectedItem()),s.setProperty("expressionAnalysis",s.controller.getExpressionAnalysis());var t=p.default.getFocusedMathquill();s.setProperty("focusedMathQuill",t?new h.MathQuillProxy(t):void 0);for(var n in e)e.hasOwnProperty(n)&&e[n]&&s.triggerEvent(n,void 0)},s._calc.graphpaperBounds.observeAndSync("mathCoordinates",s._syncGraphpaperBounds.bind(s)),s._calc.graphpaperBounds.observeAndSync("pixelCoordinates",s._syncGraphpaperBounds.bind(s)),s.colors=s.controller.getColors(),s._initGraphSettings(),s.updateSettings(u),s._sharedClockBusToken=m.subscribe(function(e){s._calc.tick(e)}),s.domChangeDetector=new c.default(n,function(e){switch(e.type){case"added":s._calc.resize(e.size);break;case"removed":break;case"resized":s._calc.resize(e.size)}}),l.autosize?s.domChangeDetector.startWatching():s.domChangeDetector.checkForChanges(),"function"==typeof o&&o(s),s}return n.__extends(t,e),t.prototype.destroy=function(){function e(e){f.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}this._calc.destroy(),this.controller.onEventsEmitted=function(){},m.unsubscribe(this._sharedClockBusToken),this.domChangeDetector.destroy();for(var t in this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},t.prototype._syncGraphpaperBounds=function(){var e=this;this.controller.runAfterDispatch(function(){e.setProperty("graphpaperBounds",{mathCoordinates:e._calc.graphpaperBounds.mathCoordinates,pixelCoordinates:e._calc.graphpaperBounds.pixelCoordinates})})},t.prototype._initGraphSettings=function(){var e=this,t=new s.UnderscoreModel;this.settings=this.graphSettings=t,v.publicGraphSettings.forEach(function(n){e._calc.grapher.settings.observeAndSync(n,function(){e.controller.runAfterDispatch(function(){t.setProperty(n,e._calc.grapher.settings[n])})})}),b.publicConfigOptions.forEach(function(n){e._calc.grapher.settings.config.observeAndSync(n,function(){e.controller.runAfterDispatch(function(){t.setProperty(n,e._calc.grapher.settings.config[n])})})})},t.prototype.updateSettings=function(e){var t=x(e,!1),n=t.configOptions,r=t.settingsOptions;g.isEmpty(n)||this._calc.setOptions(n),g.isEmpty(r)||this._calc.grapher.settings.setGraphSettings(r),this.notifyControllerOfAPICall()},t.prototype.setGraphSettings=function(e){f.warn("As of API v0.8 the 'setGraphSettings' method is deprecated and has been renamed 'updateSettings.'"),this.updateSettings(e),this.setGraphSettings=this.updateSettings,this.notifyControllerOfAPICall()},t.prototype.fetchLanguage=function(e){return r.fetchLanguage(e)},t.prototype.setDefaultState=function(e){this._calc.grapher.settings.setProperty("defaultState",e),this.notifyControllerOfAPICall()},t.prototype.mathToPixels=function(e){return w(a.RT.fromRects(this.graphpaperBounds.mathCoordinates,this.graphpaperBounds.pixelCoordinates),e)},t.prototype.pixelsToMath=function(e){return w(a.RT.fromRects(this.graphpaperBounds.pixelCoordinates,this.graphpaperBounds.mathCoordinates),e)},t.prototype.notifyControllerOfAPICall=function(){this.controller.dispatch({type:"api-method-called"})},t.prototype.setExpression=function(e){var t=this.controller,n=t.getItemModel(e.id),r=n&&n.type,i=d.validateItem(e,r,this.controller);if(i)if(r)this.controller.dispatch({type:"set-expression-properties-from-api",id:i.id,properties:i});else{if("image"===i.type)return;this.controller.dispatch({type:"add-item-to-end-from-api",state:i})}},t.prototype.setExpressions=function(e){e.forEach(this.setExpression.bind(this))},t.prototype.removeExpression=function(e){var t=e.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:t})},t.prototype.removeExpressions=function(e){e.forEach(this.removeExpression.bind(this))},t.prototype.removeSelected=function(){var e=this.controller.getSelectedItem();e&&this.controller.dispatch({type:"remove-item-by-id",id:e.id})},t.prototype.setMathBounds=function(e){e&&e.left<e.right&&e.bottom<e.top?this._calc.setViewport([e.left,e.right,e.bottom,e.top]):f.warn("Invalid bounds argument. Expected a bounds object with bounds.bottom < bounds.top, and bounds.left < bounds.right. Got "+JSON.stringify(e)),this.notifyControllerOfAPICall()},t.prototype.setViewport=function(e){
4==e.length&&e[1]>e[0]&&e[3]>e[2]?this._calc.setViewport(e):f.warn("Invalid viewport.  Expected [xmin, xmax, ymin, ymax].  Got "+e),this.notifyControllerOfAPICall()},t.prototype.resize=function(){this.domChangeDetector.checkForChanges()},t.prototype.getState=function(e){return this.controller.getState(e)},t.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(d.sanitizeItem)},t.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},t.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},t.prototype.undo=function(){this.controller.dispatch({type:"undo"})},t.prototype.redo=function(){this.controller.dispatch({type:"redo"})},t.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-undoredo-history"})},t.prototype.screenshot=function(e){var t=this._parseBrailleOptions(e);if(t)return this._calc.grapher.screenshot(t)},t.prototype._parseBrailleOptions=function(e){var t=e?o.default(e):{};if(t.braille){var n=t.braille,r=n.embosserModel;if(!r)return void f.warn("Screenshot braille options requires an embosser model to be specified.");if("etc"===r&&(n.embosserModel="etc11"),"vpmax"===r&&(n.embosserModel="vpmax11"),"etc8"!==n.embosserModel&&"etc11"!==n.embosserModel&&"vpmax8"!==n.embosserModel&&"vpmax11"!==n.embosserModel)return void f.warn("Unknown screenshot braille embosser model. Valid models are etc and vpmax.");"nemeth"!==n.brailleMode&&"ueb"!==n.brailleMode&&(f.warn("Screenshot options braille.brailleMode must be nemeth or ueb. Proceeding with nemeth."),n.brailleMode="nemeth"),t.width&&f.warn("Screenshot width option is ignored when exporting Braille."),t.height&&f.warn("Screenshot height option is ignored when exporting Braille."),t.targetPixelRatio&&f.warn("Screenshot targetPixelRatio option is ignored when exporting Braille."),t.preserveAxisNumbers&&f.warn("Screenshot preserveAxisNumbers option is ignored when exporting Braille.")}return t},t.prototype._getMathAspectRatio=function(){var e=this.graphpaperBounds.mathCoordinates,t=this._calc.grapher.getProjection().pixelCoordinates,n=t.right-t.left,r=t.bottom-t.top;return e.width/n/(e.height/r)},t.prototype.isProjectionUniform=function(){return!!this._calc.grapher.getProjection().settings.squareAxes},t.prototype._parseAsyncScreenshotOpts=function(e){var t,n,r,i,o=e.mode||"contain",s=e.braille?l.brailleSizes[e.braille.model]:void 0;s?(t=s.width,n=s.height,r=1,i=!1):(t=e.width||e.height||this.graphpaperBounds.pixelCoordinates.width,n=e.height||e.width||this.graphpaperBounds.pixelCoordinates.height,r=e.targetPixelRatio||1,i=e.preserveAxisNumbers);var a=e.mathBounds||{},c=this._getMathAspectRatio(),d=this.graphpaperBounds.pixelCoordinates.width/this.graphpaperBounds.pixelCoordinates.height;return{width:t,height:n,targetPixelRatio:r,preserveAxisNumbers:i,mathBounds:u.computeBoundsFromScreenshotOpts({mode:o,width:t,height:n,currentBounds:this.graphpaperBounds.mathCoordinates,graphpaperAspectRatio:d,mathAspectRatio:c,mathBounds:a})}},t.prototype.asyncScreenshot=function(e,n){if(!arguments.length)return void f.warn("asyncScreenshot expects a callback");if(1===arguments.length){if("function"!=typeof e)return void f.warn("asyncScreenshot expects a callback");n=e,e={}}if(e||(e={}),e=this._parseBrailleOptions(e)){e=this._parseAsyncScreenshotOpts(e),_||(_=new t);var r=_;r.setState(this.getState()),r.setMathBounds(e.mathBounds);var i=r._calc.evaluator,o=function(){var t=r.screenshot({width:e.width,height:e.height,targetPixelRatio:e.targetPixelRatio});n(t)},s=this.controller,a=m.subscribe(function(){s.areAnyImagesLoading()||(m.unsubscribe(a),i.notifyWhenSynced(o))})}},t.prototype.setOptions=function(e){var t=this._calc.setOptions(e);return this.notifyControllerOfAPICall(),t},t.prototype.focusFirstExpression=function(){var e=this.controller.getItemModelByIndex(0);e&&this.controller.dispatch({type:"move-focus-to-item",id:e.id,where:"end"})},t.prototype.HelperExpression=function(e){var t=e&&e.latex||"",n=new s.UnderscoreModel;return n.latex=t,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:t,proxy:n}}),n},t}(E);t.default=S}),define("main/calc_headless",["require","exports","main/graph_settings","main/evaluator","underscore_model","main/controller"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var s=this,a=new n;for(var l in t)a.config.setProperty(l,t[l]);this.controller=new o.default(a);var c=new r.Evaluator(e);this.controller.setEvaluator(c),c.triggerStatusChange=function(e){s.controller.dispatch({type:"on-evaluator-changes",changes:e})};var u=new i.UnderscoreModel;u.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=u,this.evaluator=c,this.setBlank()}return e.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e})},e.prototype.tick=function(){this.evaluator.tick()},e.prototype.destroy=function(){this.evaluator.destroy()},e}();t.HeadlessCalc=s}),define("api/headless",["require","exports","main/calc_headless","graphing-calc/json/config-options","main/shared-clock-bus","main/shared-worker-pool","graphing-calc/api/sanitize-expression","underscore_model","lib/console"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){var t=this;if(!(this instanceof e))return new e;this._calc=new n.HeadlessCalc(o.default,r.validateConfigOptions({})),this.controller=this._calc.controller,this._sharedClockBusToken=i.subscribe(function(){t._calc.tick()})}return e.prototype.destroy=function(){function e(e){l.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}this._calc.destroy(),i.unsubscribe(this._sharedClockBusToken);for(var t in this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},e.prototype.setExpression=function(e){var t=this.controller,n=t.getItemModel(e.id),r=n&&n.type,i=s.validateItem(e,r,this.controller);if(i)if(r)this.controller.dispatch({type:"set-expression-properties-from-api",id:i.id,properties:i});else{if("image"===i.type)return;this.controller.dispatch({type:"add-item-to-end-from-api",state:i})}},e.prototype.setExpressions=function(e){e.forEach(this.setExpression.bind(this))},e.prototype.removeExpression=function(e){var t=e.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:t})},e.prototype.removeExpressions=function(e){e.forEach(this.removeExpression.bind(this))},e.prototype.getState=function(e){return this.controller.getState(e)},e.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(s.sanitizeItem)},e.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},e.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},e.prototype.HelperExpression=function(e){var t=e&&e.latex||"",n=new a.UnderscoreModel;return n.latex=t,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:t,proxy:n}}),n},e.prototype.resize=function(){},e}();t.default=c}),define("api/abstract",["require","exports","touchtracking","lib/console","underscore_model","ipad.scrollfix","lib/dom-change-detector"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){if(this.rootElt=e,this.eventModel=new i.UnderscoreModel,!e)throw new Error("must pass an HTMLElement to the API")}return e.prototype.setupDomChangeDetector=function(e){var t=this;this.autoSize=e,n.monitor(this.rootElt),o.limitScrollOnElement(this.rootElt),this.domChangeDetector=new s.default(this.rootElt,function(e){switch(e.type){case"added":t.view=t.onCreateView(),t.onResizeView(e.size);break;case"removed":t.onDestroyView(),t.view=void 0;break;case"resized":t.onResizeView(e.size)}}),!1!==this.autoSize?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges()},e.prototype.detach=function(){r.warn(".detach() is deprecated. It should no longer be necessary")},e.prototype.destroy=function(){function e(e){r.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}this.view&&this.onDestroyView(),this.domChangeDetector.destroy();for(var t in this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},e.prototype.resize=function(){this.domChangeDetector.checkForChanges()},e.prototype.updateView=function(){this.view&&document.body&&document.body.contains(this.rootElt)&&this.view.update()},e.prototype.triggerEvent=function(e,t){this.eventModel.triggerEvent(e,t)},e.prototype.observeEvent=function(e,t){this.eventModel.observeEvent(e,t)},e.prototype.unobserveEvent=function(e){this.eventModel.unobserveEvent(e)},e}();t.default=a}),define("immutable-store",["require","underscore","lib/deepCopy"],function(e){function t(e){return r.clone(e)}function n(e){this.setState(e)}var r=e("underscore"),i=e("lib/deepCopy").default;return n.prototype.setState=function(e){this.state=e},n.prototype.getState=function(){return this.state},n.prototype.set=function(e,n){if(1===arguments.length)return void(this.state=e);if("string"==typeof e)return this.state=t(this.state),void(this.state[e]=n);var r,i=e.length-2,o=e[i+1];this.state=r=t(this.state);for(var s=0;s<=i;s++){var a=e[s];r=r[a]=t(r[a])}r[o]=n},n.prototype.deepMutate=function(e,n){if(1===arguments.length)return n=e,this.state=i(this.state),void n(this.state);if("string"==typeof e)return this.state=t(this.state),this.state[e]=i(this.state[e]),void n(this.state[e]);for(var r=e.length-2,o=e[r+1],s=this.state=t(this.state),a=0;a<=r;a++){var l=e[a];s=s[l]=t(s[l])}s=s[o]=i(s[o]),n(s)},n.prototype.shallowMutate=function(e,n){if(1===arguments.length)return n=e,this.state=t(this.state),void n(this.state);if("string"==typeof e)return this.state=t(this.state),this.state[e]=t(this.state[e]),void n(this.state[e]);for(var r=e.length-1,i=this.state=t(this.state),o=0;o<=r;o++){var s=e[o];i=i[s]=t(i[s])}n(i)},n.areShallowEqual=function(e,t){},n.areDeepEqual=function(e,t){},{default:n}}),define("basic/model",["require","exports","tslib","immutable-store","main/shared-clock-bus","graphing/label","main/evaluator","graphing/label"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e){var t=e.evaluationMode,n=e.additionalFunctions,o=e.functionDefinition,s=e.workerPool,a=this;this._evaluations={},this._nextObjectId=0,this.store=new r.default({expressions:{1:{id:"1",latex:"",braille:"",type:"latex",displayAsFraction:!1}},order:["1"],settings:{degreeMode:!1},ui:{focus:void 0}}),this.evaluationMode=t,this.additionalFunctions=n,this.functionDefinition=o,this.workerPool=s,this._setupEvaluator(),this.clear(),this._sharedClockBusToken=i.subscribe(function(){a._evaluator.tick()})}return e.prototype.isSingleExpression=function(){return"singleExpressionScientific"===this.evaluationMode||"singleExpressionFourFunction"===this.evaluationMode},e.prototype.destroy=function(){i.unsubscribe(this._sharedClockBusToken)},e.prototype.generateObjectId=function(){return(this._nextObjectId++).toString()},e.prototype.updateNextObjectId=function(){var e=this.store.getState().order;this._nextObjectId=0;for(var t=/^[0-9]+$/,n=0,r=e;n<r.length;n++){var i=r[n];if(t.test(i)){var o=parseInt(i,10);o>=this._nextObjectId&&(this._nextObjectId=o+1)}}},e.prototype.clearShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!1},e.prototype.markShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!0},e.prototype.getShouldDebounceUndoRedo=function(){return this._shouldDebounceUndoRedo},e.prototype.clearCachedBrailleValues=function(){for(var e=0,t=this.getExpressionOrder();e<t.length;e++){var n=t[e];this.store.set(["expressions",n,"braille"],"")}},e.prototype.getState=function(){return this.store.getState()},e.prototype.getPersistedState=function(){var e=this.getState(),t=e.expressions,n=e.order,r=e.settings;return{expressions:{list:n.map(function(e){var n=t[e];return{id:n.id,latex:n.latex,displayAsFraction:n.displayAsFraction}})},settings:r}},e.prototype.setState=function(e){this.store.set(e),this._updateIndexes(),this.updateNextObjectId()},e.prototype.setStateFromAPI=function(e){var t=[],n={};e.expressions.list.forEach(function(e){t.push(e.id),n[e.id]={id:e.id,latex:e.latex,braille:"",type:"latex",displayAsFraction:!!e.displayAsFraction}}),this.setState({expressions:n,order:t,settings:e.settings,ui:{focus:void 0}})},e.prototype.canClear=function(){if(this.getNumberOfExpressions()>1)return!0;var e=this.getExpressionOrder()[0];return""!==this.getExpressionLatex(e)},e.prototype.clear=function(){this.setState({expressions:{1:{id:"1",type:"latex",latex:"",braille:"",displayAsFraction:!1}},ui:{focus:void 0},order:["1"],settings:this.getState().settings})},e.prototype.getExpressionOrder=function(){return this.store.getState().order},e.prototype.getNumberOfExpressions=function(){return this.getExpressionOrder().length},e.prototype.getExpressionById=function(e){return this.getState().expressions[e]},e.prototype.getExpressionIndex=function(e){return this._indexes[e]},e.prototype._getExpressionByIndex=function(e){var t=this.getExpressionOrder()[e];return this.getExpressionById(t)},e.prototype._updateIndexes=function(){this._indexes={};for(var e=0,t=0,n=this.getExpressionOrder();t<n.length;t++){var r=n[t];this._indexes[r]=e,e+=1}this._evaluate()},e.prototype._usesAnsById=function(e){return-1!==this.getExpressionById(e).latex.indexOf("\\operatorname{ans}")},e.prototype._getPreviousExpById=function(e){var t=this.getExpressionIndex(e);return this._getExpressionByIndex(t-1)},e.prototype.createBlankAfterId=function(e){if(this.getExpressionById(e).latex){var t=this.getExpressionIndex(e),n=this.generateObjectId();this.store.shallowMutate("order",function(e){e.splice(t+1,0,n)}),this.store.shallowMutate("expressions",function(e){e[n]={id:n,latex:"",braille:"",type:"latex",displayAsFraction:!1}}),this._updateIndexes(),this.setFocusedById(n,!0)}},e.prototype.conditionallyCopyPrevious=function(e){var t=this._getPreviousExpById(e),n=this.getExpressionById(e);null!=t&&""===n.latex&&this._usesAnsById(t.id)&&this.setLatexById(e,t.latex)},e.prototype.backspaceAtFrontOfId=function(e){if(""===this.getExpressionById(e).latex&&1!==this.getNumberOfExpressions()){var t=this.getExpressionIndex(e);this.store.shallowMutate("order",function(e){e.splice(t,1)}),this.store.shallowMutate("expressions",function(t){delete t[e]}),this._updateIndexes(),this._setFocusedByIndex(Math.max(t-1,0),!0)}},e.prototype.setLatexById=function(e,t){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],""),""===t&&this.setFractionEvaluation(e,!1),this._evaluate()},e.prototype.setLatexAndBrailleById=function(e,t,n){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],n),""===t&&this.setFractionEvaluation(e,!1),this._evaluate()},e.prototype.setFractionEvaluation=function(e,t){this.store.set(["expressions",e,"displayAsFraction"],t)},e.prototype.setLatexOfFocusedExpression=function(e){var t=this.getFocusedExpressionId();t&&this.setLatexById(t,e)},e.prototype.isExpressionFocused=function(e){return this.getFocusedExpressionId()===e},e.prototype.getExpressionLatex=function(e){return this.getExpressionById(e).latex},e.prototype.getExpressionError=function(e){var t=this._evaluations[e];return t?t.error:""},e.prototype.getExpressionValue=function(e){var t=this._evaluations[e];if(t)return t.value},e.prototype.getExpressionAns=function(e){var t=this._evaluations[e];if(t)return t.ans},e.prototype.shouldShowEvaluationForExpression=function(e){var t=this._evaluations[e];return!!t&&t.showEvaluation},e.prototype.isRationalizableConstant=function(e){var t=this._evaluations[e];return!!t&&t.isRationalizableConstant},e.prototype.canDisplayEvaluationAsFraction=function(e){var t=this.getExpressionValue(e);return!!t&&a.canDisplayAsFraction(t)},e.prototype._setFocusedByIndex=function(e,t){var r,i=this._getExpressionByIndex(e),o=n.__assign({},this.store.getState()),s=!1;t?(r={type:"latex-expression",id:i.id},s=!0):this.getFocusedExpressionId()===i.id?(r=void 0,s=!0):o.expressions[i.id]=n.__assign({},i,{braille:""}),s&&(o.ui={focus:r}),this.store.set(o)},e.prototype.setFocusedById=function(e,t){var n=this.getExpressionIndex(e);this._setFocusedByIndex(n,t)},e.prototype.focusPrevById=function(e){var t=this.getExpressionIndex(e)-1;t>=0&&this._setFocusedByIndex(t,!0)},e.prototype.focusNextById=function(e){var t=this.getExpressionIndex(e)+1;t<this.getNumberOfExpressions()?this._setFocusedByIndex(t,!0):this.createAtEnd()},e.prototype.getFocusedExpression=function(){var e=this.getFocusedExpressionId();return e?this.getExpressionById(e):void 0},e.prototype.getFocusedExpressionId=function(){var e=this.getState().ui.focus;return e&&e.id},e.prototype.clearFocusedExpression=function(){var e=this.getFocusedExpression();e&&this.setLatexById(e.id,"")},e.prototype.shouldShowClear=function(){if(1===this.getNumberOfExpressions())return!1;var e=this.getFocusedExpression();return!!e&&!!e.latex},e.prototype.getLastExpression=function(){return this._getExpressionByIndex(this.getNumberOfExpressions()-1)},e.prototype.isLastExpressionEmpty=function(){return!!this.getLastExpression().latex},e.prototype.createAtEnd=function(){this.createBlankAfterId(this.getLastExpression().id)},e.prototype.focusLastExpression=function(){this._setFocusedByIndex(this.getNumberOfExpressions()-1,!0)},e.prototype.focusFirstExpression=function(){this._setFocusedByIndex(0,!0)},e.prototype.getDegreeMode=function(){return this.getState().settings.degreeMode},e.prototype.setDegreeMode=function(e){this.store.set(["settings","degreeMode"],!!e),this._evaluate()},e.prototype._cleanupLatex=function(e){return e=o.trimLatex(e),"="===e.substr(e.length-1)&&(e=e.substr(0,e.length-1)),e},e.prototype._evaluate=function(){var e=this;this._evaluator.clearStatementsAndStartCompleteState(),this.getExpressionOrder().forEach(function(t){return e._evaluator.addStatement({id:t,index:e.getExpressionIndex(t),latex:e._cleanupLatex(e.getExpressionLatex(t)),shouldGraph:!1,type:"statement"})}),this._evaluator.setDegreeMode(this.getDegreeMode())},e.prototype._setupEvaluator=function(){var e=this;this._evaluator=new s.Evaluator(this.workerPool),this._evaluator.setEvaluationMode(this.evaluationMode),this._evaluator.setAdditionalFunctions(this.additionalFunctions),this._evaluator.setFunctionDefinition(this.functionDefinition),this._evaluator.triggerStatusChange=function(t){e._evaluations={};for(var n in t){var r=t[n];if(e.getExpressionById(n)){var i=r.constant_value;void 0===i&&r.zero_values&&r.zero_values.length&&(i=r.zero_values[0].val);var o=r.hasOwnProperty("constant_value")&&a.canDisplayAsFraction(r.constant_value),s=!r.is_evaluable&&o,l=!!r.is_evaluable||s||Array.isArray(i);e._evaluations[n]={error:r.error,ans:void 0,value:i,showEvaluation:l,isRationalizableConstant:s}}}for(var c=void 0,u=0,d=e.getExpressionOrder();u<d.length;u++){var n=d[u],p=e._evaluations[n];c&&p&&(p.ans=c.value),c=p}"function"==typeof e.onEvaluationUpdate&&e.onEvaluationUpdate()}},e.prototype.reloadState=function(){this.setState(this.getState())},e.prototype.getFunctionDefinition=function(){return!!this.functionDefinition},e.prototype.enableFunctionDefinition=function(){this.functionDefinition=!0,this._evaluator.setFunctionDefinition(!0),this.reloadState()},e.prototype.disableFunctionDefinition=function(){this.functionDefinition=!1,this._evaluator.setFunctionDefinition(!1),this.reloadState()},e}();t.default=l}),define("basic/controller",["require","exports","tslib","flux","underscore","./model","lib/state-stack","keypad/mq-commands","lib/i18n","dcgview-helpers/mathquill-view","lib/console","bugsnag","lib/color-helpers"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){var n=this;this.keyboardMode="main",this.fontSize=16,this.invertedColors=!1,this.backgroundColor="",this.textColor="",this.projectorMode=!1,this.capExpressionSize=!1,this.decimalToFraction=!0,this.settingsMenu=!0,this.settingsMenuOpen=!1,this.language="en",this.brailleMode="none",this.sixKeyInput=!1,this.brailleExpressionDownload=!0,this.stateStack=new s.default,this.dispatcher=new r.Dispatcher,this.t=function(e,t){return l.t(e,t,n.language)},this.dispatch=function(e){d.leaveBreadcrumb("dispatch",{type:e.type}),n.dispatcher.dispatch(e);for(var t;t=n._queuedCallbacks.shift();)t()},this._queuedCallbacks=[],this.stateStack=new s.default,this.dispatcher=new r.Dispatcher,this.options=e,this.model=new o.default({evaluationMode:this.options.evaluationMode,additionalFunctions:this.options.additionalFunctions,functionDefinition:this.options.functionDefinition,workerPool:t.workerPool}),this.model=this.model,this.model.setDegreeMode(e.degreeMode),this.setBrailleMode(e.brailleMode),this.setSixKeyInput(e.sixKeyInput),this.setBrailleExpressionDownload(e.brailleExpressionDownload),this.setProjectorMode(e.projectorMode),this.setCapExpressionSize(e.capExpressionSize),this.setDecimalToFraction(e.decimalToFraction),this.invertedColors=e.invertedColors,this.backgroundColor=e.backgroundColor,this.textColor=e.textColor,this.settingsMenu=e.settingsMenu,this.model.onEvaluationUpdate=function(){return n.dispatch({type:"render"})},this.settingsProxy=t.settingsProxy,this.syncPublicSettings(),this.hookUpDispatcher(),this.containerSize={width:0,height:0}}return e.prototype.runAfterDispatch=function(e){this._queuedCallbacks.push(e)},e.prototype.enqueueEvent=function(e){var t=this;this.runAfterDispatch(function(){t.onEventEmitted&&t.onEventEmitted(e)})},e.prototype.getFunctionDefinition=function(){return this.options.functionDefinition},e.prototype.getSettingsMenu=function(){return this.settingsMenu},e.prototype.getBrailleMode=function(){return this.brailleMode},e.prototype.renderAsBraille=function(){return"none"!==this.brailleMode},e.prototype.setBrailleMode=function(e){this.brailleMode=e},e.prototype.getSixKeyInput=function(){return this.sixKeyInput},e.prototype.setSixKeyInput=function(e){this.sixKeyInput=e},e.prototype.getBrailleExpressionDownload=function(){return this.brailleExpressionDownload},e.prototype.setBrailleExpressionDownload=function(e){this.brailleExpressionDownload=e},e.prototype.getRestrictedEditing=function(){return this.options.restrictedEditing},e.prototype.getKeyboardMode=function(){return this.keyboardMode},e.prototype.getFontSize=function(){return this.fontSize},e.prototype.getInvertedColors=function(){return this.invertedColors},e.prototype.hasBackgroundColor=function(){return"#ffffff"!==this.getBackgroundColor()},e.prototype.getBackgroundColor=function(){var e=p.normalizeColor(this.backgroundColor||"#fff");return this.getInvertedColors()&&"#ffffff"!==e?p.invertColor(e):e},e.prototype.getTextColor=function(){var e=p.normalizeColor(this.textColor||"#000");return this.getInvertedColors()&&"#000000"!==e?p.invertColor(e):e},e.prototype.getAdditionalFunctions=function(){return this.options.additionalFunctions},e.prototype.getTypingSlashWritesDivisionSymbol=function(){return this.options.typingSlashWritesDivisionSymbol},e.prototype.getTypingAsteriskWritesTimesSymbol=function(){return this.options.typingAsteriskWritesTimesSymbol},e.prototype.setProjectorMode=function(e){this.projectorMode=e},e.prototype.isProjectorMode=function(){return this.projectorMode},e.prototype.setCapExpressionSize=function(e){this.capExpressionSize=e},e.prototype.getCapExpressionSize=function(){return this.capExpressionSize},e.prototype.setDecimalToFraction=function(e){this.decimalToFraction=e},e.prototype.getDecimalToFraction=function(){return this.decimalToFraction},e.prototype.isScientificCalc=function(){var e=this.options.evaluationMode;return"scientific"===e||"singleExpressionScientific"===e},e.prototype.isFourFunctionCalc=function(){return"fourFunction"===this.options.evaluationMode||"singleExpressionFourFunction"===this.options.evaluationMode},e.prototype.getAllowLinks=function(){return this.options.links},e.prototype.canUndo=function(){return this.stateStack.canUndo()},e.prototype.canRedo=function(){return this.stateStack.canRedo()},e.prototype.undo=function(e){if(this.canUndo()){this.stateStack.undo();var t=this.stateStack.getState();if(!e.restoreFocus){var r={focus:void 0};t=n.__assign({},t,{ui:r})}this.model.setState(t),this.enqueueEvent("change")}},e.prototype.redo=function(e){if(this.canRedo()){this.stateStack.redo();var t=this.stateStack.getState();if(!e.restoreFocus){var r={focus:void 0};t=n.__assign({},t,{ui:r})}this.model.setState(t),this.enqueueEvent("change")}},e.prototype.clearHistory=function(){this.stateStack.clear()},e.prototype.canBackspace=function(){var e=this.model.getFocusedExpression();return e&&(e.latex.length>0||this.model.getNumberOfExpressions()>1)},e.prototype.focusLastExpression=function(){this.model.focusLastExpression()},e.prototype.shouldRender=function(){return this.containerSize.width>0&&this.containerSize.height>0},e.prototype.canClear=function(){return this.model.canClear()},e.prototype.shouldShowClear=function(){return this.model.shouldShowClear()},e.prototype.enableSettingsMenu=function(){this.settingsMenu=!0},e.prototype.disableSettingsMenu=function(){this.closeSettingsMenu(),this.settingsMenu=!1},e.prototype.closeSettingsMenu=function(){this.settingsMenuOpen=!1},e.prototype.toggleSettingsMenu=function(){this.settingsMenuOpen=!this.settingsMenuOpen},e.prototype.isSettingsMenuOpen=function(){return this.settingsMenuOpen},e.prototype.isLastExpressionEmpty=function(){return this.model.isLastExpressionEmpty()},e.prototype.createAtEnd=function(){this.model.createAtEnd()},e.prototype.clearFocusedExpression=function(){this.model.clearFocusedExpression()},e.prototype.setLatexById=function(e,t){this.model.setLatexById(e,t)},e.prototype.setLatexAndBrailleById=function(e,t,n){this.model.setLatexAndBrailleById(e,t,n)},e.prototype.setLatexOfFocusedExpression=function(e){this.model.setLatexOfFocusedExpression(e)},e.prototype.toggleFractionEvaluationById=function(e){this.model.setFractionEvaluation(e,!this.model.getExpressionById(e).displayAsFraction)},e.prototype.conditionallyCopyPrevious=function(e){this.model.conditionallyCopyPrevious(e)},e.prototype.createBlankAfterId=function(e){this.model.createBlankAfterId(e)},e.prototype.backspaceAtFrontOfId=function(e){this.model.backspaceAtFrontOfId(e)},e.prototype.areStatesDifferentEnoughForUndoRedo=function(e,t){var r={focus:void 0};return i.isEqual(n.__assign({},e,{ui:r}),n.__assign({},t,{ui:r}))},e.prototype.commitUndoRedoDebounced=function(){var e=this.model.getState(),t=this.stateStack.getState();if(!this.areStatesDifferentEnoughForUndoRedo(e,t)){var n=(new Date).getTime();n-this._lastDebouncedTime<1e3?this.stateStack.replaceState(e):this.stateStack.addState(e),this._lastDebouncedTime=n,this.enqueueEvent("change")}},e.prototype.commitUndoRedoSynchronously=function(){var e=this.model.getState(),t=this.stateStack.getState();this.areStatesDifferentEnoughForUndoRedo(e,t)||(this._lastDebouncedTime=0,this.stateStack.addState(e),this.enqueueEvent("change"))},e.prototype.updateKeyboardMode=function(e){this.keyboardMode=e},e.prototype.getFocusedMathquill=function(){if(this.model.getFocusedExpressionId())return c.default.getFocusedMathquill()},e.prototype.ensureMathquillIsFocusedAndReturnFocusedMathquill=function(){var e=this.getFocusedMathquill();return e||(this.isLastExpressionEmpty()&&!this.model.isSingleExpression()?this.createAtEnd():this.focusLastExpression(),this.onEventEmitted&&this.onEventEmitted("render"),this.getFocusedMathquill())},e.prototype.typeIntoFocusedMathquill=function(e){e=e.replace(/\r|\n/g,"");var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&c.default.canAcceptText(t,this.getCapExpressionSize(),e)&&(t.typedText(e),this.setLatexOfFocusedExpression(t.latex()),this.model.markShouldDebounceUndoRedo())},e.prototype.pressKeyInFocusedMathquill=function(e,t){if("none"===this.getBrailleMode()){var n=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();if(n)if("Up"===e||"Down"===e||"Left"===e||"Right"===e){var r=c.default.applyArrowKeyAndReturnIfWasAtBounds(n,e,t);r&&this.moveFocusInDirection(e)}else"Enter"===e?(t&&(t.preventDefault(),t.stopPropagation()),this.handleEnter()):"Backspace"===e?this.attemptToMoveFocusWithBackspace()||(n.keystroke(e,t),this.setLatexOfFocusedExpression(n.latex())):(n.keystroke(e,t),this.setLatexOfFocusedExpression(n.latex()))}},e.prototype.moveFocusInDirection=function(e){var t=this.model.getFocusedExpressionId();t&&("Up"===e?this.model.focusPrevById(t):"Down"===e&&this.model.focusNextById(t))},e.prototype.handleEnter=function(){if(!this.model.isSingleExpression()){var e=this.model.getFocusedExpressionId();e&&(this.conditionallyCopyPrevious(e),this.createBlankAfterId(e))}},e.prototype.attemptToMoveFocusWithBackspace=function(){var e=this.model.getFocusedExpression();if(!e)return!1;var t=e.latex,n=e.id;return""===t&&(this.backspaceAtFrontOfId(n),!0)},e.prototype.executeCommandInFocusedMathquill=function(e){var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&(a.execute(t,e),this.setLatexOfFocusedExpression(t.latex()))},e.prototype.syncPublicSettings=function(){this.settingsProxy.setProperty("language",this.language),this.settingsProxy.setProperty("fontSize",this.fontSize),this.settingsProxy.setProperty("degreeMode",this.model.getDegreeMode()),this.settingsProxy.setProperty("invertedColors",this.invertedColors),this.settingsProxy.setProperty("backgroundColor",this.backgroundColor),this.settingsProxy.setProperty("textColor",this.textColor),this.settingsProxy.setProperty("brailleMode",this.brailleMode),this.settingsProxy.setProperty("sixKeyInput",this.sixKeyInput),this.settingsProxy.setProperty("brailleExpressionDownload",this.brailleExpressionDownload),this.settingsProxy.setProperty("projectorMode",this.projectorMode),this.settingsProxy.setProperty("capExpressionSize",this.capExpressionSize),this.settingsProxy.setProperty("decimalToFraction",this.decimalToFraction),this.settingsProxy.setProperty("qwertyKeyboard",this.options.qwertyKeyboard),this.settingsProxy.setProperty("links",this.options.links),this.settingsProxy.setProperty("settingsMenu",this.settingsMenu),this.settingsProxy.setProperty("functionDefinition",this.model.getFunctionDefinition())},e.prototype.hookUpDispatcher=function(){var e=this;this.dispatcher.register(function(t){e.enqueueEvent("render");var r=!1,i=e.getRestrictedEditing();switch(t.type){case"update-options":e.options=n.__assign({},e.options,t.options);break;case"keypad/shift":e.updateKeyboardMode("capitalQwerty"===e.keyboardMode?"qwerty":"capitalQwerty");break;case"undo":i||(e.undo({restoreFocus:"keyboard-shortcut"===t.source}),r=!0);break;case"redo":i||(e.redo({restoreFocus:"keyboard-shortcut"===t.source}),r=!0);break;case"clear-history":e.clearHistory();break;case"set-state-from-api":t.opts.allowUndo||e.clearHistory(),e.model.setStateFromAPI(t.state);break;case"main":e.updateKeyboardMode("main");break;case"ABC":e.options.qwertyKeyboard?e.updateKeyboardMode("qwerty"):e.updateKeyboardMode("letters");break;case"functions":e.updateKeyboardMode("functions");break;case"degrees":e.model.setDegreeMode(!e.model.getDegreeMode());break;case"update-degree-mode":e.model.setDegreeMode(!!t.mode);break;case"update-font-size":var o=t.size;if("number"!=typeof o&&(o=parseInt(o,10)),isNaN(o))return;e.fontSize=o;break;case"update-inverted-colors":e.invertedColors=!!t.mode;break;case"update-background-color":e.backgroundColor=t.color;break;case"update-text-color":e.textColor=t.color;break;case"update-projector-mode":
e.setProjectorMode(!!t.mode);break;case"update-cap-expression-size":e.setCapExpressionSize(!!t.mode);break;case"update-decimal-to-fraction":e.setDecimalToFraction(!!t.mode);break;case"update-language":var s=t.language;"en"!==s&&-1===Desmos.supportedLanguages.indexOf(s)?u.warn("Translation for '"+s+"' isn't currently available. Using '"+e.language+"' instead."):e.language=s;break;case"set-blank":t.opts.allowUndo||e.clearHistory(),e.model.clear(),e.focusLastExpression();break;case"clear":e.model.clearFocusedExpression();break;case"set-braille-mode":var a=t.mode;"nemeth"!==a&&"ueb"!==a&&"none"!==a?u.warn("Valid Braille modes are 'nemeth', 'none', and 'ueb'. You passed '"+a+"'."):(e.model.clearCachedBrailleValues(),e.setBrailleMode(t.mode));break;case"set-six-key-input":e.setSixKeyInput(!!t.mode);break;case"set-braille-expression-download":e.setBrailleExpressionDownload(!!t.mode);break;case"update-latex":e.model.markShouldDebounceUndoRedo(),e.setLatexById(t.id,t.latex);break;case"update-latex-from-braille":e.model.markShouldDebounceUndoRedo(),e.setLatexAndBrailleById(t.id,t.latex,t.braille);break;case"focusin":e.model.setFocusedById(t.id,!0);break;case"focusout":e.model.setFocusedById(t.id,!1);break;case"focus-first-expression":e.model.focusFirstExpression();break;case"focus-prev-expression":e.moveFocusInDirection("Up");break;case"focus-next-expression":e.moveFocusInDirection("Down");break;case"focus-last-expression":e.model.focusLastExpression();break;case"insert-blank-expression":e.handleEnter();break;case"backspace-from-braille":e.attemptToMoveFocusWithBackspace();break;case"keypad/type-text":e.typeIntoFocusedMathquill(t.text);break;case"keypad/press-key":e.pressKeyInFocusedMathquill(t.key,t.evt);break;case"keypad/custom-command":e.executeCommandInFocusedMathquill(t.command);break;case"keypad/123":case"keypad/abc":break;case"enable-settings-menu":e.enableSettingsMenu();break;case"disable-settings-menu":e.disableSettingsMenu();break;case"toggle-settings-menu":e.toggleSettingsMenu();break;case"close-settings-menu":e.closeSettingsMenu();break;case"render":break;case"ui/container-resized":e.containerSize=t.size;break;case"toggle-fraction-evaluation":e.toggleFractionEvaluationById(t.id);break;default:return t}e.runAfterDispatch(function(){return e.syncPublicSettings()}),r||(e.model.getShouldDebounceUndoRedo()?(e.commitUndoRedoDebounced(),e.model.clearShouldDebounceUndoRedo()):e.commitUndoRedoSynchronously())})},e}();t.default=h}),define("basic/dcgview-basic",["require","exports","tslib","dcgview"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.controller.model,this.dispatch=this.controller.dispatch,this.t=this.controller.t},t}(r.Class);t.DCGViewBasic=i}),define("loadcss!keypad/control-bar",function(){}),define("keypad/control-bar",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./control-bar"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-keypad-control-bar dcg-do-not-blur"),role:r.const("group"),"aria-label":function(){return e.controller.t("Control Bar")}},r.createElement("div",{class:r.const("dcg-keypad-control-bar-contents")},this.children))},t}(i.default);t.default=o}),define("loadcss!keypad/control-btn",function(){}),define("keypad/control-btn",["require","exports","tslib","dcgview","loadcss!./control-btn"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-keypad-control-btn":!0,"dcg-disabled":e.isDisabled(),"dcg-selected":!e.isDisabled()&&e.isSelected(),"dcg-selectable-btn":!e.isDisabled()&&e.isSelectable(),"dcg-narrow-control-btn":e.props.narrowButton&&e.props.narrowButton()}},didMount:this.bindFn(this.didMount),role:r.const("button"),"aria-disabled":function(){return e.isDisabled()||void 0},"aria-label":function(){return e.getAriaLabel()},"dcg-command":this.props.command,onTap:this.bindFn(this.handleTap),"aria-pressed":function(){return e.hasPopup()||e.isDisabled()||!e.isSelectable()?void 0:e.isSelected()},"aria-expanded":function(){return e.hasPopup()&&!e.isDisabled()?e.isSelected():void 0},tabindex:this.bindFn(this.getTabIndex)},this.children)},t.prototype.getTabIndex=function(){return this.isDisabled()?void 0:this.props.ignoreInTabOrder&&this.props.ignoreInTabOrder()?-1:0},t.prototype.handleTap=function(e){this.isDisabled()||this.props.onTap(e)},t.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},t.prototype.hasPopup=function(){return!!this.props.ariaPopup&&this.props.ariaPopup()},t.prototype.isDisabled=function(){return!!this.props.disabled&&this.props.disabled()},t.prototype.isSelected=function(){return!!this.props.selected&&this.props.selected()},t.prototype.isSelectable=function(){return!!this.props.selectable&&this.props.selectable()},t.prototype.didMount=function(e){this.props.didMount&&this.props.didMount(e)},t}(r.Class);t.default=i}),define("vendor/fake-xml-http-request",[],function(){function e(e){var t;if("undefined"!=typeof DOMParser){t=(new DOMParser).parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t}function t(e,t){t.addEventListener(e,function(n){var r=t["on"+e];r&&"function"==typeof r&&r.call(n.target,n)})}function n(){this._eventListeners={};for(var e=["loadstart","progress","load","abort","loadend"],n=e.length-1;n>=0;n--)t(e[n],this)}function r(){n.call(this),this.readyState=r.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new n}function i(e){if(e.readyState!==r.OPENED)throw new Error("INVALID_STATE_ERR");if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}function o(e){if(e.readyState==r.DONE)throw new Error("Request done")}function s(e){if(e.async&&e.readyState!=r.HEADERS_RECEIVED)throw new Error("No headers received")}function a(e){if("string"!=typeof e){var t=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.");throw t.name="InvalidBodyException",t}}var l=function(e,t,n,r){this.type=e,this.bubbles=t,this.cancelable=n,this.target=r};l.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var c={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"},u={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};n.prototype={addEventListener:function(e,t){this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push(t)},removeEventListener:function(e,t){for(var n=this._eventListeners[e]||[],r=0,i=n.length;r<i;++r)if(n[r]==t)return n.splice(r,1)},dispatchEvent:function(e){for(var t=e.type,n=this._eventListeners[t]||[],r=0;r<n.length;r++)"function"==typeof n[r]?n[r].call(this,e):n[r].handleEvent(e);return!!e.defaultPrevented},_progress:function(e,t,n){var r=new l("progress");r.target=this,r.lengthComputable=e,r.loaded=t,r.total=n,this.dispatchEvent(r)}},r.prototype=new n,r.UNSENT=0,r.OPENED=1,r.HEADERS_RECEIVED=2,r.LOADING=3,r.DONE=4;var d={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(e,t,n,i,o){this.method=e,this.url=t,this.async="boolean"!=typeof n||n,this.username=i,this.password=o,this.responseText=null,this.responseXML=null,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(r.OPENED)},setRequestHeader:function(e,t){if(i(this),u[e]||/^(Sec-|Proxy-)/.test(e))throw new Error('Refused to set unsafe header "'+e+'"');this.requestHeaders[e]?this.requestHeaders[e]+=","+t:this.requestHeaders[e]=t},send:function(e){if(i(this),!/^(get|head)$/i.test(this.method)){var t=!1;Object.keys(this.requestHeaders).forEach(function(e){"content-type"===e.toLowerCase()&&(t=!0)}),t||(e||"").toString().match("FormData")||(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=e}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(r.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new l("loadstart",!1,!1,this)),r.onSend&&r.onSend(this)},abort:function(){this.aborted=!0,this.responseText=null,this.errorFlag=!0,this.requestHeaders={},this.readyState>r.UNSENT&&this.sendFlag&&(this._readyStateChange(r.DONE),this.sendFlag=!1),this.readyState=r.UNSENT,this.dispatchEvent(new l("abort",!1,!1,this)),"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(e){if(this.readyState<r.HEADERS_RECEIVED)return null;if(/^Set-Cookie2?$/i.test(e))return null;e=e.toLowerCase();for(var t in this.responseHeaders)if(t.toLowerCase()==e)return this.responseHeaders[t];return null},getAllResponseHeaders:function(){if(this.readyState<r.HEADERS_RECEIVED)return"";var e="";for(var t in this.responseHeaders)this.responseHeaders.hasOwnProperty(t)&&!/^Set-Cookie2?$/i.test(t)&&(e+=t+": "+this.responseHeaders[t]+"\r\n");return e},overrideMimeType:function(e){"string"==typeof e&&(this.forceMimeType=e.toLowerCase())},_readyStateChange:function(e){this.readyState=e,"function"==typeof this.onreadystatechange&&this.onreadystatechange(new l("readystatechange")),this.dispatchEvent(new l("readystatechange")),this.readyState==r.DONE&&(this.dispatchEvent(new l("load",!1,!1,this)),this.dispatchEvent(new l("loadend",!1,!1,this)))},_setResponseHeaders:function(e){this.responseHeaders={};for(var t in e)e.hasOwnProperty(t)&&(this.responseHeaders[t]=e[t]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(r.HEADERS_RECEIVED):this.readyState=r.HEADERS_RECEIVED},_setResponseBody:function(t){o(this),s(this),a(t);var n=this.chunkSize||10,i=0;this.responseText="";do{this.async&&this._readyStateChange(r.LOADING),this.responseText+=t.substring(i,i+n),i+=n}while(i<t.length);var l=this.getResponseHeader("Content-Type");if(this.responseText&&(!l||/(text\/xml)|(application\/xml)|(\+xml)/.test(l)))try{this.responseXML=e(this.responseText)}catch(e){}this.async?this._readyStateChange(r.DONE):this.readyState=r.DONE},respond:function(e,t,n){this._setResponseHeaders(t||{}),this.status="number"==typeof e?e:200,this.statusText=c[this.status],this._setResponseBody(n||"")}};for(var p in d)r.prototype[p]=d[p];return r}),define("main/backend",["require","jquery"],function(require){var $=require("jquery"),Backend={baseURL:"",getGoogleLoginURL:function(e){void 0===e&&(e={});var t=e.changeToken?"?"+e.changeToken:"";return t+=e.changeToken?"&source":"?source="+(e.from?e.from:""),Backend.baseURL+"/drive_api/calculator/login"+t},exchangeGoogleAuthCode:function(e){var t=$.Deferred();return e?this.getJSON("/account/google_auth?code="+e).always(function(e){e&&e.success?t.resolve():t.reject()}):setTimeout(function(){t.reject("no auth code")},1),t.promise()},handleDeprecatedRoute:function(msg){if(msg&&msg.routeDeprecated){msg.js&&eval(msg.js);var deferred=$.Deferred();return deferred.reject(msg),deferred.promise()}return msg},post:function(e,t){return $.ajax({type:"POST",url:Backend.baseURL+e,data:t,xhrFields:{withCredentials:!0}}).then(Backend.handleDeprecatedRoute)},getJSON:function(e){return $.ajax({dataType:"json",url:Backend.baseURL+e,xhrFields:{withCredentials:!0}}).then(Backend.handleDeprecatedRoute)}};return Backend}),define("lib/app-bridge",["require","jquery","underscore_model","browser","lib/conditional_blur","vendor/fake-xml-http-request","pjs","console","main/backend"],function(e){function t(){window.XMLHttpRequest=a,a.onSend=function(e){var t=g+"";g+=1,f[t]=e,l.methods.proxyXHR(JSON.stringify({id:t,url:e.url,method:e.method,headers:e.requestHeaders,body:e.requestBody}))}}function n(e){var t=r(e.target).closest("a[href]")[0];if(t&&"file:"===t.protocol){var n=t.getAttribute("href");"/"!==n[0]&&(n="/"+n),t.setAttribute("href",h.baseURL+n)}}var r=e("jquery"),i=e("underscore_model").UnderscoreModel,o=e("browser"),s=e("lib/conditional_blur").default,a=e("vendor/fake-xml-http-request"),l=null,c=null,u=e("pjs"),d=e("console"),p=!1,h=e("main/backend"),f={},g=0;if(o.IS_IOS){var m=[],y=[],v=function(e){var t=y.length?y.pop():m.length;return m[t]=e,t},b=function(e){var t=m[e];return m[e]=null,y.push(e),t};l={loaded:!1,methods:{},queuedMethodCalls:[]},r(function(){var e=[];window.ObjC_callback=function(r){l.loaded=!0,r.split(" ").forEach(function(t){l.methods[t]=function(r,i){var o=i?v(i):-1;e.push("desmos:"+t+"/"+o+"/"+encodeURIComponent(r)),1===e.length&&n.attr("src",e[0])}}),this.ObjC_callback=function(t,r){try{-1!==t&&b(t)(r)}finally{e.shift(),e.length>0&&n.attr("src",e[0])}},l.methods.proxyXHR&&t(),l.queuedMethodCalls.forEach(function(e){_[e.methodName].apply(_,e.args)})};var n=r('<iframe id="objc-bridge" style="position:absolute; left: -1000px; z-index: -1" src="desmos:loaded"/>').appendTo(document.body)})}else o.IS_ANDROID?c=window.Android:p=!0;var x=u(i,function(e,t){e.init=function(){t.init.call(this),this.heartbeatTimeout=null,this.observeEvent("started resumed",function(e){this.gaEvent(e+":"+this.versionNumber),this.incrementHeartbeat(0)}.bind(this))},e.isSingleAppModeEnabled=function(){return!!window.dcg_singleappmode_enabled},e.isSingleAppModeActive=function(){return!!window.dcg_singleappmode_active},e.openExitSingleAppModeModal=function(){this.show_end_singleappmode_modal=!0},e.closeEndSingleAppModeModal=function(){this.show_end_singleappmode_modal=!1},e.isEndSingleAppModeModalOpen=function(){return!!this.show_end_singleappmode_modal},e.openStartSingleAppModeModal=function(){this.show_start_singleappmode_modal=!0},e.closeStartSingleAppModeModal=function(){this.show_start_singleappmode_modal=!1},e.isStartSingleAppModeModalOpen=function(){return!!this.show_start_singleappmode_modal},e.heartbeat=function(e){clearTimeout(this.heartbeatTimeout),this.gaEvent("heartbeat-"+10*e),this.incrementHeartbeat(e)},e.incrementHeartbeat=function(e){clearTimeout(this.heartbeatTimeout),this.heartbeatTimeout=setTimeout(function(){this.heartbeat(e+1)}.bind(this),6e5)},e._started=function(e,t){this.appId=e,this.versionNumber=t,this.triggerEvent("started")},e._resumed=function(){this.triggerEvent("resumed")},e.ensureKeypadClosedAndReturnIfWasOpened=function(){var e=window.Calc&&window.Calc.controller;return e&&e.isKeypadOpen()?(s(),"true"):"false"},e.onGoogleAuthResult=function(e){this.triggerEvent("onGoogleAuthResult",e)},e.onObjCXHRProxyResult=function(e){var t=e.id,n=f[t];delete f[t],n.respond(e.status,e.headers,e.body)}}),w=["hideLoadingScreen","gaEvent","openGoogleLogin","logout","saveCookies","deleteCookies","startSingleAppMode","endSingleAppMode","setWWWSubdomain"],_=new x;return w.forEach(function(e){_[e]=function(){p||(c?c[e]?c[e].apply(c,arguments):d.log("call to missing Android method",e,arguments):l&&(l.loaded?l.methods[e]?l.methods[e].apply(l,arguments):d.log("call to missing ObjC method",e,arguments):l.queuedMethodCalls.push({methodName:e,args:arguments})))}}),p||(window.AppBridge=_,document.addEventListener("click",n,!0)),_}),define("loadcss!dcgview-helpers/download-button",function(){}),define("dcgview-helpers/download-button",["require","exports","tslib","dcgview","browser","loadcss!./download-button"],function(e,t,n,r,i){"use strict";function o(){if(!i.IS_SAFARI)return!1;var e=navigator.userAgent.match(/Version\/(\d+)/);return!(!e||!e[1])&&parseFloat(e[1])<11}function s(){return!i.IS_IE&&!o()&&void 0!==document.createElement("a").download}function a(){return s()||void 0!==navigator.msSaveBlob}Object.defineProperty(t,"__esModule",{value:!0}),t.canDownload=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.supportsDirectDownload=s()},t.prototype.template=function(){var e=this;return r.createElement("a",{role:r.const("button"),tabindex:function(){return e.props.enabled()?0:-1},"aria-disabled":function(){return!e.props.enabled()},class:function(){return{"dcg-download-button":!0,"dcg-disabled":!e.props.enabled(),"dcg-braille-equations":e.props.isBraille}},didMount:this.bindFn(this.didMountDownload),didUnmount:this.bindFn(this.didUnmountDownload),didUpdate:this.bindFn(this.didUpdate),download:function(){return e.supportsDirectDownload?e.props.filename():void 0},onTap:function(t){if(!e.supportsDirectDownload&&navigator.msSaveOrOpenBlob){var n=e.props.data();n&&(navigator.msSaveOrOpenBlob(n,e.props.filename()),t.preventDefault())}}},r.createElement("i",{class:r.const("dcg-icon-download")}),r.createElement("span",null,function(){return e.props.text()}))},t.prototype.didMountDownload=function(e){this.downloadLink=e,this.didUpdate()},t.prototype.didUnmountDownload=function(){this.revokeBlobURL()},t.prototype.didUpdate=function(){this.updateDownloadURL(),this.cachedObjectURL&&(this.downloadLink.href=this.cachedObjectURL)},t.prototype.updateDownloadURL=function(){if(this.revokeBlobURL(),this.supportsDirectDownload){var e=this.props.data();e&&(this.cachedObjectURL=URL.createObjectURL(e))}},t.prototype.revokeBlobURL=function(){this.cachedObjectURL&&URL.revokeObjectURL(this.cachedObjectURL)},t}(r.Class);t.default=l}),define("lib/export-braille-equations",["require","exports","abraham","graphing-calc/models/expression","expressions/regression_view","lib/number-to-latex"],function(e,t,n,r,i,o){"use strict";function s(e,t,r){if(void 0===r&&(r=!1),r&&(e=e.replace(/ /g,"\\ ")),"none"===t)return e;var i="nemeth"===t?n.latexToNemeth(e):n.latexToUeb(e);return i.isError?"":n.UnicodeBraille.toBrailleAscii(i.value)}function a(e,t){if("none"===t)return"";var n=[];n.push(s("Expression List",t,!0)),n.push(""),n.push("");for(var a="",l=e.getItemCount(),d=0;d<l;d++){var p=e.getItemModelByIndex(d);if(p&&!p.secret){""!==a&&a!==p.folderId&&(n.push(c(s("End Folder",t,!0))),a="");var h="";switch(p.type){case"expression":if(!p.hidden){var f=u(p.displayIndex,t);h=p.latex;var g=[],m=p.formula;if(m&&!r.isEmpty(p))if(e.shouldShowEvaluationForItem(p.id)){var y=m.zero_values&&m.zero_values.length?m.zero_values[0].val:m.constant_value;Array.isArray(y)?h+="\\ "+y.length+"\\ element\\ list":h+="="+y}else if(r.shouldShowCDFFooter(p))g.push(s("Min="+r.getCDFMin(p),t,!1)),g.push(s("Max="+r.getCDFMax(p),t,!1)),r.isCDFMaxValid(p)&&r.isCDFMinValid(p)&&g.push(s("CDF="+r.getCDFEvaluation(p),t,!1));else if(r.isTTest(p)){var v=r.getTTestResults(p);v&&(g.push(s("<"+o.numberToStatsConfidenceLatex(v.lessThan,5),t,!1)),g.push(s(">"+o.numberToStatsConfidenceLatex(v.greaterThan,5),t,!1)),g.push(s("\\ne"+o.numberToStatsConfidenceLatex(v.notEqual,5),t,!1)))}else if(m.is_regression&&m.regression){var b=m.regression,x=b.statistics,w=b.parameters;x.hasOwnProperty("Rsquared")&&g.push(s("R^2="+i.getRoundedStat(b,"Rsquared"),t,!1)),x.hasOwnProperty("rsquared")&&g.push(s("r^2="+i.getRoundedStat(b,"rsquared"),t,!1)),x.hasOwnProperty("r")&&g.push(s("r="+i.getRoundedStat(b,"r"),t,!1)),x.hasOwnProperty("RMSE")&&g.push(s("\\operatorname{RMSE}="+i.getRoundedStat(b,"RMSE"),t,!1));for(var _ in w)g.push(s(_+"="+i.getRoundedParam(b,_),t,!1))}n.push(f+"  "+s(h,t,!1)),n.push.apply(n,g)}break;case"text":n.push(s(p.text,t,!0));break;case"folder":p.collapsed?h="Collapsed Folder "+p.title:(h="Start Folder "+p.title,a=p.id),n.push(c(s(h,t,!0)));break;case"image":n.push(s("Image",t,!1));break;case"table":n.push(c(s("Start Table",t,!0)));for(var E=0,S=p.rowModels;E<S.length;E++){for(var M=S[E],k=[],I=0,C=M.cells;I<C.length;I++){var T=C[I],P="";if("header"===T.type)P=T.latex||"";else if("cell"===T.type){var D=T.column.index,A=T.row.index-1,L=T.column.disabled;P=L?T.column.computedValues[A]||"":p.columns[D].values[A]||""}k.push(s(P,t))}var O=k.join("\t");/^\t/.test(O)||n.push(O)}n.push(c(s("End Table",t,!0)));break;default:return p}}}return""!==a&&n.push(c(s("End Folder",t,!0))),n.join("\n")}function l(e,t){if("none"===t)return"";var n=[];n.push(s("Expression List",t,!0)),n.push(""),n.push("");for(var r=0,i=e.getExpressionOrder();r<i.length;r++){var o=i[r],a=u(e.getExpressionIndex(o)+1,t),l=e.getExpressionLatex(o),c=e.getExpressionValue(o);void 0!==c&&(l+="="+c),n.push(a+"  "+s(l,t,!1))}return n.join("\n")}function c(e){var t="--------------------";return t+"\n"+e+"\n"+t}function u(e,t){var n=""+e;return"nemeth"===t?s(n,t,!1)+"_4":"ueb"===t?s(n+".",t,!1):""}Object.defineProperty(t,"__esModule",{value:!0}),t.getBrailleEquationsGraphing=a,t.getBrailleEquationsBasic=l}),define("loadcss!basic/settings-menu",function(){}),define("basic/settings-menu",["require","exports","lib/app-bridge","tslib","keys","dcgview","./dcgview-basic","jquery","dcgview-helpers/download-button","lib/export-braille-equations","loadcss!./settings-menu"],function(e,t,n,r,i,o,s,a,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=o.Components.If,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-settings-dropdown":!0,"dcg-popover":!0,"dcg-has-background-color":e.controller.hasBackgroundColor()}},role:o.const("complementary"),"aria-label":o.const("Settings Menu"),didMount:this.bindFn(this.didMountSettingsDropdown),didUnmount:this.bindFn(this.didUnmountSettingsDropdown)},o.createElement("div",{class:o.const("dcg-popover-interior"),style:function(){return{background:e.controller.getBackgroundColor()}}},o.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-modern-btn":!0,"dcg-action-projectormode":!0,"dcg-active":e.controller.isProjectorMode()}},role:o.const("button"),onTap:this.bindFn(this.onToggleProjectorMode),tabindex:o.const(0),"aria-label":function(){return e.controller.t("Projector Mode")},"aria-pressed":function(){return e.controller.isProjectorMode()}},function(){return e.controller.t("Projector Mode")}),o.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-braille-container":!0}}},o.createElement("div",{class:o.const("dcg-group-title")},o.const("Braille Mode")),o.createElement("div",{role:o.const("group"),"aria-label":function(){return e.controller.t("Braille Mode")},class:o.const("dcg-braille-options-buttons")},o.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":e.isLatex()}},role:o.const("button"),onTap:function(){return e.setBrailleMode("none")},tabindex:o.const(0),"aria-label":function(){return e.controller.t("Off")},"aria-pressed":function(){return e.isLatex()}},function(){return e.controller.t("Off")}),o.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":e.isNemeth()}},role:o.const("button"),onTap:function(){return e.setBrailleMode("nemeth")},tabindex:o.const(0),"aria-label":function(){return e.controller.t("Nemeth")},"aria-pressed":function(){return e.isNemeth()}},function(){return e.controller.t("Nemeth")}),o.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":e.isUEB()}},role:o.const("button"),onTap:function(){return e.setBrailleMode("ueb")},tabindex:o.const(0),"aria-label":function(){return e.controller.t("UEB")},"aria-pressed":function(){return e.isUEB()}},function(){return e.controller.t("UEB")})),o.createElement(u,{predicate:function(){return e.controller.renderAsBraille()}},function(){return o.createElement("div",null,o.createElement("div",{role:o.const("checkbox"),tabindex:o.const(0),onTap:function(){return e.onToggleSixKeyInput()},"aria-checked":function(){return e.controller.getSixKeyInput()},"aria-label":function(){return e.controller.t("Six Key Braille Input")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-six-key-checkbox":!0,"dcg-checked":e.controller.getSixKeyInput(),"dcg-checkbox-container":!0}},handleEvent:o.const(!0)},o.createElement("span",{class:o.const("dcg-checkbox-box")},o.createElement("i",{class:o.const("dcg-icon-check")})),o.createElement("span",{class:o.const("dcg-checkbox-label")},function(){return e.controller.t("Six Key Braille Input")})),o.createElement("a",{href:o.const("https://www.desmos.com/accessibility#braille"),class:o.const("dcg-six-key-info"),target:o.const("_blank")},o.createElement("i",{class:o.const("dcg-icon-question-sign")})),o.createElement(u,{predicate:function(){return l.canDownload()&&e.controller.getBrailleExpressionDownload()}},function(){return o.createElement(l.default,{data:function(){var t=c.getBrailleEquationsBasic(e.model,e.controller.getBrailleMode());return new Blob([t],{type:"text/plain"})},enabled:e.const(!0),filename:e.const("desmos-equations.brl"),text:e.const("Download Braille Equations"),isBraille:e.const(!0)})}))})),o.createElement("div",{role:o.const("checkbox"),tabindex:o.const(0),onTap:this.bindFn(this.onToggleInvertedColors),"aria-checked":function(){return e.controller.getInvertedColors()},"aria-label":function(){return e.controller.t("Reverse Contrast")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-checked":e.controller.getInvertedColors(),"dcg-checkbox-container":!0,"dcg-reverse-contrast":!0}},handleEvent:o.const(!0)},o.createElement("span",{class:o.const("dcg-checkbox-box")},o.createElement("i",{class:o.const("dcg-icon-check")})),o.createElement("span",{class:o.const("dcg-checkbox-label")},function(){return e.controller.t("Reverse Contrast")})),o.createElement(u,{predicate:function(){return n.versionNumber}},function(){return o.createElement("div",{class:o.const("dcg-version-number")},o.const("Version: "),function(){return n.versionNumber})})))},t.prototype.didUnmountSettingsDropdown=function(){a(document).off(".dcg-settings-view")},t.prototype.didMountSettingsDropdown=function(e){var t=this;this.settingsGroupNode=e,a(document).on("dcg-tapstart.dcg-settings-view",function(e){0===a(e.target).closest(".dcg-basic-settings-container").length&&t.controller.dispatch({type:"close-settings-menu"})}),a(document).on("keydown.dcg-settings-view",function(e){if("Esc"===i.lookup(e)&&(t.controller.dispatch({type:"close-settings-menu"}),t.controller.dispatch({type:"focus-last-expression"})),"Tab"===i.lookup(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey){var n=document.activeElement,r=a(t.props.settingsButtonNode()),o=a(t.settingsGroupNode).find(".dcg-settings-menu-option:last");e.shiftKey||n!==o[0]?e.shiftKey&&n===r[0]&&(o.focus(),e.preventDefault(),e.stopPropagation()):(r.focus(),e.preventDefault(),e.stopPropagation())}})},t.prototype.setBrailleMode=function(e){this.controller.dispatch({type:"set-braille-mode",mode:e})},t.prototype.isNemeth=function(){return"nemeth"===this.controller.getBrailleMode()},t.prototype.isUEB=function(){return"ueb"===this.controller.getBrailleMode()},t.prototype.isLatex=function(){return"none"===this.controller.getBrailleMode()},t.prototype.onToggleSixKeyInput=function(){var e=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",mode:e})},t.prototype.onToggleInvertedColors=function(){var e=!this.controller.getInvertedColors();this.controller.dispatch({type:"update-inverted-colors",mode:e})},t.prototype.onToggleProjectorMode=function(){this.controller.dispatch({type:"update-projector-mode",mode:!this.controller.isProjectorMode()})},t}(s.DCGViewBasic);t.SettingsMenu=d}),define("loadcss!basic/keypad/settings-control-button",function(){}),define("basic/keypad/settings-control-button",["require","exports","tslib","dcgview","keypad/control-btn","basic/dcgview-basic","basic/settings-menu","loadcss!./settings-control-button"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components.If,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement("div",{class:r.const("dcg-basic-settings-container")},r.createElement(i.default,{didMount:function(t){return e.settingsButtonNode=t},command:this.const("settings"),ariaLabel:function(){return t.t("settings")},onTap:this.bindFn(this.onToggleSettingsMenu),selected:function(){return e.controller.isSettingsMenuOpen()},ariaPopup:this.const(!0)},r.createElement("i",{class:r.const("dcg-icon-wrench")})),r.createElement(a,{predicate:function(){return e.controller.isSettingsMenuOpen()}},function(){return r.createElement(s.SettingsMenu,{controller:e.props.controller,settingsButtonNode:function(){return e.settingsButtonNode}})}))},t.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},t}(o.DCGViewBasic);t.default=l}),define("basic/keypad/fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./settings-control-button","basic/dcgview-basic"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components,c=l.If,u=l.IfElse,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(o.default,{command:this.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.t("undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")})),r.createElement(o.default,{command:this.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.t("redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")})),u(function(){return t.shouldShowClear()},{true:function(){return r.createElement(o.default,{command:e.const("clear"),ariaLabel:function(){return t.t("clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.t("clear")})},false:function(){return r.createElement(o.default,{command:e.const("clearall"),disabled:function(){return!t.canClear()},ariaLabel:function(){return t.t("clear all")},onTap:function(){return t.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return t.t("clear all")})}}),r.createElement(c,{predicate:function(){return"none"===t.getBrailleMode()}},function(){return r.createElement(o.default,{command:e.const("backspace"),ariaLabel:function(){return t.t("backspace")},disabled:function(){return!t.canBackspace()},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")}))}),r.createElement(c,{
predicate:function(){return e.props.controller().getSettingsMenu()}},function(){return r.createElement(s.default,{controller:e.props.controller})}))},t.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},t}(a.DCGViewBasic);t.default=d}),define("basic/keypad/single-expression-fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components.If,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(o.default,{command:this.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.t("undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")})),r.createElement(o.default,{command:this.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.t("redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")})),r.createElement(o.default,{command:this.const("clear"),ariaLabel:function(){return t.t("clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.t("clear")}),r.createElement(a,{predicate:function(){return"none"===t.getBrailleMode()}},function(){return r.createElement(o.default,{command:e.const("backspace"),ariaLabel:function(){return t.t("backspace")},disabled:function(){return!t.canBackspace()},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")}))}))},t}(s.DCGViewBasic);t.default=l}),define("loadcss!keypad/control-toggle",function(){}),define("keypad/control-toggle",["require","exports","tslib","lib/aria","lib/color-helpers","dcgview","./dcgview-keypad","loadcss!./control-toggle"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-keypad-control-toggle":!0,"dcg-toggled":e.props.toggled()}},role:o.const("button"),tabindex:o.const("0"),"aria-label":this.bindFn(this.getAriaLabel),onTap:this.bindFn(this.handleTap)},o.createElement("div",{class:o.const("dcg-ctrl-toggle-option")},this.props.defaultOption),o.createElement("div",{class:o.const("dcg-ctrl-toggle-option")},this.props.toggledOption),o.createElement("div",{class:o.const("dcg-ctrl-toggle-cover"),style:function(){return{background:i.shadeColor(e.controller.getBackgroundColor(),-.1)}}}))},t.prototype.getAriaLabel=function(){var e={toggled:this.props.toggledAriaLabel(),default:this.props.defaultAriaLabel()};return this.props.toggled()?this.controller.t("__toggled__ selected. Press Enter to switch to __default__.",e):this.controller.t("__default__ selected. Press Enter to switch to __toggled__.",e)},t.prototype.handleTap=function(){this.props.toggled()?r.alert(this.props.defaultAriaLabel()):r.alert(this.props.toggledAriaLabel()),this.props.onTap(this.props.command())},t}(s.default);t.default=a}),define("basic/keypad/scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle","./settings-control-button"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components,u=c.If,d=c.IfElse,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(o.default,{command:this.const("main"),selected:function(){return"main"===t.getKeyboardMode()},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return t.dispatch({type:"main"})}},function(){return t.t("main")}),r.createElement(o.default,{command:this.const("ABC"),selected:function(){return-1!==["qwerty","capitalQwerty","letters"].indexOf(t.getKeyboardMode())},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return t.t("A B C")},onTap:function(){return t.dispatch({type:"ABC"})}},function(){return t.t("abc")}),r.createElement(o.default,{command:this.const("functions"),selected:function(){return-1!==["functions","restrictedFunctions"].indexOf(t.getKeyboardMode())},ariaLabel:function(){return t.t("Functions")},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return t.dispatch({type:"functions"})}},function(){return t.t("func")}),r.createElement(a.default,{command:this.const("degrees"),toggled:function(){return e.model.getDegreeMode()},defaultOption:function(){return t.t("rad")},toggledOption:function(){return t.t("deg")},defaultAriaLabel:function(){return t.t("Radians")},toggledAriaLabel:function(){return t.t("Degrees")},onTap:function(){return t.dispatch({type:"degrees"})},controller:this.props.controller}),r.createElement(u,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return r.createElement(o.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.t("Undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))}),r.createElement(u,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return r.createElement(o.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.t("Redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))}),d(function(){return t.shouldShowClear()},{true:function(){return r.createElement(o.default,{command:e.const("clear"),ariaLabel:function(){return t.t("clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.t("clear")})},false:function(){return r.createElement(o.default,{command:e.const("clearall"),disabled:function(){return!t.canClear()},ariaLabel:function(){return t.t("clear all")},onTap:function(){return t.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return t.t("clear all")})}}),r.createElement(u,{predicate:function(){return e.props.controller().getSettingsMenu()}},function(){return r.createElement(l.default,{controller:e.props.controller})}))},t}(s.DCGViewBasic);t.default=p}),define("basic/keypad/single-expression-scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(a.default,{command:this.const("degrees"),toggled:function(){return e.model.getDegreeMode()},defaultOption:function(){return t.t("rad")},toggledOption:function(){return t.t("deg")},defaultAriaLabel:function(){return t.t("Radians")},toggledAriaLabel:function(){return t.t("Degrees")},onTap:function(){return t.dispatch({type:"degrees"})},controller:this.props.controller}),r.createElement("div",{class:r.const("dcg-spacer")}),r.createElement(l,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return r.createElement(o.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.t("Undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))}),r.createElement(l,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return r.createElement(o.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.t("Redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))}),r.createElement("div",{class:r.const("dcg-spacer")}),r.createElement(o.default,{narrowButton:this.const(!0),command:this.const("clear"),ariaLabel:function(){return t.t("clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.t("clear")}),r.createElement(o.default,{narrowButton:this.const(!0),command:this.const("backspace"),ariaLabel:function(){return t.t("backspace")},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")})))},t}(s.DCGViewBasic);t.default=c}),define("basic/keypad/fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.t("keypad")}},r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"(",{colspan:this.parenColspan()}),o.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(0),this.makeAdditionalFunctionKey(1),o.view(this,"/")),r.createElement(a.default,null,o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"*")),r.createElement(a.default,null,o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"-")),r.createElement(a.default,null,o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"+")),r.createElement(a.default,null,o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"ans"),o.view(this,"enter",{style:"blue"}))))},t.prototype.parenColspan=function(){return this.controller.getAdditionalFunctions().length>1?.5:1},t.prototype.makeAdditionalFunctionKey=function(e){var t=this.controller.getAdditionalFunctions()[e];return"exponent"===t?o.view(this,"a^b"):"percent"===t?o.view(this,"%"):"sqrt"===t?o.view(this,"sqrt"):void 0},t}(i.DCGViewBasic);t.default=l}),define("basic/keypad/single-expression-fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.t("keypad")}},r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"(",{colspan:this.parenColspan()}),o.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(1)),r.createElement(a.default,null,o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"/")),r.createElement(a.default,null,o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"*")),r.createElement(a.default,null,o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-")),r.createElement(a.default,null,o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight",colspan:this.dotColspan()}),this.makeAdditionalFunctionKey(0),o.view(this,"+"))))},t.prototype.parenColspan=function(){return 2===this.controller.getAdditionalFunctions().length?1.5:2},t.prototype.dotColspan=function(){return this.controller.getAdditionalFunctions().length?1:2},t.prototype.makeAdditionalFunctionKey=function(e){var t=this.controller.getAdditionalFunctions()[e];return"exponent"===t?o.view(this,"a^b"):"percent"===t?o.view(this,"%"):"sqrt"===t?o.view(this,"sqrt"):void 0},t}(i.DCGViewBasic);t.default=l}),define("basic/keypad/single-expression-scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"("),o.view(this,")"),o.view(this,"x^2"),o.view(this,"sqrt"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"x^3"),o.view(this,"x^y"),o.view(this,"ythroot")),r.createElement(a.default,null,o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"/"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"pi"),o.view(this,"e^x"),o.view(this,"!")),r.createElement(a.default,null,o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"*"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"log"),o.view(this,"ln"),o.view(this,"|x|")),r.createElement(a.default,null,o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"sin"),o.view(this,"cos"),o.view(this,"tan")),r.createElement(a.default,null,o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"x/y"),o.view(this,"+"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"arcsin"),o.view(this,"arccos"),o.view(this,"arctan")))},t}(i.DCGViewBasic);t.default=l}),define("basic/keypad/sci-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"a^2"),o.view(this,"a^b"),o.view(this,"|a|"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"/"),o.view(this,"backspace",{style:"highlight"})),r.createElement(a.default,null,o.view(this,"sqrt"),o.view(this,"nthroot"),o.view(this,"pi"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"*"),o.view(this,"%")),r.createElement(a.default,null,o.view(this,"sin"),o.view(this,"cos"),o.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-"),o.view(this,"a/b")),r.createElement(a.default,null,o.view(this,"("),o.view(this,")"),o.view(this,","),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"ans"),o.view(this,"+"),o.view(this,"enter",{style:"blue"})))},t}(i.DCGViewBasic);t.default=l}),define("basic/keypad/sci-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"q"),o.view(this,"w"),o.view(this,"e"),o.view(this,"r"),o.view(this,"t"),o.view(this,"y"),o.view(this,"u"),o.view(this,"i"),o.view(this,"o"),o.view(this,"p")),r.createElement(a.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),o.view(this,"a"),o.view(this,"s"),o.view(this,"d"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"j"),o.view(this,"k"),o.view(this,"l"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(a.default,null,o.view(this,"shift",{style:"highlight"}),o.view(this,"z"),o.view(this,"x"),o.view(this,"c"),o.view(this,"v"),o.view(this,"b"),o.view(this,"n"),o.view(this,"m"),o.view(this,","),o.view(this,"backspace",{style:"highlight"})),r.createElement(a.default,null,o.view(this,"="),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"pi"),o.view(this,"enter",{style:"blue"})))},t}(i.DCGViewBasic);t.default=l}),define("basic/keypad/sci-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"a"),o.view(this,"b"),o.view(this,"c"),o.view(this,"d"),o.view(this,"e"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"backspace",{style:"highlight"})),r.createElement(a.default,null,o.view(this,"i"),o.view(this,"j"),o.view(this,"k"),o.view(this,"l"),o.view(this,"m"),o.view(this,"n"),o.view(this,"o"),o.view(this,"p"),o.view(this,"q")),r.createElement(a.default,null,o.view(this,"r"),o.view(this,"s"),o.view(this,"t"),o.view(this,"u"),o.view(this,"v"),o.view(this,"w"),o.view(this,"x"),o.view(this,"y"),o.view(this,"z")),r.createElement(a.default,null,o.view(this,"=",{style:"highlight"}),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,","),o.view(this,"enter",{style:"blue"})))},t}(i.DCGViewBasic);t.default=l}),define("basic/keypad/sci-capital-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"Q"),o.view(this,"W"),o.view(this,"E"),o.view(this,"R"),o.view(this,"T"),o.view(this,"Y"),o.view(this,"U"),o.view(this,"I"),o.view(this,"O"),o.view(this,"P")),r.createElement(a.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),o.view(this,"A"),o.view(this,"S"),o.view(this,"D"),o.view(this,"F"),o.view(this,"G"),o.view(this,"H"),o.view(this,"J"),o.view(this,"K"),o.view(this,"L"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(a.default,null,o.view(this,"shift",{style:"highlight"}),o.view(this,"Z"),o.view(this,"X"),o.view(this,"C"),o.view(this,"V"),o.view(this,"B"),o.view(this,"N"),o.view(this,"M"),o.view(this,","),o.view(this,"backspace",{style:"highlight"})),r.createElement(a.default,null,o.view(this,"="),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"pi"),o.view(this,"enter",{style:"blue"})))},t}(i.DCGViewBasic);t.default=l}),define("basic/keypad/sci-functions-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"sin"),o.view(this,"cos"),o.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"ln"),o.view(this,"log"),o.view(this,"backspace",{style:"highlight"})),r.createElement(a.default,null,o.view(this,"arcsin"),o.view(this,"arccos"),o.view(this,"arctan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"e^x"),o.view(this,"abs"),o.view(this,"round")),r.createElement(a.default,null,o.view(this,"mean"),o.view(this,"stdev"),o.view(this,"stdevp"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"a^b"),o.view(this,"sqrt"),o.view(this,"nthroot")),r.createElement(a.default,null,o.view(this,"nPr"),o.view(this,"nCr"),o.view(this,"!"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"e"),o.view(this,"pi"),o.view(this,"enter",{style:"blue"})))},t}(i.DCGViewBasic);t.default=l}),define("basic/keypad/scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./sci-keypad","./sci-qwerty-keypad","./sci-letters-keypad","./sci-capital-qwerty-keypad","./sci-functions-keypad"],function(e,t,n,r,i,o,s,a,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=r.Components.SwitchUnion,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.t("keypad")}},u(function(){return e.controller.getKeyboardMode()},{qwerty:function(){return r.createElement(s.default,{controller:e.props.controller})},letters:function(){return r.createElement(a.default,{controller:e.props.controller})},capitalQwerty:function(){return r.createElement(l.default,{controller:e.props.controller})},functions:function(){return r.createElement(c.default,{controller:e.props.controller})},main:function(){return r.createElement(o.default,{controller:e.props.controller})}}))},t}(i.DCGViewBasic);t.default=d}),define("loadcss!basic/keypad/braille-example-row",function(){}),define("basic/keypad/braille-example-row",["require","exports","tslib","dcgview","dcgview-helpers/static-mathquill-view","abraham","loadcss!./braille-example-row"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r.Components.For,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("tr",null,r.createElement(s,{each:function(){return e.getBrailleAscii(e.props.latex())},key:function(e){return e.key}},r.createElement("td",null,function(e){return r.createElement("span",{class:r.const("dcg-key-press")},function(){return e.char})})),r.createElement("td",{class:r.const("dcg-braille-font")},function(){return e.getBrailleUnicode(e.props.latex())}),r.createElement("td",null,r.createElement(i.default,{latex:function(){return e.props.latex()}})))},t.prototype.getBrailleAscii=function(e){for(var t=o.UnicodeBraille.toExpandedBrailleAscii(this.getBrailleUnicode(e)),n=[],r=0;r<t.length;r++)n.push({char:t[r],key:r+")"+t[r]});return n},t.prototype.getBrailleUnicode=function(e){var t;return"nemeth"===this.props.brailleMode()?t=o.latexToNemeth(e):"ueb"===this.props.brailleMode()&&(t=o.latexToUeb(e)),t&&t.value?t.value:""},t}(r.Class);t.BrailleExampleRow=a}),define("loadcss!basic/keypad/braille-keypad",function(){}),define("basic/keypad/braille-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./braille-example-row","loadcss!./braille-keypad"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-braille-io-keypad-container":!0,"dcg-has-background-color":e.controller.hasBackgroundColor()}}},r.createElement("div",{class:r.const("dcg-braille-io-keypad")},r.createElement("div",{class:r.const("dcg-braille-description")},r.createElement("div",{class:r.const("dcg-braille-title")},function(){return e.controller.t("__mode__ is on!",{mode:e.brailleType()})}),r.createElement("div",{class:r.const("dcg-braille-info-text")},function(){return e.controller.t("Use a Refreshable Braille display, or just type Braille with a keyboard.")}),r.createElement("div",{class:r.const("dcg-blue-btn"),role:r.const("button"),tabindex:r.const(0),onTap:function(){return e.controller.dispatch({type:"set-braille-mode",mode:"none"})}},function(){return e.controller.t("Turn __mode__ off",{mode:e.brailleType()})})),r.createElement("div",{class:r.const("dcg-braille-examples-table-container")},r.createElement("table",{class:r.const("dcg-braille-examples-table")},r.createElement("tr",null,r.createElement("th",null,function(){return e.controller.t("Type this")}),r.createElement("th",null,function(){return e.brailleType()}),r.createElement("th",null,function(){return e.controller.t("Typeset")})),r.createElement(o.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("2+2")}),r.createElement(o.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("\\frac{1}{2}")}),r.createElement(o.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("\\sqrt{4}")})),r.createElement("div",{class:r.const("dcg-more-examples-link")},r.createElement("a",{href:function(){return"https://www.desmos.com/braille-examples?"+e.controller.getBrailleMode()},target:r.const("_blank")},function(){return e.controller.t("View more examples")})))))},t.prototype.brailleType=function(){return"nemeth"===this.controller.getBrailleMode()?"Nemeth":"ueb"===this.controller.getBrailleMode()?"UEB":""},t}(i.DCGViewBasic);t.default=s}),define("expressions/braille-input",["require","exports","tslib","dcgview","jquery"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r.Components.Input,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.ASCIICharacters=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=",this.ASCIITable=[],this.HomeRowCharacters="FDSJKL",this.charCodes=[],this.sixKeyModel={keysDown:0,stickyKeysDown:0};var e;for(e=0;e<this.ASCIICharacters.length;e++)this.ASCIITable.push(this.ASCIICharacters.charCodeAt(e));for(e=0;e<this.HomeRowCharacters.length;e++)this.charCodes.push(this.HomeRowCharacters.charCodeAt(e))},t.prototype.template=function(){var e=this;return r.createElement(o,{class:this.const("dcg-braille-input"),onKeydown:this.bindFn(this.onKeydown),onKeyup:this.bindFn(this.onKeyup),onInput:this.bindFn(this.props.onInput),value:function(){return e.props.value()},"aria-label":function(){return e.props.ariaLabel()||""},didMount:this.bindFn(this.didMount),didUnmount:this.bindFn(this.props.didUnmount)})},t.prototype.didMount=function(e){var t=this;this.rootNode=e,i(this.rootNode).on("focus",function(){t.props.onFocusedChanged(!0)}).on("blur",function(){t.props.onFocusedChanged(!1)}),this.props.didMount(e)},t.prototype.didUpdate=function(){this.rootNode&&(this.props.shouldFocus()&&document.activeElement!==this.rootNode&&this.rootNode.focus(),this.props.shouldFocus()||document.activeElement!==this.rootNode||this.rootNode.blur())},t.prototype.onKeydown=function(e){var t=this.charCodes.indexOf(e.which);return!this.isSixKeyInput()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||-1===t?this.props.onKeydown(e):(e.preventDefault(),this.sixKeyModel=n.__assign({},this.sixKeyModel,{keysDown:this.addKey(this.sixKeyModel.keysDown,t),stickyKeysDown:this.addKey(this.sixKeyModel.stickyKeysDown,t)}),!1)},t.prototype.onKeyup=function(e){var t=this.charCodes.indexOf(e.which),r=!1;return!this.isSixKeyInput()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||-1===t?r=!0:(this.sixKeyModel=n.__assign({},this.sixKeyModel,{keysDown:this.removeKey(this.sixKeyModel.keysDown,t)}),0===this.sixKeyModel.keysDown&&(this.addCharacter(this.bitsToASCII(this.sixKeyModel.stickyKeysDown)),this.sixKeyModel=n.__assign({},this.sixKeyModel,{stickyKeysDown:0}))),r||e.preventDefault(),r},t.prototype.addKey=function(e,t){return e|1<<t},t.prototype.removeKey=function(e,t){return e&~(1<<t)},t.prototype.bitsToASCII=function(e){return String.fromCharCode(this.ASCIITable[e])},t.prototype.addCharacter=function(e){this.rootNode&&(this.rootNode.setRangeText(e,this.rootNode.selectionStart,this.rootNode.selectionEnd,"end"),this.props.onInput(this.rootNode.value))},t.prototype.isSixKeyInput=function(){return"function"==typeof this.props.sixKeyInput&&this.props.sixKeyInput()},t}(r.Class);t.default=s}),define("loadcss!Abraham",function(){}),define("loadcss!basic/expression-view",function(){}),define("basic/expression-view",["require","exports","tslib","keys","graphing/label","dcgview","lib/i18n","jquery","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","./dcgview-basic","abraham","expressions/braille-input","../lib/tooltip","loadcss!Abraham","loadcss!./expression-view"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=o.Components,g=f.If,m=f.Input,y=f.Textarea,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.getAriaLabel=function(){var e=this.getIndex()+1+"";return this.t("Expression __index__",{index:e})},t.prototype.didUpdate=function(){this.renderAnsValue()},t.prototype.didMountMQ=function(e){this.$mq=a(e)},t.prototype.getExp=function(){return this.model.getExpressionById(this.props.id())},t.prototype.getAns=function(){return this.model.getExpressionAns(this.props.id())},t.prototype.getLatex=function(){return this.getExp().latex},t.prototype.getValue=function(){return this.model.getExpressionValue(this.props.id())},t.prototype.getBraille=function(){var e=this.getExp().braille;if(""!==e)return e;var t=this.getBrailleValue(this.getLatex());return t.isError?"":d.UnicodeBraille.toExpandedBrailleAscii(t.value)},t.prototype.getBrailleValue=function(e){return"nemeth"===this.controller.getBrailleMode()?d.latexToNemeth(e):d.latexToUeb(e)},t.prototype.getLatexValue=function(e){return"nemeth"===this.controller.getBrailleMode()?d.nemethToLatex(e):d.uebToLatex(e)},t.prototype.getIndex=function(){return this.model.getExpressionIndex(this.props.id())},t.prototype.getShowEvaluation=function(){return this.model.shouldShowEvaluationForExpression(this.props.id())},t.prototype.isFractionEvaluation=function(){return this.getExp().displayAsFraction},
t.prototype.canDisplayEvaluationAsFraction=function(){return this.controller.getDecimalToFraction()&&this.model.canDisplayEvaluationAsFraction(this.props.id())},t.prototype.shouldDisplayEvaluationAsFraction=function(){return this.canDisplayEvaluationAsFraction()&&this.getExp().displayAsFraction},t.prototype.toggleFractionEvaluation=function(){this.dispatch({type:"toggle-fraction-evaluation",id:this.props.id()})},t.prototype.getFractionDisplayAriaLabel=function(){return this.shouldDisplayEvaluationAsFraction()?this.controller.t("Displaying as fraction. Press Enter to display as Decimal"):this.controller.t("Displaying as decimal. Press Enter to display as Fraction")},t.prototype.getError=function(){var e=this.model.getExpressionError(this.props.id());return e&&this.getLatex().length>0?this.t(s.unpack(e)):""},t.prototype.showError=function(){return!!this.getError()},t.prototype.getFractionMessage=function(){return this.shouldDisplayEvaluationAsFraction()?this.t("Convert to decimal."):this.t("Convert to fraction.")},t.prototype.getIsFocused=function(){return!this.controller.isSettingsMenuOpen()&&this.model.isExpressionFocused(this.props.id())},t.prototype.onFocusedChanged=function(e){this.getExp()&&(e?this.dispatch({type:"focusin",id:this.props.id()}):this.dispatch({type:"focusout",id:this.props.id()}))},t.prototype.onMQReflow=function(){this.renderedAnsData=void 0,this.renderAnsValue()},t.prototype.renderAnsValue=function(){if(this.$mq){var e=this.getAns();this.renderedAnsData&&this.renderedAnsData.value==e||(this.renderedAnsData={value:e},this.$mq.find(".dcg-mq-ans").each(function(t,n){var r=a(n);if(null!=e){var o=i.truncatedHTMLLabel(e,{digits:6,addEllipses:!0,bigCutoff:1e4});r.removeClass("dcg-invalid").html(o)}else r.addClass("dcg-invalid").html('<i class="dcg-icon-error"></i>')}))}},t.prototype.getEvaluationLatex=function(){var e=this.getValue();if(void 0===e&&(e=NaN),this.model.isRationalizableConstant(this.props.id())&&!this.shouldDisplayEvaluationAsFraction())return"";return Array.isArray(e)?"\\mathrm{"+e.length+"\\ element\\ list}":"="+i.truncatedLatexLabel(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()})},t.prototype.getEvaluationBraille=function(){var e=this.getEvaluationLatex(),t=this.getBrailleValue(e);return t.isError?"":d.UnicodeBraille.toExpandedBrailleAscii(t.value)},t.prototype.didMountBrailleInput=function(e){this.brailleInputNode=e},t.prototype.didUnmountBrailleInput=function(){this.brailleInputNode=void 0},t.prototype.handleBrailleFocus=function(e){var t=e.target;t&&setTimeout(function(){t.setSelectionRange(0,0)})},t.prototype.handleBrailleKeydown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){if(r.lookup(e)===r.UP)return this.forceModelFocus(),this.dispatch({type:"focus-prev-expression"}),!1;if(r.lookup(e)===r.DOWN)return this.forceModelFocus(),this.dispatch({type:"focus-next-expression"}),!1;if(r.lookup(e)===r.ENTER)return this.forceModelFocus(),this.dispatch({type:"insert-blank-expression"}),!1;if(r.lookup(e)===r.BACKSPACE&&document.activeElement===this.brailleInputNode&&""===this.getBraille())return this.dispatch({type:"backspace-from-braille"}),!1}return!0},t.prototype.forceModelFocus=function(){document.activeElement!==this.brailleInputNode&&this.onFocusedChanged(!0)},t.prototype.focusBrailleInput=function(){this.brailleInputNode&&document.activeElement!==this.brailleInputNode&&this.brailleInputNode.focus()},t.prototype.getPostLabel=function(){if(this.showError())return this.getError();if(this.getShowEvaluation()){var e=this.getValue();return void 0===e&&(e=NaN),Array.isArray(e)?e.length+" element list":"equals "+i.truncatedAriaLabel(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()})}return""},t.prototype.onBrailleInput=function(e){this.controller.isSettingsMenuOpen()&&this.controller.dispatch({type:"close-settings-menu"});var t=this.getLatexValue(d.UnicodeBraille.coerceToSixDotCells(e));this.dispatch({type:"update-latex-from-braille",latex:t.isError?"":t.value,braille:e,id:this.props.id()})},t.prototype.getIndexSubscript=function(){return"_{"+(this.getIndex()+1)+"}"},t.prototype.getEvaluationDigits=function(){return this.controller.isScientificCalc()?10:7},t.prototype.onMountContainer=function(e){this.containerNode=e},t.prototype.onTapContainer=function(e){e.target!==this.containerNode||this.getShowEvaluation()||this.showError()||this.forceModelFocus()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-basic-expression":!0,"dcg-focused":e.getIsFocused(),"dcg-braille-io":e.controller.renderAsBraille()}},onTap:this.bindFn(this.onTapContainer),onMount:this.bindFn(this.onMountContainer)},o.createElement(g,{predicate:function(){return e.controller.renderAsBraille()}},function(){return o.createElement("div",{class:o.const("dcg-braille-input")},o.createElement(p.default,{ariaLabel:function(){var t=e.getBrailleValue("eq"+e.getIndexSubscript());return t.isError?"":d.UnicodeBraille.toExpandedBrailleAscii(t.value)},didMount:e.bindFn(e.didMountBrailleInput),didUnmount:e.bindFn(e.didUnmountBrailleInput),onFocusedChanged:e.bindFn(e.onFocusedChanged),shouldFocus:e.bindFn(e.getIsFocused),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:e.bindFn(e.onBrailleInput),sixKeyInput:function(){return e.controller.getSixKeyInput()},value:function(){return e.getBraille()}}))}),o.createElement(g,{predicate:function(){return e.controller.renderAsBraille()}},function(){return o.createElement("div",{class:o.const("dcg-braille-evaluation-container")},o.createElement(g,{predicate:function(){return e.getShowEvaluation()}},function(){return o.createElement("div",{class:o.const("dcg-braille-evaluation")},o.createElement(m,{readonly:e.const("true"),class:e.const("dcg-braille-evaluation-inner"),value:function(){return e.getEvaluationBraille()},onFocus:e.bindFn(e.handleBrailleFocus),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:function(){}}))}),o.createElement(g,{predicate:function(){return e.showError()}},function(){return o.createElement("div",{class:o.const("dcg-braille-error")},o.createElement("div",{class:o.const("dcg-basic-expression-error")},o.createElement("i",{class:o.const("dcg-icon-error")})),o.createElement(y,{readonly:e.const("true"),class:e.const("dcg-braille-error-inner"),value:function(){return e.getError()},onFocus:e.bindFn(e.handleBrailleFocus),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:function(){}}))}))}),o.createElement(g,{predicate:function(){return e.controller.renderAsBraille()}},function(){return o.createElement("div",{class:o.const("dcg-exp-mathquill-container"),didMount:e.bindFn(e.didMountMQ),onTap:e.bindFn(e.forceModelFocus)},o.createElement(l.default,{latex:function(){return e.getLatex()},onReflow:e.bindFn(e.onMQReflow)}))}),o.createElement(g,{predicate:function(){return!e.controller.renderAsBraille()}},function(){return o.createElement("div",{class:o.const("dcg-exp-mathquill-container"),didMount:e.bindFn(e.didMountMQ)},o.createElement(c.default,{latex:function(){return e.getLatex()},onReflow:e.bindFn(e.onMQReflow),isFocused:e.bindFn(e.getIsFocused),capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.const({typingAsteriskWritesTimesSymbol:e.controller.getTypingAsteriskWritesTimesSymbol(),typingSlashWritesDivisionSymbol:e.controller.getTypingSlashWritesDivisionSymbol(),disableCopyPaste:e.controller.getRestrictedEditing()}),getAriaLabel:function(){return e.getAriaLabel()},getAriaPostLabel:function(){return e.getPostLabel()},hasError:function(){return!1},onUserPressedKey:function(t,n){e.controller.isSettingsMenuOpen()&&e.controller.dispatch({type:"close-settings-menu"}),e.dispatch({type:"keypad/press-key",key:t,evt:n})},onUserTypedText:function(t){return e.dispatch({type:"keypad/type-text",text:t})},onUserChangedLatex:function(t){e.dispatch({type:"update-latex",id:e.props.id(),latex:t})},onFocusedChanged:e.bindFn(e.onFocusedChanged),disableSpace:function(){return e.controller.getRestrictedEditing()}}))}),o.createElement("div",{class:o.const("dcg-exp-output-container")},o.createElement(g,{predicate:function(){return e.showError()&&!e.controller.renderAsBraille()}},function(){return o.createElement(h.Tooltip,{tooltip:e.bindFn(e.getError),gravity:e.const("w"),sticky:e.const(!0)},o.createElement("div",{class:o.const("dcg-basic-expression-error")},o.createElement("i",{class:o.const("dcg-icon-error")})))}),o.createElement(g,{predicate:function(){return e.getShowEvaluation()}},function(){return o.createElement("div",{class:function(){return{"dcg-basic-expression-value":!0,"dcg-basic-evaluation-gray":Array.isArray(e.getValue())}}},o.createElement(l.default,{latex:function(){return e.getEvaluationLatex()}}),o.createElement(g,{predicate:e.bindFn(e.canDisplayEvaluationAsFraction)},function(){return o.createElement(h.Tooltip,{tooltip:e.bindFn(e.getFractionMessage),gravity:e.const("s"),sticky:e.const(!1)},o.createElement("span",{role:o.const("button"),tabindex:o.const("0"),"aria-label":e.bindFn(e.getFractionDisplayAriaLabel),class:function(){return{"dcg-basic-fraction-toggle":!0,"dcg-selected":e.isFractionEvaluation()}},onTap:e.bindFn(e.toggleFractionEvaluation)},o.createElement("i",{class:o.const("dcg-icon-fraction")})))}))})))},t}(u.DCGViewBasic);t.default=v}),define("loadcss!basic/basic-list-view",function(){}),define("basic/basic-list-view",["require","exports","tslib","scroll_helpers","dcgview","./dcgview-basic","./expression-view","jquery","lib/conditional_blur","loadcss!./basic-list-view"],function(e,t,n,r,i,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=i.Components,u=c.For,d=c.If,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didShowAnswerHint=!1,t.didHideAnswerHint=!1,t}return n.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-basic-list-container"),role:i.const("complementary"),"aria-label":function(){return e.controller.t("Expression List")},didMount:this.bindFn(this.didMountContainer)},i.createElement("div",{class:i.const("dcg-basic-list-placeholder"),didMount:this.bindFn(this.didMountPlaceholder)},i.createElement(d,{predicate:this.bindFn(this.showAnswerHint)},function(){return i.createElement("div",{class:i.const("dcg-answer-hint")},function(){return e.controller.t("Your answers show up on this side.")})})),i.createElement(u,{each:function(){return e.model.getExpressionOrder()}},i.createElement("div",{class:function(){return{"dcg-basic-list":!0,"dcg-projector-mode":e.controller.isProjectorMode()}}},function(t){return i.createElement(s.default,{controller:e.props.controller,id:e.const(t)})})))},t.prototype.didMountPlaceholder=function(e){a(e).on("dcg-tap",l.default)},t.prototype.showAnswerHint=function(){if(this.didHideAnswerHint)return!1;var e=this.model.getExpressionOrder()[0];return!(!this.model.shouldShowEvaluationForExpression(e)&&!this.didShowAnswerHint)&&(this.didShowAnswerHint=!0,!(this.model.getNumberOfExpressions()>1||""===this.model.getExpressionLatex(e))||(this.didHideAnswerHint=!0,!1))},t.prototype.didUpdate=function(){if(this.$container){var e=this.$container.find(".dcg-focused");e.length>0&&r.scrollVisible(e,this.$container,50)}},t.prototype.didMountContainer=function(e){this.$container=a(e)},t}(o.DCGViewBasic);t.default=p}),define("loadcss!basic/main",function(){}),define("basic/main",["require","exports","tslib","browser","keys","dcgview","./dcgview-basic","jquery","./keypad/fourfunction-control-bar","./keypad/single-expression-fourfunction-control-bar","./keypad/scientific-control-bar","./keypad/single-expression-scientific-control-bar","./keypad/fourfunction-keypad","./keypad/single-expression-fourfunction-keypad","./keypad/single-expression-scientific-keypad","./keypad/scientific-keypad","./keypad/braille-keypad","./basic-list-view","lib/aria","loadcss!desmos-icons","loadcss!./main","loadcss!dcg-normalize"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,g,m,y,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=o.Components,x=b.If,w=b.IfElse,_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement(x,{predicate:function(){return e.controller.shouldRender()}},function(){return o.createElement("div",{class:function(){return{"dcg-calc-basic-main-wrapper":!0,"dcg-narrow":e.controller.containerSize.width<570,"dcg-short":e.controller.containerSize.height<=500,"dcg-scientific-calculator":e.controller.isScientificCalc(),"dcg-four-function-calculator":e.controller.isFourFunctionCalc(),"dcg-container":!0}},onKeydown:e.bindFn(e.handleRootKeydown),"x-ms-format-detection":o.const("none")},o.createElement("div",{role:o.const("application"),"aria-label":function(){return e.controller.isScientificCalc()?e.controller.t("Desmos Scientific Calculator"):e.controller.isFourFunctionCalc()?e.controller.t("Desmos Four-Function Calculator"):""},class:function(){return{"dcg-calc-basic-main":!0,"dcg-inverted-colors":e.controller.getInvertedColors(),"dcg-projector-mode":e.controller.isProjectorMode(),"dcg-ipad":r.IS_IPAD,"dcg-has-background-color":e.controller.hasBackgroundColor(),"dcg-no-hyperlinks":!e.controller.getAllowLinks()}},style:function(){return{"font-size":e.controller.getFontSize()+"px",background:e.controller.getBackgroundColor(),color:e.controller.getTextColor(),filter:e.controller.getInvertedColors()?"invert(100%)":"none"}}},o.createElement(y.default,{controller:e.props.controller}),o.createElement(x,{predicate:function(){return e.controller.isScientificCalc()&&e.model.isSingleExpression()}},function(){return o.createElement("div",null,o.createElement(d.default,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-basic-keypad-container")},w(function(){return e.controller.renderAsBraille()},{true:function(){return o.createElement(m.default,{controller:e.props.controller})},false:function(){return o.createElement(f.default,{controller:e.props.controller})}})))}),o.createElement(x,{predicate:function(){return e.controller.isScientificCalc()&&!e.model.isSingleExpression()}},function(){return o.createElement("div",null,o.createElement(u.default,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-basic-keypad-container")},w(function(){return e.controller.renderAsBraille()},{true:function(){return o.createElement(m.default,{controller:e.props.controller})},false:function(){return o.createElement(g.default,{controller:e.props.controller})}})))}),o.createElement(x,{predicate:function(){return e.controller.isFourFunctionCalc()&&e.model.isSingleExpression()}},function(){return o.createElement("div",null,o.createElement(c.default,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-basic-keypad-container")},w(function(){return e.controller.renderAsBraille()},{true:function(){return o.createElement(m.default,{controller:e.props.controller})},false:function(){return o.createElement(h.default,{controller:e.props.controller})}})))}),o.createElement(x,{predicate:function(){return e.controller.isFourFunctionCalc()&&!e.model.isSingleExpression()}},function(){return o.createElement("div",null,o.createElement(l.default,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-basic-keypad-container")},w(function(){return e.controller.renderAsBraille()},{true:function(){return o.createElement(m.default,{controller:e.props.controller})},false:function(){return o.createElement(p.default,{controller:e.props.controller})}})))})))})},t.prototype.handleRootKeydown=function(e){if(i.isUndo(e))return this.dispatch({type:"undo",source:"keyboard-shortcut"}),!1;if(i.isRedo(e))return this.dispatch({type:"redo",source:"keyboard-shortcut"}),!1;if(!e.metaKey&&!e.shiftKey)if(e.ctrlKey||e.altKey||i.lookup(e)!==i.BACKSPACE){if(e.ctrlKey===r.IS_APPLE&&e.altKey===!r.IS_APPLE){var t=i.lookupChar(e);if("N"===t)return this.dispatch({type:"set-braille-mode",mode:"nemeth"}),v.alert(this.controller.t("Braille mode Nemeth")),!1;if("U"===t)return this.dispatch({type:"set-braille-mode",mode:"ueb"}),v.alert(this.controller.t("Braille mode UEB")),!1;if("Q"===t||"X"===t)return this.dispatch({type:"set-braille-mode",mode:"none"}),v.alert(this.controller.t("Braille mode off")),!1;if("6"===t){var n=!this.controller.getSixKeyInput();return this.dispatch({type:"set-six-key-input",mode:n}),v.alert(n?this.controller.t("Six Key Braille Input on"):this.controller.t("Six Key Braille Input off")),!1}}}else if(!document.activeElement||!a(document.activeElement).is('input, textarea, [role="textbox"]'))return!1;return!0},t}(s.DCGViewBasic);t.default=_}),define("api/basic",["require","exports","tslib","dcgview","./abstract","main/shared-worker-pool","basic/controller","basic/main","lib/color-helpers","underscore_model","lib/deepCopy","lib/console"],function(e,t,n,r,i,o,s,a,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),t.prototype.init=function(e){var t=this;e=u.default(e),e.backgroundColor&&!l.isValidHexColor(e.backgroundColor)&&(d.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete e.backgroundColor),e.textColor&&!l.isValidHexColor(e.textColor)&&(d.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete e.textColor);var r=n.__assign({qwertyKeyboard:!0,links:!0,degreeMode:!1,settingsMenu:!0,invertedColors:!1,backgroundColor:"#fff",textColor:"#000",brailleMode:"none",sixKeyInput:!1,brailleExpressionDownload:!0,projectorMode:!1,capExpressionSize:!1,functionDefinition:!0,autosize:!0,evaluationMode:"scientific",restrictedEditing:!1,additionalFunctions:["sqrt"],typingSlashWritesDivisionSymbol:!1,typingAsteriskWritesTimesSymbol:!1,decimalToFraction:!0},e);this.settings=new c.UnderscoreModel;var i={workerPool:o.default,settingsProxy:this.settings};this.controller=new s.default(r,i),this.controller.onEventEmitted=function(e){"render"===e&&t.updateView(),t.triggerEvent(e,void 0)},this.setupDomChangeDetector(r.autosize)},t.prototype.onCreateView=function(){return r.mountToNode(a.default,this.rootElt,{controller:r.const(this.controller)})},t.prototype.setState=function(e,t){t||(t={}),this.controller.dispatch({type:"set-state-from-api",state:e,opts:{allowUndo:!!t.allowUndo}})},t.prototype.getState=function(){return u.default(this.controller.model.getPersistedState())},t.prototype.undo=function(){this.controller.dispatch({type:"undo",source:"api"})},t.prototype.redo=function(){this.controller.dispatch({type:"redo",source:"api"})},t.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-history"})},t.prototype.setBlank=function(e){e||(e={}),this.controller.dispatch({type:"set-blank",opts:{allowUndo:!!e.allowUndo}})},t.prototype.updateSettings=function(e){if(null!=e)for(var t in e)switch(t){case"fontSize":var n=e[t];if(void 0===n)continue;this.controller.dispatch({type:"update-font-size",size:n});break;case"invertedColors":var r=e[t];if(void 0===r)continue;this.controller.dispatch({type:"update-inverted-colors",mode:r});break;case"backgroundColor":var i=e[t];if(void 0===i||!l.isValidHexColor(i)){d.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)");continue}this.controller.dispatch({type:"update-background-color",color:i});break;case"textColor":var o=e[t];if(void 0===o||!l.isValidHexColor(o)){d.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)");continue}this.controller.dispatch({type:"update-text-color",color:o});break;case"degreeMode":var s=e[t];if(void 0===s)continue;this.controller.dispatch({type:"update-degree-mode",mode:s});break;case"brailleMode":var a=e[t];this.controller.dispatch({type:"set-braille-mode",mode:a});break;case"sixKeyInput":var c=e[t];if(void 0===c)continue;this.controller.dispatch({type:"set-six-key-input",mode:c});break;case"brailleExpressionDownload":var u=e[t];if(void 0===u)continue;this.controller.dispatch({type:"set-braille-expression-download",mode:u});break;case"projectorMode":var p=e[t];if(void 0===p)continue;this.controller.dispatch({type:"update-projector-mode",mode:p});break;case"capExpressionSize":var h=e[t];if(void 0===h)continue;this.controller.dispatch({type:"update-cap-expression-size",mode:h});break;case"language":var f=e[t];if(void 0===f)continue;this.controller.dispatch({type:"update-language",language:f});break;case"settingsMenu":e.settingsMenu?this.controller.dispatch({type:"enable-settings-menu"}):this.controller.dispatch({type:"disable-settings-menu"});break;case"qwertyKeyboard":this.controller.dispatch({type:"update-options",options:{qwertyKeyboard:!!e.qwertyKeyboard}});var g=this.controller.getKeyboardMode();"qwerty"!==g&&"letters"!==g||this.controller.dispatch({type:"ABC"});break;case"functionDefinition":e.functionDefinition?this.controller.model.enableFunctionDefinition():this.controller.model.disableFunctionDefinition();break;case"links":this.controller.dispatch({type:"update-options",options:{links:!!e.links}});break;case"decimalToFraction":var m=e[t];if(void 0===m)continue;this.controller.dispatch({type:"update-decimal-to-fraction",mode:m})}},t.prototype.focusFirstExpression=function(){this.controller.dispatch({type:"focus-first-expression"})},t.prototype.onResizeView=function(e){this.controller.dispatch({type:"ui/container-resized",size:e})},t.prototype.onDestroyView=function(){r.unmountFromNode(this.rootElt)},t.prototype.destroy=function(){this.controller.model.destroy(),e.prototype.destroy.call(this)},t}(i.default);t.BasicCalculator=p}),define("api/fourfunction",["require","exports","tslib","./basic","lib/deepCopy","lib/console"],function(e,t,n,r,i,o){"use strict";function s(e){if(e=i.default(e),e.hasOwnProperty("typingSlashWritesDivisionSymbol")||(e.typingSlashWritesDivisionSymbol=!0),e.hasOwnProperty("typingAsteriskWritesTimesSymbol")||(e.typingAsteriskWritesTimesSymbol=!0),e.exponentButtonForSquareRoot&&(o.warn("As of API version 1.0, the 'exponentButtonForSquareRoot' option is deprecated.Use 'additionalFunctions: \"exponent\"' instead."),e.additionalFunctions=["exponent"]),e.additionalFunctions){var t=e.additionalFunctions;"string"==typeof t&&(t=[t]),t.length>2&&(o.warn("additionalFunctions can only take up to 2 new functions. Using the first two."),t=t.slice(0,2));for(var n=!0,r=0;r<t.length;r++)-1===["sqrt","exponent","percent"].indexOf(t[r])&&(o.warn("Unrecognized value: '"+t[r]+"' for 'additionalFunction'. Valid values are 'sqrt', 'percent', or 'exponent'. Using default (\"sqrt\")"),n=!1);e.additionalFunctions=n?t:["sqrt"]}return e.additionalFunctions&&e.additionalFunctions.length||(e.additionalFunctions=["sqrt"]),e.singleExpression?e.evaluationMode="singleExpressionFourFunction":e.evaluationMode="fourFunction",delete e.singleExpression,e.hasOwnProperty("decimalToFraction")||(e.decimalToFraction=!1),e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(n,r){var i=e.call(this,n)||this;return i instanceof t?(i.init(s(r||{})),i):new t(n,r)}return n.__extends(t,e),t}(r.BasicCalculator);t.default=a}),define("api/scientific",["require","exports","tslib","./basic","lib/deepCopy"],function(e,t,n,r,i){"use strict";function o(e){return e=i.default(e),e.singleExpression?e.evaluationMode="singleExpressionScientific":e.evaluationMode="scientific",delete e.singleExpression,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(n,r){var i=e.call(this,n)||this;return i instanceof t?(i.init(o(r||{})),i):new t(n,r)}return n.__extends(t,e),t}(r.BasicCalculator);t.default=s}),define("pillow-keypad/controller",["require","exports","flux","keypad/mq-commands","lib/i18n"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var e=this;this.keyboardMode="main",this.dispatcher=new n.Dispatcher,this.t=function(e,t){return i.t(e,t)},this.dispatch=function(t){e.dispatcher.dispatch(t);for(var n;n=e._queuedCallbacks.shift();)n()},this._queuedCallbacks=[],this.dispatcher=new n.Dispatcher,this.hookUpDispatcher()}return e.prototype.getBackgroundColor=function(){return"does-not-matter"},e.prototype.runAfterDispatch=function(e){this._queuedCallbacks.push(e)},e.prototype.enqueueEvent=function(e){var t=this;this.runAfterDispatch(function(){t.onEventEmitted&&t.onEventEmitted(e)})},e.prototype.getKeyboardMode=function(){return this.keyboardMode},e.prototype.updateKeyboardMode=function(e){this.keyboardMode=e},e.prototype.typeIntoFocusedMathquill=function(e){e=e.replace(/\r|\n/g,"");var t=this.activeMQ;t&&t.typedText(e)},e.prototype.pressKeyInFocusedMathquill=function(e,t){var n=this.activeMQ;if(n)return"Enter"===e?(t&&(t.preventDefault(),t.stopPropagation()),void this.enqueueEvent("enter")):void n.keystroke(e,t)},e.prototype.executeCommandInFocusedMathquill=function(e){var t=this.activeMQ;t&&r.execute(t,e)},e.prototype.hookUpDispatcher=function(){var e=this;this.dispatcher.register(function(t){switch(e.enqueueEvent("render"),t.type){case"hide-keypad":e.enqueueEvent("hide-keypad");break;case"set-active-mq":e.activeMQ=t.mq;break;case"keypad/shift":e.updateKeyboardMode("capitalQwerty"===e.keyboardMode?"qwerty":"capitalQwerty");break;case"main":e.updateKeyboardMode("main");break;case"ABC":e.updateKeyboardMode("qwerty");break;case"functions":e.updateKeyboardMode("functions");break;case"keypad/type-text":e.typeIntoFocusedMathquill(t.text);break;case"keypad/press-key":e.pressKeyInFocusedMathquill(t.key,t.evt);break;case"keypad/custom-command":e.executeCommandInFocusedMathquill(t.command);break;case"keypad/123":case"keypad/abc":break;default:return t}})},e}();t.default=o}),define("pillow-keypad/dcgview-pillow-keypad",["require","exports","tslib","dcgview"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.t=this.controller.t},t}(r.Class);t.DCGViewPillowKeypad=i}),define("pillow-keypad/main-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(o.default,{controller:this.props.controller},r.createElement(s.default,null,i.view(this,"left",{style:"highlight"}),i.view(this,"right",{style:"highlight"}),i.view(this,"x"),i.view(this,"y"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"/"),i.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,i.view(this,"("),i.view(this,")"),i.view(this,"<"),i.view(this,">"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"*"),i.view(this,"pi")),r.createElement(s.default,null,i.view(this,"sqrt"),i.view(this,","),i.view(this,"<="),i.view(this,">="),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-"),i.view(this,"enter",{style:"tall-blue"})),r.createElement(s.default,null,i.view(this,"a^2"),i.view(this,"a^b"),i.view(this,"|a|"),i.view(this,"a/b"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"="),i.view(this,"+"),i.spacer(1)))},t}(a.DCGViewPillowKeypad);t.default=l}),define("pillow-keypad/qwerty-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(o.default,{controller:this.props.controller},r.createElement(s.default,null,i.view(this,"q"),i.view(this,"w"),i.view(this,"e"),i.view(this,"r"),i.view(this,"t"),i.view(this,"y"),i.view(this,"u"),i.view(this,"i"),i.view(this,"o"),i.view(this,"p")),r.createElement(s.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),i.view(this,"a"),i.view(this,"s"),i.view(this,"d"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"j"),i.view(this,"k"),i.view(this,"l"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(s.default,null,i.view(this,"shift",{style:"highlight"}),i.view(this,"z"),i.view(this,"x"),i.view(this,"c"),i.view(this,"v"),i.view(this,"b"),i.view(this,"n"),i.view(this,"m"),i.view(this,","),i.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,i.view(this,"="),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"pi"),i.view(this,"enter",{style:"blue"})))},t}(a.DCGViewPillowKeypad);t.default=l}),define("pillow-keypad/capital-qwerty-keypad",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","keypad/keys","keypad/keypad","keypad/row"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(s.default,{controller:this.props.controller},r.createElement(a.default,null,o.view(this,"Q"),o.view(this,"W"),o.view(this,"E"),o.view(this,"R"),o.view(this,"T"),o.view(this,"Y"),o.view(this,"U"),o.view(this,"I"),o.view(this,"O"),o.view(this,"P")),r.createElement(a.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),o.view(this,"A"),o.view(this,"S"),o.view(this,"D"),o.view(this,"F"),o.view(this,"G"),o.view(this,"H"),o.view(this,"J"),o.view(this,"K"),o.view(this,"L"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(a.default,null,o.view(this,"shift",{style:"highlight"}),o.view(this,"Z"),o.view(this,"X"),o.view(this,"C"),o.view(this,"V"),o.view(this,"B"),o.view(this,"N"),o.view(this,"M"),o.view(this,","),o.view(this,"backspace",{style:"highlight"})),r.createElement(a.default,null,o.view(this,"="),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"pi"),o.view(this,"enter",{style:"blue"})))},t}(i.DCGViewPillowKeypad);t.default=l}),define("pillow-keypad/functions-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(o.default,{controller:this.props.controller},r.createElement(s.default,null,i.view(this,"sin"),i.view(this,"cos"),i.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"ln"),i.view(this,"log"),i.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,i.view(this,"arcsin"),i.view(this,"arccos"),i.view(this,"arctan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")
}),i.view(this,"e^x"),i.view(this,"abs"),i.view(this,"round")),r.createElement(s.default,null,i.view(this,"mean"),i.view(this,"stdev"),i.view(this,"stdevp"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"a^b"),i.view(this,"sqrt"),i.view(this,"nthroot")),r.createElement(s.default,null,i.view(this,"nPr"),i.view(this,"nCr"),i.view(this,"!"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"e"),i.view(this,"%"),i.view(this,"enter",{style:"blue"})))},t}(a.DCGViewPillowKeypad);t.default=l}),define("pillow-keypad/control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./dcgview-pillow-keypad"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(o.default,{command:this.const("main"),selected:function(){return"main"===e.getKeyboardMode()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return e.dispatch({type:"main"})}},function(){return e.t("main")}),r.createElement(o.default,{command:this.const("ABC"),selected:function(){return-1!==["qwerty","capitalQwerty"].indexOf(e.getKeyboardMode())},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return e.t("A B C")},onTap:function(){return e.dispatch({type:"ABC"})}},function(){return e.t("abc")}),r.createElement(o.default,{command:this.const("functions"),selected:function(){return-1!==["functions","restrictedFunctions"].indexOf(e.getKeyboardMode())},ariaLabel:function(){return e.t("Functions")},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return e.dispatch({type:"functions"})}},function(){return e.t("func")}),r.createElement("div",{class:r.const("dcg-hide-keypad-button"),"dcg-command":r.const("hide-keypad"),onTap:function(){return e.dispatch({type:"hide-keypad"})}},r.createElement("i",{class:r.const("dcg-icon-hide")})))},t}(s.DCGViewPillowKeypad);t.default=a}),define("loadcss!pillow-keypad/main",function(){}),define("pillow-keypad/main",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","./main-keypad","./qwerty-keypad","./capital-qwerty-keypad","./functions-keypad","./control-bar","loadcss!./main"],function(e,t,n,r,i,o,s,a,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=r.Components.Switch,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-do-not-blur dcg-container dcg-api-shared-keypad-root")},r.createElement(c.default,{controller:this.props.controller}),r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.t("keypad")}},r.createElement(u,{key:function(){return e.controller.getKeyboardMode()}},function(t){switch(t){case"qwerty":return r.createElement(s.default,{controller:e.props.controller});case"capitalQwerty":return r.createElement(a.default,{controller:e.props.controller});case"functions":return r.createElement(l.default,{controller:e.props.controller});default:return r.createElement(o.default,{controller:e.props.controller})}})))},t}(i.DCGViewPillowKeypad);t.default=d}),define("api/pillow-keypad",["require","exports","tslib","dcgview","./abstract","pillow-keypad/controller","pillow-keypad/main"],function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(n){var r=e.call(this,n)||this;return r instanceof t?(r.init(),r):new t(n)}return n.__extends(t,e),t.prototype.init=function(){var e=this;this.controller=new o.default,this.controller.onEventEmitted=function(t){"render"===t&&e.updateView(),e.triggerEvent(t,void 0)},this.setupDomChangeDetector(!0)},t.prototype.setActiveMathquill=function(e){this.controller.dispatch({type:"set-active-mq",mq:e})},t.prototype.onCreateView=function(){return r.mountToNode(s.default,this.rootElt,{controller:r.const(this.controller)})},t.prototype.onResizeView=function(e){},t.prototype.onDestroyView=function(){r.unmountFromNode(this.rootElt)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(i.default);t.default=a}),define("api/calculator",["require","exports","mathquill","tslib","expressions/colors","graphing-calc/api/sanitize-expression","graphing-calc/json/graph-settings","main/font_sizes","expressions/image_file_to_data_url","./graphing","./headless","./fourfunction","./scientific","./pillow-keypad"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){"use strict";function f(e){var t=m.enabledFeatures;return!t||t[e]}function g(e){t.DesmosAPI[e]=function(){throw new Error("The Desmos "+e+" is not enabled for this API key.")}}Object.defineProperty(t,"__esModule",{value:!0});var m;"undefined"!=typeof Desmos?m=Desmos:(m={},window.Desmos=m),t.GraphingCalculator=c.default,t.HeadlessGraphingCalculator=u.default,t.FourFunctionCalculator=d.default,t.ScientificCalculator=p.default,t.PillowKeypad=h.default,t.DesmosAPI={Colors:{RED:i.RED,BLUE:i.BLUE,GREEN:i.GREEN,ORANGE:i.ORANGE,PURPLE:i.PURPLE,BLACK:i.BLACK},imageFileToDataURL:l.imageFileToDataURL,supportedLanguages:m.locales?Object.keys(m.locales):[],Styles:r.__assign({},o.SanitizedLineStyle,o.SanitizedPointStyle),ColumnModes:o.SanitizedColumnMode,DragModes:o.SanitizedDragMode,AxisArrowModes:s.AxisArrowModes,FontSizes:a,LabelSizes:o.SanitizedLabelSize,LabelOrientations:o.SanitizedLabelOrientation,MathQuill:n,GraphingCalculator:c.default,Calculator:c.default,FourFunctionCalculator:d.default,ScientificCalculator:p.default,PillowKeypad:h.default,HeadlessGraphingCalculator:u.default},f("GraphingCalculator")||(g("GraphingCalculator"),g("Calculator")),f("FourFunctionCalculator")||g("FourFunctionCalculator"),f("ScientificCalculator")||g("ScientificCalculator");for(var y in t.DesmosAPI)t.DesmosAPI.hasOwnProperty(y)&&(m[y]=t.DesmosAPI[y]);t.Calculator=c.default}),define("main/noconflict",["require","jquery","underscore"],function(e){var t=e("jquery"),n=e("underscore");return"undefined"==typeof Desmos&&(Desmos={}),function(){Desmos.$=t,Desmos._=n,Desmos.$.noConflict(!0),Desmos._.noConflict()}}),"undefined"==typeof Desmos&&(Desmos={}),Desmos.require=require,Desmos.requirejs=requirejs,require.isBrowser||injectWorkerDependencies(),define("toplevel/api",["require","api/calculator","main/noconflict"],function(e){e("api/calculator"),e("main/noconflict")()})}();
;
    Desmos.require('toplevel/api');
  })();
})(typeof window !== undefined ? window : this || {});

})();